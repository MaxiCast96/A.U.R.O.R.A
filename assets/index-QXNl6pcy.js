var IR=Object.defineProperty;var zR=(e,t,n)=>t in e?IR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yg=(e,t,n)=>zR(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vg={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function $R(){if(CS)return mu;CS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:o}}return mu.Fragment=t,mu.jsx=n,mu.jsxs=n,mu}var AS;function BR(){return AS||(AS=1,vg.exports=$R()),vg.exports}var r=BR(),bg={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES;function UR(){if(ES)return xt;ES=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(D,$,G){this.props=D,this.context=$,this.refs=N,this.updater=G||b}S.prototype.isReactComponent={},S.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function A(){}A.prototype=S.prototype;function C(D,$,G){this.props=D,this.context=$,this.refs=N,this.updater=G||b}var E=C.prototype=new A;E.constructor=C,j(E,S.prototype),E.isPureReactComponent=!0;var k=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function P(D,$,G,te,Q,ve){return G=ve.ref,{$$typeof:e,type:D,key:$,ref:G!==void 0?G:null,props:ve}}function _(D,$){return P(D.type,$,void 0,void 0,void 0,D.props)}function z(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function V(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(G){return $[G]})}var B=/\/+/g;function W(D,$){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):$.toString(36)}function oe(){}function K(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(oe,oe):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function I(D,$,G,te,Q){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var xe=!1;if(D===null)xe=!0;else switch(ve){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(D.$$typeof){case e:case t:xe=!0;break;case h:return xe=D._init,I(xe(D._payload),$,G,te,Q)}}if(xe)return Q=Q(D),xe=te===""?"."+W(D,0):te,k(Q)?(G="",xe!=null&&(G=xe.replace(B,"$&/")+"/"),I(Q,$,G,"",function(Ee){return Ee})):Q!=null&&(z(Q)&&(Q=_(Q,G+(Q.key==null||D&&D.key===Q.key?"":(""+Q.key).replace(B,"$&/")+"/")+xe)),$.push(Q)),1;xe=0;var ze=te===""?".":te+":";if(k(D))for(var Le=0;Le<D.length;Le++)te=D[Le],ve=ze+W(te,Le),xe+=I(te,$,G,ve,Q);else if(Le=x(D),typeof Le=="function")for(D=Le.call(D),Le=0;!(te=D.next()).done;)te=te.value,ve=ze+W(te,Le++),xe+=I(te,$,G,ve,Q);else if(ve==="object"){if(typeof D.then=="function")return I(K(D),$,G,te,Q);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return xe}function R(D,$,G){if(D==null)return D;var te=[],Q=0;return I(D,te,"","",function(ve){return $.call(G,ve,Q++)}),te}function X(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(G){(D._status===0||D._status===-1)&&(D._status=1,D._result=G)},function(G){(D._status===0||D._status===-1)&&(D._status=2,D._result=G)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var Z=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function H(){}return xt.Children={map:R,forEach:function(D,$,G){R(D,function(){$.apply(this,arguments)},G)},count:function(D){var $=0;return R(D,function(){$++}),$},toArray:function(D){return R(D,function($){return $})||[]},only:function(D){if(!z(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},xt.Component=S,xt.Fragment=n,xt.Profiler=s,xt.PureComponent=C,xt.StrictMode=a,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,xt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return O.H.useMemoCache(D)}},xt.cache=function(D){return function(){return D.apply(null,arguments)}},xt.cloneElement=function(D,$,G){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=j({},D.props),Q=D.key,ve=void 0;if($!=null)for(xe in $.ref!==void 0&&(ve=void 0),$.key!==void 0&&(Q=""+$.key),$)!T.call($,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&$.ref===void 0||(te[xe]=$[xe]);var xe=arguments.length-2;if(xe===1)te.children=G;else if(1<xe){for(var ze=Array(xe),Le=0;Le<xe;Le++)ze[Le]=arguments[Le+2];te.children=ze}return P(D.type,Q,void 0,void 0,ve,te)},xt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},xt.createElement=function(D,$,G){var te,Q={},ve=null;if($!=null)for(te in $.key!==void 0&&(ve=""+$.key),$)T.call($,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(Q[te]=$[te]);var xe=arguments.length-2;if(xe===1)Q.children=G;else if(1<xe){for(var ze=Array(xe),Le=0;Le<xe;Le++)ze[Le]=arguments[Le+2];Q.children=ze}if(D&&D.defaultProps)for(te in xe=D.defaultProps,xe)Q[te]===void 0&&(Q[te]=xe[te]);return P(D,ve,void 0,void 0,null,Q)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(D){return{$$typeof:u,render:D}},xt.isValidElement=z,xt.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:X}},xt.memo=function(D,$){return{$$typeof:m,type:D,compare:$===void 0?null:$}},xt.startTransition=function(D){var $=O.T,G={};O.T=G;try{var te=D(),Q=O.S;Q!==null&&Q(G,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(H,Z)}catch(ve){Z(ve)}finally{O.T=$}},xt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},xt.use=function(D){return O.H.use(D)},xt.useActionState=function(D,$,G){return O.H.useActionState(D,$,G)},xt.useCallback=function(D,$){return O.H.useCallback(D,$)},xt.useContext=function(D){return O.H.useContext(D)},xt.useDebugValue=function(){},xt.useDeferredValue=function(D,$){return O.H.useDeferredValue(D,$)},xt.useEffect=function(D,$,G){var te=O.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,$)},xt.useId=function(){return O.H.useId()},xt.useImperativeHandle=function(D,$,G){return O.H.useImperativeHandle(D,$,G)},xt.useInsertionEffect=function(D,$){return O.H.useInsertionEffect(D,$)},xt.useLayoutEffect=function(D,$){return O.H.useLayoutEffect(D,$)},xt.useMemo=function(D,$){return O.H.useMemo(D,$)},xt.useOptimistic=function(D,$){return O.H.useOptimistic(D,$)},xt.useReducer=function(D,$,G){return O.H.useReducer(D,$,G)},xt.useRef=function(D){return O.H.useRef(D)},xt.useState=function(D){return O.H.useState(D)},xt.useSyncExternalStore=function(D,$,G){return O.H.useSyncExternalStore(D,$,G)},xt.useTransition=function(){return O.H.useTransition()},xt.version="19.1.1",xt}var OS;function Wl(){return OS||(OS=1,bg.exports=UR()),bg.exports}var y=Wl();const Kn=Jr(y);var jg={exports:{}},hu={},wg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kS;function qR(){return kS||(kS=1,function(e){function t(R,X){var Z=R.length;R.push(X);e:for(;0<Z;){var H=Z-1>>>1,D=R[H];if(0<s(D,X))R[H]=X,R[Z]=D,Z=H;else break e}}function n(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var X=R[0],Z=R.pop();if(Z!==X){R[0]=Z;e:for(var H=0,D=R.length,$=D>>>1;H<$;){var G=2*(H+1)-1,te=R[G],Q=G+1,ve=R[Q];if(0>s(te,Z))Q<D&&0>s(ve,te)?(R[H]=ve,R[Q]=Z,H=Q):(R[H]=te,R[G]=Z,H=G);else if(Q<D&&0>s(ve,Z))R[H]=ve,R[Q]=Z,H=Q;else break e}}return X}function s(R,X){var Z=R.sortIndex-X.sortIndex;return Z!==0?Z:R.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],m=[],h=1,g=null,x=3,b=!1,j=!1,N=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(R){for(var X=n(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=R)a(m),X.sortIndex=X.expirationTime,t(f,X);else break;X=n(m)}}function O(R){if(N=!1,k(R),!j)if(n(f)!==null)j=!0,T||(T=!0,W());else{var X=n(m);X!==null&&I(O,X.startTime-R)}}var T=!1,P=-1,_=5,z=-1;function V(){return S?!0:!(e.unstable_now()-z<_)}function B(){if(S=!1,T){var R=e.unstable_now();z=R;var X=!0;try{e:{j=!1,N&&(N=!1,C(P),P=-1),b=!0;var Z=x;try{t:{for(k(R),g=n(f);g!==null&&!(g.expirationTime>R&&V());){var H=g.callback;if(typeof H=="function"){g.callback=null,x=g.priorityLevel;var D=H(g.expirationTime<=R);if(R=e.unstable_now(),typeof D=="function"){g.callback=D,k(R),X=!0;break t}g===n(f)&&a(f),k(R)}else a(f);g=n(f)}if(g!==null)X=!0;else{var $=n(m);$!==null&&I(O,$.startTime-R),X=!1}}break e}finally{g=null,x=Z,b=!1}X=void 0}}finally{X?W():T=!1}}}var W;if(typeof E=="function")W=function(){E(B)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,K=oe.port2;oe.port1.onmessage=B,W=function(){K.postMessage(null)}}else W=function(){A(B,0)};function I(R,X){P=A(function(){R(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var Z=x;x=X;try{return R()}finally{x=Z}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(R,X){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Z=x;x=R;try{return X()}finally{x=Z}},e.unstable_scheduleCallback=function(R,X,Z){var H=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?H+Z:H):Z=H,R){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Z+D,R={id:h++,callback:X,priorityLevel:R,startTime:Z,expirationTime:D,sortIndex:-1},Z>H?(R.sortIndex=Z,t(m,R),n(f)===null&&R===n(m)&&(N?(C(P),P=-1):N=!0,I(O,Z-H))):(R.sortIndex=D,t(f,R),j||b||(j=!0,T||(T=!0,W()))),R},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(R){var X=x;return function(){var Z=x;x=X;try{return R.apply(this,arguments)}finally{x=Z}}}}(Ng)),Ng}var TS;function FR(){return TS||(TS=1,wg.exports=qR()),wg.exports}var Sg={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function VR(){if(MS)return Jn;MS=1;var e=Wl();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jn.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,h)},Jn.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},Jn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},Jn.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Jn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,g=u(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):h==="script"&&a.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Jn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=u(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},Jn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,g=u(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Jn.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=u(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},Jn.requestFormReset=function(f){a.d.r(f)},Jn.unstable_batchedUpdates=function(f,m){return f(m)},Jn.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jn.version="19.1.1",Jn}var PS;function jO(){if(PS)return Sg.exports;PS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sg.exports=VR(),Sg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function HR(){if(_S)return hu;_S=1;var e=FR(),t=Wl(),n=jO();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(a(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(a(188));return l!==i?null:i}for(var d=i,p=l;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return u(v),i;if(w===p)return u(v),l;w=w.sibling}throw Error(a(188))}if(d.return!==p.return)d=v,p=w;else{for(var M=!1,L=v.child;L;){if(L===d){M=!0,d=v,p=w;break}if(L===p){M=!0,p=v,d=w;break}L=L.sibling}if(!M){for(L=w.child;L;){if(L===d){M=!0,d=w,p=v;break}if(L===p){M=!0,p=w,d=v;break}L=L.sibling}if(!M)throw Error(a(189))}}if(d.alternate!==p)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?i:l}function m(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=m(i),l!==null)return l;i=i.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function K(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case E:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case k:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return l=i.displayName||null,l!==null?l:K(i.type)||"Memo";case _:l=i._payload,i=i._init;try{return K(i(l))}catch{}}return null}var I=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},H=[],D=-1;function $(i){return{current:i}}function G(i){0>D||(i.current=H[D],H[D]=null,D--)}function te(i,l){D++,H[D]=i.current,i.current=l}var Q=$(null),ve=$(null),xe=$(null),ze=$(null);function Le(i,l){switch(te(xe,l),te(ve,i),te(Q,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?JN(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=JN(l),i=eS(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}G(Q),te(Q,i)}function Ee(){G(Q),G(ve),G(xe)}function Fe(i){i.memoizedState!==null&&te(ze,i);var l=Q.current,d=eS(l,i.type);l!==d&&(te(ve,i),te(Q,d))}function Ke(i){ve.current===i&&(G(Q),G(ve)),ze.current===i&&(G(ze),lu._currentValue=Z)}var re=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,Ge=e.unstable_cancelCallback,Ne=e.unstable_shouldYield,He=e.unstable_requestPaint,Ye=e.unstable_now,F=e.unstable_getCurrentPriorityLevel,ne=e.unstable_ImmediatePriority,ce=e.unstable_UserBlockingPriority,ae=e.unstable_NormalPriority,J=e.unstable_LowPriority,we=e.unstable_IdlePriority,U=e.log,fe=e.unstable_setDisableYieldValue,De=null,se=null;function Y(i){if(typeof U=="function"&&fe(i),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(De,i)}catch{}}var ge=Math.clz32?Math.clz32:Ve,ie=Math.log,ke=Math.LN2;function Ve(i){return i>>>=0,i===0?32:31-(ie(i)/ke|0)|0}var Ze=256,st=4194304;function lt(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wt(i,l,d){var p=i.pendingLanes;if(p===0)return 0;var v=0,w=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var L=p&134217727;return L!==0?(p=L&~w,p!==0?v=lt(p):(M&=L,M!==0?v=lt(M):d||(d=L&~i,d!==0&&(v=lt(d))))):(L=p&~w,L!==0?v=lt(L):M!==0?v=lt(M):d||(d=p&~i,d!==0&&(v=lt(d)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:v}function me(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Oe(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var i=Ze;return Ze<<=1,(Ze&4194048)===0&&(Ze=256),i}function tt(){var i=st;return st<<=1,(st&62914560)===0&&(st=4194304),i}function it(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function Ot(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function At(i,l,d,p,v,w){var M=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var L=i.entanglements,ee=i.expirationTimes,pe=i.hiddenUpdates;for(d=M&~d;0<d;){var Te=31-ge(d),Pe=1<<Te;L[Te]=0,ee[Te]=-1;var be=pe[Te];if(be!==null)for(pe[Te]=null,Te=0;Te<be.length;Te++){var je=be[Te];je!==null&&(je.lane&=-536870913)}d&=~Pe}p!==0&&bt(i,p,0),w!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=w&~(M&~l))}function bt(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var p=31-ge(l);i.entangledLanes|=l,i.entanglements[p]=i.entanglements[p]|1073741824|d&4194090}function qt(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var p=31-ge(d),v=1<<p;v&l|i[p]&l&&(i[p]|=l),d&=~v}}function Un(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xa(){var i=X.p;return i!==0?i:(i=window.event,i===void 0?32:vS(i.type))}function ga(i,l){var d=X.p;try{return X.p=i,l()}finally{X.p=d}}var Jt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Jt,an="__reactProps$"+Jt,ue="__reactContainer$"+Jt,Ue="__reactEvents$"+Jt,ut="__reactListeners$"+Jt,rn="__reactHandles$"+Jt,q="__reactResources$"+Jt,ye="__reactMarker$"+Jt;function Re(i){delete i[Ht],delete i[an],delete i[Ue],delete i[ut],delete i[rn]}function Ie(i){var l=i[Ht];if(l)return l;for(var d=i.parentNode;d;){if(l=d[ue]||d[Ht]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=rS(i);i!==null;){if(d=i[Ht])return d;i=rS(i)}return l}i=d,d=i.parentNode}return null}function $e(i){if(i=i[Ht]||i[ue]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function Xe(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function ht(i){var l=i[q];return l||(l=i[q]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nt(i){i[ye]=!0}var pt=new Set,oa={};function la(i,l){Ta(i,l),Ta(i+"Capture",l)}function Ta(i,l){for(oa[i]=l,i=0;i<l.length;i++)pt.add(l[i])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$s={},gc={};function Md(i){return re.call(gc,i)?!0:re.call($s,i)?!1:sn.test(i)?gc[i]=!0:($s[i]=!0,!1)}function Pi(i,l,d){if(Md(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function _i(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function Za(i,l,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+p)}}var Io,xc;function ts(i){if(Io===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Io=l&&l[1]||"",xc=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Io+i+xc}var zo=!1;function $o(i,l){if(!i||zo)return"";zo=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(je){var be=je}Reflect.construct(i,[],Pe)}else{try{Pe.call()}catch(je){be=je}i.call(Pe.prototype)}}else{try{throw Error()}catch(je){be=je}(Pe=i())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(je){if(je&&be&&typeof je.stack=="string")return[je.stack,be.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),M=w[0],L=w[1];if(M&&L){var ee=M.split(`
`),pe=L.split(`
`);for(v=p=0;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;for(;v<pe.length&&!pe[v].includes("DetermineComponentFrameRoot");)v++;if(p===ee.length||v===pe.length)for(p=ee.length-1,v=pe.length-1;1<=p&&0<=v&&ee[p]!==pe[v];)v--;for(;1<=p&&0<=v;p--,v--)if(ee[p]!==pe[v]){if(p!==1||v!==1)do if(p--,v--,0>v||ee[p]!==pe[v]){var Te=`
`+ee[p].replace(" at new "," at ");return i.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",i.displayName)),Te}while(1<=p&&0<=v);break}}}finally{zo=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?ts(d):""}function Pd(i){switch(i.tag){case 26:case 27:case 5:return ts(i.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 15:return $o(i.type,!1);case 11:return $o(i.type.render,!1);case 1:return $o(i.type,!0);case 31:return ts("Activity");default:return""}}function yc(i){try{var l="";do l+=Pd(i),i=i.return;while(i);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function ca(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vc(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function _d(i){var l=vc(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),p=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,w=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(M){p=""+M,w.call(this,M)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(M){p=""+M},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Di(i){i._valueTracker||(i._valueTracker=_d(i))}function bc(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return i&&(p=vc(i)?i.checked?"true":"false":i.value),i=p,i!==d?(l.setValue(i),!0):!1}function Dd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var __=/[\n"\\]/g;function Qa(i){return i.replace(__,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function pp(i,l,d,p,v,w,M,L){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),l!=null?M==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ca(l)):i.value!==""+ca(l)&&(i.value=""+ca(l)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),l!=null?gp(i,M,ca(l)):d!=null?gp(i,M,ca(d)):p!=null&&i.removeAttribute("value"),v==null&&w!=null&&(i.defaultChecked=!!w),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+ca(L):i.removeAttribute("name")}function X2(i,l,d,p,v,w,M,L){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;d=d!=null?""+ca(d):"",l=l!=null?""+ca(l):d,L||l===i.value||(i.value=l),i.defaultValue=l}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=L?i.checked:!!p,i.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function gp(i,l,d){l==="number"&&Dd(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Bo(i,l,d,p){if(i=i.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<i.length;d++)v=l.hasOwnProperty("$"+i[d].value),i[d].selected!==v&&(i[d].selected=v),v&&p&&(i[d].defaultSelected=!0)}else{for(d=""+ca(d),l=null,v=0;v<i.length;v++){if(i[v].value===d){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function Z2(i,l,d){if(l!=null&&(l=""+ca(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+ca(d):""}function Q2(i,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(a(92));if(I(p)){if(1<p.length)throw Error(a(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=ca(l),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p)}function Uo(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var D_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function J2(i,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":p?i.setProperty(l,d):typeof d!="number"||d===0||D_.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function ej(i,l,d){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var v in l)p=l[v],l.hasOwnProperty(v)&&d[v]!==p&&J2(i,v,p)}else for(var w in l)l.hasOwnProperty(w)&&J2(i,w,l[w])}function xp(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rd(i){return L_.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var yp=null;function vp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qo=null,Fo=null;function tj(i){var l=$e(i);if(l&&(i=l.stateNode)){var d=i[an]||null;e:switch(i=l.stateNode,l.type){case"input":if(pp(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Qa(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==i&&p.form===i.form){var v=p[an]||null;if(!v)throw Error(a(90));pp(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===i.form&&bc(p)}break e;case"textarea":Z2(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Bo(i,!!d.multiple,l,!1)}}}var bp=!1;function nj(i,l,d){if(bp)return i(l,d);bp=!0;try{var p=i(l);return p}finally{if(bp=!1,(qo!==null||Fo!==null)&&(jf(),qo&&(l=qo,i=Fo,Fo=qo=null,tj(l),i)))for(l=0;l<i.length;l++)tj(i[l])}}function jc(i,l){var d=i.stateNode;if(d===null)return null;var p=d[an]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(a(231,l,typeof d));return d}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jp=!1;if(ns)try{var wc={};Object.defineProperty(wc,"passive",{get:function(){jp=!0}}),window.addEventListener("test",wc,wc),window.removeEventListener("test",wc,wc)}catch{jp=!1}var Bs=null,wp=null,Ld=null;function aj(){if(Ld)return Ld;var i,l=wp,d=l.length,p,v="value"in Bs?Bs.value:Bs.textContent,w=v.length;for(i=0;i<d&&l[i]===v[i];i++);var M=d-i;for(p=1;p<=M&&l[d-p]===v[w-p];p++);return Ld=v.slice(i,1<p?1-p:void 0)}function Id(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function zd(){return!0}function rj(){return!1}function xa(i){function l(d,p,v,w,M){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(d=i[L],this[L]=d?d(w):w[L]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?zd:rj,this.isPropagationStopped=rj,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=zd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=zd)},persist:function(){},isPersistent:zd}),l}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$d=xa(Ri),Nc=h({},Ri,{view:0,detail:0}),I_=xa(Nc),Np,Sp,Sc,Bd=h({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ap,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Sc&&(Sc&&i.type==="mousemove"?(Np=i.screenX-Sc.screenX,Sp=i.screenY-Sc.screenY):Sp=Np=0,Sc=i),Np)},movementY:function(i){return"movementY"in i?i.movementY:Sp}}),sj=xa(Bd),z_=h({},Bd,{dataTransfer:0}),$_=xa(z_),B_=h({},Nc,{relatedTarget:0}),Cp=xa(B_),U_=h({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),q_=xa(U_),F_=h({},Ri,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),V_=xa(F_),H_=h({},Ri,{data:0}),ij=xa(H_),G_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W_(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Y_[i])?!!l[i]:!1}function Ap(){return W_}var X_=h({},Nc,{key:function(i){if(i.key){var l=G_[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Id(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ap,charCode:function(i){return i.type==="keypress"?Id(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Id(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Z_=xa(X_),Q_=h({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oj=xa(Q_),J_=h({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ap}),eD=xa(J_),tD=h({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),nD=xa(tD),aD=h({},Bd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rD=xa(aD),sD=h({},Ri,{newState:0,oldState:0}),iD=xa(sD),oD=[9,13,27,32],Ep=ns&&"CompositionEvent"in window,Cc=null;ns&&"documentMode"in document&&(Cc=document.documentMode);var lD=ns&&"TextEvent"in window&&!Cc,lj=ns&&(!Ep||Cc&&8<Cc&&11>=Cc),cj=" ",uj=!1;function dj(i,l){switch(i){case"keyup":return oD.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vo=!1;function cD(i,l){switch(i){case"compositionend":return fj(l);case"keypress":return l.which!==32?null:(uj=!0,cj);case"textInput":return i=l.data,i===cj&&uj?null:i;default:return null}}function uD(i,l){if(Vo)return i==="compositionend"||!Ep&&dj(i,l)?(i=aj(),Ld=wp=Bs=null,Vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return lj&&l.locale!=="ko"?null:l.data;default:return null}}var dD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mj(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!dD[i.type]:l==="textarea"}function hj(i,l,d,p){qo?Fo?Fo.push(p):Fo=[p]:qo=p,l=Ef(l,"onChange"),0<l.length&&(d=new $d("onChange","change",null,d,p),i.push({event:d,listeners:l}))}var Ac=null,Ec=null;function fD(i){YN(i,0)}function Ud(i){var l=Xe(i);if(bc(l))return i}function pj(i,l){if(i==="change")return l}var gj=!1;if(ns){var Op;if(ns){var kp="oninput"in document;if(!kp){var xj=document.createElement("div");xj.setAttribute("oninput","return;"),kp=typeof xj.oninput=="function"}Op=kp}else Op=!1;gj=Op&&(!document.documentMode||9<document.documentMode)}function yj(){Ac&&(Ac.detachEvent("onpropertychange",vj),Ec=Ac=null)}function vj(i){if(i.propertyName==="value"&&Ud(Ec)){var l=[];hj(l,Ec,i,vp(i)),nj(fD,l)}}function mD(i,l,d){i==="focusin"?(yj(),Ac=l,Ec=d,Ac.attachEvent("onpropertychange",vj)):i==="focusout"&&yj()}function hD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ud(Ec)}function pD(i,l){if(i==="click")return Ud(l)}function gD(i,l){if(i==="input"||i==="change")return Ud(l)}function xD(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Ma=typeof Object.is=="function"?Object.is:xD;function Oc(i,l){if(Ma(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!re.call(l,v)||!Ma(i[v],l[v]))return!1}return!0}function bj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function jj(i,l){var d=bj(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=l&&p>=l)return{node:d,offset:l-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=bj(d)}}function wj(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?wj(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Nj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Dd(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=Dd(i.document)}return l}function Tp(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var yD=ns&&"documentMode"in document&&11>=document.documentMode,Ho=null,Mp=null,kc=null,Pp=!1;function Sj(i,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Pp||Ho==null||Ho!==Dd(p)||(p=Ho,"selectionStart"in p&&Tp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),kc&&Oc(kc,p)||(kc=p,p=Ef(Mp,"onSelect"),0<p.length&&(l=new $d("onSelect","select",null,l,d),i.push({event:l,listeners:p}),l.target=Ho)))}function Li(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Go={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},_p={},Cj={};ns&&(Cj=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Ii(i){if(_p[i])return _p[i];if(!Go[i])return i;var l=Go[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Cj)return _p[i]=l[d];return i}var Aj=Ii("animationend"),Ej=Ii("animationiteration"),Oj=Ii("animationstart"),vD=Ii("transitionrun"),bD=Ii("transitionstart"),jD=Ii("transitioncancel"),kj=Ii("transitionend"),Tj=new Map,Dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dp.push("scrollEnd");function jr(i,l){Tj.set(i,l),la(l,[i])}var Mj=new WeakMap;function Ja(i,l){if(typeof i=="object"&&i!==null){var d=Mj.get(i);return d!==void 0?d:(l={value:i,source:l,stack:yc(l)},Mj.set(i,l),l)}return{value:i,source:l,stack:yc(l)}}var er=[],Ko=0,Rp=0;function qd(){for(var i=Ko,l=Rp=Ko=0;l<i;){var d=er[l];er[l++]=null;var p=er[l];er[l++]=null;var v=er[l];er[l++]=null;var w=er[l];if(er[l++]=null,p!==null&&v!==null){var M=p.pending;M===null?v.next=v:(v.next=M.next,M.next=v),p.pending=v}w!==0&&Pj(d,v,w)}}function Fd(i,l,d,p){er[Ko++]=i,er[Ko++]=l,er[Ko++]=d,er[Ko++]=p,Rp|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Lp(i,l,d,p){return Fd(i,l,d,p),Vd(i)}function Yo(i,l){return Fd(i,null,null,l),Vd(i)}function Pj(i,l,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var v=!1,w=i.return;w!==null;)w.childLanes|=d,p=w.alternate,p!==null&&(p.childLanes|=d),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(v=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,v&&l!==null&&(v=31-ge(d),i=w.hiddenUpdates,p=i[v],p===null?i[v]=[l]:p.push(l),l.lane=d|536870912),w):null}function Vd(i){if(50<eu)throw eu=0,q0=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Wo={};function wD(i,l,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(i,l,d,p){return new wD(i,l,d,p)}function Ip(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,l){var d=i.alternate;return d===null?(d=Pa(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function _j(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Hd(i,l,d,p,v,w){var M=0;if(p=i,typeof i=="function")Ip(i)&&(M=1);else if(typeof i=="string")M=SR(i,d,Q.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=Pa(31,d,l,v),i.elementType=z,i.lanes=w,i;case j:return zi(d.children,v,w,l);case N:M=8,v|=24;break;case S:return i=Pa(12,d,l,v|2),i.elementType=S,i.lanes=w,i;case O:return i=Pa(13,d,l,v),i.elementType=O,i.lanes=w,i;case T:return i=Pa(19,d,l,v),i.elementType=T,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case E:M=10;break e;case C:M=9;break e;case k:M=11;break e;case P:M=14;break e;case _:M=16,p=null;break e}M=29,d=Error(a(130,i===null?"null":typeof i,"")),p=null}return l=Pa(M,d,l,v),l.elementType=i,l.type=p,l.lanes=w,l}function zi(i,l,d,p){return i=Pa(7,i,p,l),i.lanes=d,i}function zp(i,l,d){return i=Pa(6,i,null,l),i.lanes=d,i}function $p(i,l,d){return l=Pa(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Xo=[],Zo=0,Gd=null,Kd=0,tr=[],nr=0,$i=null,rs=1,ss="";function Bi(i,l){Xo[Zo++]=Kd,Xo[Zo++]=Gd,Gd=i,Kd=l}function Dj(i,l,d){tr[nr++]=rs,tr[nr++]=ss,tr[nr++]=$i,$i=i;var p=rs;i=ss;var v=32-ge(p)-1;p&=~(1<<v),d+=1;var w=32-ge(l)+v;if(30<w){var M=v-v%5;w=(p&(1<<M)-1).toString(32),p>>=M,v-=M,rs=1<<32-ge(l)+v|d<<v|p,ss=w+i}else rs=1<<w|d<<v|p,ss=i}function Bp(i){i.return!==null&&(Bi(i,1),Dj(i,1,0))}function Up(i){for(;i===Gd;)Gd=Xo[--Zo],Xo[Zo]=null,Kd=Xo[--Zo],Xo[Zo]=null;for(;i===$i;)$i=tr[--nr],tr[nr]=null,ss=tr[--nr],tr[nr]=null,rs=tr[--nr],tr[nr]=null}var ua=null,on=null,Mt=!1,Ui=null,Lr=!1,qp=Error(a(519));function qi(i){var l=Error(a(418,""));throw Pc(Ja(l,i)),qp}function Rj(i){var l=i.stateNode,d=i.type,p=i.memoizedProps;switch(l[Ht]=i,l[an]=p,d){case"dialog":St("cancel",l),St("close",l);break;case"iframe":case"object":case"embed":St("load",l);break;case"video":case"audio":for(d=0;d<nu.length;d++)St(nu[d],l);break;case"source":St("error",l);break;case"img":case"image":case"link":St("error",l),St("load",l);break;case"details":St("toggle",l);break;case"input":St("invalid",l),X2(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Di(l);break;case"select":St("invalid",l);break;case"textarea":St("invalid",l),Q2(l,p.value,p.defaultValue,p.children),Di(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||QN(l.textContent,d)?(p.popover!=null&&(St("beforetoggle",l),St("toggle",l)),p.onScroll!=null&&St("scroll",l),p.onScrollEnd!=null&&St("scrollend",l),p.onClick!=null&&(l.onclick=Of),l=!0):l=!1,l||qi(i)}function Lj(i){for(ua=i.return;ua;)switch(ua.tag){case 5:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:ua=ua.return}}function Tc(i){if(i!==ua)return!1;if(!Mt)return Lj(i),Mt=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||rg(i.type,i.memoizedProps)),d=!d),d&&on&&qi(i),Lj(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(l===0){on=Nr(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;i=i.nextSibling}on=null}}else l===27?(l=on,ni(i.type)?(i=lg,lg=null,on=i):on=l):on=ua?Nr(i.stateNode.nextSibling):null;return!0}function Mc(){on=ua=null,Mt=!1}function Ij(){var i=Ui;return i!==null&&(ba===null?ba=i:ba.push.apply(ba,i),Ui=null),i}function Pc(i){Ui===null?Ui=[i]:Ui.push(i)}var Fp=$(null),Fi=null,is=null;function Us(i,l,d){te(Fp,l._currentValue),l._currentValue=d}function os(i){i._currentValue=Fp.current,G(Fp)}function Vp(i,l,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===d)break;i=i.return}}function Hp(i,l,d,p){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var w=v.dependencies;if(w!==null){var M=v.child;w=w.firstContext;e:for(;w!==null;){var L=w;w=v;for(var ee=0;ee<l.length;ee++)if(L.context===l[ee]){w.lanes|=d,L=w.alternate,L!==null&&(L.lanes|=d),Vp(w.return,d,i),p||(M=null);break e}w=L.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(a(341));M.lanes|=d,w=M.alternate,w!==null&&(w.lanes|=d),Vp(M,d,i),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===i){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function _c(i,l,d,p){i=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var L=v.type;Ma(v.pendingProps.value,M.value)||(i!==null?i.push(L):i=[L])}}else if(v===ze.current){if(M=v.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(lu):i=[lu])}v=v.return}i!==null&&Hp(l,i,d,p),l.flags|=262144}function Yd(i){for(i=i.firstContext;i!==null;){if(!Ma(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Vi(i){Fi=i,is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qn(i){return zj(Fi,i)}function Wd(i,l){return Fi===null&&Vi(i),zj(i,l)}function zj(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},is===null){if(i===null)throw Error(a(308));is=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else is=is.next=l;return d}var ND=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},SD=e.unstable_scheduleCallback,CD=e.unstable_NormalPriority,En={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gp(){return{controller:new ND,data:new Map,refCount:0}}function Dc(i){i.refCount--,i.refCount===0&&SD(CD,function(){i.controller.abort()})}var Rc=null,Kp=0,Qo=0,Jo=null;function AD(i,l){if(Rc===null){var d=Rc=[];Kp=0,Qo=W0(),Jo={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Kp++,l.then($j,$j),l}function $j(){if(--Kp===0&&Rc!==null){Jo!==null&&(Jo.status="fulfilled");var i=Rc;Rc=null,Qo=0,Jo=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function ED(i,l){var d=[],p={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return i.then(function(){p.status="fulfilled",p.value=l;for(var v=0;v<d.length;v++)(0,d[v])(l)},function(v){for(p.status="rejected",p.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),p}var Bj=R.S;R.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&AD(i,l),Bj!==null&&Bj(i,l)};var Hi=$(null);function Yp(){var i=Hi.current;return i!==null?i:Gt.pooledCache}function Xd(i,l){l===null?te(Hi,Hi.current):te(Hi,l.pool)}function Uj(){var i=Yp();return i===null?null:{parent:En._currentValue,pool:i}}var Lc=Error(a(460)),qj=Error(a(474)),Zd=Error(a(542)),Wp={then:function(){}};function Fj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qd(){}function Vj(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(Qd,Qd),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Gj(i),i;default:if(typeof l.status=="string")l.then(Qd,Qd);else{if(i=Gt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(p){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=p}},function(p){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Gj(i),i}throw Ic=l,Lc}}var Ic=null;function Hj(){if(Ic===null)throw Error(a(459));var i=Ic;return Ic=null,i}function Gj(i){if(i===Lc||i===Zd)throw Error(a(483))}var qs=!1;function Xp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zp(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vs(i,l,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Pt&2)!==0){var v=p.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),p.pending=l,l=Vd(i),Pj(i,null,d),l}return Fd(i,p,l,d),Vd(i)}function zc(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,qt(i,d)}}function Qp(i,l){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var M={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?v=w=M:w=w.next=M,d=d.next}while(d!==null);w===null?v=w=l:w=w.next=l}else v=w=l;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var Jp=!1;function $c(){if(Jp){var i=Jo;if(i!==null)throw i}}function Bc(i,l,d,p){Jp=!1;var v=i.updateQueue;qs=!1;var w=v.firstBaseUpdate,M=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var ee=L,pe=ee.next;ee.next=null,M===null?w=pe:M.next=pe,M=ee;var Te=i.alternate;Te!==null&&(Te=Te.updateQueue,L=Te.lastBaseUpdate,L!==M&&(L===null?Te.firstBaseUpdate=pe:L.next=pe,Te.lastBaseUpdate=ee))}if(w!==null){var Pe=v.baseState;M=0,Te=pe=ee=null,L=w;do{var be=L.lane&-536870913,je=be!==L.lane;if(je?(Ct&be)===be:(p&be)===be){be!==0&&be===Qo&&(Jp=!0),Te!==null&&(Te=Te.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var dt=i,ot=L;be=l;var $t=d;switch(ot.tag){case 1:if(dt=ot.payload,typeof dt=="function"){Pe=dt.call($t,Pe,be);break e}Pe=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ot.payload,be=typeof dt=="function"?dt.call($t,Pe,be):dt,be==null)break e;Pe=h({},Pe,be);break e;case 2:qs=!0}}be=L.callback,be!==null&&(i.flags|=64,je&&(i.flags|=8192),je=v.callbacks,je===null?v.callbacks=[be]:je.push(be))}else je={lane:be,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Te===null?(pe=Te=je,ee=Pe):Te=Te.next=je,M|=be;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;je=L,L=je.next,je.next=null,v.lastBaseUpdate=je,v.shared.pending=null}}while(!0);Te===null&&(ee=Pe),v.baseState=ee,v.firstBaseUpdate=pe,v.lastBaseUpdate=Te,w===null&&(v.shared.lanes=0),Qs|=M,i.lanes=M,i.memoizedState=Pe}}function Kj(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function Yj(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)Kj(d[i],l)}var el=$(null),Jd=$(0);function Wj(i,l){i=hs,te(Jd,i),te(el,l),hs=i|l.baseLanes}function e0(){te(Jd,hs),te(el,el.current)}function t0(){hs=Jd.current,G(el),G(Jd)}var Hs=0,vt=null,It=null,vn=null,ef=!1,tl=!1,Gi=!1,tf=0,Uc=0,nl=null,OD=0;function hn(){throw Error(a(321))}function n0(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!Ma(i[d],l[d]))return!1;return!0}function a0(i,l,d,p,v,w){return Hs=w,vt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,R.H=i===null||i.memoizedState===null?Pw:_w,Gi=!1,w=d(p,v),Gi=!1,tl&&(w=Zj(l,d,p,v)),Xj(i),w}function Xj(i){R.H=lf;var l=It!==null&&It.next!==null;if(Hs=0,vn=It=vt=null,ef=!1,Uc=0,nl=null,l)throw Error(a(300));i===null||Pn||(i=i.dependencies,i!==null&&Yd(i)&&(Pn=!0))}function Zj(i,l,d,p){vt=i;var v=0;do{if(tl&&(nl=null),Uc=0,tl=!1,25<=v)throw Error(a(301));if(v+=1,vn=It=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}R.H=RD,w=l(d,p)}while(tl);return w}function kD(){var i=R.H,l=i.useState()[0];return l=typeof l.then=="function"?qc(l):l,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(vt.flags|=1024),l}function r0(){var i=tf!==0;return tf=0,i}function s0(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function i0(i){if(ef){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ef=!1}Hs=0,vn=It=vt=null,tl=!1,Uc=tf=0,nl=null}function ya(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?vt.memoizedState=vn=i:vn=vn.next=i,vn}function bn(){if(It===null){var i=vt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var l=vn===null?vt.memoizedState:vn.next;if(l!==null)vn=l,It=i;else{if(i===null)throw vt.alternate===null?Error(a(467)):Error(a(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},vn===null?vt.memoizedState=vn=i:vn=vn.next=i}return vn}function o0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qc(i){var l=Uc;return Uc+=1,nl===null&&(nl=[]),i=Vj(nl,i,l),l=vt,(vn===null?l.memoizedState:vn.next)===null&&(l=l.alternate,R.H=l===null||l.memoizedState===null?Pw:_w),i}function nf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return qc(i);if(i.$$typeof===E)return Qn(i)}throw Error(a(438,String(i)))}function l0(i){var l=null,d=vt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=vt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=o0(),vt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),p=0;p<i;p++)d[p]=V;return l.index++,d}function ls(i,l){return typeof l=="function"?l(i):l}function af(i){var l=bn();return c0(l,It,i)}function c0(i,l,d){var p=i.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=d;var v=i.baseQueue,w=p.pending;if(w!==null){if(v!==null){var M=v.next;v.next=w.next,w.next=M}l.baseQueue=v=w,p.pending=null}if(w=i.baseState,v===null)i.memoizedState=w;else{l=v.next;var L=M=null,ee=null,pe=l,Te=!1;do{var Pe=pe.lane&-536870913;if(Pe!==pe.lane?(Ct&Pe)===Pe:(Hs&Pe)===Pe){var be=pe.revertLane;if(be===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Pe===Qo&&(Te=!0);else if((Hs&be)===be){pe=pe.next,be===Qo&&(Te=!0);continue}else Pe={lane:0,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ee===null?(L=ee=Pe,M=w):ee=ee.next=Pe,vt.lanes|=be,Qs|=be;Pe=pe.action,Gi&&d(w,Pe),w=pe.hasEagerState?pe.eagerState:d(w,Pe)}else be={lane:Pe,revertLane:pe.revertLane,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ee===null?(L=ee=be,M=w):ee=ee.next=be,vt.lanes|=Pe,Qs|=Pe;pe=pe.next}while(pe!==null&&pe!==l);if(ee===null?M=w:ee.next=L,!Ma(w,i.memoizedState)&&(Pn=!0,Te&&(d=Jo,d!==null)))throw d;i.memoizedState=w,i.baseState=M,i.baseQueue=ee,p.lastRenderedState=w}return v===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function u0(i){var l=bn(),d=l.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=i;var p=d.dispatch,v=d.pending,w=l.memoizedState;if(v!==null){d.pending=null;var M=v=v.next;do w=i(w,M.action),M=M.next;while(M!==v);Ma(w,l.memoizedState)||(Pn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,p]}function Qj(i,l,d){var p=vt,v=bn(),w=Mt;if(w){if(d===void 0)throw Error(a(407));d=d()}else d=l();var M=!Ma((It||v).memoizedState,d);M&&(v.memoizedState=d,Pn=!0),v=v.queue;var L=tw.bind(null,p,v,i);if(Fc(2048,8,L,[i]),v.getSnapshot!==l||M||vn!==null&&vn.memoizedState.tag&1){if(p.flags|=2048,al(9,rf(),ew.bind(null,p,v,d,l),null),Gt===null)throw Error(a(349));w||(Hs&124)!==0||Jj(p,l,d)}return d}function Jj(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=vt.updateQueue,l===null?(l=o0(),vt.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function ew(i,l,d,p){l.value=d,l.getSnapshot=p,nw(l)&&aw(i)}function tw(i,l,d){return d(function(){nw(l)&&aw(i)})}function nw(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!Ma(i,d)}catch{return!0}}function aw(i){var l=Yo(i,2);l!==null&&Ia(l,i,2)}function d0(i){var l=ya();if(typeof i=="function"){var d=i;if(i=d(),Gi){Y(!0);try{d()}finally{Y(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:i},l}function rw(i,l,d,p){return i.baseState=d,c0(i,It,typeof p=="function"?p:ls)}function TD(i,l,d,p,v){if(of(i))throw Error(a(485));if(i=l.action,i!==null){var w={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};R.T!==null?d(!0):w.isTransition=!1,p(w),d=l.pending,d===null?(w.next=l.pending=w,sw(l,w)):(w.next=d.next,l.pending=d.next=w)}}function sw(i,l){var d=l.action,p=l.payload,v=i.state;if(l.isTransition){var w=R.T,M={};R.T=M;try{var L=d(v,p),ee=R.S;ee!==null&&ee(M,L),iw(i,l,L)}catch(pe){f0(i,l,pe)}finally{R.T=w}}else try{w=d(v,p),iw(i,l,w)}catch(pe){f0(i,l,pe)}}function iw(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){ow(i,l,p)},function(p){return f0(i,l,p)}):ow(i,l,d)}function ow(i,l,d){l.status="fulfilled",l.value=d,lw(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,sw(i,d)))}function f0(i,l,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,lw(l),l=l.next;while(l!==p)}i.action=null}function lw(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function cw(i,l){return l}function uw(i,l){if(Mt){var d=Gt.formState;if(d!==null){e:{var p=vt;if(Mt){if(on){t:{for(var v=on,w=Lr;v.nodeType!==8;){if(!w){v=null;break t}if(v=Nr(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){on=Nr(v.nextSibling),p=v.data==="F!";break e}}qi(p)}p=!1}p&&(l=d[0])}}return d=ya(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cw,lastRenderedState:l},d.queue=p,d=kw.bind(null,vt,p),p.dispatch=d,p=d0(!1),w=x0.bind(null,vt,!1,p.queue),p=ya(),v={state:l,dispatch:null,action:i,pending:null},p.queue=v,d=TD.bind(null,vt,v,w,d),v.dispatch=d,p.memoizedState=i,[l,d,!1]}function dw(i){var l=bn();return fw(l,It,i)}function fw(i,l,d){if(l=c0(i,l,cw)[0],i=af(ls)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=qc(l)}catch(M){throw M===Lc?Zd:M}else p=l;l=bn();var v=l.queue,w=v.dispatch;return d!==l.memoizedState&&(vt.flags|=2048,al(9,rf(),MD.bind(null,v,d),null)),[p,w,i]}function MD(i,l){i.action=l}function mw(i){var l=bn(),d=It;if(d!==null)return fw(l,d,i);bn(),l=l.memoizedState,d=bn();var p=d.queue.dispatch;return d.memoizedState=i,[l,p,!1]}function al(i,l,d,p){return i={tag:i,create:d,deps:p,inst:l,next:null},l=vt.updateQueue,l===null&&(l=o0(),vt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,l.lastEffect=i),i}function rf(){return{destroy:void 0,resource:void 0}}function hw(){return bn().memoizedState}function sf(i,l,d,p){var v=ya();p=p===void 0?null:p,vt.flags|=i,v.memoizedState=al(1|l,rf(),d,p)}function Fc(i,l,d,p){var v=bn();p=p===void 0?null:p;var w=v.memoizedState.inst;It!==null&&p!==null&&n0(p,It.memoizedState.deps)?v.memoizedState=al(l,w,d,p):(vt.flags|=i,v.memoizedState=al(1|l,w,d,p))}function pw(i,l){sf(8390656,8,i,l)}function gw(i,l){Fc(2048,8,i,l)}function xw(i,l){return Fc(4,2,i,l)}function yw(i,l){return Fc(4,4,i,l)}function vw(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function bw(i,l,d){d=d!=null?d.concat([i]):null,Fc(4,4,vw.bind(null,l,i),d)}function m0(){}function jw(i,l){var d=bn();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&n0(l,p[1])?p[0]:(d.memoizedState=[i,l],i)}function ww(i,l){var d=bn();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&n0(l,p[1]))return p[0];if(p=i(),Gi){Y(!0);try{i()}finally{Y(!1)}}return d.memoizedState=[p,l],p}function h0(i,l,d){return d===void 0||(Hs&1073741824)!==0?i.memoizedState=l:(i.memoizedState=d,i=CN(),vt.lanes|=i,Qs|=i,d)}function Nw(i,l,d,p){return Ma(d,l)?d:el.current!==null?(i=h0(i,d,p),Ma(i,l)||(Pn=!0),i):(Hs&42)===0?(Pn=!0,i.memoizedState=d):(i=CN(),vt.lanes|=i,Qs|=i,l)}function Sw(i,l,d,p,v){var w=X.p;X.p=w!==0&&8>w?w:8;var M=R.T,L={};R.T=L,x0(i,!1,l,d);try{var ee=v(),pe=R.S;if(pe!==null&&pe(L,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Te=ED(ee,p);Vc(i,l,Te,La(i))}else Vc(i,l,p,La(i))}catch(Pe){Vc(i,l,{then:function(){},status:"rejected",reason:Pe},La())}finally{X.p=w,R.T=M}}function PD(){}function p0(i,l,d,p){if(i.tag!==5)throw Error(a(476));var v=Cw(i).queue;Sw(i,v,l,Z,d===null?PD:function(){return Aw(i),d(p)})}function Cw(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:Z},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Aw(i){var l=Cw(i).next.queue;Vc(i,l,{},La())}function g0(){return Qn(lu)}function Ew(){return bn().memoizedState}function Ow(){return bn().memoizedState}function _D(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=La();i=Fs(d);var p=Vs(l,i,d);p!==null&&(Ia(p,l,d),zc(p,l,d)),l={cache:Gp()},i.payload=l;return}l=l.return}}function DD(i,l,d){var p=La();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},of(i)?Tw(l,d):(d=Lp(i,l,d,p),d!==null&&(Ia(d,i,p),Mw(d,l,p)))}function kw(i,l,d){var p=La();Vc(i,l,d,p)}function Vc(i,l,d,p){var v={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(of(i))Tw(l,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var M=l.lastRenderedState,L=w(M,d);if(v.hasEagerState=!0,v.eagerState=L,Ma(L,M))return Fd(i,l,v,0),Gt===null&&qd(),!1}catch{}finally{}if(d=Lp(i,l,v,p),d!==null)return Ia(d,i,p),Mw(d,l,p),!0}return!1}function x0(i,l,d,p){if(p={lane:2,revertLane:W0(),action:p,hasEagerState:!1,eagerState:null,next:null},of(i)){if(l)throw Error(a(479))}else l=Lp(i,d,p,2),l!==null&&Ia(l,i,2)}function of(i){var l=i.alternate;return i===vt||l!==null&&l===vt}function Tw(i,l){tl=ef=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function Mw(i,l,d){if((d&4194048)!==0){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,qt(i,d)}}var lf={readContext:Qn,use:nf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},Pw={readContext:Qn,use:nf,useCallback:function(i,l){return ya().memoizedState=[i,l===void 0?null:l],i},useContext:Qn,useEffect:pw,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,sf(4194308,4,vw.bind(null,l,i),d)},useLayoutEffect:function(i,l){return sf(4194308,4,i,l)},useInsertionEffect:function(i,l){sf(4,2,i,l)},useMemo:function(i,l){var d=ya();l=l===void 0?null:l;var p=i();if(Gi){Y(!0);try{i()}finally{Y(!1)}}return d.memoizedState=[p,l],p},useReducer:function(i,l,d){var p=ya();if(d!==void 0){var v=d(l);if(Gi){Y(!0);try{d(l)}finally{Y(!1)}}}else v=l;return p.memoizedState=p.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},p.queue=i,i=i.dispatch=DD.bind(null,vt,i),[p.memoizedState,i]},useRef:function(i){var l=ya();return i={current:i},l.memoizedState=i},useState:function(i){i=d0(i);var l=i.queue,d=kw.bind(null,vt,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:m0,useDeferredValue:function(i,l){var d=ya();return h0(d,i,l)},useTransition:function(){var i=d0(!1);return i=Sw.bind(null,vt,i.queue,!0,!1),ya().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var p=vt,v=ya();if(Mt){if(d===void 0)throw Error(a(407));d=d()}else{if(d=l(),Gt===null)throw Error(a(349));(Ct&124)!==0||Jj(p,l,d)}v.memoizedState=d;var w={value:d,getSnapshot:l};return v.queue=w,pw(tw.bind(null,p,w,i),[i]),p.flags|=2048,al(9,rf(),ew.bind(null,p,w,d,l),null),d},useId:function(){var i=ya(),l=Gt.identifierPrefix;if(Mt){var d=ss,p=rs;d=(p&~(1<<32-ge(p)-1)).toString(32)+d,l="«"+l+"R"+d,d=tf++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=OD++,l="«"+l+"r"+d.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:g0,useFormState:uw,useActionState:uw,useOptimistic:function(i){var l=ya();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=x0.bind(null,vt,!0,d),d.dispatch=l,[i,l]},useMemoCache:l0,useCacheRefresh:function(){return ya().memoizedState=_D.bind(null,vt)}},_w={readContext:Qn,use:nf,useCallback:jw,useContext:Qn,useEffect:gw,useImperativeHandle:bw,useInsertionEffect:xw,useLayoutEffect:yw,useMemo:ww,useReducer:af,useRef:hw,useState:function(){return af(ls)},useDebugValue:m0,useDeferredValue:function(i,l){var d=bn();return Nw(d,It.memoizedState,i,l)},useTransition:function(){var i=af(ls)[0],l=bn().memoizedState;return[typeof i=="boolean"?i:qc(i),l]},useSyncExternalStore:Qj,useId:Ew,useHostTransitionStatus:g0,useFormState:dw,useActionState:dw,useOptimistic:function(i,l){var d=bn();return rw(d,It,i,l)},useMemoCache:l0,useCacheRefresh:Ow},RD={readContext:Qn,use:nf,useCallback:jw,useContext:Qn,useEffect:gw,useImperativeHandle:bw,useInsertionEffect:xw,useLayoutEffect:yw,useMemo:ww,useReducer:u0,useRef:hw,useState:function(){return u0(ls)},useDebugValue:m0,useDeferredValue:function(i,l){var d=bn();return It===null?h0(d,i,l):Nw(d,It.memoizedState,i,l)},useTransition:function(){var i=u0(ls)[0],l=bn().memoizedState;return[typeof i=="boolean"?i:qc(i),l]},useSyncExternalStore:Qj,useId:Ew,useHostTransitionStatus:g0,useFormState:mw,useActionState:mw,useOptimistic:function(i,l){var d=bn();return It!==null?rw(d,It,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:l0,useCacheRefresh:Ow},rl=null,Hc=0;function cf(i){var l=Hc;return Hc+=1,rl===null&&(rl=[]),Vj(rl,i,l)}function Gc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function uf(i,l){throw l.$$typeof===g?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Dw(i){var l=i._init;return l(i._payload)}function Rw(i){function l(de,le){if(i){var he=de.deletions;he===null?(de.deletions=[le],de.flags|=16):he.push(le)}}function d(de,le){if(!i)return null;for(;le!==null;)l(de,le),le=le.sibling;return null}function p(de){for(var le=new Map;de!==null;)de.key!==null?le.set(de.key,de):le.set(de.index,de),de=de.sibling;return le}function v(de,le){return de=as(de,le),de.index=0,de.sibling=null,de}function w(de,le,he){return de.index=he,i?(he=de.alternate,he!==null?(he=he.index,he<le?(de.flags|=67108866,le):he):(de.flags|=67108866,le)):(de.flags|=1048576,le)}function M(de){return i&&de.alternate===null&&(de.flags|=67108866),de}function L(de,le,he,Me){return le===null||le.tag!==6?(le=zp(he,de.mode,Me),le.return=de,le):(le=v(le,he),le.return=de,le)}function ee(de,le,he,Me){var et=he.type;return et===j?Te(de,le,he.props.children,Me,he.key):le!==null&&(le.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===_&&Dw(et)===le.type)?(le=v(le,he.props),Gc(le,he),le.return=de,le):(le=Hd(he.type,he.key,he.props,null,de.mode,Me),Gc(le,he),le.return=de,le)}function pe(de,le,he,Me){return le===null||le.tag!==4||le.stateNode.containerInfo!==he.containerInfo||le.stateNode.implementation!==he.implementation?(le=$p(he,de.mode,Me),le.return=de,le):(le=v(le,he.children||[]),le.return=de,le)}function Te(de,le,he,Me,et){return le===null||le.tag!==7?(le=zi(he,de.mode,Me,et),le.return=de,le):(le=v(le,he),le.return=de,le)}function Pe(de,le,he){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=zp(""+le,de.mode,he),le.return=de,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return he=Hd(le.type,le.key,le.props,null,de.mode,he),Gc(he,le),he.return=de,he;case b:return le=$p(le,de.mode,he),le.return=de,le;case _:var Me=le._init;return le=Me(le._payload),Pe(de,le,he)}if(I(le)||W(le))return le=zi(le,de.mode,he,null),le.return=de,le;if(typeof le.then=="function")return Pe(de,cf(le),he);if(le.$$typeof===E)return Pe(de,Wd(de,le),he);uf(de,le)}return null}function be(de,le,he,Me){var et=le!==null?le.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return et!==null?null:L(de,le,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case x:return he.key===et?ee(de,le,he,Me):null;case b:return he.key===et?pe(de,le,he,Me):null;case _:return et=he._init,he=et(he._payload),be(de,le,he,Me)}if(I(he)||W(he))return et!==null?null:Te(de,le,he,Me,null);if(typeof he.then=="function")return be(de,le,cf(he),Me);if(he.$$typeof===E)return be(de,le,Wd(de,he),Me);uf(de,he)}return null}function je(de,le,he,Me,et){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return de=de.get(he)||null,L(le,de,""+Me,et);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case x:return de=de.get(Me.key===null?he:Me.key)||null,ee(le,de,Me,et);case b:return de=de.get(Me.key===null?he:Me.key)||null,pe(le,de,Me,et);case _:var jt=Me._init;return Me=jt(Me._payload),je(de,le,he,Me,et)}if(I(Me)||W(Me))return de=de.get(he)||null,Te(le,de,Me,et,null);if(typeof Me.then=="function")return je(de,le,he,cf(Me),et);if(Me.$$typeof===E)return je(de,le,he,Wd(le,Me),et);uf(le,Me)}return null}function dt(de,le,he,Me){for(var et=null,jt=null,at=le,ct=le=0,Dn=null;at!==null&&ct<he.length;ct++){at.index>ct?(Dn=at,at=null):Dn=at.sibling;var kt=be(de,at,he[ct],Me);if(kt===null){at===null&&(at=Dn);break}i&&at&&kt.alternate===null&&l(de,at),le=w(kt,le,ct),jt===null?et=kt:jt.sibling=kt,jt=kt,at=Dn}if(ct===he.length)return d(de,at),Mt&&Bi(de,ct),et;if(at===null){for(;ct<he.length;ct++)at=Pe(de,he[ct],Me),at!==null&&(le=w(at,le,ct),jt===null?et=at:jt.sibling=at,jt=at);return Mt&&Bi(de,ct),et}for(at=p(at);ct<he.length;ct++)Dn=je(at,de,ct,he[ct],Me),Dn!==null&&(i&&Dn.alternate!==null&&at.delete(Dn.key===null?ct:Dn.key),le=w(Dn,le,ct),jt===null?et=Dn:jt.sibling=Dn,jt=Dn);return i&&at.forEach(function(oi){return l(de,oi)}),Mt&&Bi(de,ct),et}function ot(de,le,he,Me){if(he==null)throw Error(a(151));for(var et=null,jt=null,at=le,ct=le=0,Dn=null,kt=he.next();at!==null&&!kt.done;ct++,kt=he.next()){at.index>ct?(Dn=at,at=null):Dn=at.sibling;var oi=be(de,at,kt.value,Me);if(oi===null){at===null&&(at=Dn);break}i&&at&&oi.alternate===null&&l(de,at),le=w(oi,le,ct),jt===null?et=oi:jt.sibling=oi,jt=oi,at=Dn}if(kt.done)return d(de,at),Mt&&Bi(de,ct),et;if(at===null){for(;!kt.done;ct++,kt=he.next())kt=Pe(de,kt.value,Me),kt!==null&&(le=w(kt,le,ct),jt===null?et=kt:jt.sibling=kt,jt=kt);return Mt&&Bi(de,ct),et}for(at=p(at);!kt.done;ct++,kt=he.next())kt=je(at,de,ct,kt.value,Me),kt!==null&&(i&&kt.alternate!==null&&at.delete(kt.key===null?ct:kt.key),le=w(kt,le,ct),jt===null?et=kt:jt.sibling=kt,jt=kt);return i&&at.forEach(function(LR){return l(de,LR)}),Mt&&Bi(de,ct),et}function $t(de,le,he,Me){if(typeof he=="object"&&he!==null&&he.type===j&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case x:e:{for(var et=he.key;le!==null;){if(le.key===et){if(et=he.type,et===j){if(le.tag===7){d(de,le.sibling),Me=v(le,he.props.children),Me.return=de,de=Me;break e}}else if(le.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===_&&Dw(et)===le.type){d(de,le.sibling),Me=v(le,he.props),Gc(Me,he),Me.return=de,de=Me;break e}d(de,le);break}else l(de,le);le=le.sibling}he.type===j?(Me=zi(he.props.children,de.mode,Me,he.key),Me.return=de,de=Me):(Me=Hd(he.type,he.key,he.props,null,de.mode,Me),Gc(Me,he),Me.return=de,de=Me)}return M(de);case b:e:{for(et=he.key;le!==null;){if(le.key===et)if(le.tag===4&&le.stateNode.containerInfo===he.containerInfo&&le.stateNode.implementation===he.implementation){d(de,le.sibling),Me=v(le,he.children||[]),Me.return=de,de=Me;break e}else{d(de,le);break}else l(de,le);le=le.sibling}Me=$p(he,de.mode,Me),Me.return=de,de=Me}return M(de);case _:return et=he._init,he=et(he._payload),$t(de,le,he,Me)}if(I(he))return dt(de,le,he,Me);if(W(he)){if(et=W(he),typeof et!="function")throw Error(a(150));return he=et.call(he),ot(de,le,he,Me)}if(typeof he.then=="function")return $t(de,le,cf(he),Me);if(he.$$typeof===E)return $t(de,le,Wd(de,he),Me);uf(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,le!==null&&le.tag===6?(d(de,le.sibling),Me=v(le,he),Me.return=de,de=Me):(d(de,le),Me=zp(he,de.mode,Me),Me.return=de,de=Me),M(de)):d(de,le)}return function(de,le,he,Me){try{Hc=0;var et=$t(de,le,he,Me);return rl=null,et}catch(at){if(at===Lc||at===Zd)throw at;var jt=Pa(29,at,null,de.mode);return jt.lanes=Me,jt.return=de,jt}finally{}}}var sl=Rw(!0),Lw=Rw(!1),ar=$(null),Ir=null;function Gs(i){var l=i.alternate;te(On,On.current&1),te(ar,i),Ir===null&&(l===null||el.current!==null||l.memoizedState!==null)&&(Ir=i)}function Iw(i){if(i.tag===22){if(te(On,On.current),te(ar,i),Ir===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Ir=i)}}else Ks()}function Ks(){te(On,On.current),te(ar,ar.current)}function cs(i){G(ar),Ir===i&&(Ir=null),G(On)}var On=$(0);function df(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||og(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function y0(i,l,d,p){l=i.memoizedState,d=d(p,l),d=d==null?l:h({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var v0={enqueueSetState:function(i,l,d){i=i._reactInternals;var p=La(),v=Fs(p);v.payload=l,d!=null&&(v.callback=d),l=Vs(i,v,p),l!==null&&(Ia(l,i,p),zc(l,i,p))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var p=La(),v=Fs(p);v.tag=1,v.payload=l,d!=null&&(v.callback=d),l=Vs(i,v,p),l!==null&&(Ia(l,i,p),zc(l,i,p))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=La(),p=Fs(d);p.tag=2,l!=null&&(p.callback=l),l=Vs(i,p,d),l!==null&&(Ia(l,i,d),zc(l,i,d))}};function zw(i,l,d,p,v,w,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,M):l.prototype&&l.prototype.isPureReactComponent?!Oc(d,p)||!Oc(v,w):!0}function $w(i,l,d,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==i&&v0.enqueueReplaceState(l,l.state,null)}function Ki(i,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(i=i.defaultProps){d===l&&(d=h({},d));for(var v in i)d[v]===void 0&&(d[v]=i[v])}return d}var ff=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Bw(i){ff(i)}function Uw(i){console.error(i)}function qw(i){ff(i)}function mf(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Fw(i,l,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function b0(i,l,d){return d=Fs(d),d.tag=3,d.payload={element:null},d.callback=function(){mf(i,l)},d}function Vw(i){return i=Fs(i),i.tag=3,i}function Hw(i,l,d,p){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var w=p.value;i.payload=function(){return v(w)},i.callback=function(){Fw(l,d,p)}}var M=d.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){Fw(l,d,p),typeof v!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var L=p.stack;this.componentDidCatch(p.value,{componentStack:L!==null?L:""})})}function LD(i,l,d,p,v){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&_c(l,d,v,!0),d=ar.current,d!==null){switch(d.tag){case 13:return Ir===null?V0():d.alternate===null&&ln===0&&(ln=3),d.flags&=-257,d.flags|=65536,d.lanes=v,p===Wp?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),G0(i,p,v)),!1;case 22:return d.flags|=65536,p===Wp?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),G0(i,p,v)),!1}throw Error(a(435,d.tag))}return G0(i,p,v),V0(),!1}if(Mt)return l=ar.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,p!==qp&&(i=Error(a(422),{cause:p}),Pc(Ja(i,d)))):(p!==qp&&(l=Error(a(423),{cause:p}),Pc(Ja(l,d))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,p=Ja(p,d),v=b0(i.stateNode,p,v),Qp(i,v),ln!==4&&(ln=2)),!1;var w=Error(a(520),{cause:p});if(w=Ja(w,d),Jc===null?Jc=[w]:Jc.push(w),ln!==4&&(ln=2),l===null)return!0;p=Ja(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=v&-v,d.lanes|=i,i=b0(d.stateNode,p,i),Qp(d,i),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Js===null||!Js.has(w))))return d.flags|=65536,v&=-v,d.lanes|=v,v=Vw(v),Hw(v,i,d,p),Qp(d,v),!1}d=d.return}while(d!==null);return!1}var Gw=Error(a(461)),Pn=!1;function qn(i,l,d,p){l.child=i===null?Lw(l,null,d,p):sl(l,i.child,d,p)}function Kw(i,l,d,p,v){d=d.render;var w=l.ref;if("ref"in p){var M={};for(var L in p)L!=="ref"&&(M[L]=p[L])}else M=p;return Vi(l),p=a0(i,l,d,M,w,v),L=r0(),i!==null&&!Pn?(s0(i,l,v),us(i,l,v)):(Mt&&L&&Bp(l),l.flags|=1,qn(i,l,p,v),l.child)}function Yw(i,l,d,p,v){if(i===null){var w=d.type;return typeof w=="function"&&!Ip(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,Ww(i,l,w,p,v)):(i=Hd(d.type,null,p,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(w=i.child,!O0(i,v)){var M=w.memoizedProps;if(d=d.compare,d=d!==null?d:Oc,d(M,p)&&i.ref===l.ref)return us(i,l,v)}return l.flags|=1,i=as(w,p),i.ref=l.ref,i.return=l,l.child=i}function Ww(i,l,d,p,v){if(i!==null){var w=i.memoizedProps;if(Oc(w,p)&&i.ref===l.ref)if(Pn=!1,l.pendingProps=p=w,O0(i,v))(i.flags&131072)!==0&&(Pn=!0);else return l.lanes=i.lanes,us(i,l,v)}return j0(i,l,d,p,v)}function Xw(i,l,d){var p=l.pendingProps,v=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=w!==null?w.baseLanes|d:d,i!==null){for(v=l.child=i.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;l.childLanes=w&~p}else l.childLanes=0,l.child=null;return Zw(i,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Xd(l,w!==null?w.cachePool:null),w!==null?Wj(l,w):e0(),Iw(l);else return l.lanes=l.childLanes=536870912,Zw(i,l,w!==null?w.baseLanes|d:d,d)}else w!==null?(Xd(l,w.cachePool),Wj(l,w),Ks(),l.memoizedState=null):(i!==null&&Xd(l,null),e0(),Ks());return qn(i,l,v,d),l.child}function Zw(i,l,d,p){var v=Yp();return v=v===null?null:{parent:En._currentValue,pool:v},l.memoizedState={baseLanes:d,cachePool:v},i!==null&&Xd(l,null),e0(),Iw(l),i!==null&&_c(i,l,p,!0),null}function hf(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function j0(i,l,d,p,v){return Vi(l),d=a0(i,l,d,p,void 0,v),p=r0(),i!==null&&!Pn?(s0(i,l,v),us(i,l,v)):(Mt&&p&&Bp(l),l.flags|=1,qn(i,l,d,v),l.child)}function Qw(i,l,d,p,v,w){return Vi(l),l.updateQueue=null,d=Zj(l,p,d,v),Xj(i),p=r0(),i!==null&&!Pn?(s0(i,l,w),us(i,l,w)):(Mt&&p&&Bp(l),l.flags|=1,qn(i,l,d,w),l.child)}function Jw(i,l,d,p,v){if(Vi(l),l.stateNode===null){var w=Wo,M=d.contextType;typeof M=="object"&&M!==null&&(w=Qn(M)),w=new d(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=v0,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},Xp(l),M=d.contextType,w.context=typeof M=="object"&&M!==null?Qn(M):Wo,w.state=l.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(y0(l,d,M,p),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&v0.enqueueReplaceState(w,w.state,null),Bc(l,p,w,v),$c(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(i===null){w=l.stateNode;var L=l.memoizedProps,ee=Ki(d,L);w.props=ee;var pe=w.context,Te=d.contextType;M=Wo,typeof Te=="object"&&Te!==null&&(M=Qn(Te));var Pe=d.getDerivedStateFromProps;Te=typeof Pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,Te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L||pe!==M)&&$w(l,w,p,M),qs=!1;var be=l.memoizedState;w.state=be,Bc(l,p,w,v),$c(),pe=l.memoizedState,L||be!==pe||qs?(typeof Pe=="function"&&(y0(l,d,Pe,p),pe=l.memoizedState),(ee=qs||zw(l,d,ee,p,be,pe,M))?(Te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=pe),w.props=p,w.state=pe,w.context=M,p=ee):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,Zp(i,l),M=l.memoizedProps,Te=Ki(d,M),w.props=Te,Pe=l.pendingProps,be=w.context,pe=d.contextType,ee=Wo,typeof pe=="object"&&pe!==null&&(ee=Qn(pe)),L=d.getDerivedStateFromProps,(pe=typeof L=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==Pe||be!==ee)&&$w(l,w,p,ee),qs=!1,be=l.memoizedState,w.state=be,Bc(l,p,w,v),$c();var je=l.memoizedState;M!==Pe||be!==je||qs||i!==null&&i.dependencies!==null&&Yd(i.dependencies)?(typeof L=="function"&&(y0(l,d,L,p),je=l.memoizedState),(Te=qs||zw(l,d,Te,p,be,je,ee)||i!==null&&i.dependencies!==null&&Yd(i.dependencies))?(pe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,je,ee),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,je,ee)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=je),w.props=p,w.state=je,w.context=ee,p=Te):(typeof w.componentDidUpdate!="function"||M===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),p=!1)}return w=p,hf(i,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,i!==null&&p?(l.child=sl(l,i.child,null,v),l.child=sl(l,null,d,v)):qn(i,l,d,v),l.memoizedState=w.state,i=l.child):i=us(i,l,v),i}function eN(i,l,d,p){return Mc(),l.flags|=256,qn(i,l,d,p),l.child}var w0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N0(i){return{baseLanes:i,cachePool:Uj()}}function S0(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=rr),i}function tN(i,l,d){var p=l.pendingProps,v=!1,w=(l.flags&128)!==0,M;if((M=w)||(M=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),M&&(v=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,i===null){if(Mt){if(v?Gs(l):Ks(),Mt){var L=on,ee;if(ee=L){e:{for(ee=L,L=Lr;ee.nodeType!==8;){if(!L){L=null;break e}if(ee=Nr(ee.nextSibling),ee===null){L=null;break e}}L=ee}L!==null?(l.memoizedState={dehydrated:L,treeContext:$i!==null?{id:rs,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},ee=Pa(18,null,null,0),ee.stateNode=L,ee.return=l,l.child=ee,ua=l,on=null,ee=!0):ee=!1}ee||qi(l)}if(L=l.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return og(L)?l.lanes=32:l.lanes=536870912,null;cs(l)}return L=p.children,p=p.fallback,v?(Ks(),v=l.mode,L=pf({mode:"hidden",children:L},v),p=zi(p,v,d,null),L.return=l,p.return=l,L.sibling=p,l.child=L,v=l.child,v.memoizedState=N0(d),v.childLanes=S0(i,M,d),l.memoizedState=w0,p):(Gs(l),C0(l,L))}if(ee=i.memoizedState,ee!==null&&(L=ee.dehydrated,L!==null)){if(w)l.flags&256?(Gs(l),l.flags&=-257,l=A0(i,l,d)):l.memoizedState!==null?(Ks(),l.child=i.child,l.flags|=128,l=null):(Ks(),v=p.fallback,L=l.mode,p=pf({mode:"visible",children:p.children},L),v=zi(v,L,d,null),v.flags|=2,p.return=l,v.return=l,p.sibling=v,l.child=p,sl(l,i.child,null,d),p=l.child,p.memoizedState=N0(d),p.childLanes=S0(i,M,d),l.memoizedState=w0,l=v);else if(Gs(l),og(L)){if(M=L.nextSibling&&L.nextSibling.dataset,M)var pe=M.dgst;M=pe,p=Error(a(419)),p.stack="",p.digest=M,Pc({value:p,source:null,stack:null}),l=A0(i,l,d)}else if(Pn||_c(i,l,d,!1),M=(d&i.childLanes)!==0,Pn||M){if(M=Gt,M!==null&&(p=d&-d,p=(p&42)!==0?1:Un(p),p=(p&(M.suspendedLanes|d))!==0?0:p,p!==0&&p!==ee.retryLane))throw ee.retryLane=p,Yo(i,p),Ia(M,i,p),Gw;L.data==="$?"||V0(),l=A0(i,l,d)}else L.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=ee.treeContext,on=Nr(L.nextSibling),ua=l,Mt=!0,Ui=null,Lr=!1,i!==null&&(tr[nr++]=rs,tr[nr++]=ss,tr[nr++]=$i,rs=i.id,ss=i.overflow,$i=l),l=C0(l,p.children),l.flags|=4096);return l}return v?(Ks(),v=p.fallback,L=l.mode,ee=i.child,pe=ee.sibling,p=as(ee,{mode:"hidden",children:p.children}),p.subtreeFlags=ee.subtreeFlags&65011712,pe!==null?v=as(pe,v):(v=zi(v,L,d,null),v.flags|=2),v.return=l,p.return=l,p.sibling=v,l.child=p,p=v,v=l.child,L=i.child.memoizedState,L===null?L=N0(d):(ee=L.cachePool,ee!==null?(pe=En._currentValue,ee=ee.parent!==pe?{parent:pe,pool:pe}:ee):ee=Uj(),L={baseLanes:L.baseLanes|d,cachePool:ee}),v.memoizedState=L,v.childLanes=S0(i,M,d),l.memoizedState=w0,p):(Gs(l),d=i.child,i=d.sibling,d=as(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,i!==null&&(M=l.deletions,M===null?(l.deletions=[i],l.flags|=16):M.push(i)),l.child=d,l.memoizedState=null,d)}function C0(i,l){return l=pf({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function pf(i,l){return i=Pa(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function A0(i,l,d){return sl(l,i.child,null,d),i=C0(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function nN(i,l,d){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),Vp(i.return,l,d)}function E0(i,l,d,p,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=d,w.tailMode=v)}function aN(i,l,d){var p=l.pendingProps,v=p.revealOrder,w=p.tail;if(qn(i,l,p.children,d),p=On.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&nN(i,d,l);else if(i.tag===19)nN(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(te(On,p),v){case"forwards":for(d=l.child,v=null;d!==null;)i=d.alternate,i!==null&&df(i)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),E0(l,!1,v,d,w);break;case"backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&df(i)===null){l.child=v;break}i=v.sibling,v.sibling=d,d=v,v=i}E0(l,!0,d,null,w);break;case"together":E0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function us(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),Qs|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(_c(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,d=as(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=as(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function O0(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Yd(i)))}function ID(i,l,d){switch(l.tag){case 3:Le(l,l.stateNode.containerInfo),Us(l,En,i.memoizedState.cache),Mc();break;case 27:case 5:Fe(l);break;case 4:Le(l,l.stateNode.containerInfo);break;case 10:Us(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Gs(l),l.flags|=128,null):(d&l.child.childLanes)!==0?tN(i,l,d):(Gs(l),i=us(i,l,d),i!==null?i.sibling:null);Gs(l);break;case 19:var v=(i.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(_c(i,l,d,!1),p=(d&l.childLanes)!==0),v){if(p)return aN(i,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),te(On,On.current),p)break;return null;case 22:case 23:return l.lanes=0,Xw(i,l,d);case 24:Us(l,En,i.memoizedState.cache)}return us(i,l,d)}function rN(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)Pn=!0;else{if(!O0(i,d)&&(l.flags&128)===0)return Pn=!1,ID(i,l,d);Pn=(i.flags&131072)!==0}else Pn=!1,Mt&&(l.flags&1048576)!==0&&Dj(l,Kd,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var p=l.elementType,v=p._init;if(p=v(p._payload),l.type=p,typeof p=="function")Ip(p)?(i=Ki(p,i),l.tag=1,l=Jw(null,l,p,i,d)):(l.tag=0,l=j0(null,l,p,i,d));else{if(p!=null){if(v=p.$$typeof,v===k){l.tag=11,l=Kw(null,l,p,i,d);break e}else if(v===P){l.tag=14,l=Yw(null,l,p,i,d);break e}}throw l=K(p)||p,Error(a(306,l,""))}}return l;case 0:return j0(i,l,l.type,l.pendingProps,d);case 1:return p=l.type,v=Ki(p,l.pendingProps),Jw(i,l,p,v,d);case 3:e:{if(Le(l,l.stateNode.containerInfo),i===null)throw Error(a(387));p=l.pendingProps;var w=l.memoizedState;v=w.element,Zp(i,l),Bc(l,p,null,d);var M=l.memoizedState;if(p=M.cache,Us(l,En,p),p!==w.cache&&Hp(l,[En],d,!0),$c(),p=M.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=eN(i,l,p,d);break e}else if(p!==v){v=Ja(Error(a(424)),l),Pc(v),l=eN(i,l,p,d);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(on=Nr(i.firstChild),ua=l,Mt=!0,Ui=null,Lr=!0,d=Lw(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Mc(),p===v){l=us(i,l,d);break e}qn(i,l,p,d)}l=l.child}return l;case 26:return hf(i,l),i===null?(d=lS(l.type,null,l.pendingProps,null))?l.memoizedState=d:Mt||(d=l.type,i=l.pendingProps,p=kf(xe.current).createElement(d),p[Ht]=l,p[an]=i,Vn(p,d,i),nt(p),l.stateNode=p):l.memoizedState=lS(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Fe(l),i===null&&Mt&&(p=l.stateNode=sS(l.type,l.pendingProps,xe.current),ua=l,Lr=!0,v=on,ni(l.type)?(lg=v,on=Nr(p.firstChild)):on=v),qn(i,l,l.pendingProps.children,d),hf(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Mt&&((v=p=on)&&(p=dR(p,l.type,l.pendingProps,Lr),p!==null?(l.stateNode=p,ua=l,on=Nr(p.firstChild),Lr=!1,v=!0):v=!1),v||qi(l)),Fe(l),v=l.type,w=l.pendingProps,M=i!==null?i.memoizedProps:null,p=w.children,rg(v,w)?p=null:M!==null&&rg(v,M)&&(l.flags|=32),l.memoizedState!==null&&(v=a0(i,l,kD,null,null,d),lu._currentValue=v),hf(i,l),qn(i,l,p,d),l.child;case 6:return i===null&&Mt&&((i=d=on)&&(d=fR(d,l.pendingProps,Lr),d!==null?(l.stateNode=d,ua=l,on=null,i=!0):i=!1),i||qi(l)),null;case 13:return tN(i,l,d);case 4:return Le(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=sl(l,null,p,d):qn(i,l,p,d),l.child;case 11:return Kw(i,l,l.type,l.pendingProps,d);case 7:return qn(i,l,l.pendingProps,d),l.child;case 8:return qn(i,l,l.pendingProps.children,d),l.child;case 12:return qn(i,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,Us(l,l.type,p.value),qn(i,l,p.children,d),l.child;case 9:return v=l.type._context,p=l.pendingProps.children,Vi(l),v=Qn(v),p=p(v),l.flags|=1,qn(i,l,p,d),l.child;case 14:return Yw(i,l,l.type,l.pendingProps,d);case 15:return Ww(i,l,l.type,l.pendingProps,d);case 19:return aN(i,l,d);case 31:return p=l.pendingProps,d=l.mode,p={mode:p.mode,children:p.children},i===null?(d=pf(p,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=as(i.child,p),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return Xw(i,l,d);case 24:return Vi(l),p=Qn(En),i===null?(v=Yp(),v===null&&(v=Gt,w=Gp(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=d),v=w),l.memoizedState={parent:p,cache:v},Xp(l),Us(l,En,v)):((i.lanes&d)!==0&&(Zp(i,l),Bc(l,null,null,d),$c()),v=i.memoizedState,w=l.memoizedState,v.parent!==p?(v={parent:p,cache:p},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Us(l,En,p)):(p=w.cache,Us(l,En,p),p!==v.cache&&Hp(l,[En],d,!0))),qn(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function ds(i){i.flags|=4}function sN(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!mS(l)){if(l=ar.current,l!==null&&((Ct&4194048)===Ct?Ir!==null:(Ct&62914560)!==Ct&&(Ct&536870912)===0||l!==Ir))throw Ic=Wp,qj;i.flags|=8192}}function gf(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?tt():536870912,i.lanes|=l,cl|=l)}function Kc(i,l){if(!Mt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function en(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(l)for(var v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=d,l}function zD(i,l,d){var p=l.pendingProps;switch(Up(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(l),null;case 1:return en(l),null;case 3:return d=l.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),os(En),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Tc(l)?ds(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ij())),en(l),null;case 26:return d=l.memoizedState,i===null?(ds(l),d!==null?(en(l),sN(l,d)):(en(l),l.flags&=-16777217)):d?d!==i.memoizedState?(ds(l),en(l),sN(l,d)):(en(l),l.flags&=-16777217):(i.memoizedProps!==p&&ds(l),en(l),l.flags&=-16777217),null;case 27:Ke(l),d=xe.current;var v=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==p&&ds(l);else{if(!p){if(l.stateNode===null)throw Error(a(166));return en(l),null}i=Q.current,Tc(l)?Rj(l):(i=sS(v,p,d),l.stateNode=i,ds(l))}return en(l),null;case 5:if(Ke(l),d=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&ds(l);else{if(!p){if(l.stateNode===null)throw Error(a(166));return en(l),null}if(i=Q.current,Tc(l))Rj(l);else{switch(v=kf(xe.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?v.createElement(d,{is:p.is}):v.createElement(d)}}i[Ht]=l,i[an]=p;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=i;e:switch(Vn(i,d,p),d){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ds(l)}}return en(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==p&&ds(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(a(166));if(i=xe.current,Tc(l)){if(i=l.stateNode,d=l.memoizedProps,p=null,v=ua,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}i[Ht]=l,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||QN(i.nodeValue,d)),i||qi(l)}else i=kf(i).createTextNode(p),i[Ht]=l,l.stateNode=i}return en(l),null;case 13:if(p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Tc(l),p!==null&&p.dehydrated!==null){if(i===null){if(!v)throw Error(a(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));v[Ht]=l}else Mc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;en(l),v=!1}else v=Ij(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(cs(l),l):(cs(l),null)}if(cs(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,i=i!==null&&i.memoizedState!==null,d){p=l.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var w=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==v&&(p.flags|=2048)}return d!==i&&d&&(l.child.flags|=8192),gf(l,l.updateQueue),en(l),null;case 4:return Ee(),i===null&&J0(l.stateNode.containerInfo),en(l),null;case 10:return os(l.type),en(l),null;case 19:if(G(On),v=l.memoizedState,v===null)return en(l),null;if(p=(l.flags&128)!==0,w=v.rendering,w===null)if(p)Kc(v,!1);else{if(ln!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(w=df(i),w!==null){for(l.flags|=128,Kc(v,!1),i=w.updateQueue,l.updateQueue=i,gf(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)_j(d,i),d=d.sibling;return te(On,On.current&1|2),l.child}i=i.sibling}v.tail!==null&&Ye()>vf&&(l.flags|=128,p=!0,Kc(v,!1),l.lanes=4194304)}else{if(!p)if(i=df(w),i!==null){if(l.flags|=128,p=!0,i=i.updateQueue,l.updateQueue=i,gf(l,i),Kc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Mt)return en(l),null}else 2*Ye()-v.renderingStartTime>vf&&d!==536870912&&(l.flags|=128,p=!0,Kc(v,!1),l.lanes=4194304);v.isBackwards?(w.sibling=l.child,l.child=w):(i=v.last,i!==null?i.sibling=w:l.child=w,v.last=w)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Ye(),l.sibling=null,i=On.current,te(On,p?i&1|2:i&1),l):(en(l),null);case 22:case 23:return cs(l),t0(),p=l.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(en(l),l.subtreeFlags&6&&(l.flags|=8192)):en(l),d=l.updateQueue,d!==null&&gf(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),i!==null&&G(Hi),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),os(En),en(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function $D(i,l){switch(Up(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return os(En),Ee(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Ke(l),null;case 13:if(cs(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));Mc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return G(On),null;case 4:return Ee(),null;case 10:return os(l.type),null;case 22:case 23:return cs(l),t0(),i!==null&&G(Hi),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return os(En),null;case 25:return null;default:return null}}function iN(i,l){switch(Up(l),l.tag){case 3:os(En),Ee();break;case 26:case 27:case 5:Ke(l);break;case 4:Ee();break;case 13:cs(l);break;case 19:G(On);break;case 10:os(l.type);break;case 22:case 23:cs(l),t0(),i!==null&&G(Hi);break;case 24:os(En)}}function Yc(i,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&i)===i){p=void 0;var w=d.create,M=d.inst;p=w(),M.destroy=p}d=d.next}while(d!==v)}}catch(L){Ft(l,l.return,L)}}function Ys(i,l,d){try{var p=l.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var w=v.next;p=w;do{if((p.tag&i)===i){var M=p.inst,L=M.destroy;if(L!==void 0){M.destroy=void 0,v=l;var ee=d,pe=L;try{pe()}catch(Te){Ft(v,ee,Te)}}}p=p.next}while(p!==w)}}catch(Te){Ft(l,l.return,Te)}}function oN(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{Yj(l,d)}catch(p){Ft(i,i.return,p)}}}function lN(i,l,d){d.props=Ki(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Ft(i,l,p)}}function Wc(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(v){Ft(i,l,v)}}function zr(i,l){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(v){Ft(i,l,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){Ft(i,l,v)}else d.current=null}function cN(i){var l=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(v){Ft(i,i.return,v)}}function k0(i,l,d){try{var p=i.stateNode;iR(p,i.type,d,l),p[an]=l}catch(v){Ft(i,i.return,v)}}function uN(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ni(i.type)||i.tag===4}function T0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||uN(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ni(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function M0(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Of));else if(p!==4&&(p===27&&ni(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for(M0(i,l,d),i=i.sibling;i!==null;)M0(i,l,d),i=i.sibling}function xf(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(p!==4&&(p===27&&ni(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(xf(i,l,d),i=i.sibling;i!==null;)xf(i,l,d),i=i.sibling}function dN(i){var l=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Vn(l,p,d),l[Ht]=i,l[an]=d}catch(w){Ft(i,i.return,w)}}var fs=!1,pn=!1,P0=!1,fN=typeof WeakSet=="function"?WeakSet:Set,_n=null;function BD(i,l){if(i=i.containerInfo,ng=Rf,i=Nj(i),Tp(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var M=0,L=-1,ee=-1,pe=0,Te=0,Pe=i,be=null;t:for(;;){for(var je;Pe!==d||v!==0&&Pe.nodeType!==3||(L=M+v),Pe!==w||p!==0&&Pe.nodeType!==3||(ee=M+p),Pe.nodeType===3&&(M+=Pe.nodeValue.length),(je=Pe.firstChild)!==null;)be=Pe,Pe=je;for(;;){if(Pe===i)break t;if(be===d&&++pe===v&&(L=M),be===w&&++Te===p&&(ee=M),(je=Pe.nextSibling)!==null)break;Pe=be,be=Pe.parentNode}Pe=je}d=L===-1||ee===-1?null:{start:L,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(ag={focusedElem:i,selectionRange:d},Rf=!1,_n=l;_n!==null;)if(l=_n,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,_n=i;else for(;_n!==null;){switch(l=_n,w=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,d=l,v=w.memoizedProps,w=w.memoizedState,p=d.stateNode;try{var dt=Ki(d.type,v,d.elementType===d.type);i=p.getSnapshotBeforeUpdate(dt,w),p.__reactInternalSnapshotBeforeUpdate=i}catch(ot){Ft(d,d.return,ot)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)ig(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ig(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,_n=i;break}_n=l.return}}function mN(i,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ws(i,d),p&4&&Yc(5,d);break;case 1:if(Ws(i,d),p&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(M){Ft(d,d.return,M)}else{var v=Ki(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(v,l,i.__reactInternalSnapshotBeforeUpdate)}catch(M){Ft(d,d.return,M)}}p&64&&oN(d),p&512&&Wc(d,d.return);break;case 3:if(Ws(i,d),p&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Yj(i,l)}catch(M){Ft(d,d.return,M)}}break;case 27:l===null&&p&4&&dN(d);case 26:case 5:Ws(i,d),l===null&&p&4&&cN(d),p&512&&Wc(d,d.return);break;case 12:Ws(i,d);break;case 13:Ws(i,d),p&4&&gN(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=WD.bind(null,d),mR(i,d))));break;case 22:if(p=d.memoizedState!==null||fs,!p){l=l!==null&&l.memoizedState!==null||pn,v=fs;var w=pn;fs=p,(pn=l)&&!w?Xs(i,d,(d.subtreeFlags&8772)!==0):Ws(i,d),fs=v,pn=w}break;case 30:break;default:Ws(i,d)}}function hN(i){var l=i.alternate;l!==null&&(i.alternate=null,hN(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Re(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wt=null,va=!1;function ms(i,l,d){for(d=d.child;d!==null;)pN(i,l,d),d=d.sibling}function pN(i,l,d){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(De,d)}catch{}switch(d.tag){case 26:pn||zr(d,l),ms(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:pn||zr(d,l);var p=Wt,v=va;ni(d.type)&&(Wt=d.stateNode,va=!1),ms(i,l,d),ru(d.stateNode),Wt=p,va=v;break;case 5:pn||zr(d,l);case 6:if(p=Wt,v=va,Wt=null,ms(i,l,d),Wt=p,va=v,Wt!==null)if(va)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(d.stateNode)}catch(w){Ft(d,l,w)}else try{Wt.removeChild(d.stateNode)}catch(w){Ft(d,l,w)}break;case 18:Wt!==null&&(va?(i=Wt,aS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),fu(i)):aS(Wt,d.stateNode));break;case 4:p=Wt,v=va,Wt=d.stateNode.containerInfo,va=!0,ms(i,l,d),Wt=p,va=v;break;case 0:case 11:case 14:case 15:pn||Ys(2,d,l),pn||Ys(4,d,l),ms(i,l,d);break;case 1:pn||(zr(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&lN(d,l,p)),ms(i,l,d);break;case 21:ms(i,l,d);break;case 22:pn=(p=pn)||d.memoizedState!==null,ms(i,l,d),pn=p;break;default:ms(i,l,d)}}function gN(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fu(i)}catch(d){Ft(l,l.return,d)}}function UD(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new fN),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new fN),l;default:throw Error(a(435,i.tag))}}function _0(i,l){var d=UD(i);l.forEach(function(p){var v=XD.bind(null,i,p);d.has(p)||(d.add(p),p.then(v,v))})}function _a(i,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p],w=i,M=l,L=M;e:for(;L!==null;){switch(L.tag){case 27:if(ni(L.type)){Wt=L.stateNode,va=!1;break e}break;case 5:Wt=L.stateNode,va=!1;break e;case 3:case 4:Wt=L.stateNode.containerInfo,va=!0;break e}L=L.return}if(Wt===null)throw Error(a(160));pN(w,M,v),Wt=null,va=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)xN(l,i),l=l.sibling}var wr=null;function xN(i,l){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_a(l,i),Da(i),p&4&&(Ys(3,i,i.return),Yc(3,i),Ys(5,i,i.return));break;case 1:_a(l,i),Da(i),p&512&&(pn||d===null||zr(d,d.return)),p&64&&fs&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var v=wr;if(_a(l,i),Da(i),p&512&&(pn||d===null||zr(d,d.return)),p&4){var w=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":w=v.getElementsByTagName("title")[0],(!w||w[ye]||w[Ht]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(p),v.head.insertBefore(w,v.querySelector("head > title"))),Vn(w,p,d),w[Ht]=i,nt(w),p=w;break e;case"link":var M=dS("link","href",v).get(p+(d.href||""));if(M){for(var L=0;L<M.length;L++)if(w=M[L],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){M.splice(L,1);break t}}w=v.createElement(p),Vn(w,p,d),v.head.appendChild(w);break;case"meta":if(M=dS("meta","content",v).get(p+(d.content||""))){for(L=0;L<M.length;L++)if(w=M[L],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){M.splice(L,1);break t}}w=v.createElement(p),Vn(w,p,d),v.head.appendChild(w);break;default:throw Error(a(468,p))}w[Ht]=i,nt(w),p=w}i.stateNode=p}else fS(v,i.type,i.stateNode);else i.stateNode=uS(v,p,i.memoizedProps);else w!==p?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,p===null?fS(v,i.type,i.stateNode):uS(v,p,i.memoizedProps)):p===null&&i.stateNode!==null&&k0(i,i.memoizedProps,d.memoizedProps)}break;case 27:_a(l,i),Da(i),p&512&&(pn||d===null||zr(d,d.return)),d!==null&&p&4&&k0(i,i.memoizedProps,d.memoizedProps);break;case 5:if(_a(l,i),Da(i),p&512&&(pn||d===null||zr(d,d.return)),i.flags&32){v=i.stateNode;try{Uo(v,"")}catch(je){Ft(i,i.return,je)}}p&4&&i.stateNode!=null&&(v=i.memoizedProps,k0(i,v,d!==null?d.memoizedProps:v)),p&1024&&(P0=!0);break;case 6:if(_a(l,i),Da(i),p&4){if(i.stateNode===null)throw Error(a(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(je){Ft(i,i.return,je)}}break;case 3:if(Pf=null,v=wr,wr=Tf(l.containerInfo),_a(l,i),wr=v,Da(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{fu(l.containerInfo)}catch(je){Ft(i,i.return,je)}P0&&(P0=!1,yN(i));break;case 4:p=wr,wr=Tf(i.stateNode.containerInfo),_a(l,i),Da(i),wr=p;break;case 12:_a(l,i),Da(i);break;case 13:_a(l,i),Da(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($0=Ye()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,_0(i,p)));break;case 22:v=i.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,pe=fs,Te=pn;if(fs=pe||v,pn=Te||ee,_a(l,i),pn=Te,fs=pe,Da(i),p&8192)e:for(l=i.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(d===null||ee||fs||pn||Yi(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){ee=d=l;try{if(w=ee.stateNode,v)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{L=ee.stateNode;var Pe=ee.memoizedProps.style,be=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;L.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(je){Ft(ee,ee.return,je)}}}else if(l.tag===6){if(d===null){ee=l;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(je){Ft(ee,ee.return,je)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,_0(i,d))));break;case 19:_a(l,i),Da(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,_0(i,p)));break;case 30:break;case 21:break;default:_a(l,i),Da(i)}}function Da(i){var l=i.flags;if(l&2){try{for(var d,p=i.return;p!==null;){if(uN(p)){d=p;break}p=p.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var v=d.stateNode,w=T0(i);xf(i,w,v);break;case 5:var M=d.stateNode;d.flags&32&&(Uo(M,""),d.flags&=-33);var L=T0(i);xf(i,L,M);break;case 3:case 4:var ee=d.stateNode.containerInfo,pe=T0(i);M0(i,pe,ee);break;default:throw Error(a(161))}}catch(Te){Ft(i,i.return,Te)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function yN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;yN(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Ws(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)mN(i,l.alternate,l),l=l.sibling}function Yi(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Ys(4,l,l.return),Yi(l);break;case 1:zr(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&lN(l,l.return,d),Yi(l);break;case 27:ru(l.stateNode);case 26:case 5:zr(l,l.return),Yi(l);break;case 22:l.memoizedState===null&&Yi(l);break;case 30:Yi(l);break;default:Yi(l)}i=i.sibling}}function Xs(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,v=i,w=l,M=w.flags;switch(w.tag){case 0:case 11:case 15:Xs(v,w,d),Yc(4,w);break;case 1:if(Xs(v,w,d),p=w,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(pe){Ft(p,p.return,pe)}if(p=w,v=p.updateQueue,v!==null){var L=p.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)Kj(ee[v],L)}catch(pe){Ft(p,p.return,pe)}}d&&M&64&&oN(w),Wc(w,w.return);break;case 27:dN(w);case 26:case 5:Xs(v,w,d),d&&p===null&&M&4&&cN(w),Wc(w,w.return);break;case 12:Xs(v,w,d);break;case 13:Xs(v,w,d),d&&M&4&&gN(v,w);break;case 22:w.memoizedState===null&&Xs(v,w,d),Wc(w,w.return);break;case 30:break;default:Xs(v,w,d)}l=l.sibling}}function D0(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Dc(d))}function R0(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Dc(i))}function $r(i,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vN(i,l,d,p),l=l.sibling}function vN(i,l,d,p){var v=l.flags;switch(l.tag){case 0:case 11:case 15:$r(i,l,d,p),v&2048&&Yc(9,l);break;case 1:$r(i,l,d,p);break;case 3:$r(i,l,d,p),v&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Dc(i)));break;case 12:if(v&2048){$r(i,l,d,p),i=l.stateNode;try{var w=l.memoizedProps,M=w.id,L=w.onPostCommit;typeof L=="function"&&L(M,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ee){Ft(l,l.return,ee)}}else $r(i,l,d,p);break;case 13:$r(i,l,d,p);break;case 23:break;case 22:w=l.stateNode,M=l.alternate,l.memoizedState!==null?w._visibility&2?$r(i,l,d,p):Xc(i,l):w._visibility&2?$r(i,l,d,p):(w._visibility|=2,il(i,l,d,p,(l.subtreeFlags&10256)!==0)),v&2048&&D0(M,l);break;case 24:$r(i,l,d,p),v&2048&&R0(l.alternate,l);break;default:$r(i,l,d,p)}}function il(i,l,d,p,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=i,M=l,L=d,ee=p,pe=M.flags;switch(M.tag){case 0:case 11:case 15:il(w,M,L,ee,v),Yc(8,M);break;case 23:break;case 22:var Te=M.stateNode;M.memoizedState!==null?Te._visibility&2?il(w,M,L,ee,v):Xc(w,M):(Te._visibility|=2,il(w,M,L,ee,v)),v&&pe&2048&&D0(M.alternate,M);break;case 24:il(w,M,L,ee,v),v&&pe&2048&&R0(M.alternate,M);break;default:il(w,M,L,ee,v)}l=l.sibling}}function Xc(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,p=l,v=p.flags;switch(p.tag){case 22:Xc(d,p),v&2048&&D0(p.alternate,p);break;case 24:Xc(d,p),v&2048&&R0(p.alternate,p);break;default:Xc(d,p)}l=l.sibling}}var Zc=8192;function ol(i){if(i.subtreeFlags&Zc)for(i=i.child;i!==null;)bN(i),i=i.sibling}function bN(i){switch(i.tag){case 26:ol(i),i.flags&Zc&&i.memoizedState!==null&&AR(wr,i.memoizedState,i.memoizedProps);break;case 5:ol(i);break;case 3:case 4:var l=wr;wr=Tf(i.stateNode.containerInfo),ol(i),wr=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Zc,Zc=16777216,ol(i),Zc=l):ol(i));break;default:ol(i)}}function jN(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Qc(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];_n=p,NN(p,i)}jN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wN(i),i=i.sibling}function wN(i){switch(i.tag){case 0:case 11:case 15:Qc(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:Qc(i);break;case 12:Qc(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,yf(i)):Qc(i);break;default:Qc(i)}}function yf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];_n=p,NN(p,i)}jN(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Ys(8,l,l.return),yf(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,yf(l));break;default:yf(l)}i=i.sibling}}function NN(i,l){for(;_n!==null;){var d=_n;switch(d.tag){case 0:case 11:case 15:Ys(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Dc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,_n=p;else e:for(d=i;_n!==null;){p=_n;var v=p.sibling,w=p.return;if(hN(p),p===d){_n=null;break e}if(v!==null){v.return=w,_n=v;break e}_n=w}}}var qD={getCacheForType:function(i){var l=Qn(En),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d}},FD=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Gt=null,Nt=null,Ct=0,_t=0,Ra=null,Zs=!1,ll=!1,L0=!1,hs=0,ln=0,Qs=0,Wi=0,I0=0,rr=0,cl=0,Jc=null,ba=null,z0=!1,$0=0,vf=1/0,bf=null,Js=null,Fn=0,ei=null,ul=null,dl=0,B0=0,U0=null,SN=null,eu=0,q0=null;function La(){if((Pt&2)!==0&&Ct!==0)return Ct&-Ct;if(R.T!==null){var i=Qo;return i!==0?i:W0()}return Xa()}function CN(){rr===0&&(rr=(Ct&536870912)===0||Mt?We():536870912);var i=ar.current;return i!==null&&(i.flags|=32),rr}function Ia(i,l,d){(i===Gt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(fl(i,0),ti(i,Ct,rr,!1)),Ot(i,d),((Pt&2)===0||i!==Gt)&&(i===Gt&&((Pt&2)===0&&(Wi|=d),ln===4&&ti(i,Ct,rr,!1)),Br(i))}function AN(i,l,d){if((Pt&6)!==0)throw Error(a(327));var p=!d&&(l&124)===0&&(l&i.expiredLanes)===0||me(i,l),v=p?GD(i,l):H0(i,l,!0),w=p;do{if(v===0){ll&&!p&&ti(i,l,0,!1);break}else{if(d=i.current.alternate,w&&!VD(d)){v=H0(i,l,!1),w=!1;continue}if(v===2){if(w=l,i.errorRecoveryDisabledLanes&w)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;e:{var L=i;v=Jc;var ee=L.current.memoizedState.isDehydrated;if(ee&&(fl(L,M).flags|=256),M=H0(L,M,!1),M!==2){if(L0&&!ee){L.errorRecoveryDisabledLanes|=w,Wi|=w,v=4;break e}w=ba,ba=v,w!==null&&(ba===null?ba=w:ba.push.apply(ba,w))}v=M}if(w=!1,v!==2)continue}}if(v===1){fl(i,0),ti(i,l,0,!0);break}e:{switch(p=i,w=v,w){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:ti(p,l,rr,!Zs);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(v=$0+300-Ye(),10<v)){if(ti(p,l,rr,!Zs),wt(p,0,!0)!==0)break e;p.timeoutHandle=tS(EN.bind(null,p,d,ba,bf,z0,l,rr,Wi,cl,Zs,w,2,-0,0),v);break e}EN(p,d,ba,bf,z0,l,rr,Wi,cl,Zs,w,0,-0,0)}}break}while(!0);Br(i)}function EN(i,l,d,p,v,w,M,L,ee,pe,Te,Pe,be,je){if(i.timeoutHandle=-1,Pe=l.subtreeFlags,(Pe&8192||(Pe&16785408)===16785408)&&(ou={stylesheets:null,count:0,unsuspend:CR},bN(l),Pe=ER(),Pe!==null)){i.cancelPendingCommit=Pe(DN.bind(null,i,l,w,d,p,v,M,L,ee,Te,1,be,je)),ti(i,w,M,!pe);return}DN(i,l,w,d,p,v,M,L,ee)}function VD(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var v=d[p],w=v.getSnapshot;v=v.value;try{if(!Ma(w(),v))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ti(i,l,d,p){l&=~I0,l&=~Wi,i.suspendedLanes|=l,i.pingedLanes&=~l,p&&(i.warmLanes|=l),p=i.expirationTimes;for(var v=l;0<v;){var w=31-ge(v),M=1<<w;p[w]=-1,v&=~M}d!==0&&bt(i,d,l)}function jf(){return(Pt&6)===0?(tu(0),!1):!0}function F0(){if(Nt!==null){if(_t===0)var i=Nt.return;else i=Nt,is=Fi=null,i0(i),rl=null,Hc=0,i=Nt;for(;i!==null;)iN(i.alternate,i),i=i.return;Nt=null}}function fl(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,lR(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),F0(),Gt=i,Nt=d=as(i.current,null),Ct=l,_t=0,Ra=null,Zs=!1,ll=me(i,l),L0=!1,cl=rr=I0=Wi=Qs=ln=0,ba=Jc=null,z0=!1,(l&8)!==0&&(l|=l&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=l;0<p;){var v=31-ge(p),w=1<<v;l|=i[v],p&=~w}return hs=l,qd(),d}function ON(i,l){vt=null,R.H=lf,l===Lc||l===Zd?(l=Hj(),_t=3):l===qj?(l=Hj(),_t=4):_t=l===Gw?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ra=l,Nt===null&&(ln=1,mf(i,Ja(l,i.current)))}function kN(){var i=R.H;return R.H=lf,i===null?lf:i}function TN(){var i=R.A;return R.A=qD,i}function V0(){ln=4,Zs||(Ct&4194048)!==Ct&&ar.current!==null||(ll=!0),(Qs&134217727)===0&&(Wi&134217727)===0||Gt===null||ti(Gt,Ct,rr,!1)}function H0(i,l,d){var p=Pt;Pt|=2;var v=kN(),w=TN();(Gt!==i||Ct!==l)&&(bf=null,fl(i,l)),l=!1;var M=ln;e:do try{if(_t!==0&&Nt!==null){var L=Nt,ee=Ra;switch(_t){case 8:F0(),M=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(l=!0);var pe=_t;if(_t=0,Ra=null,ml(i,L,ee,pe),d&&ll){M=0;break e}break;default:pe=_t,_t=0,Ra=null,ml(i,L,ee,pe)}}HD(),M=ln;break}catch(Te){ON(i,Te)}while(!0);return l&&i.shellSuspendCounter++,is=Fi=null,Pt=p,R.H=v,R.A=w,Nt===null&&(Gt=null,Ct=0,qd()),M}function HD(){for(;Nt!==null;)MN(Nt)}function GD(i,l){var d=Pt;Pt|=2;var p=kN(),v=TN();Gt!==i||Ct!==l?(bf=null,vf=Ye()+500,fl(i,l)):ll=me(i,l);e:do try{if(_t!==0&&Nt!==null){l=Nt;var w=Ra;t:switch(_t){case 1:_t=0,Ra=null,ml(i,l,w,1);break;case 2:case 9:if(Fj(w)){_t=0,Ra=null,PN(l);break}l=function(){_t!==2&&_t!==9||Gt!==i||(_t=7),Br(i)},w.then(l,l);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Fj(w)?(_t=0,Ra=null,PN(l)):(_t=0,Ra=null,ml(i,l,w,7));break;case 5:var M=null;switch(Nt.tag){case 26:M=Nt.memoizedState;case 5:case 27:var L=Nt;if(!M||mS(M)){_t=0,Ra=null;var ee=L.sibling;if(ee!==null)Nt=ee;else{var pe=L.return;pe!==null?(Nt=pe,wf(pe)):Nt=null}break t}}_t=0,Ra=null,ml(i,l,w,5);break;case 6:_t=0,Ra=null,ml(i,l,w,6);break;case 8:F0(),ln=6;break e;default:throw Error(a(462))}}KD();break}catch(Te){ON(i,Te)}while(!0);return is=Fi=null,R.H=p,R.A=v,Pt=d,Nt!==null?0:(Gt=null,Ct=0,qd(),ln)}function KD(){for(;Nt!==null&&!Ne();)MN(Nt)}function MN(i){var l=rN(i.alternate,i,hs);i.memoizedProps=i.pendingProps,l===null?wf(i):Nt=l}function PN(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=Qw(d,l,l.pendingProps,l.type,void 0,Ct);break;case 11:l=Qw(d,l,l.pendingProps,l.type.render,l.ref,Ct);break;case 5:i0(l);default:iN(d,l),l=Nt=_j(l,hs),l=rN(d,l,hs)}i.memoizedProps=i.pendingProps,l===null?wf(i):Nt=l}function ml(i,l,d,p){is=Fi=null,i0(l),rl=null,Hc=0;var v=l.return;try{if(LD(i,v,l,d,Ct)){ln=1,mf(i,Ja(d,i.current)),Nt=null;return}}catch(w){if(v!==null)throw Nt=v,w;ln=1,mf(i,Ja(d,i.current)),Nt=null;return}l.flags&32768?(Mt||p===1?i=!0:ll||(Ct&536870912)!==0?i=!1:(Zs=i=!0,(p===2||p===9||p===3||p===6)&&(p=ar.current,p!==null&&p.tag===13&&(p.flags|=16384))),_N(l,i)):wf(l)}function wf(i){var l=i;do{if((l.flags&32768)!==0){_N(l,Zs);return}i=l.return;var d=zD(l.alternate,l,hs);if(d!==null){Nt=d;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=i}while(l!==null);ln===0&&(ln=5)}function _N(i,l){do{var d=$D(i.alternate,i);if(d!==null){d.flags&=32767,Nt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=d}while(i!==null);ln=6,Nt=null}function DN(i,l,d,p,v,w,M,L,ee){i.cancelPendingCommit=null;do Nf();while(Fn!==0);if((Pt&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(w=l.lanes|l.childLanes,w|=Rp,At(i,d,w,M,L,ee),i===Gt&&(Nt=Gt=null,Ct=0),ul=l,ei=i,dl=d,B0=w,U0=v,SN=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZD(ae,function(){return $N(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=R.T,R.T=null,v=X.p,X.p=2,M=Pt,Pt|=4;try{BD(i,l,d)}finally{Pt=M,X.p=v,R.T=p}}Fn=1,RN(),LN(),IN()}}function RN(){if(Fn===1){Fn=0;var i=ei,l=ul,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=R.T,R.T=null;var p=X.p;X.p=2;var v=Pt;Pt|=4;try{xN(l,i);var w=ag,M=Nj(i.containerInfo),L=w.focusedElem,ee=w.selectionRange;if(M!==L&&L&&L.ownerDocument&&wj(L.ownerDocument.documentElement,L)){if(ee!==null&&Tp(L)){var pe=ee.start,Te=ee.end;if(Te===void 0&&(Te=pe),"selectionStart"in L)L.selectionStart=pe,L.selectionEnd=Math.min(Te,L.value.length);else{var Pe=L.ownerDocument||document,be=Pe&&Pe.defaultView||window;if(be.getSelection){var je=be.getSelection(),dt=L.textContent.length,ot=Math.min(ee.start,dt),$t=ee.end===void 0?ot:Math.min(ee.end,dt);!je.extend&&ot>$t&&(M=$t,$t=ot,ot=M);var de=jj(L,ot),le=jj(L,$t);if(de&&le&&(je.rangeCount!==1||je.anchorNode!==de.node||je.anchorOffset!==de.offset||je.focusNode!==le.node||je.focusOffset!==le.offset)){var he=Pe.createRange();he.setStart(de.node,de.offset),je.removeAllRanges(),ot>$t?(je.addRange(he),je.extend(le.node,le.offset)):(he.setEnd(le.node,le.offset),je.addRange(he))}}}}for(Pe=[],je=L;je=je.parentNode;)je.nodeType===1&&Pe.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Pe.length;L++){var Me=Pe[L];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}Rf=!!ng,ag=ng=null}finally{Pt=v,X.p=p,R.T=d}}i.current=l,Fn=2}}function LN(){if(Fn===2){Fn=0;var i=ei,l=ul,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=R.T,R.T=null;var p=X.p;X.p=2;var v=Pt;Pt|=4;try{mN(i,l.alternate,l)}finally{Pt=v,X.p=p,R.T=d}}Fn=3}}function IN(){if(Fn===4||Fn===3){Fn=0,He();var i=ei,l=ul,d=dl,p=SN;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Fn=5:(Fn=0,ul=ei=null,zN(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Js=null),Zn(d),l=l.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(De,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=R.T,v=X.p,X.p=2,R.T=null;try{for(var w=i.onRecoverableError,M=0;M<p.length;M++){var L=p[M];w(L.value,{componentStack:L.stack})}}finally{R.T=l,X.p=v}}(dl&3)!==0&&Nf(),Br(i),v=i.pendingLanes,(d&4194090)!==0&&(v&42)!==0?i===q0?eu++:(eu=0,q0=i):eu=0,tu(0)}}function zN(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Dc(l)))}function Nf(i){return RN(),LN(),IN(),$N()}function $N(){if(Fn!==5)return!1;var i=ei,l=B0;B0=0;var d=Zn(dl),p=R.T,v=X.p;try{X.p=32>d?32:d,R.T=null,d=U0,U0=null;var w=ei,M=dl;if(Fn=0,ul=ei=null,dl=0,(Pt&6)!==0)throw Error(a(331));var L=Pt;if(Pt|=4,wN(w.current),vN(w,w.current,M,d),Pt=L,tu(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(De,w)}catch{}return!0}finally{X.p=v,R.T=p,zN(i,l)}}function BN(i,l,d){l=Ja(d,l),l=b0(i.stateNode,l,2),i=Vs(i,l,2),i!==null&&(Ot(i,2),Br(i))}function Ft(i,l,d){if(i.tag===3)BN(i,i,d);else for(;l!==null;){if(l.tag===3){BN(l,i,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Js===null||!Js.has(p))){i=Ja(d,i),d=Vw(2),p=Vs(l,d,2),p!==null&&(Hw(d,p,l,i),Ot(p,2),Br(p));break}}l=l.return}}function G0(i,l,d){var p=i.pingCache;if(p===null){p=i.pingCache=new FD;var v=new Set;p.set(l,v)}else v=p.get(l),v===void 0&&(v=new Set,p.set(l,v));v.has(d)||(L0=!0,v.add(d),i=YD.bind(null,i,l,d),l.then(i,i))}function YD(i,l,d){var p=i.pingCache;p!==null&&p.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Gt===i&&(Ct&d)===d&&(ln===4||ln===3&&(Ct&62914560)===Ct&&300>Ye()-$0?(Pt&2)===0&&fl(i,0):I0|=d,cl===Ct&&(cl=0)),Br(i)}function UN(i,l){l===0&&(l=tt()),i=Yo(i,l),i!==null&&(Ot(i,l),Br(i))}function WD(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),UN(i,d)}function XD(i,l){var d=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(a(314))}p!==null&&p.delete(l),UN(i,d)}function ZD(i,l){return Be(i,l)}var Sf=null,hl=null,K0=!1,Cf=!1,Y0=!1,Xi=0;function Br(i){i!==hl&&i.next===null&&(hl===null?Sf=hl=i:hl=hl.next=i),Cf=!0,K0||(K0=!0,JD())}function tu(i,l){if(!Y0&&Cf){Y0=!0;do for(var d=!1,p=Sf;p!==null;){if(i!==0){var v=p.pendingLanes;if(v===0)var w=0;else{var M=p.suspendedLanes,L=p.pingedLanes;w=(1<<31-ge(42|i)+1)-1,w&=v&~(M&~L),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,HN(p,w))}else w=Ct,w=wt(p,p===Gt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||me(p,w)||(d=!0,HN(p,w));p=p.next}while(d);Y0=!1}}function QD(){qN()}function qN(){Cf=K0=!1;var i=0;Xi!==0&&(oR()&&(i=Xi),Xi=0);for(var l=Ye(),d=null,p=Sf;p!==null;){var v=p.next,w=FN(p,l);w===0?(p.next=null,d===null?Sf=v:d.next=v,v===null&&(hl=d)):(d=p,(i!==0||(w&3)!==0)&&(Cf=!0)),p=v}tu(i)}function FN(i,l){for(var d=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var M=31-ge(w),L=1<<M,ee=v[M];ee===-1?((L&d)===0||(L&p)!==0)&&(v[M]=Oe(L,l)):ee<=l&&(i.expiredLanes|=L),w&=~L}if(l=Gt,d=Ct,d=wt(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===l&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Ge(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||me(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(p!==null&&Ge(p),Zn(d)){case 2:case 8:d=ce;break;case 32:d=ae;break;case 268435456:d=we;break;default:d=ae}return p=VN.bind(null,i),d=Be(d,p),i.callbackPriority=l,i.callbackNode=d,l}return p!==null&&p!==null&&Ge(p),i.callbackPriority=2,i.callbackNode=null,2}function VN(i,l){if(Fn!==0&&Fn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Nf()&&i.callbackNode!==d)return null;var p=Ct;return p=wt(i,i===Gt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(AN(i,p,l),FN(i,Ye()),i.callbackNode!=null&&i.callbackNode===d?VN.bind(null,i):null)}function HN(i,l){if(Nf())return null;AN(i,l,!0)}function JD(){cR(function(){(Pt&6)!==0?Be(ne,QD):qN()})}function W0(){return Xi===0&&(Xi=We()),Xi}function GN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rd(""+i)}function KN(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function eR(i,l,d,p,v){if(l==="submit"&&d&&d.stateNode===v){var w=GN((v[an]||null).action),M=p.submitter;M&&(l=(l=M[an]||null)?GN(l.formAction):M.getAttribute("formAction"),l!==null&&(w=l,M=null));var L=new $d("action","action",null,p,v);i.push({event:L,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Xi!==0){var ee=M?KN(v,M):new FormData(v);p0(d,{pending:!0,data:ee,method:v.method,action:w},null,ee)}}else typeof w=="function"&&(L.preventDefault(),ee=M?KN(v,M):new FormData(v),p0(d,{pending:!0,data:ee,method:v.method,action:w},w,ee))},currentTarget:v}]})}}for(var X0=0;X0<Dp.length;X0++){var Z0=Dp[X0],tR=Z0.toLowerCase(),nR=Z0[0].toUpperCase()+Z0.slice(1);jr(tR,"on"+nR)}jr(Aj,"onAnimationEnd"),jr(Ej,"onAnimationIteration"),jr(Oj,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(vD,"onTransitionRun"),jr(bD,"onTransitionStart"),jr(jD,"onTransitionCancel"),jr(kj,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function YN(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],v=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var M=p.length-1;0<=M;M--){var L=p[M],ee=L.instance,pe=L.currentTarget;if(L=L.listener,ee!==w&&v.isPropagationStopped())break e;w=L,v.currentTarget=pe;try{w(v)}catch(Te){ff(Te)}v.currentTarget=null,w=ee}else for(M=0;M<p.length;M++){if(L=p[M],ee=L.instance,pe=L.currentTarget,L=L.listener,ee!==w&&v.isPropagationStopped())break e;w=L,v.currentTarget=pe;try{w(v)}catch(Te){ff(Te)}v.currentTarget=null,w=ee}}}}function St(i,l){var d=l[Ue];d===void 0&&(d=l[Ue]=new Set);var p=i+"__bubble";d.has(p)||(WN(l,i,2,!1),d.add(p))}function Q0(i,l,d){var p=0;l&&(p|=4),WN(d,i,p,l)}var Af="_reactListening"+Math.random().toString(36).slice(2);function J0(i){if(!i[Af]){i[Af]=!0,pt.forEach(function(d){d!=="selectionchange"&&(aR.has(d)||Q0(d,!1,i),Q0(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Af]||(l[Af]=!0,Q0("selectionchange",!1,l))}}function WN(i,l,d,p){switch(vS(l)){case 2:var v=TR;break;case 8:v=MR;break;default:v=mg}d=v.bind(null,l,d,i),v=void 0,!jp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(l,d,{capture:!0,passive:v}):i.addEventListener(l,d,!0):v!==void 0?i.addEventListener(l,d,{passive:v}):i.addEventListener(l,d,!1)}function eg(i,l,d,p,v){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var L=p.stateNode.containerInfo;if(L===v)break;if(M===4)for(M=p.return;M!==null;){var ee=M.tag;if((ee===3||ee===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;L!==null;){if(M=Ie(L),M===null)return;if(ee=M.tag,ee===5||ee===6||ee===26||ee===27){p=w=M;continue e}L=L.parentNode}}p=p.return}nj(function(){var pe=w,Te=vp(d),Pe=[];e:{var be=Tj.get(i);if(be!==void 0){var je=$d,dt=i;switch(i){case"keypress":if(Id(d)===0)break e;case"keydown":case"keyup":je=Z_;break;case"focusin":dt="focus",je=Cp;break;case"focusout":dt="blur",je=Cp;break;case"beforeblur":case"afterblur":je=Cp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=$_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=eD;break;case Aj:case Ej:case Oj:je=q_;break;case kj:je=nD;break;case"scroll":case"scrollend":je=I_;break;case"wheel":je=rD;break;case"copy":case"cut":case"paste":je=V_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=oj;break;case"toggle":case"beforetoggle":je=iD}var ot=(l&4)!==0,$t=!ot&&(i==="scroll"||i==="scrollend"),de=ot?be!==null?be+"Capture":null:be;ot=[];for(var le=pe,he;le!==null;){var Me=le;if(he=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||he===null||de===null||(Me=jc(le,de),Me!=null&&ot.push(au(le,Me,he))),$t)break;le=le.return}0<ot.length&&(be=new je(be,dt,null,d,Te),Pe.push({event:be,listeners:ot}))}}if((l&7)===0){e:{if(be=i==="mouseover"||i==="pointerover",je=i==="mouseout"||i==="pointerout",be&&d!==yp&&(dt=d.relatedTarget||d.fromElement)&&(Ie(dt)||dt[ue]))break e;if((je||be)&&(be=Te.window===Te?Te:(be=Te.ownerDocument)?be.defaultView||be.parentWindow:window,je?(dt=d.relatedTarget||d.toElement,je=pe,dt=dt?Ie(dt):null,dt!==null&&($t=o(dt),ot=dt.tag,dt!==$t||ot!==5&&ot!==27&&ot!==6)&&(dt=null)):(je=null,dt=pe),je!==dt)){if(ot=sj,Me="onMouseLeave",de="onMouseEnter",le="mouse",(i==="pointerout"||i==="pointerover")&&(ot=oj,Me="onPointerLeave",de="onPointerEnter",le="pointer"),$t=je==null?be:Xe(je),he=dt==null?be:Xe(dt),be=new ot(Me,le+"leave",je,d,Te),be.target=$t,be.relatedTarget=he,Me=null,Ie(Te)===pe&&(ot=new ot(de,le+"enter",dt,d,Te),ot.target=he,ot.relatedTarget=$t,Me=ot),$t=Me,je&&dt)t:{for(ot=je,de=dt,le=0,he=ot;he;he=pl(he))le++;for(he=0,Me=de;Me;Me=pl(Me))he++;for(;0<le-he;)ot=pl(ot),le--;for(;0<he-le;)de=pl(de),he--;for(;le--;){if(ot===de||de!==null&&ot===de.alternate)break t;ot=pl(ot),de=pl(de)}ot=null}else ot=null;je!==null&&XN(Pe,be,je,ot,!1),dt!==null&&$t!==null&&XN(Pe,$t,dt,ot,!0)}}e:{if(be=pe?Xe(pe):window,je=be.nodeName&&be.nodeName.toLowerCase(),je==="select"||je==="input"&&be.type==="file")var et=pj;else if(mj(be))if(gj)et=gD;else{et=hD;var jt=mD}else je=be.nodeName,!je||je.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?pe&&xp(pe.elementType)&&(et=pj):et=pD;if(et&&(et=et(i,pe))){hj(Pe,et,d,Te);break e}jt&&jt(i,be,pe),i==="focusout"&&pe&&be.type==="number"&&pe.memoizedProps.value!=null&&gp(be,"number",be.value)}switch(jt=pe?Xe(pe):window,i){case"focusin":(mj(jt)||jt.contentEditable==="true")&&(Ho=jt,Mp=pe,kc=null);break;case"focusout":kc=Mp=Ho=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,Sj(Pe,d,Te);break;case"selectionchange":if(yD)break;case"keydown":case"keyup":Sj(Pe,d,Te)}var at;if(Ep)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Vo?dj(i,d)&&(ct="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ct="onCompositionStart");ct&&(lj&&d.locale!=="ko"&&(Vo||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Vo&&(at=aj()):(Bs=Te,wp="value"in Bs?Bs.value:Bs.textContent,Vo=!0)),jt=Ef(pe,ct),0<jt.length&&(ct=new ij(ct,i,null,d,Te),Pe.push({event:ct,listeners:jt}),at?ct.data=at:(at=fj(d),at!==null&&(ct.data=at)))),(at=lD?cD(i,d):uD(i,d))&&(ct=Ef(pe,"onBeforeInput"),0<ct.length&&(jt=new ij("onBeforeInput","beforeinput",null,d,Te),Pe.push({event:jt,listeners:ct}),jt.data=at)),eR(Pe,i,pe,d,Te)}YN(Pe,l)})}function au(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Ef(i,l){for(var d=l+"Capture",p=[];i!==null;){var v=i,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=jc(i,d),v!=null&&p.unshift(au(i,v,w)),v=jc(i,l),v!=null&&p.push(au(i,v,w))),i.tag===3)return p;i=i.return}return[]}function pl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function XN(i,l,d,p,v){for(var w=l._reactName,M=[];d!==null&&d!==p;){var L=d,ee=L.alternate,pe=L.stateNode;if(L=L.tag,ee!==null&&ee===p)break;L!==5&&L!==26&&L!==27||pe===null||(ee=pe,v?(pe=jc(d,w),pe!=null&&M.unshift(au(d,pe,ee))):v||(pe=jc(d,w),pe!=null&&M.push(au(d,pe,ee)))),d=d.return}M.length!==0&&i.push({event:l,listeners:M})}var rR=/\r\n?/g,sR=/\u0000|\uFFFD/g;function ZN(i){return(typeof i=="string"?i:""+i).replace(rR,`
`).replace(sR,"")}function QN(i,l){return l=ZN(l),ZN(i)===l}function Of(){}function zt(i,l,d,p,v,w){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Uo(i,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Uo(i,""+p);break;case"className":_i(i,"class",p);break;case"tabIndex":_i(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(i,d,p);break;case"style":ej(i,p,w);break;case"data":if(l!=="object"){_i(i,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Rd(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&zt(i,l,"name",v.name,v,null),zt(i,l,"formEncType",v.formEncType,v,null),zt(i,l,"formMethod",v.formMethod,v,null),zt(i,l,"formTarget",v.formTarget,v,null)):(zt(i,l,"encType",v.encType,v,null),zt(i,l,"method",v.method,v,null),zt(i,l,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Rd(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Of);break;case"onScroll":p!=null&&St("scroll",i);break;case"onScrollEnd":p!=null&&St("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(a(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=Rd(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":St("beforetoggle",i),St("toggle",i),Pi(i,"popover",p);break;case"xlinkActuate":Za(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Za(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Za(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Za(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Za(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Za(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Za(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Za(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Za(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Pi(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=R_.get(d)||d,Pi(i,d,p))}}function tg(i,l,d,p,v,w){switch(d){case"style":ej(i,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(a(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Uo(i,p):(typeof p=="number"||typeof p=="bigint")&&Uo(i,""+p);break;case"onScroll":p!=null&&St("scroll",i);break;case"onScrollEnd":p!=null&&St("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),l=d.slice(2,v?d.length-7:void 0),w=i[an]||null,w=w!=null?w[d]:null,typeof w=="function"&&i.removeEventListener(l,w,v),typeof p=="function")){typeof w!="function"&&w!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,p,v);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Pi(i,d,p)}}}function Vn(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",i),St("load",i);var p=!1,v=!1,w;for(w in d)if(d.hasOwnProperty(w)){var M=d[w];if(M!=null)switch(w){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:zt(i,l,w,M,d,null)}}v&&zt(i,l,"srcSet",d.srcSet,d,null),p&&zt(i,l,"src",d.src,d,null);return;case"input":St("invalid",i);var L=w=M=v=null,ee=null,pe=null;for(p in d)if(d.hasOwnProperty(p)){var Te=d[p];if(Te!=null)switch(p){case"name":v=Te;break;case"type":M=Te;break;case"checked":ee=Te;break;case"defaultChecked":pe=Te;break;case"value":w=Te;break;case"defaultValue":L=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(a(137,l));break;default:zt(i,l,p,Te,d,null)}}X2(i,w,L,ee,pe,M,v,!1),Di(i);return;case"select":St("invalid",i),p=M=w=null;for(v in d)if(d.hasOwnProperty(v)&&(L=d[v],L!=null))switch(v){case"value":w=L;break;case"defaultValue":M=L;break;case"multiple":p=L;default:zt(i,l,v,L,d,null)}l=w,d=M,i.multiple=!!p,l!=null?Bo(i,!!p,l,!1):d!=null&&Bo(i,!!p,d,!0);return;case"textarea":St("invalid",i),w=v=p=null;for(M in d)if(d.hasOwnProperty(M)&&(L=d[M],L!=null))switch(M){case"value":p=L;break;case"defaultValue":v=L;break;case"children":w=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:zt(i,l,M,L,d,null)}Q2(i,p,v,w),Di(i);return;case"option":for(ee in d)if(d.hasOwnProperty(ee)&&(p=d[ee],p!=null))switch(ee){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:zt(i,l,ee,p,d,null)}return;case"dialog":St("beforetoggle",i),St("toggle",i),St("cancel",i),St("close",i);break;case"iframe":case"object":St("load",i);break;case"video":case"audio":for(p=0;p<nu.length;p++)St(nu[p],i);break;case"image":St("error",i),St("load",i);break;case"details":St("toggle",i);break;case"embed":case"source":case"link":St("error",i),St("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in d)if(d.hasOwnProperty(pe)&&(p=d[pe],p!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:zt(i,l,pe,p,d,null)}return;default:if(xp(l)){for(Te in d)d.hasOwnProperty(Te)&&(p=d[Te],p!==void 0&&tg(i,l,Te,p,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(p=d[L],p!=null&&zt(i,l,L,p,d,null))}function iR(i,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,M=null,L=null,ee=null,pe=null,Te=null;for(je in d){var Pe=d[je];if(d.hasOwnProperty(je)&&Pe!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ee=Pe;default:p.hasOwnProperty(je)||zt(i,l,je,null,p,Pe)}}for(var be in p){var je=p[be];if(Pe=d[be],p.hasOwnProperty(be)&&(je!=null||Pe!=null))switch(be){case"type":w=je;break;case"name":v=je;break;case"checked":pe=je;break;case"defaultChecked":Te=je;break;case"value":M=je;break;case"defaultValue":L=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(a(137,l));break;default:je!==Pe&&zt(i,l,be,je,p,Pe)}}pp(i,M,L,ee,pe,Te,w,v);return;case"select":je=M=L=be=null;for(w in d)if(ee=d[w],d.hasOwnProperty(w)&&ee!=null)switch(w){case"value":break;case"multiple":je=ee;default:p.hasOwnProperty(w)||zt(i,l,w,null,p,ee)}for(v in p)if(w=p[v],ee=d[v],p.hasOwnProperty(v)&&(w!=null||ee!=null))switch(v){case"value":be=w;break;case"defaultValue":L=w;break;case"multiple":M=w;default:w!==ee&&zt(i,l,v,w,p,ee)}l=L,d=M,p=je,be!=null?Bo(i,!!d,be,!1):!!p!=!!d&&(l!=null?Bo(i,!!d,l,!0):Bo(i,!!d,d?[]:"",!1));return;case"textarea":je=be=null;for(L in d)if(v=d[L],d.hasOwnProperty(L)&&v!=null&&!p.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:zt(i,l,L,null,p,v)}for(M in p)if(v=p[M],w=d[M],p.hasOwnProperty(M)&&(v!=null||w!=null))switch(M){case"value":be=v;break;case"defaultValue":je=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:v!==w&&zt(i,l,M,v,p,w)}Z2(i,be,je);return;case"option":for(var dt in d)if(be=d[dt],d.hasOwnProperty(dt)&&be!=null&&!p.hasOwnProperty(dt))switch(dt){case"selected":i.selected=!1;break;default:zt(i,l,dt,null,p,be)}for(ee in p)if(be=p[ee],je=d[ee],p.hasOwnProperty(ee)&&be!==je&&(be!=null||je!=null))switch(ee){case"selected":i.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:zt(i,l,ee,be,p,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in d)be=d[ot],d.hasOwnProperty(ot)&&be!=null&&!p.hasOwnProperty(ot)&&zt(i,l,ot,null,p,be);for(pe in p)if(be=p[pe],je=d[pe],p.hasOwnProperty(pe)&&be!==je&&(be!=null||je!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,l));break;default:zt(i,l,pe,be,p,je)}return;default:if(xp(l)){for(var $t in d)be=d[$t],d.hasOwnProperty($t)&&be!==void 0&&!p.hasOwnProperty($t)&&tg(i,l,$t,void 0,p,be);for(Te in p)be=p[Te],je=d[Te],!p.hasOwnProperty(Te)||be===je||be===void 0&&je===void 0||tg(i,l,Te,be,p,je);return}}for(var de in d)be=d[de],d.hasOwnProperty(de)&&be!=null&&!p.hasOwnProperty(de)&&zt(i,l,de,null,p,be);for(Pe in p)be=p[Pe],je=d[Pe],!p.hasOwnProperty(Pe)||be===je||be==null&&je==null||zt(i,l,Pe,be,p,je)}var ng=null,ag=null;function kf(i){return i.nodeType===9?i:i.ownerDocument}function JN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eS(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function rg(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var sg=null;function oR(){var i=window.event;return i&&i.type==="popstate"?i===sg?!1:(sg=i,!0):(sg=null,!1)}var tS=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,nS=typeof Promise=="function"?Promise:void 0,cR=typeof queueMicrotask=="function"?queueMicrotask:typeof nS<"u"?function(i){return nS.resolve(null).then(i).catch(uR)}:tS;function uR(i){setTimeout(function(){throw i})}function ni(i){return i==="head"}function aS(i,l){var d=l,p=0,v=0;do{var w=d.nextSibling;if(i.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<p&&8>p){d=p;var M=i.ownerDocument;if(d&1&&ru(M.documentElement),d&2&&ru(M.body),d&4)for(d=M.head,ru(d),M=d.firstChild;M;){var L=M.nextSibling,ee=M.nodeName;M[ye]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&M.rel.toLowerCase()==="stylesheet"||d.removeChild(M),M=L}}if(v===0){i.removeChild(w),fu(l);return}v--}else d==="$"||d==="$?"||d==="$!"?v++:p=d.charCodeAt(0)-48;else p=0;d=w}while(d);fu(l)}function ig(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":ig(d),Re(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function dR(i,l,d,p){for(;i.nodeType===1;){var v=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ye])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Nr(i.nextSibling),i===null)break}return null}function fR(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Nr(i.nextSibling),i===null))return null;return i}function og(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function mR(i,l){var d=i.ownerDocument;if(i.data!=="$?"||d.readyState==="complete")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Nr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var lg=null;function rS(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}function sS(i,l,d){switch(l=kf(d),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function ru(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Re(i)}var sr=new Map,iS=new Set;function Tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ps=X.d;X.d={f:hR,r:pR,D:gR,C:xR,L:yR,m:vR,X:jR,S:bR,M:wR};function hR(){var i=ps.f(),l=jf();return i||l}function pR(i){var l=$e(i);l!==null&&l.tag===5&&l.type==="form"?Aw(l):ps.r(i)}var gl=typeof document>"u"?null:document;function oS(i,l,d){var p=gl;if(p&&typeof l=="string"&&l){var v=Qa(l);v='link[rel="'+i+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),iS.has(v)||(iS.add(v),i={rel:i,crossOrigin:d,href:l},p.querySelector(v)===null&&(l=p.createElement("link"),Vn(l,"link",i),nt(l),p.head.appendChild(l)))}}function gR(i){ps.D(i),oS("dns-prefetch",i,null)}function xR(i,l){ps.C(i,l),oS("preconnect",i,l)}function yR(i,l,d){ps.L(i,l,d);var p=gl;if(p&&i&&l){var v='link[rel="preload"][as="'+Qa(l)+'"]';l==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+Qa(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+Qa(d.imageSizes)+'"]')):v+='[href="'+Qa(i)+'"]';var w=v;switch(l){case"style":w=xl(i);break;case"script":w=yl(i)}sr.has(w)||(i=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),sr.set(w,i),p.querySelector(v)!==null||l==="style"&&p.querySelector(su(w))||l==="script"&&p.querySelector(iu(w))||(l=p.createElement("link"),Vn(l,"link",i),nt(l),p.head.appendChild(l)))}}function vR(i,l){ps.m(i,l);var d=gl;if(d&&i){var p=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Qa(p)+'"][href="'+Qa(i)+'"]',w=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=yl(i)}if(!sr.has(w)&&(i=h({rel:"modulepreload",href:i},l),sr.set(w,i),d.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(iu(w)))return}p=d.createElement("link"),Vn(p,"link",i),nt(p),d.head.appendChild(p)}}}function bR(i,l,d){ps.S(i,l,d);var p=gl;if(p&&i){var v=ht(p).hoistableStyles,w=xl(i);l=l||"default";var M=v.get(w);if(!M){var L={loading:0,preload:null};if(M=p.querySelector(su(w)))L.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":l},d),(d=sr.get(w))&&cg(i,d);var ee=M=p.createElement("link");nt(ee),Vn(ee,"link",i),ee._p=new Promise(function(pe,Te){ee.onload=pe,ee.onerror=Te}),ee.addEventListener("load",function(){L.loading|=1}),ee.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Mf(M,l,p)}M={type:"stylesheet",instance:M,count:1,state:L},v.set(w,M)}}}function jR(i,l){ps.X(i,l);var d=gl;if(d&&i){var p=ht(d).hoistableScripts,v=yl(i),w=p.get(v);w||(w=d.querySelector(iu(v)),w||(i=h({src:i,async:!0},l),(l=sr.get(v))&&ug(i,l),w=d.createElement("script"),nt(w),Vn(w,"link",i),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function wR(i,l){ps.M(i,l);var d=gl;if(d&&i){var p=ht(d).hoistableScripts,v=yl(i),w=p.get(v);w||(w=d.querySelector(iu(v)),w||(i=h({src:i,async:!0,type:"module"},l),(l=sr.get(v))&&ug(i,l),w=d.createElement("script"),nt(w),Vn(w,"link",i),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function lS(i,l,d,p){var v=(v=xe.current)?Tf(v):null;if(!v)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=xl(d.href),d=ht(v).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=xl(d.href);var w=ht(v).hoistableStyles,M=w.get(i);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,M),(w=v.querySelector(su(i)))&&!w._p&&(M.instance=w,M.state.loading=5),sr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},sr.set(i,d),w||NR(v,i,d,M.state))),l&&p===null)throw Error(a(528,""));return M}if(l&&p!==null)throw Error(a(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=yl(d),d=ht(v).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function xl(i){return'href="'+Qa(i)+'"'}function su(i){return'link[rel="stylesheet"]['+i+"]"}function cS(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function NR(i,l,d,p){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=i.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Vn(l,"link",d),nt(l),i.head.appendChild(l))}function yl(i){return'[src="'+Qa(i)+'"]'}function iu(i){return"script[async]"+i}function uS(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=i.querySelector('style[data-href~="'+Qa(d.href)+'"]');if(p)return l.instance=p,nt(p),p;var v=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),nt(p),Vn(p,"style",v),Mf(p,d.precedence,i),l.instance=p;case"stylesheet":v=xl(d.href);var w=i.querySelector(su(v));if(w)return l.state.loading|=4,l.instance=w,nt(w),w;p=cS(d),(v=sr.get(v))&&cg(p,v),w=(i.ownerDocument||i).createElement("link"),nt(w);var M=w;return M._p=new Promise(function(L,ee){M.onload=L,M.onerror=ee}),Vn(w,"link",p),l.state.loading|=4,Mf(w,d.precedence,i),l.instance=w;case"script":return w=yl(d.src),(v=i.querySelector(iu(w)))?(l.instance=v,nt(v),v):(p=d,(v=sr.get(w))&&(p=h({},d),ug(p,v)),i=i.ownerDocument||i,v=i.createElement("script"),nt(v),Vn(v,"link",p),i.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Mf(p,d.precedence,i));return l.instance}function Mf(i,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,w=v,M=0;M<p.length;M++){var L=p[M];if(L.dataset.precedence===l)w=L;else if(w!==v)break}w?w.parentNode.insertBefore(i,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function cg(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function ug(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Pf=null;function dS(i,l,d){if(Pf===null){var p=new Map,v=Pf=new Map;v.set(d,p)}else v=Pf,p=v.get(d),p||(p=new Map,v.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),v=0;v<d.length;v++){var w=d[v];if(!(w[ye]||w[Ht]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(l)||"";M=i+M;var L=p.get(M);L?L.push(w):p.set(M,[w])}}return p}function fS(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function SR(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function mS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ou=null;function CR(){}function AR(i,l,d){if(ou===null)throw Error(a(475));var p=ou;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=xl(d.href),w=i.querySelector(su(v));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=_f.bind(p),i.then(p,p)),l.state.loading|=4,l.instance=w,nt(w);return}w=i.ownerDocument||i,d=cS(d),(v=sr.get(v))&&cg(d,v),w=w.createElement("link"),nt(w);var M=w;M._p=new Promise(function(L,ee){M.onload=L,M.onerror=ee}),Vn(w,"link",d),l.instance=w}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=_f.bind(p),i.addEventListener("load",l),i.addEventListener("error",l))}}function ER(){if(ou===null)throw Error(a(475));var i=ou;return i.stylesheets&&i.count===0&&dg(i,i.stylesheets),0<i.count?function(l){var d=setTimeout(function(){if(i.stylesheets&&dg(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d)}}:null}function _f(){if(this.count--,this.count===0){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Df=null;function dg(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Df=new Map,l.forEach(OR,i),Df=null,_f.call(i))}function OR(i,l){if(!(l.state.loading&4)){var d=Df.get(i);if(d)var p=d.get(null);else{d=new Map,Df.set(i,d);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var M=v[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(d.set(M.dataset.precedence,M),p=M)}p&&d.set(null,p)}v=l.instance,M=v.getAttribute("data-precedence"),w=d.get(M)||p,w===p&&d.set(null,v),d.set(M,v),this.count++,p=_f.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),w?w.parentNode.insertBefore(v,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),l.state.loading|=4}}var lu={$$typeof:E,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function kR(i,l,d,p,v,w,M,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function hS(i,l,d,p,v,w,M,L,ee,pe,Te,Pe){return i=new kR(i,l,d,M,L,ee,pe,Pe),l=1,w===!0&&(l|=24),w=Pa(3,null,null,l),i.current=w,w.stateNode=i,l=Gp(),l.refCount++,i.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:d,cache:l},Xp(w),i}function pS(i){return i?(i=Wo,i):Wo}function gS(i,l,d,p,v,w){v=pS(v),p.context===null?p.context=v:p.pendingContext=v,p=Fs(l),p.payload={element:d},w=w===void 0?null:w,w!==null&&(p.callback=w),d=Vs(i,p,l),d!==null&&(Ia(d,i,l),zc(d,i,l))}function xS(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function fg(i,l){xS(i,l),(i=i.alternate)&&xS(i,l)}function yS(i){if(i.tag===13){var l=Yo(i,67108864);l!==null&&Ia(l,i,67108864),fg(i,67108864)}}var Rf=!0;function TR(i,l,d,p){var v=R.T;R.T=null;var w=X.p;try{X.p=2,mg(i,l,d,p)}finally{X.p=w,R.T=v}}function MR(i,l,d,p){var v=R.T;R.T=null;var w=X.p;try{X.p=8,mg(i,l,d,p)}finally{X.p=w,R.T=v}}function mg(i,l,d,p){if(Rf){var v=hg(p);if(v===null)eg(i,l,p,Lf,d),bS(i,p);else if(_R(v,i,l,d,p))p.stopPropagation();else if(bS(i,p),l&4&&-1<PR.indexOf(i)){for(;v!==null;){var w=$e(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=lt(w.pendingLanes);if(M!==0){var L=w;for(L.pendingLanes|=2,L.entangledLanes|=2;M;){var ee=1<<31-ge(M);L.entanglements[1]|=ee,M&=~ee}Br(w),(Pt&6)===0&&(vf=Ye()+500,tu(0))}}break;case 13:L=Yo(w,2),L!==null&&Ia(L,w,2),jf(),fg(w,2)}if(w=hg(p),w===null&&eg(i,l,p,Lf,d),w===v)break;v=w}v!==null&&p.stopPropagation()}else eg(i,l,p,null,d)}}function hg(i){return i=vp(i),pg(i)}var Lf=null;function pg(i){if(Lf=null,i=Ie(i),i!==null){var l=o(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=c(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Lf=i,null}function vS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F()){case ne:return 2;case ce:return 8;case ae:case J:return 32;case we:return 268435456;default:return 32}default:return 32}}var gg=!1,ai=null,ri=null,si=null,cu=new Map,uu=new Map,ii=[],PR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bS(i,l){switch(i){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":cu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(l.pointerId)}}function du(i,l,d,p,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},l!==null&&(l=$e(l),l!==null&&yS(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function _R(i,l,d,p,v){switch(l){case"focusin":return ai=du(ai,i,l,d,p,v),!0;case"dragenter":return ri=du(ri,i,l,d,p,v),!0;case"mouseover":return si=du(si,i,l,d,p,v),!0;case"pointerover":var w=v.pointerId;return cu.set(w,du(cu.get(w)||null,i,l,d,p,v)),!0;case"gotpointercapture":return w=v.pointerId,uu.set(w,du(uu.get(w)||null,i,l,d,p,v)),!0}return!1}function jS(i){var l=Ie(i.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){i.blockedOn=l,ga(i.priority,function(){if(d.tag===13){var p=La();p=Un(p);var v=Yo(d,p);v!==null&&Ia(v,d,p),fg(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function If(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=hg(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);yp=p,d.target.dispatchEvent(p),yp=null}else return l=$e(d),l!==null&&yS(l),i.blockedOn=d,!1;l.shift()}return!0}function wS(i,l,d){If(i)&&d.delete(l)}function DR(){gg=!1,ai!==null&&If(ai)&&(ai=null),ri!==null&&If(ri)&&(ri=null),si!==null&&If(si)&&(si=null),cu.forEach(wS),uu.forEach(wS)}function zf(i,l){i.blockedOn===l&&(i.blockedOn=null,gg||(gg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,DR)))}var $f=null;function NS(i){$f!==i&&($f=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$f===i&&($f=null);for(var l=0;l<i.length;l+=3){var d=i[l],p=i[l+1],v=i[l+2];if(typeof p!="function"){if(pg(p||d)===null)continue;break}var w=$e(d);w!==null&&(i.splice(l,3),l-=3,p0(w,{pending:!0,data:v,method:d.method,action:p},p,v))}}))}function fu(i){function l(ee){return zf(ee,i)}ai!==null&&zf(ai,i),ri!==null&&zf(ri,i),si!==null&&zf(si,i),cu.forEach(l),uu.forEach(l);for(var d=0;d<ii.length;d++){var p=ii[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<ii.length&&(d=ii[0],d.blockedOn===null);)jS(d),d.blockedOn===null&&ii.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var v=d[p],w=d[p+1],M=v[an]||null;if(typeof w=="function")M||NS(d);else if(M){var L=null;if(w&&w.hasAttribute("formAction")){if(v=w,M=w[an]||null)L=M.formAction;else if(pg(v)!==null)continue}else L=M.action;typeof L=="function"?d[p+1]=L:(d.splice(p,3),p-=3),NS(d)}}}function xg(i){this._internalRoot=i}Bf.prototype.render=xg.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var d=l.current,p=La();gS(d,p,i,l,null,null)},Bf.prototype.unmount=xg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;gS(i.current,2,null,i,null,null),jf(),l[ue]=null}};function Bf(i){this._internalRoot=i}Bf.prototype.unstable_scheduleHydration=function(i){if(i){var l=Xa();i={blockedOn:null,target:i,priority:l};for(var d=0;d<ii.length&&l!==0&&l<ii[d].priority;d++);ii.splice(d,0,i),d===0&&jS(i)}};var SS=t.version;if(SS!=="19.1.1")throw Error(a(527,SS,"19.1.1"));X.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(l),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var RR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{De=Uf.inject(RR),se=Uf}catch{}}return hu.createRoot=function(i,l){if(!s(i))throw Error(a(299));var d=!1,p="",v=Bw,w=Uw,M=qw,L=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks)),l=hS(i,1,!1,null,null,d,p,v,w,M,L,null),i[ue]=l.current,J0(i),new xg(l)},hu.hydrateRoot=function(i,l,d){if(!s(i))throw Error(a(299));var p=!1,v="",w=Bw,M=Uw,L=qw,ee=null,pe=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ee=d.unstable_transitionCallbacks),d.formState!==void 0&&(pe=d.formState)),l=hS(i,1,!0,l,d??null,p,v,w,M,L,ee,pe),l.context=pS(null),d=l.current,p=La(),p=Un(p),v=Fs(p),v.callback=null,Vs(d,v,p),d=p,l.current.lanes=d,Ot(l,d),Br(l),i[ue]=l.current,J0(i),new Bf(l)},hu.version="19.1.1",hu}var DS;function GR(){if(DS)return jg.exports;DS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jg.exports=HR(),jg.exports}var KR=GR(),pu={},RS;function YR(){if(RS)return pu;RS=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.parse=c,pu.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,b){const j=new o,N=x.length;if(N<2)return j;const S=(b==null?void 0:b.decode)||h;let A=0;do{const C=x.indexOf("=",A);if(C===-1)break;const E=x.indexOf(";",A),k=E===-1?N:E;if(C>k){A=x.lastIndexOf(";",C-1)+1;continue}const O=u(x,A,C),T=f(x,C,O),P=x.slice(O,T);if(j[P]===void 0){let _=u(x,C+1,k),z=f(x,k,_);const V=S(x.slice(_,z));j[P]=V}A=k+1}while(A<N);return j}function u(x,b,j){do{const N=x.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<j);return j}function f(x,b,j){for(;b>j;){const N=x.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return j}function m(x,b,j){const N=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=N(b);if(!t.test(S))throw new TypeError(`argument val is invalid: ${b}`);let A=x+"="+S;if(!j)return A;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);A+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);A+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);A+="; Path="+j.path}if(j.expires){if(!g(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);A+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(A+="; HttpOnly"),j.secure&&(A+="; Secure"),j.partitioned&&(A+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return A}function h(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function g(x){return s.call(x)==="[object Date]"}return pu}YR();var LS="popstate";function WR(e={}){function t(a,s){let{pathname:o,search:c,hash:u}=a.location;return Oy("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Bu(s)}return ZR(t,n,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XR(){return Math.random().toString(36).substring(2,10)}function IS(e,t){return{usr:e.state,key:e.key,idx:t}}function Oy(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xl(t):t,state:n,key:t&&t.key||a||XR()}}function Bu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function ZR(e,t,n,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,u="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function g(){u="POP";let S=h(),A=S==null?null:S-m;m=S,f&&f({action:u,location:N.location,delta:A})}function x(S,A){u="PUSH";let C=Oy(N.location,S,A);m=h()+1;let E=IS(C,m),k=N.createHref(C);try{c.pushState(E,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(k)}o&&f&&f({action:u,location:N.location,delta:1})}function b(S,A){u="REPLACE";let C=Oy(N.location,S,A);m=h();let E=IS(C,m),k=N.createHref(C);c.replaceState(E,"",k),o&&f&&f({action:u,location:N.location,delta:0})}function j(S){return QR(S)}let N={get action(){return u},get location(){return e(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(LS,g),f=S,()=>{s.removeEventListener(LS,g),f=null}},createHref(S){return t(s,S)},createURL:j,encodeLocation(S){let A=j(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:b,go(S){return c.go(S)}};return N}function QR(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Bu(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function wO(e,t,n="/"){return JR(e,t,n,!1)}function JR(e,t,n,a){let s=typeof t=="string"?Xl(t):t,o=Cs(s.pathname||"/",n);if(o==null)return null;let c=NO(e);e8(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=d8(o);u=c8(c[f],m,a)}return u}function NO(e,t=[],n=[],a=""){let s=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Zt(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length));let m=ws([a,f.relativePath]),h=n.concat(f);o.children&&o.children.length>0&&(Zt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),NO(o.children,t,h,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:o8(m,o.index),routesMeta:h})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,c);else for(let f of SO(o.path))s(o,c,f)}),t}function SO(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=SO(a.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function e8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:l8(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var t8=/^:[\w-]+$/,n8=3,a8=2,r8=1,s8=10,i8=-2,zS=e=>e==="*";function o8(e,t){let n=e.split("/"),a=n.length;return n.some(zS)&&(a+=i8),t&&(a+=a8),n.filter(s=>!zS(s)).reduce((s,o)=>s+(t8.test(o)?n8:o===""?r8:s8),a)}function l8(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function c8(e,t,n=!1){let{routesMeta:a}=e,s={},o="/",c=[];for(let u=0;u<a.length;++u){let f=a[u],m=u===a.length-1,h=o==="/"?t:t.slice(o.length)||"/",g=km({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),x=f.route;if(!g&&m&&n&&!a[a.length-1].route.index&&(g=km({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:ws([o,g.pathname]),pathnameBase:p8(ws([o,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(o=ws([o,g.pathnameBase]))}return c}function km(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=u8(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:a.reduce((m,{paramName:h,isOptional:g},x)=>{if(h==="*"){let j=u[x]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=u[x];return g&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:e}}function u8(e,t=!1,n=!0){Or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(a.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function d8(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Cs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function f8(e,t="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Xl(e):e;return{pathname:n?n.startsWith("/")?n:m8(n,t):t,search:g8(a),hash:x8(s)}}function m8(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cg(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h8(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tb(e){let t=h8(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function nb(e,t,n,a=!1){let s;typeof e=="string"?s=Xl(e):(s={...e},Zt(!s.pathname||!s.pathname.includes("?"),Cg("?","pathname","search",s)),Zt(!s.pathname||!s.pathname.includes("#"),Cg("#","pathname","hash",s)),Zt(!s.search||!s.search.includes("#"),Cg("#","search","hash",s)));let o=e===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=n;else{let g=t.length-1;if(!a&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}u=g>=0?t[g]:"/"}let f=f8(s,u),m=c&&c!=="/"&&c.endsWith("/"),h=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var ws=e=>e.join("/").replace(/\/\/+/g,"/"),p8=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),g8=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x8=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var CO=["POST","PUT","PATCH","DELETE"];new Set(CO);var v8=["GET",...CO];new Set(v8);var Zl=y.createContext(null);Zl.displayName="DataRouter";var vh=y.createContext(null);vh.displayName="DataRouterState";var AO=y.createContext({isTransitioning:!1});AO.displayName="ViewTransition";var b8=y.createContext(new Map);b8.displayName="Fetchers";var j8=y.createContext(null);j8.displayName="Await";var kr=y.createContext(null);kr.displayName="Navigation";var od=y.createContext(null);od.displayName="Location";var Tr=y.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var ab=y.createContext(null);ab.displayName="RouteError";function w8(e,{relative:t}={}){Zt(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=y.useContext(kr),{hash:s,pathname:o,search:c}=ld(e,{relative:t}),u=o;return n!=="/"&&(u=o==="/"?n:ws([n,o])),a.createHref({pathname:u,search:c,hash:s})}function Ql(){return y.useContext(od)!=null}function An(){return Zt(Ql(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(od).location}var EO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OO(e){y.useContext(kr).static||y.useLayoutEffect(e)}function es(){let{isDataRoute:e}=y.useContext(Tr);return e?R8():N8()}function N8(){Zt(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Zl),{basename:t,navigator:n}=y.useContext(kr),{matches:a}=y.useContext(Tr),{pathname:s}=An(),o=JSON.stringify(tb(a)),c=y.useRef(!1);return OO(()=>{c.current=!0}),y.useCallback((f,m={})=>{if(Or(c.current,EO),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=nb(f,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ws([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,o,s,e])}y.createContext(null);function kO(){let{matches:e}=y.useContext(Tr),t=e[e.length-1];return t?t.params:{}}function ld(e,{relative:t}={}){let{matches:n}=y.useContext(Tr),{pathname:a}=An(),s=JSON.stringify(tb(n));return y.useMemo(()=>nb(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function S8(e,t){return TO(e,t)}function TO(e,t,n,a){var A;Zt(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(kr),{matches:o}=y.useContext(Tr),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let C=h&&h.path||"";MO(f,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=An(),x;if(t){let C=typeof t=="string"?Xl(t):t;Zt(m==="/"||((A=C.pathname)==null?void 0:A.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=g;let b=x.pathname||"/",j=b;if(m!=="/"){let C=m.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=wO(e,{pathname:j});Or(h||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Or(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=k8(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:ws([m,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:ws([m,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,a);return t&&S?y.createElement(od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function C8(){let e=D8(),t=y8(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:o},"ErrorBoundary")," or"," ",y.createElement("code",{style:o},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,c)}var A8=y.createElement(C8,null),E8=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(Tr.Provider,{value:this.props.routeContext},y.createElement(ab.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function O8({routeContext:e,match:t,children:n}){let a=y.useContext(Zl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Tr.Provider,{value:e},n)}function k8(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Zt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:h,errors:g}=n,x=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let g,x=!1,b=null,j=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||A8,c&&(u<0&&h===0?(MO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):u===h&&(x=!0,j=m.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,h+1)),S=()=>{let A;return g?A=b:x?A=j:m.route.Component?A=y.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=f,y.createElement(O8,{match:m,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?y.createElement(E8,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}function rb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T8(e){let t=y.useContext(Zl);return Zt(t,rb(e)),t}function M8(e){let t=y.useContext(vh);return Zt(t,rb(e)),t}function P8(e){let t=y.useContext(Tr);return Zt(t,rb(e)),t}function sb(e){let t=P8(e),n=t.matches[t.matches.length-1];return Zt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function _8(){return sb("useRouteId")}function D8(){var a;let e=y.useContext(ab),t=M8("useRouteError"),n=sb("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function R8(){let{router:e}=T8("useNavigate"),t=sb("useNavigate"),n=y.useRef(!1);return OO(()=>{n.current=!0}),y.useCallback(async(s,o={})=>{Or(n.current,EO),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var $S={};function MO(e,t,n){!t&&!$S[e]&&($S[e]=!0,Or(!1,n))}y.memo(L8);function L8({routes:e,future:t,state:n}){return TO(e,void 0,n,t)}function gm({to:e,replace:t,state:n,relative:a}){Zt(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=y.useContext(kr);Or(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=y.useContext(Tr),{pathname:c}=An(),u=es(),f=nb(e,tb(o),c,a==="path"),m=JSON.stringify(f);return y.useEffect(()=>{u(JSON.parse(m),{replace:t,state:n,relative:a})},[u,m,a,t,n]),null}function Rn(e){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I8({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:s,static:o=!1}){Zt(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=Xl(n));let{pathname:f="/",search:m="",hash:h="",state:g=null,key:x="default"}=n,b=y.useMemo(()=>{let j=Cs(f,c);return j==null?null:{location:{pathname:j,search:m,hash:h,state:g,key:x},navigationType:a}},[c,f,m,h,g,x,a]);return Or(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:y.createElement(kr.Provider,{value:u},y.createElement(od.Provider,{children:t,value:b}))}function z8({children:e,location:t}){return S8(ky(e),t)}function ky(e,t=[]){let n=[];return y.Children.forEach(e,(a,s)=>{if(!y.isValidElement(a))return;let o=[...t,s];if(a.type===y.Fragment){n.push.apply(n,ky(a.props.children,o));return}Zt(a.type===Rn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=ky(a.props.children,o)),n.push(c)}),n}var xm="get",ym="application/x-www-form-urlencoded";function bh(e){return e!=null&&typeof e.tagName=="string"}function $8(e){return bh(e)&&e.tagName.toLowerCase()==="button"}function B8(e){return bh(e)&&e.tagName.toLowerCase()==="form"}function U8(e){return bh(e)&&e.tagName.toLowerCase()==="input"}function q8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F8(e,t){return e.button===0&&(!t||t==="_self")&&!q8(e)}var qf=null;function V8(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var H8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ag(e){return e!=null&&!H8.has(e)?(Or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ym}"`),null):e}function G8(e,t){let n,a,s,o,c;if(B8(e)){let u=e.getAttribute("action");a=u?Cs(u,t):null,n=e.getAttribute("method")||xm,s=Ag(e.getAttribute("enctype"))||ym,o=new FormData(e)}else if($8(e)||U8(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(a=f?Cs(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||xm,s=Ag(e.getAttribute("formenctype"))||Ag(u.getAttribute("enctype"))||ym,o=new FormData(u,e),!V8()){let{name:m,type:h,value:g}=e;if(h==="image"){let x=m?`${m}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else m&&o.append(m,g)}}else{if(bh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xm,a=null,s=ym,c=e}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:o,body:c}}function ib(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function K8(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function W8(e,t,n){let a=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let c=await K8(o,n);return c.links?c.links():[]}return[]}));return J8(a.flat(1).filter(Y8).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function BS(e,t,n,a,s,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>{var h;return n[m].pathname!==f.pathname||((h=n[m].route.path)==null?void 0:h.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,m)=>c(f,m)||u(f,m)):o==="data"?t.filter((f,m)=>{var g;let h=a.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function X8(e,t,{includeHydrateFallback:n}={}){return Z8(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Z8(e){return[...new Set(e)]}function Q8(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function J8(e,t){let n=new Set;return new Set(t),e.reduce((a,s)=>{let o=JSON.stringify(Q8(s));return n.has(o)||(n.add(o),a.push({key:o,link:s})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eL=new Set([100,101,204,205]);function tL(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Cs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function PO(){let e=y.useContext(Zl);return ib(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nL(){let e=y.useContext(vh);return ib(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ob=y.createContext(void 0);ob.displayName="FrameworkContext";function _O(){let e=y.useContext(ob);return ib(e,"You must render this element inside a <HydratedRouter> element"),e}function aL(e,t){let n=y.useContext(ob),[a,s]=y.useState(!1),[o,c]=y.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:g}=t,x=y.useRef(null);y.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=A=>{A.forEach(C=>{c(C.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(a){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[a]);let b=()=>{s(!0)},j=()=>{s(!1),c(!1)};return n?e!=="intent"?[o,x,{}]:[o,x,{onFocus:gu(u,b),onBlur:gu(f,j),onMouseEnter:gu(m,b),onMouseLeave:gu(h,j),onTouchStart:gu(g,b)}]:[!1,x,{}]}function gu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rL({page:e,...t}){let{router:n}=PO(),a=y.useMemo(()=>wO(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?y.createElement(iL,{page:e,matches:a,...t}):null}function sL(e){let{manifest:t,routeModules:n}=_O(),[a,s]=y.useState([]);return y.useEffect(()=>{let o=!1;return W8(e,t,n).then(c=>{o||s(c)}),()=>{o=!0}},[e,t,n]),a}function iL({page:e,matches:t,...n}){let a=An(),{manifest:s,routeModules:o}=_O(),{basename:c}=PO(),{loaderData:u,matches:f}=nL(),m=y.useMemo(()=>BS(e,t,f,s,a,"data"),[e,t,f,s,a]),h=y.useMemo(()=>BS(e,t,f,s,a,"assets"),[e,t,f,s,a]),g=y.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,N=!1;if(t.forEach(A=>{var E;let C=s.routes[A.route.id];!C||!C.hasLoader||(!m.some(k=>k.route.id===A.route.id)&&A.route.id in u&&((E=o[A.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?N=!0:j.add(A.route.id))}),j.size===0)return[];let S=tL(e,c);return N&&j.size>0&&S.searchParams.set("_routes",t.filter(A=>j.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[c,u,a,s,m,t,e,o]),x=y.useMemo(()=>X8(h,s),[h,s]),b=sL(h);return y.createElement(y.Fragment,null,g.map(j=>y.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>y.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:N})=>y.createElement("link",{key:j,...N})))}function oL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var DO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DO&&(window.__reactRouterVersion="7.6.3")}catch{}function lL({basename:e,children:t,window:n}){let a=y.useRef();a.current==null&&(a.current=WR({window:n,v5Compat:!0}));let s=a.current,[o,c]=y.useState({action:s.action,location:s.location}),u=y.useCallback(f=>{y.startTransition(()=>c(f))},[c]);return y.useLayoutEffect(()=>s.listen(u),[s,u]),y.createElement(I8,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var RO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=y.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:h,viewTransition:g,...x},b){let{basename:j}=y.useContext(kr),N=typeof m=="string"&&RO.test(m),S,A=!1;if(typeof m=="string"&&N&&(S=m,DO))try{let z=new URL(window.location.href),V=m.startsWith("//")?new URL(z.protocol+m):new URL(m),B=Cs(V.pathname,j);V.origin===z.origin&&B!=null?m=B+V.search+V.hash:A=!0}catch{Or(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=w8(m,{relative:s}),[E,k,O]=aL(a,x),T=fL(m,{replace:c,state:u,target:f,preventScrollReset:h,relative:s,viewTransition:g});function P(z){t&&t(z),z.defaultPrevented||T(z)}let _=y.createElement("a",{...x,...O,href:S||C,onClick:A||o?t:P,ref:oL(b,k),target:f,"data-discover":!N&&n==="render"?"true":void 0});return E&&!N?y.createElement(y.Fragment,null,_,y.createElement(rL,{page:C})):_});Et.displayName="Link";var cL=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:u,children:f,...m},h){let g=ld(c,{relative:m.relative}),x=An(),b=y.useContext(vh),{navigator:j,basename:N}=y.useContext(kr),S=b!=null&&xL(g)&&u===!0,A=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,C=x.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,A=A.toLowerCase()),E&&N&&(E=Cs(E,N)||E);const k=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let O=C===A||!s&&C.startsWith(A)&&C.charAt(k)==="/",T=E!=null&&(E===A||!s&&E.startsWith(A)&&E.charAt(A.length)==="/"),P={isActive:O,isPending:T,isTransitioning:S},_=O?t:void 0,z;typeof a=="function"?z=a(P):z=[a,O?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(P):o;return y.createElement(Et,{...m,"aria-current":_,className:z,ref:h,style:V,to:c,viewTransition:u},typeof f=="function"?f(P):f)});cL.displayName="NavLink";var uL=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:s,state:o,method:c=xm,action:u,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:g,...x},b)=>{let j=pL(),N=gL(u,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&RO.test(u),C=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let k=E.nativeEvent.submitter,O=(k==null?void 0:k.getAttribute("formmethod"))||c;j(k||E.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:s,state:o,relative:m,preventScrollReset:h,viewTransition:g})};return y.createElement("form",{ref:b,method:S,action:N,onSubmit:a?f:C,...x,"data-discover":!A&&e==="render"?"true":void 0})});uL.displayName="Form";function dL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LO(e){let t=y.useContext(Zl);return Zt(t,dL(e)),t}function fL(e,{target:t,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:c}={}){let u=es(),f=An(),m=ld(e,{relative:o});return y.useCallback(h=>{if(F8(h,t)){h.preventDefault();let g=n!==void 0?n:Bu(f)===Bu(m);u(e,{replace:g,state:a,preventScrollReset:s,relative:o,viewTransition:c})}},[f,u,m,n,a,t,e,s,o,c])}var mL=0,hL=()=>`__${String(++mL)}__`;function pL(){let{router:e}=LO("useSubmit"),{basename:t}=y.useContext(kr),n=_8();return y.useCallback(async(a,s={})=>{let{action:o,method:c,encType:u,formData:f,body:m}=G8(a,t);if(s.navigate===!1){let h=s.fetcherKey||hL();await e.fetch(h,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function gL(e,{relative:t}={}){let{basename:n}=y.useContext(kr),a=y.useContext(Tr);Zt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...ld(e||".",{relative:t})},c=An();if(e==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();o.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ws([n,o.pathname])),Bu(o)}function xL(e,t={}){let n=y.useContext(AO);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=LO("useViewTransitionState"),s=ld(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Cs(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Cs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return km(s.pathname,c)!=null||km(s.pathname,o)!=null}[...eL];var Ty=jO();const lb=y.createContext({});function cb(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const ub=typeof window<"u",IO=ub?y.useLayoutEffect:y.useEffect,jh=y.createContext(null);function db(e,t){e.indexOf(t)===-1&&e.push(t)}function fb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const As=(e,t,n)=>n>t?t:n<e?e:n;let mb=()=>{};const Es={},zO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function $O(e){return typeof e=="object"&&e!==null}const BO=e=>/^0[^.\s]+$/u.test(e);function hb(e){let t;return()=>(t===void 0&&(t=e()),t)}const mr=e=>e,yL=(e,t)=>n=>t(e(n)),cd=(...e)=>e.reduce(yL),Uu=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class pb{constructor(){this.subscriptions=[]}add(t){return db(this.subscriptions,t),()=>fb(this.subscriptions,t)}notify(t,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,a);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hr=e=>e*1e3,Gr=e=>e/1e3;function UO(e,t){return t?e*(1e3/t):0}const qO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vL=1e-7,bL=12;function jL(e,t,n,a,s){let o,c,u=0;do c=t+(n-t)/2,o=qO(c,a,s)-e,o>0?n=c:t=c;while(Math.abs(o)>vL&&++u<bL);return c}function ud(e,t,n,a){if(e===t&&n===a)return mr;const s=o=>jL(o,0,1,e,n);return o=>o===0||o===1?o:qO(s(o),t,a)}const FO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,VO=e=>t=>1-e(1-t),HO=ud(.33,1.53,.69,.99),gb=VO(HO),GO=FO(gb),KO=e=>(e*=2)<1?.5*gb(e):.5*(2-Math.pow(2,-10*(e-1))),xb=e=>1-Math.sin(Math.acos(e)),YO=VO(xb),WO=FO(xb),wL=ud(.42,0,1,1),NL=ud(0,0,.58,1),XO=ud(.42,0,.58,1),SL=e=>Array.isArray(e)&&typeof e[0]!="number",ZO=e=>Array.isArray(e)&&typeof e[0]=="number",CL={linear:mr,easeIn:wL,easeInOut:XO,easeOut:NL,circIn:xb,circInOut:WO,circOut:YO,backIn:gb,backInOut:GO,backOut:HO,anticipate:KO},AL=e=>typeof e=="string",US=e=>{if(ZO(e)){mb(e.length===4);const[t,n,a,s]=e;return ud(t,n,a,s)}else if(AL(e))return CL[e];return e},Ff=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],qS={value:null};function EL(e,t){let n=new Set,a=new Set,s=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function m(g){c.has(g)&&(h.schedule(g),e()),f++,g(u)}const h={schedule:(g,x=!1,b=!1)=>{const N=b&&s?n:a;return x&&c.add(g),N.has(g)||N.add(g),g},cancel:g=>{a.delete(g),c.delete(g)},process:g=>{if(u=g,s){o=!0;return}s=!0,[n,a]=[a,n],n.forEach(m),t&&qS.value&&qS.value.frameloop[t].push(f),f=0,n.clear(),s=!1,o&&(o=!1,h.process(g))}};return h}const OL=40;function QO(e,t){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Ff.reduce((E,k)=>(E[k]=EL(o,t?k:void 0),E),{}),{setup:u,read:f,resolveKeyframes:m,preUpdate:h,update:g,preRender:x,render:b,postRender:j}=c,N=()=>{const E=Es.useManualTiming?s.timestamp:performance.now();n=!1,Es.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(E-s.timestamp,OL),1)),s.timestamp=E,s.isProcessing=!0,u.process(s),f.process(s),m.process(s),h.process(s),g.process(s),x.process(s),b.process(s),j.process(s),s.isProcessing=!1,n&&t&&(a=!1,e(N))},S=()=>{n=!0,a=!0,s.isProcessing||e(N)};return{schedule:Ff.reduce((E,k)=>{const O=c[k];return E[k]=(T,P=!1,_=!1)=>(n||S(),O.schedule(T,P,_)),E},{}),cancel:E=>{for(let k=0;k<Ff.length;k++)c[Ff[k]].cancel(E)},state:s,steps:c}}const{schedule:nn,cancel:xi,state:Gn,steps:Eg}=QO(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0);let vm;function kL(){vm=void 0}const wa={now:()=>(vm===void 0&&wa.set(Gn.isProcessing||Es.useManualTiming?Gn.timestamp:performance.now()),vm),set:e=>{vm=e,queueMicrotask(kL)}},JO=e=>t=>typeof t=="string"&&t.startsWith(e),yb=JO("--"),TL=JO("var(--"),vb=e=>TL(e)?ML.test(e.split("/*")[0].trim()):!1,ML=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qu={...Jl,transform:e=>As(0,1,e)},Vf={...Jl,default:1},Pu=e=>Math.round(e*1e5)/1e5,bb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PL(e){return e==null}const _L=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jb=(e,t)=>n=>!!(typeof n=="string"&&_L.test(n)&&n.startsWith(e)||t&&!PL(n)&&Object.prototype.hasOwnProperty.call(n,t)),e3=(e,t,n)=>a=>{if(typeof a!="string")return a;const[s,o,c,u]=a.match(bb);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},DL=e=>As(0,255,e),Og={...Jl,transform:e=>Math.round(DL(e))},ro={test:jb("rgb","red"),parse:e3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+Og.transform(e)+", "+Og.transform(t)+", "+Og.transform(n)+", "+Pu(qu.transform(a))+")"};function RL(e){let t="",n="",a="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const My={test:jb("#"),parse:RL,transform:ro.transform},dd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fi=dd("deg"),Kr=dd("%"),ft=dd("px"),LL=dd("vh"),IL=dd("vw"),FS={...Kr,parse:e=>Kr.parse(e)/100,transform:e=>Kr.transform(e*100)},Cl={test:jb("hsl","hue"),parse:e3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+Kr.transform(Pu(t))+", "+Kr.transform(Pu(n))+", "+Pu(qu.transform(a))+")"},ea={test:e=>ro.test(e)||My.test(e)||Cl.test(e),parse:e=>ro.test(e)?ro.parse(e):Cl.test(e)?Cl.parse(e):My.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ro.transform(e):Cl.transform(e)},zL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $L(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bb))==null?void 0:t.length)||0)+(((n=e.match(zL))==null?void 0:n.length)||0)>0}const t3="number",n3="color",BL="var",UL="var(",VS="${}",qL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},s=[];let o=0;const u=t.replace(qL,f=>(ea.test(f)?(a.color.push(o),s.push(n3),n.push(ea.parse(f))):f.startsWith(UL)?(a.var.push(o),s.push(BL),n.push(f)):(a.number.push(o),s.push(t3),n.push(parseFloat(f))),++o,VS)).split(VS);return{values:n,split:u,indexes:a,types:s}}function a3(e){return Fu(e).values}function r3(e){const{split:t,types:n}=Fu(e),a=t.length;return s=>{let o="";for(let c=0;c<a;c++)if(o+=t[c],s[c]!==void 0){const u=n[c];u===t3?o+=Pu(s[c]):u===n3?o+=ea.transform(s[c]):o+=s[c]}return o}}const FL=e=>typeof e=="number"?0:e;function VL(e){const t=a3(e);return r3(e)(t.map(FL))}const yi={test:$L,parse:a3,createTransformer:r3,getAnimatableNone:VL};function kg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function HL({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let s=0,o=0,c=0;if(!t)s=o=c=n;else{const u=n<.5?n*(1+t):n+t-n*t,f=2*n-u;s=kg(f,u,e+1/3),o=kg(f,u,e),c=kg(f,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:a}}function Tm(e,t){return n=>n>0?t:e}const tn=(e,t,n)=>e+(t-e)*n,Tg=(e,t,n)=>{const a=e*e,s=n*(t*t-a)+a;return s<0?0:Math.sqrt(s)},GL=[My,ro,Cl],KL=e=>GL.find(t=>t.test(e));function HS(e){const t=KL(e);if(!t)return!1;let n=t.parse(e);return t===Cl&&(n=HL(n)),n}const GS=(e,t)=>{const n=HS(e),a=HS(t);if(!n||!a)return Tm(e,t);const s={...n};return o=>(s.red=Tg(n.red,a.red,o),s.green=Tg(n.green,a.green,o),s.blue=Tg(n.blue,a.blue,o),s.alpha=tn(n.alpha,a.alpha,o),ro.transform(s))},Py=new Set(["none","hidden"]);function YL(e,t){return Py.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function WL(e,t){return n=>tn(e,t,n)}function wb(e){return typeof e=="number"?WL:typeof e=="string"?vb(e)?Tm:ea.test(e)?GS:QL:Array.isArray(e)?s3:typeof e=="object"?ea.test(e)?GS:XL:Tm}function s3(e,t){const n=[...e],a=n.length,s=e.map((o,c)=>wb(o)(o,t[c]));return o=>{for(let c=0;c<a;c++)n[c]=s[c](o);return n}}function XL(e,t){const n={...e,...t},a={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(a[s]=wb(e[s])(e[s],t[s]));return s=>{for(const o in a)n[o]=a[o](s);return n}}function ZL(e,t){const n=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],c=e.indexes[o][a[o]],u=e.values[c]??0;n[s]=u,a[o]++}return n}const QL=(e,t)=>{const n=yi.createTransformer(t),a=Fu(e),s=Fu(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?Py.has(e)&&!s.values.length||Py.has(t)&&!a.values.length?YL(e,t):cd(s3(ZL(a,s),s.values),n):Tm(e,t)};function i3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tn(e,t,n):wb(e)(e,t)}const JL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>nn.update(t,n),stop:()=>xi(t),now:()=>Gn.isProcessing?Gn.timestamp:wa.now()}},o3=(e,t,n=10)=>{let a="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)a+=e(o/(s-1))+", ";return`linear(${a.substring(0,a.length-2)})`},Mm=2e4;function Nb(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<Mm;)t+=n,a=e.next(t);return t>=Mm?1/0:t}function eI(e,t=100,n){const a=n({...e,keyframes:[0,t]}),s=Math.min(Nb(a),Mm);return{type:"keyframes",ease:o=>a.next(s*o).value/t,duration:Gr(s)}}const tI=5;function l3(e,t,n){const a=Math.max(t-tI,0);return UO(n-e(a),t-a)}const cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mg=.001;function nI({duration:e=cn.duration,bounce:t=cn.bounce,velocity:n=cn.velocity,mass:a=cn.mass}){let s,o,c=1-t;c=As(cn.minDamping,cn.maxDamping,c),e=As(cn.minDuration,cn.maxDuration,Gr(e)),c<1?(s=m=>{const h=m*c,g=h*e,x=h-n,b=_y(m,c),j=Math.exp(-g);return Mg-x/b*j},o=m=>{const g=m*c*e,x=g*n+n,b=Math.pow(c,2)*Math.pow(m,2)*e,j=Math.exp(-g),N=_y(Math.pow(m,2),c);return(-s(m)+Mg>0?-1:1)*((x-b)*j)/N}):(s=m=>{const h=Math.exp(-m*e),g=(m-n)*e+1;return-Mg+h*g},o=m=>{const h=Math.exp(-m*e),g=(n-m)*(e*e);return h*g});const u=5/e,f=rI(s,o,u);if(e=Hr(e),isNaN(f))return{stiffness:cn.stiffness,damping:cn.damping,duration:e};{const m=Math.pow(f,2)*a;return{stiffness:m,damping:c*2*Math.sqrt(a*m),duration:e}}}const aI=12;function rI(e,t,n){let a=n;for(let s=1;s<aI;s++)a=a-e(a)/t(a);return a}function _y(e,t){return e*Math.sqrt(1-t*t)}const sI=["duration","bounce"],iI=["stiffness","damping","mass"];function KS(e,t){return t.some(n=>e[n]!==void 0)}function oI(e){let t={velocity:cn.velocity,stiffness:cn.stiffness,damping:cn.damping,mass:cn.mass,isResolvedFromDuration:!1,...e};if(!KS(e,iI)&&KS(e,sI))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,o=2*As(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:cn.mass,stiffness:s,damping:o}}else{const n=nI(e);t={...t,...n,mass:cn.mass},t.isResolvedFromDuration=!0}return t}function Pm(e=cn.visualDuration,t=cn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:m,mass:h,duration:g,velocity:x,isResolvedFromDuration:b}=oI({...n,velocity:-Gr(n.velocity||0)}),j=x||0,N=m/(2*Math.sqrt(f*h)),S=c-o,A=Gr(Math.sqrt(f/h)),C=Math.abs(S)<5;a||(a=C?cn.restSpeed.granular:cn.restSpeed.default),s||(s=C?cn.restDelta.granular:cn.restDelta.default);let E;if(N<1){const O=_y(A,N);E=T=>{const P=Math.exp(-N*A*T);return c-P*((j+N*A*S)/O*Math.sin(O*T)+S*Math.cos(O*T))}}else if(N===1)E=O=>c-Math.exp(-A*O)*(S+(j+A*S)*O);else{const O=A*Math.sqrt(N*N-1);E=T=>{const P=Math.exp(-N*A*T),_=Math.min(O*T,300);return c-P*((j+N*A*S)*Math.sinh(_)+O*S*Math.cosh(_))/O}}const k={calculatedDuration:b&&g||null,next:O=>{const T=E(O);if(b)u.done=O>=g;else{let P=O===0?j:0;N<1&&(P=O===0?Hr(j):l3(E,O,T));const _=Math.abs(P)<=a,z=Math.abs(c-T)<=s;u.done=_&&z}return u.value=u.done?c:T,u},toString:()=>{const O=Math.min(Nb(k),Mm),T=o3(P=>k.next(O*P).value,O,30);return O+"ms "+T},toTransition:()=>{}};return k}Pm.applyToOptions=e=>{const t=eI(e,100,Pm);return e.ease=t.ease,e.duration=Hr(t.duration),e.type="keyframes",e};function Dy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:f,restDelta:m=.5,restSpeed:h}){const g=e[0],x={done:!1,value:g},b=_=>u!==void 0&&_<u||f!==void 0&&_>f,j=_=>u===void 0?f:f===void 0||Math.abs(u-_)<Math.abs(f-_)?u:f;let N=n*t;const S=g+N,A=c===void 0?S:c(S);A!==S&&(N=A-g);const C=_=>-N*Math.exp(-_/a),E=_=>A+C(_),k=_=>{const z=C(_),V=E(_);x.done=Math.abs(z)<=m,x.value=x.done?A:V};let O,T;const P=_=>{b(x.value)&&(O=_,T=Pm({keyframes:[x.value,j(x.value)],velocity:l3(E,_,x.value),damping:s,stiffness:o,restDelta:m,restSpeed:h}))};return P(0),{calculatedDuration:null,next:_=>{let z=!1;return!T&&O===void 0&&(z=!0,k(_),P(_)),O!==void 0&&_>=O?T.next(_-O):(!z&&k(_),x)}}}function lI(e,t,n){const a=[],s=n||Es.mix||i3,o=e.length-1;for(let c=0;c<o;c++){let u=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||mr:t;u=cd(f,u)}a.push(u)}return a}function cI(e,t,{clamp:n=!0,ease:a,mixer:s}={}){const o=e.length;if(mb(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=lI(t,a,s),f=u.length,m=h=>{if(c&&h<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(h<e[g+1]);g++);const x=Uu(e[g],e[g+1],h);return u[g](x)};return n?h=>m(As(e[0],e[o-1],h)):m}function uI(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const s=Uu(0,t,a);e.push(tn(n,1,s))}}function dI(e){const t=[0];return uI(t,e.length-1),t}function fI(e,t){return e.map(n=>n*t)}function mI(e,t){return e.map(()=>t||XO).splice(0,e.length-1)}function _u({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const s=SL(a)?a.map(US):US(a),o={done:!1,value:t[0]},c=fI(n&&n.length===t.length?n:dI(t),e),u=cI(c,t,{ease:Array.isArray(s)?s:mI(t,s)});return{calculatedDuration:e,next:f=>(o.value=u(f),o.done=f>=e,o)}}const hI=e=>e!==null;function Sb(e,{repeat:t,repeatType:n="loop"},a,s=1){const o=e.filter(hI),u=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||a===void 0?o[u]:a}const pI={decay:Dy,inertia:Dy,tween:_u,keyframes:_u,spring:Pm};function c3(e){typeof e.type=="string"&&(e.type=pI[e.type])}class Cb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const gI=e=>e/100;class Ab extends Cb{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:n}=this.options;n&&n.updatedAt!==wa.now()&&this.tick(wa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;c3(t);const{type:n=_u,repeat:a=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=t;let{keyframes:u}=t;const f=n||_u;f!==_u&&typeof u[0]!="number"&&(this.mixKeyframes=cd(gI,i3(u[0],u[1])),u=[0,100]);const m=f({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Nb(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:h,repeat:g,repeatType:x,repeatDelay:b,type:j,onUpdate:N,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const A=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>s;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,k=a;if(g){const _=Math.min(this.currentTime,s)/u;let z=Math.floor(_),V=_%1;!V&&_>=1&&(V=1),V===1&&z--,z=Math.min(z,g+1),!!(z%2)&&(x==="reverse"?(V=1-V,b&&(V-=b/u)):x==="mirror"&&(k=c)),E=As(0,1,V)*u}const O=C?{done:!1,value:h[0]}:k.next(E);o&&(O.value=o(O.value));let{done:T}=O;!C&&f!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return P&&j!==Dy&&(O.value=Sb(h,this.options,S,this.speed)),N&&N(O.value),P&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return Gr(this.calculatedDuration)}get time(){return Gr(this.currentTime)}set time(t){var n;t=Hr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wa.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gr(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:t=JL,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(o=(s=this.options).onPlay)==null||o.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function xI(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const so=e=>e*180/Math.PI,Ry=e=>{const t=so(Math.atan2(e[1],e[0]));return Ly(t)},yI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ry,rotateZ:Ry,skewX:e=>so(Math.atan(e[1])),skewY:e=>so(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ly=e=>(e=e%360,e<0&&(e+=360),e),YS=Ry,WS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),XS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WS,scaleY:XS,scale:e=>(WS(e)+XS(e))/2,rotateX:e=>Ly(so(Math.atan2(e[6],e[5]))),rotateY:e=>Ly(so(Math.atan2(-e[2],e[0]))),rotateZ:YS,rotate:YS,skewX:e=>so(Math.atan(e[4])),skewY:e=>so(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Iy(e){return e.includes("scale")?1:0}function zy(e,t){if(!e||e==="none")return Iy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(n)a=vI,s=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=yI,s=u}if(!s)return Iy(t);const o=a[t],c=s[1].split(",").map(jI);return typeof o=="function"?o(c):c[o]}const bI=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return zy(n,t)};function jI(e){return parseFloat(e.trim())}const ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tc=new Set(ec),ZS=e=>e===Jl||e===ft,wI=new Set(["x","y","z"]),NI=ec.filter(e=>!wI.has(e));function SI(e){const t=[];return NI.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const mo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>zy(t,"x"),y:(e,{transform:t})=>zy(t,"y")};mo.translateX=mo.x;mo.translateY=mo.y;const ho=new Set;let $y=!1,By=!1,Uy=!1;function u3(){if(By){const e=Array.from(ho).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const s=SI(a);s.length&&(n.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([o,c])=>{var u;(u=a.getValue(o))==null||u.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}By=!1,$y=!1,ho.forEach(e=>e.complete(Uy)),ho.clear()}function d3(){ho.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(By=!0)})}function CI(){Uy=!0,d3(),u3(),Uy=!1}class Eb{constructor(t,n,a,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ho.add(this),$y||($y=!0,nn.read(d3),nn.resolveKeyframes(u3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:s}=this;if(t[0]===null){const o=s==null?void 0:s.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(a&&n){const u=a.readValue(n,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),s&&o===void 0&&s.set(t[0])}xI(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ho.delete(this)}cancel(){this.state==="scheduled"&&(ho.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AI=e=>e.startsWith("--");function EI(e,t,n){AI(t)?e.style.setProperty(t,n):e.style[t]=n}const OI=hb(()=>window.ScrollTimeline!==void 0),kI={};function TI(e,t){const n=hb(e);return()=>kI[t]??n()}const f3=TI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ku=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,QS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ku([0,.65,.55,1]),circOut:ku([.55,0,1,.45]),backIn:ku([.31,.01,.66,-.59]),backOut:ku([.33,1.53,.69,.99])};function m3(e,t){if(e)return typeof e=="function"?f3()?o3(e,t):"ease-out":ZO(e)?ku(e):Array.isArray(e)?e.map(n=>m3(n,t)||QS.easeOut):QS[e]}function MI(e,t,n,{delay:a=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:f}={},m=void 0){const h={[t]:n};f&&(h.offset=f);const g=m3(u,s);Array.isArray(g)&&(h.easing=g);const x={delay:a,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),e.animate(h,x)}function h3(e){return typeof e=="function"&&"applyToOptions"in e}function PI({type:e,...t}){return h3(e)&&f3()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _I extends Cb{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=t,mb(typeof t.type!="string");const m=PI(t);this.animation=MI(n,a,s,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=Sb(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):EI(n,a,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return Gr(Number(t))}get time(){return Gr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&OI()?(this.animation.timeline=t,mr):n(this)}}const p3={anticipate:KO,backInOut:GO,circInOut:WO};function DI(e){return e in p3}function RI(e){typeof e.ease=="string"&&DI(e.ease)&&(e.ease=p3[e.ease])}const JS=10;class LI extends _I{constructor(t){RI(t),c3(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:s,element:o,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new Ab({...c,autoplay:!1}),f=Hr(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-JS).value,u.sample(f).value,JS),u.stop()}}const eC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yi.test(e)||e==="0")&&!e.startsWith("url("));function II(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function zI(e,t,n,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],c=eC(s,t),u=eC(o,t);return!c||!u?!1:II(e)||(n==="spring"||h3(n))&&a}function Ob(e){return $O(e)&&"offsetHeight"in e}const $I=new Set(["opacity","clipPath","filter","transform"]),BI=hb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UI(e){var m;const{motionValue:t,name:n,repeatDelay:a,repeatType:s,damping:o,type:c}=e;if(!Ob((m=t==null?void 0:t.owner)==null?void 0:m.current))return!1;const{onUpdate:u,transformTemplate:f}=t.owner.getProps();return BI()&&n&&$I.has(n)&&(n!=="transform"||!f)&&!u&&!a&&s!=="mirror"&&o!==0&&c!=="inertia"}const qI=40;class FI extends Cb{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:f,motionValue:m,element:h,...g}){var j;super(),this.stop=()=>{var N,S;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=wa.now();const x={autoplay:t,delay:n,type:a,repeat:s,repeatDelay:o,repeatType:c,name:f,motionValue:m,element:h,...g},b=(h==null?void 0:h.KeyframeResolver)||Eb;this.keyframeResolver=new b(u,(N,S,A)=>this.onKeyframesResolved(N,S,x,!A),f,m,h),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,n,a,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:f,isHandoff:m,onUpdate:h}=a;this.resolvedAt=wa.now(),zI(t,o,c,u)||((Es.instantAnimations||!f)&&(h==null||h(Sb(t,a,n))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>qI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},b=!m&&UI(x)?new LI({...x,element:x.motionValue.owner.current}):new Ab(x);b.finished.then(()=>this.notifyFinished()).catch(mr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),CI()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const VI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function HI(e){const t=VI.exec(e);if(!t)return[,];const[,n,a,s]=t;return[`--${n??a}`,s]}function g3(e,t,n=1){const[a,s]=HI(e);if(!a)return;const o=window.getComputedStyle(t).getPropertyValue(a);if(o){const c=o.trim();return zO(c)?parseFloat(c):c}return vb(s)?g3(s,t,n+1):s}function kb(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const x3=new Set(["width","height","top","left","right","bottom",...ec]),GI={test:e=>e==="auto",parse:e=>e},y3=e=>t=>t.test(e),v3=[Jl,ft,Kr,fi,IL,LL,GI],tC=e=>v3.find(y3(e));function KI(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||BO(e):!0}const YI=new Set(["brightness","contrast","saturate","opacity"]);function WI(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(bb)||[];if(!a)return e;const s=n.replace(a,"");let o=YI.has(t)?1:0;return a!==n&&(o*=100),t+"("+o+s+")"}const XI=/\b([a-z-]*)\(.*?\)/gu,qy={...yi,getAnimatableNone:e=>{const t=e.match(XI);return t?t.map(WI).join(" "):e}},nC={...Jl,transform:Math.round},ZI={rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:Vf,scaleX:Vf,scaleY:Vf,scaleZ:Vf,skew:fi,skewX:fi,skewY:fi,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:qu,originX:FS,originY:FS,originZ:ft},Tb={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,backgroundPositionX:ft,backgroundPositionY:ft,...ZI,zIndex:nC,fillOpacity:qu,strokeOpacity:qu,numOctaves:nC},QI={...Tb,color:ea,backgroundColor:ea,outlineColor:ea,fill:ea,stroke:ea,borderColor:ea,borderTopColor:ea,borderRightColor:ea,borderBottomColor:ea,borderLeftColor:ea,filter:qy,WebkitFilter:qy},b3=e=>QI[e];function j3(e,t){let n=b3(e);return n!==qy&&(n=yi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const JI=new Set(["auto","none","0"]);function e7(e,t,n){let a=0,s;for(;a<e.length&&!s;){const o=e[a];typeof o=="string"&&!JI.has(o)&&Fu(o).values.length&&(s=e[a]),a++}if(s&&n)for(const o of t)e[o]=j3(n,s)}class t7 extends Eb{constructor(t,n,a,s,o){super(t,n,a,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),vb(m))){const h=g3(m,n.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!x3.has(a)||t.length!==2)return;const[s,o]=t,c=tC(s),u=tC(o);if(c!==u)if(ZS(c)&&ZS(u))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else mo[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||KI(t[s]))&&a.push(s);a.length&&e7(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=a.length-1,c=a[o];a[o]=mo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function n7(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const s=(n==null?void 0:n[e])??a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const w3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,aC=30,a7=e=>!isNaN(parseFloat(e));class r7{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,s=!0)=>{var c,u;const o=wa.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();s&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=wa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=a7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new pb);const a=this.events[t].add(n);return t==="change"?()=>{a(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=wa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>aC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,aC);return UO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rl(e,t){return new r7(e,t)}const{schedule:Mb}=QO(queueMicrotask,!1),Cr={x:!1,y:!1};function N3(){return Cr.x||Cr.y}function s7(e){return e==="x"||e==="y"?Cr[e]?null:(Cr[e]=!0,()=>{Cr[e]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}function S3(e,t){const n=n7(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[n,s,()=>a.abort()]}function rC(e){return!(e.pointerType==="touch"||N3())}function i7(e,t,n={}){const[a,s,o]=S3(e,n),c=u=>{if(!rC(u))return;const{target:f}=u,m=t(f,u);if(typeof m!="function"||!f)return;const h=g=>{rC(g)&&(m(g),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,s)};return a.forEach(u=>{u.addEventListener("pointerenter",c,s)}),o}const C3=(e,t)=>t?e===t?!0:C3(e,t.parentElement):!1,Pb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,o7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function l7(e){return o7.has(e.tagName)||e.tabIndex!==-1}const bm=new WeakSet;function sC(e){return t=>{t.key==="Enter"&&e(t)}}function Pg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const c7=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=sC(()=>{if(bm.has(n))return;Pg(n,"down");const s=sC(()=>{Pg(n,"up")}),o=()=>Pg(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function iC(e){return Pb(e)&&!N3()}function u7(e,t,n={}){const[a,s,o]=S3(e,n),c=u=>{const f=u.currentTarget;if(!iC(u))return;bm.add(f);const m=t(f,u),h=(b,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),bm.has(f)&&bm.delete(f),iC(b)&&typeof m=="function"&&m(b,{success:j})},g=b=>{h(b,f===window||f===document||n.useGlobalTarget||C3(f,b.target))},x=b=>{h(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",x,s)};return a.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,s),Ob(u)&&(u.addEventListener("focus",m=>c7(m,s)),!l7(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function A3(e){return $O(e)&&"ownerSVGElement"in e}function d7(e){return A3(e)&&e.tagName==="svg"}const sa=e=>!!(e&&e.getVelocity),f7=[...v3,ea,yi],m7=e=>f7.find(y3(e)),_b=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class h7 extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=n.offsetParent,s=Ob(a)&&a.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p7({children:e,isPresent:t,anchorX:n}){const a=y.useId(),s=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=y.useContext(_b);return y.useInsertionEffect(()=>{const{width:u,height:f,top:m,left:h,right:g}=o.current;if(t||!s.current||!u||!f)return;const x=n==="left"?`left: ${h}`:`right: ${g}`;s.current.dataset.motionPopId=a;const b=document.createElement("style");return c&&(b.nonce=c),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[t]),r.jsx(h7,{isPresent:t,childRef:s,sizeRef:o,children:y.cloneElement(e,{ref:s})})}const g7=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:o,mode:c,anchorX:u})=>{const f=cb(x7),m=y.useId();let h=!0,g=y.useMemo(()=>(h=!1,{id:m,initial:t,isPresent:n,custom:s,onExitComplete:x=>{f.set(x,!0);for(const b of f.values())if(!b)return;a&&a()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,a]);return o&&h&&(g={...g}),y.useMemo(()=>{f.forEach((x,b)=>f.set(b,!1))},[n]),y.useEffect(()=>{!n&&!f.size&&a&&a()},[n]),c==="popLayout"&&(e=r.jsx(p7,{isPresent:n,anchorX:u,children:e})),r.jsx(jh.Provider,{value:g,children:e})};function x7(){return new Map}function E3(e=!0){const t=y.useContext(jh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=t,o=y.useId();y.useEffect(()=>{if(e)return s(o)},[e]);const c=y.useCallback(()=>e&&a&&a(o),[o,a,e]);return!n&&a?[!1,c]:[!0]}const Hf=e=>e.key||"";function oC(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const Vu=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:o="sync",propagate:c=!1,anchorX:u="left"})=>{const[f,m]=E3(c),h=y.useMemo(()=>oC(e),[e]),g=c&&!f?[]:h.map(Hf),x=y.useRef(!0),b=y.useRef(h),j=cb(()=>new Map),[N,S]=y.useState(h),[A,C]=y.useState(h);IO(()=>{x.current=!1,b.current=h;for(let O=0;O<A.length;O++){const T=Hf(A[O]);g.includes(T)?j.delete(T):j.get(T)!==!0&&j.set(T,!1)}},[A,g.length,g.join("-")]);const E=[];if(h!==N){let O=[...h];for(let T=0;T<A.length;T++){const P=A[T],_=Hf(P);g.includes(_)||(O.splice(T,0,P),E.push(P))}return o==="wait"&&E.length&&(O=E),C(oC(O)),S(h),null}const{forceRender:k}=y.useContext(lb);return r.jsx(r.Fragment,{children:A.map(O=>{const T=Hf(O),P=c&&!f?!1:h===A||g.includes(T),_=()=>{if(j.has(T))j.set(T,!0);else return;let z=!0;j.forEach(V=>{V||(z=!1)}),z&&(k==null||k(),C(b.current),c&&(m==null||m()),a&&a())};return r.jsx(g7,{isPresent:P,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,onExitComplete:P?void 0:_,anchorX:u,children:O},T)})})},O3=y.createContext({strict:!1}),lC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const e in lC)Ll[e]={isEnabled:t=>lC[e].some(n=>!!t[n])};function y7(e){for(const t in e)Ll[t]={...Ll[t],...e[t]}}const v7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _m(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||v7.has(e)}let k3=e=>!_m(e);function b7(e){e&&(k3=t=>t.startsWith("on")?!_m(t):e(t))}try{b7(require("@emotion/is-prop-valid").default)}catch{}function j7(e,t,n){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(k3(s)||n===!0&&_m(s)||!t&&!_m(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}function w7(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...a)=>e(...a);return new Proxy(n,{get:(a,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const wh=y.createContext({});function Nh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Hu(e){return typeof e=="string"||Array.isArray(e)}const Db=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rb=["initial",...Db];function Sh(e){return Nh(e.animate)||Rb.some(t=>Hu(e[t]))}function T3(e){return!!(Sh(e)||e.variants)}function N7(e,t){if(Sh(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Hu(n)?n:void 0,animate:Hu(a)?a:void 0}}return e.inherit!==!1?t:{}}function S7(e){const{initial:t,animate:n}=N7(e,y.useContext(wh));return y.useMemo(()=>({initial:t,animate:n}),[cC(t),cC(n)])}function cC(e){return Array.isArray(e)?e.join(" "):e}const C7=Symbol.for("motionComponentSymbol");function Al(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function A7(e,t,n){return y.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):Al(n)&&(n.current=a))},[t])}const Lb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),E7="framerAppearId",M3="data-"+Lb(E7),P3=y.createContext({});function O7(e,t,n,a,s){var N,S;const{visualElement:o}=y.useContext(wh),c=y.useContext(O3),u=y.useContext(jh),f=y.useContext(_b).reducedMotion,m=y.useRef(null);a=a||c.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,g=y.useContext(P3);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&k7(m.current,n,s,g);const x=y.useRef(!1);y.useInsertionEffect(()=>{h&&x.current&&h.update(n,u)});const b=n[M3],j=y.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return IO(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Mb.render(h.render),j.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!j.current&&h.animationState&&h.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,b)}),j.current=!1))}),h}function k7(e,t,n,a){const{layoutId:s,layout:o,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_3(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||u&&Al(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:f,layoutRoot:m})}function _3(e){if(e)return e.options.allowProjection!==!1?e.projection:_3(e.parent)}function T7({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:a,Component:s}){e&&y7(e);function o(u,f){let m;const h={...y.useContext(_b),...u,layoutId:M7(u)},{isStatic:g}=h,x=S7(u),b=a(u,g);if(!g&&ub){P7();const j=_7(h);m=j.MeasureLayout,x.visualElement=O7(s,b,h,t,j.ProjectionNode)}return r.jsxs(wh.Provider,{value:x,children:[m&&x.visualElement?r.jsx(m,{visualElement:x.visualElement,...h}):null,n(s,u,A7(b,x.visualElement,f),b,g,x.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const c=y.forwardRef(o);return c[C7]=s,c}function M7({layoutId:e}){const t=y.useContext(lb).id;return t&&e!==void 0?t+"-"+e:e}function P7(e,t){y.useContext(O3).strict}function _7(e){const{drag:t,layout:n}=Ll;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Gu={};function D7(e){for(const t in e)Gu[t]=e[t],yb(t)&&(Gu[t].isCSSVariable=!0)}function D3(e,{layout:t,layoutId:n}){return tc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gu[e]||e==="opacity")}const R7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L7=ec.length;function I7(e,t,n){let a="",s=!0;for(let o=0;o<L7;o++){const c=ec[o],u=e[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const m=w3(u,Tb[c]);if(!f){s=!1;const h=R7[c]||c;a+=`${h}(${m}) `}n&&(t[c]=m)}}return a=a.trim(),n?a=n(t,s?"":a):s&&(a="none"),a}function Ib(e,t,n){const{style:a,vars:s,transformOrigin:o}=e;let c=!1,u=!1;for(const f in t){const m=t[f];if(tc.has(f)){c=!0;continue}else if(yb(f)){s[f]=m;continue}else{const h=w3(m,Tb[f]);f.startsWith("origin")?(u=!0,o[f]=h):a[f]=h}}if(t.transform||(c||n?a.transform=I7(t,e.transform,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:h=0}=o;a.transformOrigin=`${f} ${m} ${h}`}}const zb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R3(e,t,n){for(const a in t)!sa(t[a])&&!D3(a,n)&&(e[a]=t[a])}function z7({transformTemplate:e},t){return y.useMemo(()=>{const n=zb();return Ib(n,t,e),Object.assign({},n.vars,n.style)},[t])}function $7(e,t){const n=e.style||{},a={};return R3(a,n,e),Object.assign(a,z7(e,t)),a}function B7(e,t){const n={},a=$7(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const U7={offset:"stroke-dashoffset",array:"stroke-dasharray"},q7={offset:"strokeDashoffset",array:"strokeDasharray"};function F7(e,t,n=1,a=0,s=!0){e.pathLength=1;const o=s?U7:q7;e[o.offset]=ft.transform(-a);const c=ft.transform(t),u=ft.transform(n);e[o.array]=`${c} ${u}`}function L3(e,{attrX:t,attrY:n,attrScale:a,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},f,m,h){if(Ib(e,u,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x}=e;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),a!==void 0&&(g.scale=a),s!==void 0&&F7(g,s,o,c,!1)}const I3=()=>({...zb(),attrs:{}}),z3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function V7(e,t,n,a){const s=y.useMemo(()=>{const o=I3();return L3(o,t,z3(a),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};R3(o,e.style,e),s.style={...o,...s.style}}return s}const H7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $b(e){return typeof e!="string"||e.includes("-")?!1:!!(H7.indexOf(e)>-1||/[A-Z]/u.test(e))}function G7(e=!1){return(n,a,s,{latestValues:o},c)=>{const f=($b(n)?V7:B7)(a,o,c,n),m=j7(a,typeof n=="string",e),h=n!==y.Fragment?{...m,...f,ref:s}:{},{children:g}=a,x=y.useMemo(()=>sa(g)?g.get():g,[g]);return y.createElement(n,{...h,children:x})}}function uC(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function Bb(e,t,n,a){if(typeof t=="function"){const[s,o]=uC(a);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=uC(a);t=t(n!==void 0?n:e.custom,s,o)}return t}function jm(e){return sa(e)?e.get():e}function K7({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,s){return{latestValues:Y7(n,a,s,e),renderState:t()}}const $3=e=>(t,n)=>{const a=y.useContext(wh),s=y.useContext(jh),o=()=>K7(e,t,a,s);return n?o():cb(o)};function Y7(e,t,n,a){const s={},o=a(e,{});for(const x in o)s[x]=jm(o[x]);let{initial:c,animate:u}=e;const f=Sh(e),m=T3(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let h=n?n.initial===!1:!1;h=h||c===!1;const g=h?u:c;if(g&&typeof g!="boolean"&&!Nh(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const j=Bb(e,x[b]);if(j){const{transitionEnd:N,transition:S,...A}=j;for(const C in A){let E=A[C];if(Array.isArray(E)){const k=h?E.length-1:0;E=E[k]}E!==null&&(s[C]=E)}for(const C in N)s[C]=N[C]}}}return s}function Ub(e,t,n){var o;const{style:a}=e,s={};for(const c in a)(sa(a[c])||t.style&&sa(t.style[c])||D3(c,e)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(s[c]=a[c]);return s}const W7={useVisualState:$3({scrapeMotionValuesFromProps:Ub,createRenderState:zb})};function B3(e,t,n){const a=Ub(e,t,n);for(const s in e)if(sa(e[s])||sa(t[s])){const o=ec.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[o]=e[s]}return a}const X7={useVisualState:$3({scrapeMotionValuesFromProps:B3,createRenderState:I3})};function Z7(e,t){return function(a,{forwardMotionProps:s}={forwardMotionProps:!1}){const c={...$b(a)?X7:W7,preloadedFeatures:e,useRender:G7(s),createVisualElement:t,Component:a};return T7(c)}}function Ku(e,t,n){const a=e.getProps();return Bb(a,t,n!==void 0?n:a.custom,e)}const Fy=e=>Array.isArray(e);function Q7(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Rl(n))}function J7(e){return Fy(e)?e[e.length-1]||0:e}function ez(e,t){const n=Ku(e,t);let{transitionEnd:a={},transition:s={},...o}=n||{};o={...o,...a};for(const c in o){const u=J7(o[c]);Q7(e,c,u)}}function tz(e){return!!(sa(e)&&e.add)}function Vy(e,t){const n=e.getValue("willChange");if(tz(n))return n.add(t);if(!n&&Es.WillChange){const a=new Es.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function U3(e){return e.props[M3]}const nz=e=>e!==null;function az(e,{repeat:t,repeatType:n="loop"},a){const s=e.filter(nz),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}const rz={type:"spring",stiffness:500,damping:25,restSpeed:10},sz=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iz={type:"keyframes",duration:.8},oz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lz=(e,{keyframes:t})=>t.length>2?iz:tc.has(e)?e.startsWith("scale")?sz(t[1]):rz:oz;function cz({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:u,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const qb=(e,t,n,a={},s,o)=>c=>{const u=kb(a,e)||{},f=u.delay||a.delay||0;let{elapsed:m=0}=a;m=m-Hr(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-m,onUpdate:x=>{t.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:s};cz(u)||Object.assign(h,lz(e,h)),h.duration&&(h.duration=Hr(h.duration)),h.repeatDelay&&(h.repeatDelay=Hr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),(Es.instantAnimations||Es.skipAnimations)&&(g=!0,h.duration=0,h.delay=0),h.allowFlatten=!u.type&&!u.ease,g&&!o&&t.get()!==void 0){const x=az(h.keyframes,u);if(x!==void 0){nn.update(()=>{h.onUpdate(x),h.onComplete()});return}}return u.isSync?new Ab(h):new FI(h)};function uz({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function q3(e,t,{delay:n=0,transitionOverride:a,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:c,...u}=t;a&&(o=a);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in u){const g=e.getValue(h,e.latestValues[h]??null),x=u[h];if(x===void 0||m&&uz(m,h))continue;const b={delay:n,...kb(o||{},h)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===j&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const A=U3(e);if(A){const C=window.MotionHandoffAnimation(A,h,nn);C!==null&&(b.startTime=C,N=!0)}}Vy(e,h),g.start(qb(h,g,x,e.shouldReduceMotion&&x3.has(h)?{type:!1}:b,e,N));const S=g.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{nn.update(()=>{c&&ez(e,c)})}),f}function Hy(e,t,n={}){var f;const a=Ku(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const o=a?()=>Promise.all(q3(e,a,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:x}=s;return dz(e,t,h+m,g,x,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[m,h]=u==="beforeChildren"?[o,c]:[c,o];return m().then(()=>h())}else return Promise.all([o(),c(n.delay)])}function dz(e,t,n=0,a=0,s=1,o){const c=[],u=(e.variantChildren.size-1)*a,f=s===1?(m=0)=>m*a:(m=0)=>u-m*a;return Array.from(e.variantChildren).sort(fz).forEach((m,h)=>{m.notify("AnimationStart",t),c.push(Hy(m,t,{...o,delay:n+f(h)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(c)}function fz(e,t){return e.sortNodePosition(t)}function mz(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(o=>Hy(e,o,n));a=Promise.all(s)}else if(typeof t=="string")a=Hy(e,t,n);else{const s=typeof t=="function"?Ku(e,t,n.custom):t;a=Promise.all(q3(e,s,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function F3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const hz=Rb.length;function V3(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?V3(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<hz;n++){const a=Rb[n],s=e.props[a];(Hu(s)||s===!1)&&(t[a]=s)}return t}const pz=[...Db].reverse(),gz=Db.length;function xz(e){return t=>Promise.all(t.map(({animation:n,options:a})=>mz(e,n,a)))}function yz(e){let t=xz(e),n=dC(),a=!0;const s=f=>(m,h)=>{var x;const g=Ku(e,h,f==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:b,transitionEnd:j,...N}=g;m={...m,...N,...j}}return m};function o(f){t=f(e)}function c(f){const{props:m}=e,h=V3(e.parent)||{},g=[],x=new Set;let b={},j=1/0;for(let S=0;S<gz;S++){const A=pz[S],C=n[A],E=m[A]!==void 0?m[A]:h[A],k=Hu(E),O=A===f?C.isActive:null;O===!1&&(j=S);let T=E===h[A]&&E!==m[A]&&k;if(T&&a&&e.manuallyAnimateOnMount&&(T=!1),C.protectedKeys={...b},!C.isActive&&O===null||!E&&!C.prevProp||Nh(E)||typeof E=="boolean")continue;const P=vz(C.prevProp,E);let _=P||A===f&&C.isActive&&!T&&k||S>j&&k,z=!1;const V=Array.isArray(E)?E:[E];let B=V.reduce(s(A),{});O===!1&&(B={});const{prevResolvedValues:W={}}=C,oe={...W,...B},K=X=>{_=!0,x.has(X)&&(z=!0,x.delete(X)),C.needsAnimating[X]=!0;const Z=e.getValue(X);Z&&(Z.liveStyle=!1)};for(const X in oe){const Z=B[X],H=W[X];if(b.hasOwnProperty(X))continue;let D=!1;Fy(Z)&&Fy(H)?D=!F3(Z,H):D=Z!==H,D?Z!=null?K(X):x.add(X):Z!==void 0&&x.has(X)?K(X):C.protectedKeys[X]=!0}C.prevProp=E,C.prevResolvedValues=B,C.isActive&&(b={...b,...B}),a&&e.blockInitialAnimation&&(_=!1),_&&(!(T&&P)||z)&&g.push(...V.map(X=>({animation:X,options:{type:A}})))}if(x.size){const S={};if(typeof m.initial!="boolean"){const A=Ku(e,Array.isArray(m.initial)?m.initial[0]:m.initial);A&&A.transition&&(S.transition=A.transition)}x.forEach(A=>{const C=e.getBaseTarget(A),E=e.getValue(A);E&&(E.liveStyle=!0),S[A]=C??null}),g.push({animation:S})}let N=!!g.length;return a&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(N=!1),a=!1,N?t(g):Promise.resolve()}function u(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(x=>{var b;return(b=x.animationState)==null?void 0:b.setActive(f,m)}),n[f].isActive=m;const h=c(f);for(const x in n)n[x].protectedKeys={};return h}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=dC(),a=!0}}}function vz(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!F3(t,e):!1}function Zi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dC(){return{animate:Zi(!0),whileInView:Zi(),whileHover:Zi(),whileTap:Zi(),whileDrag:Zi(),whileFocus:Zi(),exit:Zi()}}class Ni{constructor(t){this.isMounted=!1,this.node=t}update(){}}class bz extends Ni{constructor(t){super(t),t.animationState||(t.animationState=yz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let jz=0;class wz extends Ni{constructor(){super(...arguments),this.id=jz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Nz={animation:{Feature:bz},exit:{Feature:wz}};function Yu(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function fd(e){return{point:{x:e.pageX,y:e.pageY}}}const Sz=e=>t=>Pb(t)&&e(t,fd(t));function Du(e,t,n,a){return Yu(e,t,Sz(n),a)}function H3({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function Cz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Az(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const G3=1e-4,Ez=1-G3,Oz=1+G3,K3=.01,kz=0-K3,Tz=0+K3;function da(e){return e.max-e.min}function Mz(e,t,n){return Math.abs(e-t)<=n}function fC(e,t,n,a=.5){e.origin=a,e.originPoint=tn(t.min,t.max,e.origin),e.scale=da(n)/da(t),e.translate=tn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Ez&&e.scale<=Oz||isNaN(e.scale))&&(e.scale=1),(e.translate>=kz&&e.translate<=Tz||isNaN(e.translate))&&(e.translate=0)}function Ru(e,t,n,a){fC(e.x,t.x,n.x,a?a.originX:void 0),fC(e.y,t.y,n.y,a?a.originY:void 0)}function mC(e,t,n){e.min=n.min+t.min,e.max=e.min+da(t)}function Pz(e,t,n){mC(e.x,t.x,n.x),mC(e.y,t.y,n.y)}function hC(e,t,n){e.min=t.min-n.min,e.max=e.min+da(t)}function Lu(e,t,n){hC(e.x,t.x,n.x),hC(e.y,t.y,n.y)}const pC=()=>({translate:0,scale:1,origin:0,originPoint:0}),El=()=>({x:pC(),y:pC()}),gC=()=>({min:0,max:0}),gn=()=>({x:gC(),y:gC()});function ur(e){return[e("x"),e("y")]}function _g(e){return e===void 0||e===1}function Gy({scale:e,scaleX:t,scaleY:n}){return!_g(e)||!_g(t)||!_g(n)}function eo(e){return Gy(e)||Y3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Y3(e){return xC(e.x)||xC(e.y)}function xC(e){return e&&e!=="0%"}function Dm(e,t,n){const a=e-n,s=t*a;return n+s}function yC(e,t,n,a,s){return s!==void 0&&(e=Dm(e,s,a)),Dm(e,n,a)+t}function Ky(e,t=0,n=1,a,s){e.min=yC(e.min,t,n,a,s),e.max=yC(e.max,t,n,a,s)}function W3(e,{x:t,y:n}){Ky(e.x,t.translate,t.scale,t.originPoint),Ky(e.y,n.translate,n.scale,n.originPoint)}const vC=.999999999999,bC=1.0000000000001;function _z(e,t,n,a=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,c;for(let u=0;u<s;u++){o=n[u],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&kl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,W3(e,c)),a&&eo(o.latestValues)&&kl(e,o.latestValues))}t.x<bC&&t.x>vC&&(t.x=1),t.y<bC&&t.y>vC&&(t.y=1)}function Ol(e,t){e.min=e.min+t,e.max=e.max+t}function jC(e,t,n,a,s=.5){const o=tn(e.min,e.max,s);Ky(e,t,n,o,a)}function kl(e,t){jC(e.x,t.x,t.scaleX,t.scale,t.originX),jC(e.y,t.y,t.scaleY,t.scale,t.originY)}function X3(e,t){return H3(Az(e.getBoundingClientRect(),t))}function Dz(e,t,n){const a=X3(e,n),{scroll:s}=t;return s&&(Ol(a.x,s.offset.x),Ol(a.y,s.offset.y)),a}const Z3=({current:e})=>e?e.ownerDocument.defaultView:null,wC=(e,t)=>Math.abs(e-t);function Rz(e,t){const n=wC(e.x,t.x),a=wC(e.y,t.y);return Math.sqrt(n**2+a**2)}class Q3{constructor(t,n,{transformPagePoint:a,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Rg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=Rz(g.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:j}=g,{timestamp:N}=Gn;this.history.push({...j,timestamp:N});const{onStart:S,onMove:A}=this.handlers;x||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Dg(x,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Rg(g.type==="pointercancel"?this.lastMoveEventInfo:Dg(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,S),j&&j(g,S)},!Pb(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=a,this.contextWindow=s||window;const c=fd(t),u=Dg(c,this.transformPagePoint),{point:f}=u,{timestamp:m}=Gn;this.history=[{...f,timestamp:m}];const{onSessionStart:h}=n;h&&h(t,Rg(u,this.history)),this.removeListeners=cd(Du(this.contextWindow,"pointermove",this.handlePointerMove),Du(this.contextWindow,"pointerup",this.handlePointerUp),Du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xi(this.updatePoint)}}function Dg(e,t){return t?{point:t(e.point)}:e}function NC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rg({point:e},t){return{point:e,delta:NC(e,J3(t)),offset:NC(e,Lz(t)),velocity:Iz(t,.1)}}function Lz(e){return e[0]}function J3(e){return e[e.length-1]}function Iz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const s=J3(e);for(;n>=0&&(a=e[n],!(s.timestamp-a.timestamp>Hr(t)));)n--;if(!a)return{x:0,y:0};const o=Gr(s.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-a.x)/o,y:(s.y-a.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function zz(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?tn(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?tn(n,e,a.max):Math.min(e,n)),e}function SC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $z(e,{top:t,left:n,bottom:a,right:s}){return{x:SC(e.x,n,s),y:SC(e.y,t,a)}}function CC(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function Bz(e,t){return{x:CC(e.x,t.x),y:CC(e.y,t.y)}}function Uz(e,t){let n=.5;const a=da(e),s=da(t);return s>a?n=Uu(t.min,t.max-a,e.min):a>s&&(n=Uu(e.min,e.max-s,t.min)),As(0,1,n)}function qz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yy=.35;function Fz(e=Yy){return e===!1?e=0:e===!0&&(e=Yy),{x:AC(e,"left","right"),y:AC(e,"top","bottom")}}function AC(e,t,n){return{min:EC(e,t),max:EC(e,n)}}function EC(e,t){return typeof e=="number"?e:e[t]||0}const Vz=new WeakMap;class Hz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fd(h).point)},o=(h,g)=>{const{drag:x,dragPropagation:b,onDragStart:j}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=s7(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ur(S=>{let A=this.getAxisMotionValue(S).get()||0;if(Kr.test(A)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[S];E&&(A=da(E)*(parseFloat(A)/100))}}this.originPoint[S]=A}),j&&nn.postRender(()=>j(h,g)),Vy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(h,g)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:j,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:S}=g;if(b&&this.currentDirection===null){this.currentDirection=Gz(S),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),N&&N(h,g)},u=(h,g)=>this.stop(h,g),f=()=>ur(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Q3(t,{onSessionStart:s,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Z3(this.visualElement)})}stop(t,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&nn.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:s}=this.getProps();if(!a||!Gf(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(c=zz(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&Al(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=$z(a.layoutBox,t):this.constraints=!1,this.elastic=Fz(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ur(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=qz(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Al(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Dz(a,s.root,this.visualElement.getTransformPagePoint());let c=Bz(s.layout.layoutBox,o);if(n){const u=n(Cz(c));this.hasMutatedConstraints=!!u,u&&(c=H3(u))}return c}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=ur(h=>{if(!Gf(h,n,this.currentDirection))return;let g=f&&f[h]||{};c&&(g={min:0,max:0});const x=s?200:1e6,b=s?40:1e7,j={type:"inertia",velocity:a?t[h]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(h,j)});return Promise.all(m).then(u)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return Vy(this.visualElement,t),a.start(qb(t,a,0,n,this.visualElement,!1))}stopAnimation(){ur(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ur(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){ur(n=>{const{drag:a}=this.getProps();if(!Gf(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:u}=s.layout.layoutBox[n];o.set(t[n]-tn(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Al(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ur(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();s[c]=Uz({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ur(c=>{if(!Gf(c,t,null))return;const u=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];u.set(tn(f,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;Vz.set(this.visualElement,this);const t=this.visualElement.current,n=Du(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),a=()=>{const{dragConstraints:f}=this.getProps();Al(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),nn.read(a);const c=Yu(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(ur(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=f[h].translate,g.set(g.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=Yy,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Gf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Gz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Kz extends Ni{constructor(t){super(t),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new Hz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const OC=e=>(t,n)=>{e&&nn.postRender(()=>e(t,n))};class Yz extends Ni{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(t){this.session=new Q3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:OC(t),onStart:OC(n),onMove:a,onEnd:(o,c)=>{delete this.session,s&&nn.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=Du(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ft.test(e))e=parseFloat(e);else return e;const n=kC(e,t.target.x),a=kC(e,t.target.y);return`${n}% ${a}%`}},Wz={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,s=yi.parse(e);if(s.length>5)return a;const o=yi.createTransformer(e),c=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,f=n.y.scale*t.y;s[0+c]/=u,s[1+c]/=f;const m=tn(u,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),o(s)}};class Xz extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:o}=t;D7(Zz),o&&(n.group&&n.group.add(o),a&&a.register&&s&&a.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),wm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:s,isPresent:o}=this.props,{projection:c}=a;return c&&(c.isPresent=o,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||nn.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ek(e){const[t,n]=E3(),a=y.useContext(lb);return r.jsx(Xz,{...e,layoutGroup:a,switchLayoutGroup:y.useContext(P3),isPresent:t,safeToRemove:n})}const Zz={borderRadius:{...xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xu,borderTopRightRadius:xu,borderBottomLeftRadius:xu,borderBottomRightRadius:xu,boxShadow:Wz};function Qz(e,t,n){const a=sa(e)?e:Rl(e);return a.start(qb("",a,t,n)),a.animation}const Jz=(e,t)=>e.depth-t.depth;class e9{constructor(){this.children=[],this.isDirty=!1}add(t){db(this.children,t),this.isDirty=!0}remove(t){fb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Jz),this.isDirty=!1,this.children.forEach(t)}}function t9(e,t){const n=wa.now(),a=({timestamp:s})=>{const o=s-n;o>=t&&(xi(a),e(o-t))};return nn.setup(a,!0),()=>xi(a)}const tk=["TopLeft","TopRight","BottomLeft","BottomRight"],n9=tk.length,TC=e=>typeof e=="string"?parseFloat(e):e,MC=e=>typeof e=="number"||ft.test(e);function a9(e,t,n,a,s,o){s?(e.opacity=tn(0,n.opacity??1,r9(a)),e.opacityExit=tn(t.opacity??1,0,s9(a))):o&&(e.opacity=tn(t.opacity??1,n.opacity??1,a));for(let c=0;c<n9;c++){const u=`border${tk[c]}Radius`;let f=PC(t,u),m=PC(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||MC(f)===MC(m)?(e[u]=Math.max(tn(TC(f),TC(m),a),0),(Kr.test(m)||Kr.test(f))&&(e[u]+="%")):e[u]=m}(t.rotate||n.rotate)&&(e.rotate=tn(t.rotate||0,n.rotate||0,a))}function PC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const r9=nk(0,.5,YO),s9=nk(.5,.95,mr);function nk(e,t,n){return a=>a<e?0:a>t?1:n(Uu(e,t,a))}function _C(e,t){e.min=t.min,e.max=t.max}function ir(e,t){_C(e.x,t.x),_C(e.y,t.y)}function DC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function RC(e,t,n,a,s){return e-=t,e=Dm(e,1/n,a),s!==void 0&&(e=Dm(e,1/s,a)),e}function i9(e,t=0,n=1,a=.5,s,o=e,c=e){if(Kr.test(t)&&(t=parseFloat(t),t=tn(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=tn(o.min,o.max,a);e===o&&(u-=t),e.min=RC(e.min,t,n,u,s),e.max=RC(e.max,t,n,u,s)}function LC(e,t,[n,a,s],o,c){i9(e,t[n],t[a],t[s],t.scale,o,c)}const o9=["x","scaleX","originX"],l9=["y","scaleY","originY"];function IC(e,t,n,a){LC(e.x,t,o9,n?n.x:void 0,a?a.x:void 0),LC(e.y,t,l9,n?n.y:void 0,a?a.y:void 0)}function zC(e){return e.translate===0&&e.scale===1}function ak(e){return zC(e.x)&&zC(e.y)}function $C(e,t){return e.min===t.min&&e.max===t.max}function c9(e,t){return $C(e.x,t.x)&&$C(e.y,t.y)}function BC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rk(e,t){return BC(e.x,t.x)&&BC(e.y,t.y)}function UC(e){return da(e.x)/da(e.y)}function qC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class u9{constructor(){this.members=[]}add(t){db(this.members,t),t.scheduleRender()}remove(t){if(fb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d9(e,t,n){let a="";const s=e.x.translate/t.x,o=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((s||o||c)&&(a=`translate3d(${s}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:h,rotateX:g,rotateY:x,skewX:b,skewY:j}=n;m&&(a=`perspective(${m}px) ${a}`),h&&(a+=`rotate(${h}deg) `),g&&(a+=`rotateX(${g}deg) `),x&&(a+=`rotateY(${x}deg) `),b&&(a+=`skewX(${b}deg) `),j&&(a+=`skewY(${j}deg) `)}const u=e.x.scale*t.x,f=e.y.scale*t.y;return(u!==1||f!==1)&&(a+=`scale(${u}, ${f})`),a||"none"}const Lg=["","X","Y","Z"],f9={visibility:"hidden"},m9=1e3;let h9=0;function Ig(e,t,n,a){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function sk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=U3(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",nn,!(s||o))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&sk(a)}function ik({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(c={},u=t==null?void 0:t()){this.id=h9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x9),this.nodes.forEach(w9),this.nodes.forEach(N9),this.nodes.forEach(y9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new e9)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new pb),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=A3(c)&&!d7(c),this.instance=c;const{layoutId:u,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=t9(g,250),wm.hasAnimatedSinceResize&&(wm.hasAnimatedSinceResize=!1,this.nodes.forEach(VC))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||m.getDefaultTransition()||O9,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=m.getProps(),A=!this.targetLayout||!rk(this.targetLayout,b),C=!g&&x;if(this.options.layoutRoot||this.resumeFrom||C||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...kb(j,"layout"),onPlay:N,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,C)}else g||VC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FC);return}this.isUpdating||this.nodes.forEach(b9),this.isUpdating=!1,this.nodes.forEach(j9),this.nodes.forEach(p9),this.nodes.forEach(g9),this.clearAllSnapshots();const u=wa.now();Gn.delta=As(0,1e3/60,u-Gn.timestamp),Gn.timestamp=u,Gn.isProcessing=!0,Eg.update.process(Gn),Eg.preRender.process(Gn),Eg.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v9),this.sharedNodes.forEach(C9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!da(this.snapshot.measuredBox.x)&&!da(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ak(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(u||eo(this.latestValues)||h)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),k9(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return gn();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(T9))){const{scroll:h}=this.root;h&&(Ol(u.x,h.offset.x),Ol(u.y,h.offset.y))}return u}removeElementScroll(c){var f;const u=gn();if(ir(u,c),(f=this.scroll)!=null&&f.wasRoot)return u;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:g,options:x}=h;h!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&ir(u,c),Ol(u.x,g.offset.x),Ol(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const f=gn();ir(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&kl(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),eo(h.latestValues)&&kl(f,h.latestValues)}return eo(this.latestValues)&&kl(f,this.latestValues),f}removeTransform(c){const u=gn();ir(u,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!eo(m.latestValues))continue;Gy(m.latestValues)&&m.updateSnapshot();const h=gn(),g=m.measurePageBox();ir(h,g),IC(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return eo(this.latestValues)&&IC(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),Lu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),W3(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),Lu(this.relativeTargetOrigin,this.target,b.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gy(this.parent.latestValues)||Y3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;ir(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;_z(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=gn());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DC(this.prevProjectionDelta.x,this.projectionDelta.x),DC(this.prevProjectionDelta.y,this.projectionDelta.y)),Ru(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!qC(this.projectionDelta.x,this.prevProjectionDelta.x)||!qC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=El(),this.projectionDelta=El(),this.projectionDeltaWithTransform=El()}setAnimationOrigin(c,u=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},g=El();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=gn(),b=f?f.source:void 0,j=this.layout?this.layout.source:void 0,N=b!==j,S=this.getStack(),A=!S||S.members.length<=1,C=!!(N&&!A&&this.options.crossfade===!0&&!this.path.some(E9));this.animationProgress=0;let E;this.mixTargetDelta=k=>{const O=k/1e3;HC(g.x,c.x,O),HC(g.y,c.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A9(this.relativeTarget,this.relativeTargetOrigin,x,O),E&&c9(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=gn()),ir(E,this.relativeTarget)),N&&(this.animationValues=h,a9(h,m,this.latestValues,O,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,f,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{wm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rl(0)),this.currentAnimation=Qz(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:h}=c;if(!(!u||!f||!m)){if(this!==c&&this.layout&&m&&ok(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||gn();const g=da(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=da(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}ir(u,f),kl(u,h),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new u9),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&Ig("z",c,m,this.animationValues);for(let h=0;h<Lg.length;h++)Ig(`rotate${Lg[h]}`,c,m,this.animationValues),Ig(`skew${Lg[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return f9;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=jm(c==null?void 0:c.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=jm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=d9(this.projectionDeltaWithTransform,this.treeScale,h),f&&(u.transform=f(h,u.transform));const{x:g,y:x}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,m.animationValues?u.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in Gu){if(h[b]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:S}=Gu[b],A=u.transform==="none"?h[b]:j(h[b],m);if(N){const C=N.length;for(let E=0;E<C;E++)u[N[E]]=A}else S?this.options.visualElement.renderState.vars[b]=A:u[b]=A}return this.options.layoutId&&(u.pointerEvents=m===this?jm(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(FC),this.root.sharedNodes.clear()}}}function p9(e){e.updateLayout()}function g9(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:o}=e.options,c=t.source!==e.layout.source;o==="size"?ur(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],b=da(x);x.min=a[g].min,x.max=x.min+b}):ok(o,t.layoutBox,a)&&ur(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],b=da(a[g]);x.max=x.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const u=El();Ru(u,a,t.layoutBox);const f=El();c?Ru(f,e.applyTransform(s,!0),t.measuredBox):Ru(f,a,t.layoutBox);const m=!ak(u);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const j=gn();Lu(j,t.layoutBox,x.layoutBox);const N=gn();Lu(N,a,b.layoutBox),rk(j,N)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=j,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function x9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function y9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function v9(e){e.clearSnapshot()}function FC(e){e.clearMeasurements()}function b9(e){e.isLayoutDirty=!1}function j9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function VC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function w9(e){e.resolveTargetDelta()}function N9(e){e.calcProjection()}function S9(e){e.resetSkewAndRotation()}function C9(e){e.removeLeadSnapshot()}function HC(e,t,n){e.translate=tn(t.translate,0,n),e.scale=tn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function GC(e,t,n,a){e.min=tn(t.min,n.min,a),e.max=tn(t.max,n.max,a)}function A9(e,t,n,a){GC(e.x,t.x,n.x,a),GC(e.y,t.y,n.y,a)}function E9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O9={duration:.45,ease:[.4,0,.1,1]},KC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),YC=KC("applewebkit/")&&!KC("chrome/")?Math.round:mr;function WC(e){e.min=YC(e.min),e.max=YC(e.max)}function k9(e){WC(e.x),WC(e.y)}function ok(e,t,n){return e==="position"||e==="preserve-aspect"&&!Mz(UC(t),UC(n),.2)}function T9(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const M9=ik({attachResizeListener:(e,t)=>Yu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zg={current:void 0},lk=ik({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zg.current){const e=new M9({});e.mount(window),e.setOptions({layoutScroll:!0}),zg.current=e}return zg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),P9={pan:{Feature:Yz},drag:{Feature:Kz,ProjectionNode:lk,MeasureLayout:ek}};function XC(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=a[s];o&&nn.postRender(()=>o(t,fd(t)))}class _9 extends Ni{mount(){const{current:t}=this.node;t&&(this.unmount=i7(t,(n,a)=>(XC(this.node,a,"Start"),s=>XC(this.node,s,"End"))))}unmount(){}}class D9 extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cd(Yu(this.node.current,"focus",()=>this.onFocus()),Yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ZC(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=a[s];o&&nn.postRender(()=>o(t,fd(t)))}class R9 extends Ni{mount(){const{current:t}=this.node;t&&(this.unmount=u7(t,(n,a)=>(ZC(this.node,a,"Start"),(s,{success:o})=>ZC(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wy=new WeakMap,$g=new WeakMap,L9=e=>{const t=Wy.get(e.target);t&&t(e)},I9=e=>{e.forEach(L9)};function z9({root:e,...t}){const n=e||document;$g.has(n)||$g.set(n,{});const a=$g.get(n),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(I9,{root:e,...t})),a[s]}function $9(e,t,n){const a=z9(t);return Wy.set(e,n),a.observe(e),()=>{Wy.delete(e),a.unobserve(e)}}const B9={some:0,all:1};class U9 extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:o}=t,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:B9[s]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),x=m?h:g;x&&x(f)};return $9(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(q9(t,n))&&this.startObserver()}unmount(){}}function q9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const F9={inView:{Feature:U9},tap:{Feature:R9},focus:{Feature:D9},hover:{Feature:_9}},V9={layout:{ProjectionNode:lk,MeasureLayout:ek}},Xy={current:null},ck={current:!1};function H9(){if(ck.current=!0,!!ub)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xy.current=e.matches;e.addListener(t),t()}else Xy.current=!1}const G9=new WeakMap;function K9(e,t,n){for(const a in t){const s=t[a],o=n[a];if(sa(s))e.addValue(a,s);else if(sa(o))e.addValue(a,Rl(s,{owner:e}));else if(o!==s)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(a);e.addValue(a,Rl(c!==void 0?c:s,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const QC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Y9{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Eb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=wa.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,nn.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Sh(n),this.isVariantNode=T3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const b=g[x];f[x]!==void 0&&sa(b)&&b.set(f[x],!1)}}mount(t){this.current=t,G9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),ck.current||H9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xi(this.notifyUpdate),xi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=tc.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&nn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ll){const n=Ll[t];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<QC.length;a++){const s=QC[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=t[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=K9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=Rl(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(zO(a)||BO(a))?a=parseFloat(a):!m7(a)&&yi.test(n)&&(a=j3(t,n)),this.setBaseTarget(t,sa(a)?a.get():a)),sa(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=Bb(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(a=c[t])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!sa(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new pb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class uk extends Y9{constructor(){super(...arguments),this.KeyframeResolver=t7}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function dk(e,{style:t,vars:n},a,s){Object.assign(e.style,t,s&&s.getProjectionStyles(a));for(const o in n)e.style.setProperty(o,n[o])}function W9(e){return window.getComputedStyle(e)}class X9 extends uk{constructor(){super(...arguments),this.type="html",this.renderInstance=dk}readValueFromInstance(t,n){var a;if(tc.has(n))return(a=this.projection)!=null&&a.isProjecting?Iy(n):bI(t,n);{const s=W9(t),o=(yb(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return X3(t,n)}build(t,n,a){Ib(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return Ub(t,n,a)}}const fk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Z9(e,t,n,a){dk(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(fk.has(s)?s:Lb(s),t.attrs[s])}class Q9 extends uk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(tc.has(n)){const a=b3(n);return a&&a.default||0}return n=fk.has(n)?n:Lb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return B3(t,n,a)}build(t,n,a){L3(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,s){Z9(t,n,a,s)}mount(t){this.isSVGTag=z3(t.tagName),super.mount(t)}}const J9=(e,t)=>$b(e)?new Q9(t):new X9(t,{allowProjection:e!==y.Fragment}),e$=Z7({...Nz,...F9,...P9,...V9},J9),yt=w7(e$);function mk(e,t){return function(){return e.apply(t,arguments)}}const{toString:t$}=Object.prototype,{getPrototypeOf:Fb}=Object,{iterator:Ch,toStringTag:hk}=Symbol,Ah=(e=>t=>{const n=t$.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mr=e=>(e=e.toLowerCase(),t=>Ah(t)===e),Eh=e=>t=>typeof t===e,{isArray:nc}=Array,Wu=Eh("undefined");function n$(e){return e!==null&&!Wu(e)&&e.constructor!==null&&!Wu(e.constructor)&&Aa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pk=Mr("ArrayBuffer");function a$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pk(e.buffer),t}const r$=Eh("string"),Aa=Eh("function"),gk=Eh("number"),Oh=e=>e!==null&&typeof e=="object",s$=e=>e===!0||e===!1,Nm=e=>{if(Ah(e)!=="object")return!1;const t=Fb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hk in e)&&!(Ch in e)},i$=Mr("Date"),o$=Mr("File"),l$=Mr("Blob"),c$=Mr("FileList"),u$=e=>Oh(e)&&Aa(e.pipe),d$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Aa(e.append)&&((t=Ah(e))==="formdata"||t==="object"&&Aa(e.toString)&&e.toString()==="[object FormData]"))},f$=Mr("URLSearchParams"),[m$,h$,p$,g$]=["ReadableStream","Request","Response","Headers"].map(Mr),x$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function md(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),nc(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),c=o.length;let u;for(a=0;a<c;a++)u=o[a],t.call(null,e[u],u,e)}}function xk(e,t){t=t.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],t===s.toLowerCase())return s;return null}const io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yk=e=>!Wu(e)&&e!==io;function Zy(){const{caseless:e}=yk(this)&&this||{},t={},n=(a,s)=>{const o=e&&xk(t,s)||s;Nm(t[o])&&Nm(a)?t[o]=Zy(t[o],a):Nm(a)?t[o]=Zy({},a):nc(a)?t[o]=a.slice():t[o]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&md(arguments[a],n);return t}const y$=(e,t,n,{allOwnKeys:a}={})=>(md(t,(s,o)=>{n&&Aa(s)?e[o]=mk(s,n):e[o]=s},{allOwnKeys:a}),e),v$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),b$=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},j$=(e,t,n,a)=>{let s,o,c;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)c=s[o],(!a||a(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=n!==!1&&Fb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},w$=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},N$=e=>{if(!e)return null;if(nc(e))return e;let t=e.length;if(!gk(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},S$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Fb(Uint8Array)),C$=(e,t)=>{const a=(e&&e[Ch]).call(e);let s;for(;(s=a.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},A$=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},E$=Mr("HTMLFormElement"),O$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),JC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),k$=Mr("RegExp"),vk=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};md(n,(s,o)=>{let c;(c=t(s,o,e))!==!1&&(a[o]=c||s)}),Object.defineProperties(e,a)},T$=e=>{vk(e,(t,n)=>{if(Aa(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(Aa(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},M$=(e,t)=>{const n={},a=s=>{s.forEach(o=>{n[o]=!0})};return nc(e)?a(e):a(String(e).split(t)),n},P$=()=>{},_$=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function D$(e){return!!(e&&Aa(e.append)&&e[hk]==="FormData"&&e[Ch])}const R$=e=>{const t=new Array(10),n=(a,s)=>{if(Oh(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[s]=a;const o=nc(a)?[]:{};return md(a,(c,u)=>{const f=n(c,s+1);!Wu(f)&&(o[u]=f)}),t[s]=void 0,o}}return a};return n(e,0)},L$=Mr("AsyncFunction"),I$=e=>e&&(Oh(e)||Aa(e))&&Aa(e.then)&&Aa(e.catch),bk=((e,t)=>e?setImmediate:t?((n,a)=>(io.addEventListener("message",({source:s,data:o})=>{s===io&&o===n&&a.length&&a.shift()()},!1),s=>{a.push(s),io.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Aa(io.postMessage)),z$=typeof queueMicrotask<"u"?queueMicrotask.bind(io):typeof process<"u"&&process.nextTick||bk,$$=e=>e!=null&&Aa(e[Ch]),Se={isArray:nc,isArrayBuffer:pk,isBuffer:n$,isFormData:d$,isArrayBufferView:a$,isString:r$,isNumber:gk,isBoolean:s$,isObject:Oh,isPlainObject:Nm,isReadableStream:m$,isRequest:h$,isResponse:p$,isHeaders:g$,isUndefined:Wu,isDate:i$,isFile:o$,isBlob:l$,isRegExp:k$,isFunction:Aa,isStream:u$,isURLSearchParams:f$,isTypedArray:S$,isFileList:c$,forEach:md,merge:Zy,extend:y$,trim:x$,stripBOM:v$,inherits:b$,toFlatObject:j$,kindOf:Ah,kindOfTest:Mr,endsWith:w$,toArray:N$,forEachEntry:C$,matchAll:A$,isHTMLForm:E$,hasOwnProperty:JC,hasOwnProp:JC,reduceDescriptors:vk,freezeMethods:T$,toObjectSet:M$,toCamelCase:O$,noop:P$,toFiniteNumber:_$,findKey:xk,global:io,isContextDefined:yk,isSpecCompliantForm:D$,toJSONObject:R$,isAsyncFn:L$,isThenable:I$,setImmediate:bk,asap:z$,isIterable:$$};function gt(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Se.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.status}}});const jk=gt.prototype,wk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wk[e]={value:e}});Object.defineProperties(gt,wk);Object.defineProperty(jk,"isAxiosError",{value:!0});gt.from=(e,t,n,a,s,o)=>{const c=Object.create(jk);return Se.toFlatObject(e,c,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),gt.call(c,e.message,t,n,a,s),c.cause=e,c.name=e.name,o&&Object.assign(c,o),c};const B$=null;function Qy(e){return Se.isPlainObject(e)||Se.isArray(e)}function Nk(e){return Se.endsWith(e,"[]")?e.slice(0,-2):e}function eA(e,t,n){return e?e.concat(t).map(function(s,o){return s=Nk(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function U$(e){return Se.isArray(e)&&!e.some(Qy)}const q$=Se.toFlatObject(Se,{},null,function(t){return/^is[A-Z]/.test(t)});function kh(e,t,n){if(!Se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,S){return!Se.isUndefined(S[N])});const a=n.metaTokens,s=n.visitor||h,o=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(t);if(!Se.isFunction(s))throw new TypeError("visitor must be a function");function m(j){if(j===null)return"";if(Se.isDate(j))return j.toISOString();if(Se.isBoolean(j))return j.toString();if(!f&&Se.isBlob(j))throw new gt("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(j)||Se.isTypedArray(j)?f&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function h(j,N,S){let A=j;if(j&&!S&&typeof j=="object"){if(Se.endsWith(N,"{}"))N=a?N:N.slice(0,-2),j=JSON.stringify(j);else if(Se.isArray(j)&&U$(j)||(Se.isFileList(j)||Se.endsWith(N,"[]"))&&(A=Se.toArray(j)))return N=Nk(N),A.forEach(function(E,k){!(Se.isUndefined(E)||E===null)&&t.append(c===!0?eA([N],k,o):c===null?N:N+"[]",m(E))}),!1}return Qy(j)?!0:(t.append(eA(S,N,o),m(j)),!1)}const g=[],x=Object.assign(q$,{defaultVisitor:h,convertValue:m,isVisitable:Qy});function b(j,N){if(!Se.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));g.push(j),Se.forEach(j,function(A,C){(!(Se.isUndefined(A)||A===null)&&s.call(t,A,Se.isString(C)?C.trim():C,N,x))===!0&&b(A,N?N.concat(C):[C])}),g.pop()}}if(!Se.isObject(e))throw new TypeError("data must be an object");return b(e),t}function tA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Vb(e,t){this._pairs=[],e&&kh(e,this,t)}const Sk=Vb.prototype;Sk.append=function(t,n){this._pairs.push([t,n])};Sk.toString=function(t){const n=t?function(a){return t.call(this,a,tA)}:tA;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function F$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ck(e,t,n){if(!t)return e;const a=n&&n.encode||F$;Se.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=Se.isURLSearchParams(t)?t.toString():new Vb(t,n).toString(a),o){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class nA{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Se.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Ak={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V$=typeof URLSearchParams<"u"?URLSearchParams:Vb,H$=typeof FormData<"u"?FormData:null,G$=typeof Blob<"u"?Blob:null,K$={isBrowser:!0,classes:{URLSearchParams:V$,FormData:H$,Blob:G$},protocols:["http","https","file","blob","url","data"]},Hb=typeof window<"u"&&typeof document<"u",Jy=typeof navigator=="object"&&navigator||void 0,Y$=Hb&&(!Jy||["ReactNative","NativeScript","NS"].indexOf(Jy.product)<0),W$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X$=Hb&&window.location.href||"http://localhost",Z$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hb,hasStandardBrowserEnv:Y$,hasStandardBrowserWebWorkerEnv:W$,navigator:Jy,origin:X$},Symbol.toStringTag,{value:"Module"})),ra={...Z$,...K$};function Q$(e,t){return kh(e,new ra.classes.URLSearchParams,Object.assign({visitor:function(n,a,s,o){return ra.isNode&&Se.isBuffer(n)?(this.append(a,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function J$(e){return Se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function eB(e){const t={},n=Object.keys(e);let a;const s=n.length;let o;for(a=0;a<s;a++)o=n[a],t[o]=e[o];return t}function Ek(e){function t(n,a,s,o){let c=n[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),f=o>=n.length;return c=!c&&Se.isArray(s)?s.length:c,f?(Se.hasOwnProp(s,c)?s[c]=[s[c],a]:s[c]=a,!u):((!s[c]||!Se.isObject(s[c]))&&(s[c]=[]),t(n,a,s[c],o)&&Se.isArray(s[c])&&(s[c]=eB(s[c])),!u)}if(Se.isFormData(e)&&Se.isFunction(e.entries)){const n={};return Se.forEachEntry(e,(a,s)=>{t(J$(a),s,n,0)}),n}return null}function tB(e,t,n){if(Se.isString(e))try{return(t||JSON.parse)(e),Se.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const hd={transitional:Ak,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,o=Se.isObject(t);if(o&&Se.isHTMLForm(t)&&(t=new FormData(t)),Se.isFormData(t))return s?JSON.stringify(Ek(t)):t;if(Se.isArrayBuffer(t)||Se.isBuffer(t)||Se.isStream(t)||Se.isFile(t)||Se.isBlob(t)||Se.isReadableStream(t))return t;if(Se.isArrayBufferView(t))return t.buffer;if(Se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Q$(t,this.formSerializer).toString();if((u=Se.isFileList(t))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return kh(u?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),tB(t)):t}],transformResponse:[function(t){const n=this.transitional||hd.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Se.isResponse(t)||Se.isReadableStream(t))return t;if(t&&Se.isString(t)&&(a&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(u){if(c)throw u.name==="SyntaxError"?gt.from(u,gt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ra.classes.FormData,Blob:ra.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],e=>{hd.headers[e]={}});const nB=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aB=e=>{const t={};let n,a,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),a=c.substring(s+1).trim(),!(!n||t[n]&&nB[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},aA=Symbol("internals");function yu(e){return e&&String(e).trim().toLowerCase()}function Sm(e){return e===!1||e==null?e:Se.isArray(e)?e.map(Sm):String(e)}function rB(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const sB=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bg(e,t,n,a,s){if(Se.isFunction(a))return a.call(this,t,n);if(s&&(t=n),!!Se.isString(t)){if(Se.isString(a))return t.indexOf(a)!==-1;if(Se.isRegExp(a))return a.test(t)}}function iB(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function oB(e,t){const n=Se.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,o,c){return this[a].call(this,t,s,o,c)},configurable:!0})})}let Ea=class{constructor(t){t&&this.set(t)}set(t,n,a){const s=this;function o(u,f,m){const h=yu(f);if(!h)throw new Error("header name must be a non-empty string");const g=Se.findKey(s,h);(!g||s[g]===void 0||m===!0||m===void 0&&s[g]!==!1)&&(s[g||f]=Sm(u))}const c=(u,f)=>Se.forEach(u,(m,h)=>o(m,h,f));if(Se.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(Se.isString(t)&&(t=t.trim())&&!sB(t))c(aB(t),n);else if(Se.isObject(t)&&Se.isIterable(t)){let u={},f,m;for(const h of t){if(!Se.isArray(h))throw TypeError("Object iterator must return a key-value pair");u[m=h[0]]=(f=u[m])?Se.isArray(f)?[...f,h[1]]:[f,h[1]]:h[1]}c(u,n)}else t!=null&&o(n,t,a);return this}get(t,n){if(t=yu(t),t){const a=Se.findKey(this,t);if(a){const s=this[a];if(!n)return s;if(n===!0)return rB(s);if(Se.isFunction(n))return n.call(this,s,a);if(Se.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yu(t),t){const a=Se.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Bg(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let s=!1;function o(c){if(c=yu(c),c){const u=Se.findKey(a,c);u&&(!n||Bg(a,a[u],u,n))&&(delete a[u],s=!0)}}return Se.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const o=n[a];(!t||Bg(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,a={};return Se.forEach(this,(s,o)=>{const c=Se.findKey(a,o);if(c){n[c]=Sm(s),delete n[o];return}const u=t?iB(o):String(o).trim();u!==o&&delete n[o],n[u]=Sm(s),a[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Se.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=t&&Se.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[aA]=this[aA]={accessors:{}}).accessors,s=this.prototype;function o(c){const u=yu(c);a[u]||(oB(s,c),a[u]=!0)}return Se.isArray(t)?t.forEach(o):o(t),this}};Ea.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Se.reduceDescriptors(Ea.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});Se.freezeMethods(Ea);function Ug(e,t){const n=this||hd,a=t||n,s=Ea.from(a.headers);let o=a.data;return Se.forEach(e,function(u){o=u.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Ok(e){return!!(e&&e.__CANCEL__)}function ac(e,t,n){gt.call(this,e??"canceled",gt.ERR_CANCELED,t,n),this.name="CanceledError"}Se.inherits(ac,gt,{__CANCEL__:!0});function kk(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new gt("Request failed with status code "+n.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cB(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s=0,o=0,c;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),h=a[o];c||(c=m),n[s]=f,a[s]=m;let g=o,x=0;for(;g!==s;)x+=n[g++],g=g%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),m-c<t)return;const b=h&&m-h;return b?Math.round(x*1e3/b):void 0}}function uB(e,t){let n=0,a=1e3/t,s,o;const c=(m,h=Date.now())=>{n=h,s=null,o&&(clearTimeout(o),o=null),e.apply(null,m)};return[(...m)=>{const h=Date.now(),g=h-n;g>=a?c(m,h):(s=m,o||(o=setTimeout(()=>{o=null,c(s)},a-g)))},()=>s&&c(s)]}const Rm=(e,t,n=3)=>{let a=0;const s=cB(50,250);return uB(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,f=c-a,m=s(f),h=c<=u;a=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:f,rate:m||void 0,estimated:m&&u&&h?(u-c)/m:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(g)},n)},rA=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},sA=e=>(...t)=>Se.asap(()=>e(...t)),dB=ra.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ra.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ra.origin),ra.navigator&&/(msie|trident)/i.test(ra.navigator.userAgent)):()=>!0,fB=ra.hasStandardBrowserEnv?{write(e,t,n,a,s,o){const c=[e+"="+encodeURIComponent(t)];Se.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Se.isString(a)&&c.push("path="+a),Se.isString(s)&&c.push("domain="+s),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Tk(e,t,n){let a=!mB(t);return e&&(a||n==!1)?hB(e,t):t}const iA=e=>e instanceof Ea?{...e}:e;function jo(e,t){t=t||{};const n={};function a(m,h,g,x){return Se.isPlainObject(m)&&Se.isPlainObject(h)?Se.merge.call({caseless:x},m,h):Se.isPlainObject(h)?Se.merge({},h):Se.isArray(h)?h.slice():h}function s(m,h,g,x){if(Se.isUndefined(h)){if(!Se.isUndefined(m))return a(void 0,m,g,x)}else return a(m,h,g,x)}function o(m,h){if(!Se.isUndefined(h))return a(void 0,h)}function c(m,h){if(Se.isUndefined(h)){if(!Se.isUndefined(m))return a(void 0,m)}else return a(void 0,h)}function u(m,h,g){if(g in t)return a(m,h);if(g in e)return a(void 0,m)}const f={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,h,g)=>s(iA(m),iA(h),g,!0)};return Se.forEach(Object.keys(Object.assign({},e,t)),function(h){const g=f[h]||s,x=g(e[h],t[h],h);Se.isUndefined(x)&&g!==u||(n[h]=x)}),n}const Mk=e=>{const t=jo({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:c,auth:u}=t;t.headers=c=Ea.from(c),t.url=Ck(Tk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let f;if(Se.isFormData(n)){if(ra.hasStandardBrowserEnv||ra.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[m,...h]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...h].join("; "))}}if(ra.hasStandardBrowserEnv&&(a&&Se.isFunction(a)&&(a=a(t)),a||a!==!1&&dB(t.url))){const m=s&&o&&fB.read(o);m&&c.set(s,m)}return t},pB=typeof XMLHttpRequest<"u",gB=pB&&function(e){return new Promise(function(n,a){const s=Mk(e);let o=s.data;const c=Ea.from(s.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:m}=s,h,g,x,b,j;function N(){b&&b(),j&&j(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function A(){if(!S)return;const E=Ea.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),O={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:E,config:e,request:S};kk(function(P){n(P),N()},function(P){a(P),N()},O),S=null}"onloadend"in S?S.onloadend=A:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(A)},S.onabort=function(){S&&(a(new gt("Request aborted",gt.ECONNABORTED,e,S)),S=null)},S.onerror=function(){a(new gt("Network Error",gt.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||Ak;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),a(new gt(k,O.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,e,S)),S=null},o===void 0&&c.setContentType(null),"setRequestHeader"in S&&Se.forEach(c.toJSON(),function(k,O){S.setRequestHeader(O,k)}),Se.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),u&&u!=="json"&&(S.responseType=s.responseType),m&&([x,j]=Rm(m,!0),S.addEventListener("progress",x)),f&&S.upload&&([g,b]=Rm(f),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(h=E=>{S&&(a(!E||E.type?new ac(null,e,S):E),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const C=lB(s.url);if(C&&ra.protocols.indexOf(C)===-1){a(new gt("Unsupported protocol "+C+":",gt.ERR_BAD_REQUEST,e));return}S.send(o||null)})},xB=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,s;const o=function(m){if(!s){s=!0,u();const h=m instanceof Error?m:this.reason;a.abort(h instanceof gt?h:new ac(h instanceof Error?h.message:h))}};let c=t&&setTimeout(()=>{c=null,o(new gt(`timeout ${t} of ms exceeded`,gt.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),e=null)};e.forEach(m=>m.addEventListener("abort",o));const{signal:f}=a;return f.unsubscribe=()=>Se.asap(u),f}},yB=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,s;for(;a<n;)s=a+t,yield e.slice(a,s),a=s},vB=async function*(e,t){for await(const n of bB(e))yield*yB(n,t)},bB=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},oA=(e,t,n,a)=>{const s=vB(e,t);let o=0,c,u=f=>{c||(c=!0,a&&a(f))};return new ReadableStream({async pull(f){try{const{done:m,value:h}=await s.next();if(m){u(),f.close();return}let g=h.byteLength;if(n){let x=o+=g;n(x)}f.enqueue(new Uint8Array(h))}catch(m){throw u(m),m}},cancel(f){return u(f),s.return()}},{highWaterMark:2})},Th=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pk=Th&&typeof ReadableStream=="function",jB=Th&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),_k=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wB=Pk&&_k(()=>{let e=!1;const t=new Request(ra.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),lA=64*1024,ev=Pk&&_k(()=>Se.isReadableStream(new Response("").body)),Lm={stream:ev&&(e=>e.body)};Th&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Lm[t]&&(Lm[t]=Se.isFunction(e[t])?n=>n[t]():(n,a)=>{throw new gt(`Response type '${t}' is not supported`,gt.ERR_NOT_SUPPORT,a)})})})(new Response);const NB=async e=>{if(e==null)return 0;if(Se.isBlob(e))return e.size;if(Se.isSpecCompliantForm(e))return(await new Request(ra.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Se.isArrayBufferView(e)||Se.isArrayBuffer(e))return e.byteLength;if(Se.isURLSearchParams(e)&&(e=e+""),Se.isString(e))return(await jB(e)).byteLength},SB=async(e,t)=>{const n=Se.toFiniteNumber(e.getContentLength());return n??NB(t)},CB=Th&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:o,timeout:c,onDownloadProgress:u,onUploadProgress:f,responseType:m,headers:h,withCredentials:g="same-origin",fetchOptions:x}=Mk(e);m=m?(m+"").toLowerCase():"text";let b=xB([s,o&&o.toAbortSignal()],c),j;const N=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let S;try{if(f&&wB&&n!=="get"&&n!=="head"&&(S=await SB(h,a))!==0){let O=new Request(t,{method:"POST",body:a,duplex:"half"}),T;if(Se.isFormData(a)&&(T=O.headers.get("content-type"))&&h.setContentType(T),O.body){const[P,_]=rA(S,Rm(sA(f)));a=oA(O.body,lA,P,_)}}Se.isString(g)||(g=g?"include":"omit");const A="credentials"in Request.prototype;j=new Request(t,{...x,signal:b,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:A?g:void 0});let C=await fetch(j,x);const E=ev&&(m==="stream"||m==="response");if(ev&&(u||E&&N)){const O={};["status","statusText","headers"].forEach(z=>{O[z]=C[z]});const T=Se.toFiniteNumber(C.headers.get("content-length")),[P,_]=u&&rA(T,Rm(sA(u),!0))||[];C=new Response(oA(C.body,lA,P,()=>{_&&_(),N&&N()}),O)}m=m||"text";let k=await Lm[Se.findKey(Lm,m)||"text"](C,e);return!E&&N&&N(),await new Promise((O,T)=>{kk(O,T,{data:k,headers:Ea.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:j})})}catch(A){throw N&&N(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,e,j),{cause:A.cause||A}):gt.from(A,A&&A.code,e,j)}}),tv={http:B$,xhr:gB,fetch:CB};Se.forEach(tv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const cA=e=>`- ${e}`,AB=e=>Se.isFunction(e)||e===null||e===!1,Dk={getAdapter:e=>{e=Se.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let o=0;o<t;o++){n=e[o];let c;if(a=n,!AB(n)&&(a=tv[(c=String(n)).toLowerCase()],a===void 0))throw new gt(`Unknown adapter '${c}'`);if(a)break;s[c||"#"+o]=a}if(!a){const o=Object.entries(s).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(cA).join(`
`):" "+cA(o[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:tv};function qg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ac(null,e)}function uA(e){return qg(e),e.headers=Ea.from(e.headers),e.data=Ug.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Dk.getAdapter(e.adapter||hd.adapter)(e).then(function(a){return qg(e),a.data=Ug.call(e,e.transformResponse,a),a.headers=Ea.from(a.headers),a},function(a){return Ok(a)||(qg(e),a&&a.response&&(a.response.data=Ug.call(e,e.transformResponse,a.response),a.response.headers=Ea.from(a.response.headers))),Promise.reject(a)})}const Rk="1.10.0",Mh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mh[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const dA={};Mh.transitional=function(t,n,a){function s(o,c){return"[Axios v"+Rk+"] Transitional option '"+o+"'"+c+(a?". "+a:"")}return(o,c,u)=>{if(t===!1)throw new gt(s(c," has been removed"+(n?" in "+n:"")),gt.ERR_DEPRECATED);return n&&!dA[c]&&(dA[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,c,u):!0}};Mh.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function EB(e,t,n){if(typeof e!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const o=a[s],c=t[o];if(c){const u=e[o],f=u===void 0||c(u,o,e);if(f!==!0)throw new gt("option "+o+" must be "+f,gt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new gt("Unknown option "+o,gt.ERR_BAD_OPTION)}}const Cm={assertOptions:EB,validators:Mh},Ur=Cm.validators;let po=class{constructor(t){this.defaults=t||{},this.interceptors={request:new nA,response:new nA}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=jo(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:o}=n;a!==void 0&&Cm.assertOptions(a,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),s!=null&&(Se.isFunction(s)?n.paramsSerializer={serialize:s}:Cm.assertOptions(s,{encode:Ur.function,serialize:Ur.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cm.assertOptions(n,{baseUrl:Ur.spelling("baseURL"),withXsrfToken:Ur.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&Se.merge(o.common,o[n.method]);o&&Se.forEach(["delete","get","head","post","put","patch","common"],j=>{delete o[j]}),n.headers=Ea.concat(c,o);const u=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(f=f&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let h,g=0,x;if(!f){const j=[uA.bind(this),void 0];for(j.unshift.apply(j,u),j.push.apply(j,m),x=j.length,h=Promise.resolve(n);g<x;)h=h.then(j[g++],j[g++]);return h}x=u.length;let b=n;for(g=0;g<x;){const j=u[g++],N=u[g++];try{b=j(b)}catch(S){N.call(this,S);break}}try{h=uA.call(this,b)}catch(j){return Promise.reject(j)}for(g=0,x=m.length;g<x;)h=h.then(m[g++],m[g++]);return h}getUri(t){t=jo(this.defaults,t);const n=Tk(t.baseURL,t.url,t.allowAbsoluteUrls);return Ck(n,t.params,t.paramsSerializer)}};Se.forEach(["delete","get","head","options"],function(t){po.prototype[t]=function(n,a){return this.request(jo(a||{},{method:t,url:n,data:(a||{}).data}))}});Se.forEach(["post","put","patch"],function(t){function n(a){return function(o,c,u){return this.request(jo(u||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}po.prototype[t]=n(),po.prototype[t+"Form"]=n(!0)});let OB=class Lk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const a=this;this.promise.then(s=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](s);a._listeners=null}),this.promise.then=s=>{let o;const c=new Promise(u=>{a.subscribe(u),o=u}).then(s);return c.cancel=function(){a.unsubscribe(o)},c},t(function(o,c,u){a.reason||(a.reason=new ac(o,c,u),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Lk(function(s){t=s}),cancel:t}}};function kB(e){return function(n){return e.apply(null,n)}}function TB(e){return Se.isObject(e)&&e.isAxiosError===!0}const nv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nv).forEach(([e,t])=>{nv[t]=e});function Ik(e){const t=new po(e),n=mk(po.prototype.request,t);return Se.extend(n,po.prototype,t,{allOwnKeys:!0}),Se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Ik(jo(e,s))},n}const qe=Ik(hd);qe.Axios=po;qe.CanceledError=ac;qe.CancelToken=OB;qe.isCancel=Ok;qe.VERSION=Rk;qe.toFormData=kh;qe.AxiosError=gt;qe.Cancel=qe.CanceledError;qe.all=function(t){return Promise.all(t)};qe.spread=kB;qe.isAxiosError=TB;qe.mergeConfig=jo;qe.AxiosHeaders=Ea;qe.formToJSON=e=>Ek(Se.isHTMLForm(e)?new FormData(e):e);qe.getAdapter=Dk.getAdapter;qe.HttpStatusCode=nv;qe.default=qe;const{Axios:Yle,AxiosError:Wle,CanceledError:Xle,isCancel:Zle,CancelToken:Qle,VERSION:Jle,all:ece,Cancel:tce,isAxiosError:nce,spread:ace,toFormData:rce,AxiosHeaders:sce,HttpStatusCode:ice,formToJSON:oce,getAdapter:lce,mergeConfig:cce}=qe,fA="http://localhost:4000/api",zk="https://a-u-r-o-r-a.onrender.com/api";let av=zk;const MB=async(e,t="/health",n=1200)=>{try{const a=new AbortController,s=setTimeout(()=>a.abort(),n),o=await fetch(e.replace(/\/$/,"")+t,{method:"GET",signal:a.signal,credentials:"include"}).catch(()=>null);return clearTimeout(s),!!(o&&o.ok)}catch{return!1}};(async()=>av=await MB(fA,"/")?fA:zk)();const _e={get BASE_URL(){return av},set BASE_URL(e){av=e},ENDPOINTS:{LENTES:"/lentes",ACCESORIOS:"/accesorios",PRODUCTOS_PERSONALIZADOS:"/productosPersonalizados",MARCAS:"/marcas",CATEGORIAS:"/categoria",CLIENTES:"/clientes",EMPLEADOS:"/empleados",SUCURSALES:"/sucursales",PROMOCIONES:"/promociones",COTIZACIONES:"/cotizaciones",PEDIDOS:"/pedidos",CATALOGO_MODIFICACIONES:"/catalogoModificaciones",VENTAS:"/ventas",RECETAS:"/recetas",CITAS:"/citas",HISTORIAL_MEDICO:"/historialMedico",OPTOMETRISTAS:"/optometrista",AUTH:"/auth",DASHBOARD:"/dashboard",CARRITO:"/carrito",REGISTRO_CLIENTES:"/registroClientes",REGISTRO_EMPLEADOS:"/registroEmpleados",AUDITORIA:"/auditoria"},FETCH_CONFIG:{headers:{"Content-Type":"application/json"},credentials:"include"},TIMEOUTS:{REQUEST:6e4,RETRY_DELAY:2e3,MAX_RETRIES:2},RESPONSE_STATUS:{SUCCESS:"success",ERROR:"error"}},dn=(e,t={})=>{let n=`${_e.BASE_URL}${e}`;if(t&&Object.keys(t).length>0){const a=new URLSearchParams(t).toString();n+=`?${a}`}return n},PB=e=>!e||typeof e!="object"?{isValid:!1,error:"Respuesta inválida de la API"}:e.success===!1?{isValid:!1,error:e.message||"Error en la respuesta de la API"}:e.success===!0&&e.data!==void 0?{isValid:!0,data:e.data}:Array.isArray(e)?{isValid:!0,data:e}:e.message&&e.message.includes("Error")?{isValid:!1,error:e.message}:{isValid:!0,data:e},$k=(e,t="")=>e.name==="TypeError"&&e.message.includes("fetch")?"Error de conexión. Verifica tu conexión a internet.":e.status===404?"Recurso no encontrado.":e.status===500?"Error interno del servidor. Por favor, intenta más tarde.":e.status===401?"No autorizado. Por favor, inicia sesión.":e.status===403?"Acceso denegado.":e.message||"Error desconocido.",Bk=y.createContext(),_B=({children:e})=>{const[t,n]=y.useState(null),[a,s]=y.useState(()=>localStorage.getItem("aurora_token")),[o,c]=y.useState(!0),u=b=>{var N,S,A,C,E,k,O,T,P,_,z,V;return b&&[b.cargo,b.Cargo,b.puesto,b.Puesto,(N=b==null?void 0:b.cargo)==null?void 0:N.nombre,(S=b==null?void 0:b.cargo)==null?void 0:S.name,(A=b==null?void 0:b.empleado)==null?void 0:A.cargo,(C=b==null?void 0:b.empleado)==null?void 0:C.Cargo,(E=b==null?void 0:b.empleado)==null?void 0:E.puesto,(k=b==null?void 0:b.empleado)==null?void 0:k.Puesto,(T=(O=b==null?void 0:b.empleado)==null?void 0:O.cargo)==null?void 0:T.nombre,(_=(P=b==null?void 0:b.empleado)==null?void 0:P.cargo)==null?void 0:_.name,(z=b==null?void 0:b.profile)==null?void 0:z.cargo,(V=b==null?void 0:b.profile)==null?void 0:V.puesto].filter(Boolean)[0]||null},f=async b=>{var j;try{if(!b||u(b))return b;const N=b._id||b.id;if(!N)return b;const S=`${_e.BASE_URL}${_e.ENDPOINTS.EMPLEADOS}/${N}`,A=await qe.get(S,{withCredentials:!0}).catch(()=>null);if(!A)return b;const C=((j=A.data)==null?void 0:j.data)??A.data,E=u(C);if(E){const k={...b,cargo:E};try{localStorage.setItem("aurora_user",JSON.stringify(k))}catch{}return k}return b}catch{return b}},m=b=>{try{const j=b.split(".")[1],N=atob(j.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(N)}catch{return null}};y.useEffect(()=>{try{const b=localStorage.getItem("aurora_user");if(b){const j=JSON.parse(b);n(j)}else if(a){const j=m(a);j&&j.id&&j.rol&&n({id:j.id,correo:j.correo,rol:j.rol})}a&&(qe.defaults.headers.common.Authorization=`Bearer ${a}`,qe.defaults.withCredentials=!0)}catch{}finally{c(!1)}},[]),y.useEffect(()=>{let b=!0;return(async()=>{if(!t||u(t))return;const j=await f(t);b&&j!==t&&n(j)})(),()=>{b=!1}},[t==null?void 0:t.id,t==null?void 0:t._id]),y.useEffect(()=>{a?(qe.defaults.headers.common.Authorization=`Bearer ${a}`,qe.defaults.withCredentials=!0,localStorage.setItem("aurora_token",a)):(delete qe.defaults.headers.common.Authorization,localStorage.removeItem("aurora_token"))},[a]);const x={user:t,token:a,loading:o,login:async b=>{var j,N;try{const S=await qe.post(`${_e.BASE_URL}${_e.ENDPOINTS.AUTH}/login`,b,{withCredentials:!0});if(S.data.success){const{token:A,user:C}=S.data;s(A);const E=await f(C);return n(E),localStorage.setItem("aurora_token",A),localStorage.setItem("aurora_user",JSON.stringify(E)),qe.defaults.headers.common.Authorization=`Bearer ${A}`,qe.defaults.withCredentials=!0,{success:!0,user:E,token:A}}return{success:!1,message:S.data.message}}catch(S){return console.error("Error en login:",S),{success:!1,message:((N=(j=S.response)==null?void 0:j.data)==null?void 0:N.message)||"Error al iniciar sesión"}}},logout:()=>{s(null),n(null),localStorage.removeItem("aurora_token"),localStorage.removeItem("aurora_user"),delete qe.defaults.headers.common.Authorization},setUser:n,setToken:s};return r.jsx(Bk.Provider,{value:x,children:e})},zn=()=>{const e=y.useContext(Bk);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},Uk=y.createContext(null),Gb=()=>y.useContext(Uk),DB=({children:e})=>{const{user:t,token:n}=zn(),[a,s]=y.useState(null),[o,c]=y.useState(!1),[u,f]=y.useState(null),m=_e.BASE_URL,h=_e.ENDPOINTS.CARRITO,g=y.useMemo(()=>({"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}}),[n]),x=O=>Array.isArray(O)&&(O.find(T=>T.estado==="activo")||O[0])||null,b=y.useCallback(async()=>{if(t!=null&&t.id){c(!0),f(null);try{const T=await(await fetch(`${m}${h}/cliente/${t.id}`,{credentials:"include",headers:g})).json();let P=x(T);return P||(P=(await(await fetch(`${m}${h}`,{method:"POST",headers:g,credentials:"include",body:JSON.stringify({clienteId:t.id,productos:[]})})).json()).carrito||null),s(P),P}catch(O){console.error("Cart fetch/create error",O),f("No se pudo cargar el carrito")}finally{c(!1)}}},[t==null?void 0:t.id,m,h,g]);y.useEffect(()=>{t!=null&&t.id?b():s(null)},[t==null?void 0:t.id,b]);const j=y.useCallback(async(O,T=1)=>{let P=a==null?void 0:a._id;if(!P){const _=await b();P=_==null?void 0:_._id}if(P)try{const _=O.precioActual??O.precioBase??0,z={productoId:O._id,nombre:O.nombre,precio:_,cantidad:T},B=await(await fetch(`${m}${h}/${P}/productos`,{method:"POST",headers:g,credentials:"include",body:JSON.stringify(z)})).json();return B!=null&&B.carrito&&s(B.carrito),B}catch(_){console.error("addItem error",_),f("No se pudo agregar el producto")}},[a==null?void 0:a._id,m,h,g,b]),N=y.useCallback(async O=>{if(a!=null&&a._id)try{const P=await(await fetch(`${m}${h}/${a._id}/productos`,{method:"DELETE",headers:g,credentials:"include",body:JSON.stringify({productoId:O})})).json();return P!=null&&P.carrito&&s(P.carrito),P}catch(T){console.error("removeItem error",T),f("No se pudo remover el producto")}},[a==null?void 0:a._id,m,h,g]),S=y.useCallback(async(O,T)=>{if(!(a!=null&&a._id)||!Array.isArray(a==null?void 0:a.productos))return;const P=new Map(a.productos.map(V=>[String(V.productoId),V.precio])),_=new Map(a.productos.map(V=>[String(V.productoId),V.nombre])),z=Array.from(new Set([...a.productos.map(V=>String(V.productoId))])).map(V=>{var B;return{productoId:V,nombre:_.get(String(V))??"",precio:P.get(String(V))??0,cantidad:String(V)===String(O)?T:((B=a.productos.find(W=>String(W.productoId)===String(V)))==null?void 0:B.cantidad)??1}});try{const B=await(await fetch(`${m}${h}/${a._id}`,{method:"PUT",headers:g,credentials:"include",body:JSON.stringify({productos:z})})).json();return B!=null&&B.carrito&&s(B.carrito),B}catch(V){console.error("updateQty error",V),f("No se pudo actualizar la cantidad")}},[a,m,h,g]),A=y.useCallback(async()=>{if(a!=null&&a._id)try{const T=await(await fetch(`${m}${h}/${a._id}`,{method:"PUT",headers:g,credentials:"include",body:JSON.stringify({productos:[]})})).json();T!=null&&T.carrito&&s(T.carrito)}catch(O){console.error("clearCart error",O),f("No se pudo vaciar el carrito")}},[a==null?void 0:a._id,m,h,g]),C=y.useMemo(()=>((a==null?void 0:a.productos)||[]).reduce((O,T)=>O+(T.cantidad||0),0),[a]),E=y.useMemo(()=>(a==null?void 0:a.total)??((a==null?void 0:a.productos)||[]).reduce((O,T)=>O+T.precio*T.cantidad,0),[a]),k=y.useMemo(()=>({cart:a,loading:o,error:u,itemCount:C,total:E,fetchOrCreateCart:b,addItem:j,removeItem:N,updateQty:S,clearCart:A}),[a,o,u,C,E,b,j,N,S,A]);return r.jsx(Uk.Provider,{value:k,children:e})},RB=({message:e="Cargando..."})=>r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#009BBF] mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:e})]});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),mA=e=>{const t=IB(e);return t.charAt(0).toUpperCase()+t.slice(1)},qk=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),zB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $B={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:c,...u},f)=>y.createElement("svg",{ref:f,...$B,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:qk("lucide",s),...!o&&!zB(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,h])=>y.createElement(m,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=y.forwardRef(({className:a,...s},o)=>y.createElement(BB,{ref:o,iconNode:t,className:qk(`lucide-${LB(mA(e))}`,`lucide-${e}`,a),...s}));return n.displayName=mA(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],qB=Ae("activity",UB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],VB=Ae("archive",FB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],GB=Ae("arrow-left",HB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fg=Ae("arrow-right",KB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rv=Ae("award",YB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],XB=Ae("battery",WB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],QB=Ae("bell",ZB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],eU=Ae("bike",JB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],nU=Ae("bird",tU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]],rU=Ae("bluetooth",aU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],iU=Ae("book",sU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Ph=Ae("bookmark",oU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],cU=Ae("briefcase",lU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],dU=Ae("brush",uU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],mU=Ae("bug",fU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Pl=Ae("building-2",hU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],gU=Ae("building",pU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],yU=Ae("bus",xU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],bU=Ae("calculator",vU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],wU=Ae("calendar-check",jU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Yr=Ae("calendar",NU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_h=Ae("camera",SU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],AU=Ae("car",CU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],OU=Ae("cat",EU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],TU=Ae("chart-no-axes-column-increasing",kU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],PU=Ae("chart-pie",MU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dh=Ae("check",_U);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Il=Ae("chevron-down",DU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fk=Ae("chevron-left",RU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kb=Ae("chevron-right",LU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mt=Ae("circle-alert",IU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Os=Ae("circle-check-big",zU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],BU=Ae("circle-x",$U);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],qU=Ae("clipboard-list",UU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Va=Ae("clock",FU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],HU=Ae("cloud",VU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],KU=Ae("coffee",GU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WU=Ae("compass",YU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ZU=Ae("credit-card",XU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],JU=Ae("dog",QU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Si=Ae("dollar-sign",eq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sv=Ae("download",tq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],aq=Ae("droplet",nq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iv=Ae("eye-off",rq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qt=Ae("eye",sq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],oq=Ae("factory",iq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vk=Ae("file-text",lq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],uq=Ae("file",cq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],fq=Ae("fish",dq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],hq=Ae("flag",mq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],gq=Ae("flower",pq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],yq=Ae("folder",xq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Hk=Ae("funnel",vq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],jq=Ae("gamepad-2",bq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Nq=Ae("gift",wq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],wo=Ae("glasses",Sq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Aq=Ae("globe",Cq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Oq=Ae("graduation-cap",Eq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],Tq=Ae("hammer",kq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Pq=Ae("headphones",Mq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Dq=Ae("heart",_q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],Lq=Ae("hospital",Rq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],zq=Ae("house",Iq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Yb=Ae("image",$q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Wb=Ae("info",Bq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],qq=Ae("key",Uq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],Vq=Ae("laptop",Fq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Gk=Ae("layers",Hq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Kq=Ae("layout-dashboard",Gq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Wq=Ae("leaf",Yq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Zq=Ae("lightbulb",Xq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],pd=Ae("loader",Qq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xb=Ae("lock",Jq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tF=Ae("log-out",eF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rc=Ae("mail",nF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vi=Ae("map-pin",aF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Kk=Ae("menu",rF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],iF=Ae("mic",sF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],lF=Ae("monitor",oF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],uF=Ae("moon",cF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],fF=Ae("music",dF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],hF=Ae("navigation",mF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ma=Ae("package",pF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],xF=Ae("paint-bucket",gF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Zb=Ae("palette",yF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Qb=Ae("pen-line",vF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Yk=Ae("percent",bF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ci=Ae("phone",jF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],NF=Ae("pizza",wF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],CF=Ae("plane",SF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pr=Ae("plus",AF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],OF=Ae("rabbit",EF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],TF=Ae("receipt",kF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wk=Ae("refresh-cw",MF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Am=Ae("ruler",PF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zl=Ae("save",_F);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],RF=Ae("school",DF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],IF=Ae("scissors",LF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Oa=Ae("search",zF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xk=Ae("settings",$F);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],UF=Ae("shield",BF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Jb=Ae("shopping-bag",qF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Zk=Ae("shopping-cart",FF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],HF=Ae("smartphone",VF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],KF=Ae("snowflake",GF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]],WF=Ae("speaker",YF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wn=Ae("square-pen",XF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ov=Ae("star",ZF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Qk=Ae("stethoscope",QF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],eV=Ae("store",JF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nV=Ae("sun",tV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],rV=Ae("tablet",aV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xs=Ae("tag",sV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],ia=Ae("tags",iV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jk=Ae("target",oV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],cV=Ae("thermometer",lV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],dV=Ae("timer",uV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],mV=Ae("tram-front",fV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cn=Ae("trash-2",hV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],gV=Ae("trending-down",pV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eT=Ae("trending-up",xV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Im=Ae("triangle-alert",yV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bV=Ae("trophy",vV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]],wV=Ae("umbrella",jV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bi=Ae("upload",NV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ko=Ae("user-check",SV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],tT=Ae("user-x",CV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ks=Ae("user",AV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gd=Ae("users",EV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],kV=Ae("video",OV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],MV=Ae("wifi",TV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],_V=Ae("wind",PV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],nT=Ae("wrench",DV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hr=Ae("x",RV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aT=Ae("zap",LV),yr=({type:e="success",message:t="",onClose:n})=>{if(y.useEffect(()=>{if(!t)return;const u=setTimeout(()=>{n&&n()},5e3);return()=>clearTimeout(u)},[t,n]),!t)return null;let a="bg-green-100",s="text-green-800",o="border-green-300",c=r.jsx(Os,{className:"w-7 h-7 text-green-500"});return e==="error"?(a="bg-red-100",s="text-red-800",o="border-red-300",c=r.jsx(mt,{className:"w-7 h-7 text-red-500"})):e==="info"?(a="bg-blue-100",s="text-blue-800",o="border-blue-300",c=r.jsx(Wb,{className:"w-7 h-7 text-blue-500"})):e==="delete"&&(a="bg-red-200",s="text-red-900",o="border-red-400",c=r.jsx(Cn,{className:"w-7 h-7 text-red-600"})),r.jsxs("div",{className:`flex items-center justify-between gap-4 px-5 py-4 rounded-xl shadow-2xl border ${a} ${o} ${s} animate-fadeInDown font-medium text-base max-w-md mx-auto`,style:{boxShadow:"0 8px 32px 0 rgba(60, 60, 60, 0.18)"},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[c,r.jsx("span",{className:"leading-tight",style:{fontFamily:"inherit",letterSpacing:"0.01em"},children:t})]}),r.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Cerrar notificación",tabIndex:0,children:r.jsx(hr,{className:"w-5 h-5"})}),r.jsx("style",{children:`
        @keyframes fadeInDown {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInDown { animation: fadeInDown 0.5s cubic-bezier(.4,0,.2,1); }
      `})]})},IV=({sidebarOpen:e,setSidebarOpen:t,mobileMenuOpen:n,setMobileMenuOpen:a,menuItems:s,activeSection:o,setActiveSection:c})=>{const[u,f]=Kn.useState(!1),m=Kn.useRef(null),h=Kn.useRef(null),g=Kn.useRef(null),[x,b]=Kn.useState(null),{user:j,logout:N}=zn(),S=es(),[A,C]=y.useState(!1);let E={name:"Usuario",role:"Sin rol",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format&q=80"};if(j){const P=_=>{if(_.fotoPerfil&&_.fotoPerfil.trim())return _.fotoPerfil;if(_.avatar&&_.avatar.trim())return _.avatar;if(_.foto&&_.foto.trim())return _.foto;const z=_.nombre||_.name||"",V=_.apellido||"",B=`${z} ${V}`.trim();if(B)return`https://ui-avatars.com/api/?name=${encodeURIComponent(B)}&size=150&background=06b6d4&color=ffffff&bold=true&font-size=0.6`;const W=_.userType||_.rol||"Usuario";return`https://ui-avatars.com/api/?name=${encodeURIComponent(W)}&size=150&background=64748b&color=ffffff&bold=true&font-size=0.6`};j.userType==="cliente"||j.rol==="Cliente"?E={name:`${j.nombre||""} ${j.apellido||""}`.trim()||"Cliente",role:j.rol||"Cliente",avatar:P(j)}:E={name:j.nombre||j.name||"Empleado",role:j.rol||j.role||"Empleado",avatar:P(j)}}const k=()=>{a(!1)};Kn.useEffect(()=>{const P=_=>{m.current&&!m.current.contains(_.target)&&f(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),Kn.useEffect(()=>{if(n){const P=document.body.style.overflow;document.body.style.overflow="hidden";const _=z=>{z.key==="Escape"&&k()};return document.addEventListener("keydown",_),()=>{document.body.style.overflow=P,document.removeEventListener("keydown",_)}}},[n]),Kn.useEffect(()=>{const P=()=>{var K,I;const V=((K=h.current)==null?void 0:K.offsetHeight)||0,B=((I=g.current)==null?void 0:I.offsetHeight)||0,W=window.innerHeight||0,oe=Math.max(W-V-B,120);b(oe)};P();const _=new ResizeObserver(P);h.current&&_.observe(h.current),g.current&&_.observe(g.current),window.addEventListener("resize",P);const z=setTimeout(P,0);return()=>{clearTimeout(z),window.removeEventListener("resize",P);try{_.disconnect()}catch{}}},[e,n]);const O=()=>{N(),f(!1),C(!0),setTimeout(()=>C(!1),2500),setTimeout(()=>S("/"),800)},T=()=>{console.log("Ver perfil..."),f(!1)};return r.jsxs(r.Fragment,{children:[A&&r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md px-4",children:r.jsx(yr,{type:"info",message:"Sesión cerrada correctamente",onClose:()=>C(!1)})}),r.jsx("button",{onClick:()=>a(!0),className:"fixed top-4 left-4 z-50 md:hidden bg-cyan-500 hover:bg-cyan-600 text-white p-3 rounded-xl shadow-lg transition-all duration-300 hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-cyan-300","aria-label":"Abrir menú",children:r.jsx(Kk,{className:"w-6 h-6"})}),n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-fadeIn backdrop-blur-sm",onClick:k}),r.jsxs("div",{className:`
        bg-white shadow-xl min-h-screen fixed left-0 top-0 z-50 overflow-visible
        transition-all duration-300 ease-out transform-gpu
        
        /* Medidas: móvil más grandes, desktop como la versión antigua */
        ${e?"w-[85vw] max-w-[280px] sm:w-[80vw] sm:max-w-[300px] md:w-60 lg:w-64":"w-[85vw] max-w-[280px] sm:w-[80vw] sm:max-w-[300px] md:w-16"}
        
        /* Estados de visibilidad */
        ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
        
        /* Bordes y sombras */
        border-r border-gray-200
        
        /* Backdrop filter para efecto glass en móvil */
        backdrop-blur-md md:backdrop-blur-none
        bg-white/95 md:bg-white
      `,children:[r.jsx("div",{ref:h,className:"p-2 sm:p-3 md:p-2 lg:p-3 border-b border-gray-200 bg-gradient-to-r from-cyan-50 to-blue-50",children:r.jsxs("div",{className:"flex items-center justify-between md:justify-start",children:[r.jsx("button",{onClick:()=>window.innerWidth>=768&&t(!e),className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-10 lg:h-10 bg-white rounded-lg shadow-md flex items-center justify-center p-1 flex-shrink-0 hover:shadow-lg transition-all duration-300 cursor-pointer hover:scale-110 hover:rotate-3 active:scale-95 active:rotate-0 group focus:outline-none focus:ring-2 focus:ring-cyan-300",title:e?"Contraer menú":"Expandir menú",children:r.jsx("div",{className:`transform transition-all duration-700 ease-in-out group-hover:scale-125 ${e?"rotate-180":"rotate-0"}`,children:r.jsx(Kb,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-4 md:h-4 lg:w-5 lg:h-5 text-gray-600 transition-all duration-700 ease-in-out"})})}),r.jsxs("div",{className:`ml-2 sm:ml-3 md:ml-2 lg:ml-3 min-w-0 transition-all duration-700 ease-in-out transform ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-20 h-8 sm:w-22 sm:h-9 md:w-20 md:h-8 lg:w-27 lg:h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("span",{className:"text-xs sm:text-sm md:text-[10px] lg:text-xs text-gray-500 block truncate animate-pulse",children:"Sistema de Gestión"})]}),r.jsx("button",{onClick:k,className:"md:hidden p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all duration-200 hover:scale-110 hover:rotate-90 active:scale-90 focus:outline-none focus:ring-2 focus:ring-cyan-300","aria-label":"Cerrar menú",children:r.jsx(hr,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"py-2 sm:py-3 md:py-2 overflow-y-auto custom-scrollbar-hidden",style:{height:x?`${x}px`:void 0},children:["Principal","Personal","Productos","Médico","Administración"].map((P,_)=>{const z=(s||[]).filter(V=>V.section===P);return z.length===0?null:r.jsxs("div",{className:"mb-3 sm:mb-4 md:mb-3 lg:mb-4",style:{animationDelay:`${_*100}ms`},children:[r.jsx("h3",{className:`px-3 sm:px-4 md:px-3 lg:px-4 mb-2 sm:mb-3 md:mb-2 text-xs sm:text-sm md:text-xs font-semibold text-gray-500 uppercase tracking-wider transition-all duration-700 ease-in-out transform ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:P}),z.map((V,B)=>r.jsxs("button",{onClick:()=>{console.log("[Sidebar] click item ->",V.id),c(V.id),setTimeout(()=>k(),0)},className:`w-full flex items-center px-3 sm:px-4 md:px-3 lg:px-4 py-2 sm:py-3 md:py-2 lg:py-2.5 text-left bg-white hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-300 group relative transform hover:scale-105 hover:translate-x-1 active:scale-95 active:translate-x-0 overflow-hidden focus:outline-none focus:ring-0 outline-none ${o===V.id?"active-gradient-item text-cyan-700 border-r-4 border-cyan-500 shadow-sm":"text-gray-600"}`,style:{animationDelay:`${_*200+B*50}ms`,animationFillMode:"both"},children:[o===V.id&&r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-100 to-blue-100 animate-gradientFlow"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-cyan-100 animate-gradientFlowReverse"})]}),r.jsx(V.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 md:w-4 md:h-4 lg:w-5 lg:h-5 ${o===V.id?"text-cyan-600":"text-gray-400"} group-hover:text-cyan-600 transition-all duration-300 flex-shrink-0 transform group-hover:scale-125 group-hover:rotate-12 group-hover:animate-bounce-soft relative z-10`}),r.jsx("span",{className:`ml-3 sm:ml-4 md:ml-2 lg:ml-3 font-medium text-sm sm:text-base md:text-sm truncate transform transition-all duration-700 ease-in-out group-hover:translate-x-1 relative z-10 ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:V.label}),!e&&r.jsx("div",{className:"hidden md:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs sm:text-sm rounded opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 transform scale-75 group-hover:scale-100 animate-pop-in",children:V.label}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:animate-shine pointer-events-none z-20"}),o===V.id&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute right-3 sm:right-4 md:right-2 top-1/2 transform -translate-y-1/2 w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-0.5 md:h-0.5 bg-cyan-400 rounded-full animate-twinkle z-30"}),r.jsx("div",{className:"absolute right-4 sm:right-5 md:right-4 top-1/3 transform -translate-y-1/2 w-0.5 h-0.5 sm:w-1 sm:h-1 md:w-0.5 md:h-0.5 bg-blue-400 rounded-full animate-twinkle z-30",style:{animationDelay:"0.5s"}}),r.jsx("div",{className:"absolute right-3.5 sm:right-4.5 md:right-3 top-2/3 transform -translate-y-1/2 w-0.5 h-0.5 sm:w-1 sm:h-1 md:w-0.5 md:h-0.5 bg-cyan-300 rounded-full animate-twinkle z-30",style:{animationDelay:"1s"}})]})]},V.id))]},P)})}),r.jsx("div",{ref:g,className:"absolute bottom-0 left-0 right-0 p-2 sm:p-3 md:p-1.5 border-t border-gray-200 bg-white bg-gradient-to-r from-gray-50 to-gray-100 relative z-40",children:r.jsxs("div",{className:"relative",ref:m,children:[r.jsxs("button",{onClick:()=>{!e&&window.innerWidth>=768?(t(!0),setTimeout(()=>{f(!0)},400)):f(!u)},className:`w-full flex items-center bg-white hover:bg-white rounded-lg transition-all duration-300 group hover:shadow-md transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-cyan-300 ${e||window.innerWidth<768?"p-2 sm:p-3 md:p-1.5":"p-1 justify-center"}`,children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:E.avatar,alt:E.name,className:`rounded-full object-cover border-2 border-cyan-200 group-hover:border-cyan-400 transition-all duration-300 shadow-md group-hover:shadow-lg ${e||window.innerWidth<768?"w-10 h-10 sm:w-12 sm:h-12 md:w-10 md:h-10 lg:w-12 lg:h-12":"w-8 h-8 sm:w-10 sm:h-10 md:w-8 md:h-8"}`,onError:P=>{const _=E.name||"Usuario";P.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(_)}&size=150&background=06b6d4&color=ffffff&bold=true&font-size=0.6`},loading:"lazy"}),r.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 bg-green-400 border-2 border-white rounded-full animate-pulse ${e||window.innerWidth<768?"w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-2 md:h-2":"w-1.5 h-1.5 sm:w-2 sm:h-2 md:w-1.5 md:h-1.5"}`,title:"En línea"})]}),r.jsxs("div",{className:`ml-3 sm:ml-4 md:ml-2 flex-1 min-w-0 transition-all duration-700 ease-in-out transform ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:[r.jsx("p",{className:"text-sm sm:text-base md:text-xs lg:text-sm font-semibold text-gray-800 truncate group-hover:text-cyan-700 transition-colors leading-tight",children:E.name}),r.jsx("p",{className:"text-xs sm:text-sm md:text-[10px] lg:text-xs text-gray-500 truncate leading-tight",children:E.role})]}),(e||window.innerWidth<768)&&r.jsx(Il,{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-3 md:h-3 text-gray-400 group-hover:text-cyan-600 transition-all duration-300 transform ${u?"rotate-180":"rotate-0"}`})]}),u&&(e||window.innerWidth<768)&&r.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white rounded-lg shadow-xl border border-gray-200 py-2 animate-slideUp z-[60]",children:[r.jsxs("button",{onClick:T,className:"w-full bg-white flex items-center px-3 sm:px-4 md:px-3 py-2 sm:py-3 md:py-1.5 text-sm sm:text-base md:text-xs text-gray-700 hover:bg-gray-50 hover:text-cyan-600 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-cyan-300",children:[r.jsx(ks,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-5 md:h-5 mr-3 sm:mr-4 md:mr-2 text-gray-400 group-hover:text-cyan-500 transition-colors"}),"Ver Perfil"]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs("button",{onClick:O,className:"w-full flex bg-white items-center px-3 sm:px-4 md:px-3 py-2 sm:py-3 md:py-1.5 text-sm sm:text-base md:text-xs text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-200 group focus:outline-none focus:ring-2 focus:ring-red-300",children:[r.jsx(tF,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-5 md:h-5 mr-3 sm:mr-4 md:mr-2 text-red-500 group-hover:text-red-600 transition-colors"}),"Cerrar Sesión"]})]}),!e&&window.innerWidth>=768&&r.jsx("div",{className:"hidden md:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 transform scale-75 group-hover:scale-100 animate-pop-in",children:E.name})]})}),r.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:r.jsx("div",{className:"absolute top-0 left-0 w-1 sm:w-1.5 md:w-0.5 h-full bg-gradient-to-b from-cyan-400 via-blue-500 to-cyan-400 opacity-30 animate-pulse"})})]}),r.jsx("style",{children:`
        /* Custom scrollbar OCULTO - Solo aparece al hacer scroll */
        .custom-scrollbar-hidden {
          scrollbar-width: none; /* Firefox - ocultar completamente */
          -ms-overflow-style: none; /* IE/Edge - ocultar completamente */
        }
        
        .custom-scrollbar-hidden::-webkit-scrollbar {
          width: 0px; /* Chrome, Safari, Opera - ocultar completamente */
          background: transparent;
        }
        
        /* Si quisieras que aparezca solo al hover (opcional, comentado por defecto) */
        /*
        .custom-scrollbar-hidden:hover {
          scrollbar-width: thin;
          scrollbar-color: #06b6d4 #f1f5f9;
        }
        
        .custom-scrollbar-hidden:hover::-webkit-scrollbar {
          width: 6px;
        }
        
        .custom-scrollbar-hidden:hover::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 10px;
        }
        
        .custom-scrollbar-hidden:hover::-webkit-scrollbar-thumb {
          background: linear-gradient(180deg, #06b6d4, #0891b2);
          border-radius: 10px;
        }
        
        .custom-scrollbar-hidden:hover::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(180deg, #0891b2, #0e7490);
        }
        */
        
        /* ELIMINACIÓN DE OUTLINE/FOCUS VISIBLE EN BOTONES */
        button:focus {
          outline: none !important;
          box-shadow: none !important;
        }
        
        button:focus-visible {
          outline: none !important;
          box-shadow: none !important;
        }
        
        button:active {
          outline: none !important;
          box-shadow: none !important;
        }
        
        /* Asegurar que no hay outline en ningún elemento clickeable */
        *:focus {
          outline: none !important;
        }
        
        *:focus-visible {
          outline: none !important;
        }
        
        /* Animaciones de la versión antigua */
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(10px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        @keyframes gradientFlow {
          0% { 
            background-size: 200% 100%;
            background-position: 0% 0%;
          }
          100% { 
            background-size: 200% 100%;
            background-position: 200% 0%;
          }
        }
        
        @keyframes gradientFlowReverse {
          0% { 
            background-size: 200% 100%;
            background-position: 200% 0%;
            opacity: 0.3;
          }
          100% { 
            background-size: 200% 100%;
            background-position: 0% 0%;
            opacity: 0.7;
          }
        }
        
        @keyframes pop-in {
          0% { 
            opacity: 0; 
            transform: scale(0.8) translateY(10px);
          }
          100% { 
            opacity: 1; 
            transform: scale(1) translateY(0);
          }
        }
        
        @keyframes shine {
          0% { transform: translateX(-100%) skewX(-12deg); }
          100% { transform: translateX(300%) skewX(-12deg); }
        }
        
        @keyframes twinkle {
          0%, 100% { 
            opacity: 0; 
            transform: scale(0);
          }
          50% { 
            opacity: 1; 
            transform: scale(1);
          }
        }
        
        @keyframes bounce-soft {
          0%, 100% { transform: scale(1) rotate(0deg); }
          25% { transform: scale(1.1) rotate(3deg); }
          50% { transform: scale(1.05) rotate(-2deg); }
          75% { transform: scale(1.08) rotate(1deg); }
        }
        
        /* Clases de animación */
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        .animate-slideUp {
          animation: slideUp 0.2s ease-out;
        }
        .animate-bounce-soft {
          animation: bounce-soft 0.6s ease-in-out;
        }
        .animate-pop-in {
          animation: pop-in 0.3s ease-out;
        }
        .animate-shine {
          animation: shine 0.8s ease-out;
        }
        .animate-twinkle {
          animation: twinkle 2s infinite;
        }
        .animate-gradientFlow {
          animation: gradientFlow 4s linear infinite;
        }
        .animate-gradientFlowReverse {
          animation: gradientFlowReverse 4s linear infinite;
        }
        
        /* Estilos especiales */
        .active-gradient-item {
          position: relative;
        }
        .transform-gpu {
          transform: translateZ(0);
          backface-visibility: hidden;
          perspective: 1000px;
        }
        
        /* Responsive breakpoints de la versión antigua */
        @media (max-width: 480px) {
          .responsive-sidebar {
            font-size: 0.7rem;
          }
        }
        
        @media (min-width: 481px) and (max-width: 768px) {
          .responsive-sidebar {
            font-size: 0.75rem;
          }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
          .responsive-sidebar {
            font-size: 0.85rem;
          }
        }
        
        @media (min-width: 1025px) {
          .responsive-sidebar {
            font-size: 1rem;
          }
        }
        
        /* Mejoras de accesibilidad */
        @media (prefers-reduced-motion: reduce) {
          * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
          }
        }
        
        /* Asegurar que no hay ring o focus visible */
        .focus\\:outline-none:focus {
          outline: none !important;
          box-shadow: none !important;
        }
        
        .focus\\:ring-2:focus {
          box-shadow: none !important;
        }
        
        .focus\\:ring-0:focus {
          box-shadow: none !important;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
          .border-gray-200 {
            border-color: #000;
          }
          .text-gray-500 {
            color: #000;
          }
          .text-gray-600 {
            color: #000;
          }
        }
      `})]})},$l=(e,t)=>{const[n,a]=y.useState(e),[s,o]=y.useState({}),[c,u]=y.useState(!1),[f,m]=y.useState({}),h=y.useCallback(O=>{const{name:T,value:P,type:_,checked:z}=O.target;let V=P;if(_==="checkbox"?V=z:_==="number"&&(V=P===""?"":Number(P)),T.includes(".")){const[B,W]=T.split(".");a(oe=>({...oe,[B]:{...oe[B]||{},[W]:V}})),s[T]&&o(oe=>({...oe,[T]:null}))}else a(B=>({...B,[T]:V})),s[T]&&o(B=>({...B,[T]:null}));m(B=>({...B,[T]:!0}))},[s]),g=y.useCallback((O,T)=>{const P=O.split(".");a(_=>{const z={..._};let V=z;for(let B=0;B<P.length-1;B++)V[P[B]]||(V[P[B]]={}),V=V[P[B]];return V[P[P.length-1]]=T,z}),s[O]&&o(_=>({..._,[O]:null})),m(_=>({..._,[O]:!0}))},[s]),x=y.useCallback(()=>{a(e),o({}),m({}),u(!1)},[e]),b=y.useCallback((O=!1)=>{if(!t)return!0;const T=t(n,O);return o(T),Object.keys(T).length===0},[n,t]),j=y.useCallback(O=>{if(!t)return!0;const P=t(n,!1)[O];return o(_=>({..._,[O]:P})),!P},[n,t]),N=y.useCallback(async(O,T=!1)=>{u(!0);try{b(T)&&await O(n)}catch(P){console.error("Error en submit:",P)}finally{u(!1)}},[n,b]),S=y.useCallback(O=>{a(O),o({}),m({})},[]),A=y.useCallback(()=>JSON.stringify(n)!==JSON.stringify(e),[n,e]),C=y.useCallback(O=>O.includes(".")?O.split(".").reduce((P,_)=>P==null?void 0:P[_],n):n[O],[n]),E=y.useCallback(O=>!!s[O],[s]),k=y.useCallback(O=>!!f[O],[f]);return{formData:n,errors:s,touched:f,isSubmitting:c,handleInputChange:h,handleNestedChange:g,resetForm:x,validateForm:b,validateField:j,handleSubmit:N,setFormData:S,isFormDirty:A,getFieldValue:C,hasError:E,isFieldTouched:k,setFormData:S,setErrors:o}},sc=(e,t=5)=>{const[n,a]=y.useState(0),[s,o]=y.useState(t),c=Array.isArray(e)?e:[],u=c.length,f=Math.ceil(u/s),m=y.useMemo(()=>{const j=n*s;return c.slice(j,j+s)},[c,n,s]);return y.useEffect(()=>{a(0)},[u,s]),{currentPage:n,totalPages:f,paginatedData:m,goToNextPage:()=>a(j=>Math.min(j+1,f-1)),goToPreviousPage:()=>a(j=>Math.max(j-1,0)),goToFirstPage:()=>a(0),goToLastPage:()=>a(f>0?f-1:0),pageSize:s,setPageSize:o}},Ai=({title:e,buttonLabel:t,onButtonClick:n})=>r.jsx("div",{className:"bg-cyan-500 text-white p-4 sm:p-6 rounded-t-xl",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[r.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:e}),r.jsxs("button",{onClick:n,className:"w-full sm:w-auto bg-white text-cyan-500 px-3 sm:px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:t})]})]})}),zV=({title:e,value:t,Icon:n,color:a="cyan"})=>{const s={cyan:"bg-cyan-100 text-cyan-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",purple:"bg-purple-100 text-purple-600"};return r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:e}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:t})]}),r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s[a]}`,children:r.jsx(n,{className:"w-6 h-6"})})]})})},ic=({stats:e})=>r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((t,n)=>r.jsx(zV,{title:t.title,value:t.value,Icon:t.Icon,color:t.color},n))}),Rh=({searchTerm:e,onSearchChange:t,filters:n,activeFilter:a,onFilterChange:s,searchPlaceholder:o="Buscar..."})=>r.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-stretch sm:items-center",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(Oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:o,value:e,onChange:t,className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm sm:text-base"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(c=>r.jsx("button",{onClick:()=>s(c.value),className:`px-2 sm:px-3 md:px-4 py-2 rounded-lg transition-colors text-xs sm:text-sm font-medium ${a===c.value?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:c.label},c.value))})]})}),To=({columns:e=[],data:t=[],renderRow:n,noDataMessage:a="No se encontraron datos.",noDataSubMessage:s="Intenta con otros términos de búsqueda"})=>{const o=(c,u)=>u.render?u.render(c):u.key?u.key.split(".").reduce((m,h)=>m==null?void 0:m[h],c)||"-":(console.warn('Column definition missing "key" property and no custom render function:',u),"-");return r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsx("tr",{children:e.map(c=>r.jsx("th",{className:"px-2 md:px-3 py-1 md:py-2 text-left font-semibold text-xs",children:c.label||c.header},c.key||c.header))})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length>0?t.map((c,u)=>r.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:n?n(c):e.map(f=>r.jsx("td",{className:"px-2 md:px-3 py-1 md:py-2 text-gray-700 text-xs",children:o(c,f)},f.key||f.header))},c._id||u)):r.jsx("tr",{children:r.jsxs("td",{colSpan:e.length,className:"text-center p-4 sm:p-6 md:p-8",children:[r.jsx(gd,{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 sm:mb-4"}),r.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-medium text-gray-900",children:a}),s&&r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:s})]})})})]})})},Ei=({currentPage:e,totalPages:t,goToFirstPage:n,goToPreviousPage:a,goToNextPage:s,goToLastPage:o,pageSize:c,setPageSize:u})=>t<=1?null:r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-3 sm:gap-4 pb-4 sm:pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700 text-xs sm:text-sm",children:"Mostrar"}),r.jsx("select",{value:c,onChange:f=>u(Number(f.target.value)),className:"border border-cyan-500 rounded py-1 px-2 text-xs sm:text-sm",children:[5,10,15,20].map(f=>r.jsx("option",{value:f,children:f},f))}),r.jsx("span",{className:"text-gray-700 text-xs sm:text-sm",children:"por página"})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx("button",{onClick:n,disabled:e===0,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:"<<"}),r.jsx("button",{onClick:a,disabled:e===0,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium text-xs sm:text-sm px-2",children:["Página ",e+1," de ",t]}),r.jsx("button",{onClick:s,disabled:e===t-1,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:">"}),r.jsx("button",{onClick:o,disabled:e===t-1,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:">>"})]})]}),Xr=({isOpen:e,onClose:t,onConfirm:n,title:a,message:s})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all animate-bounceIn",children:[r.jsx("div",{className:"bg-red-500 text-white p-6 rounded-t-xl",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(mt,{className:"w-6 h-6"}),r.jsx("h3",{className:"text-xl font-bold",children:a})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:s}),r.jsx("p",{className:"text-red-600 text-sm",children:"Esta acción no se puede deshacer."})]}),r.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[r.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancelar"}),r.jsxs("button",{onClick:n,className:"btn-danger flex items-center space-x-2",children:[r.jsx(Cn,{className:"w-4 h-4"}),r.jsx("span",{children:"Confirmar"})]})]})]})}):null,_r=({isOpen:e,onClose:t,title:n,item:a,data:s=[],actions:o=[],children:c})=>{var u,f;return!e||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 animate-slideInScale",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-5 rounded-t-xl flex justify-between items-center flex-shrink-0",children:[r.jsx("h3",{className:"text-xl font-bold",children:n}),r.jsx("button",{onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:r.jsx(hr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[((a==null?void 0:a.nombre)||(a==null?void 0:a.apellido)||(a==null?void 0:a.cargo)||typeof(a==null?void 0:a.edad)=="number"||(a==null?void 0:a.fotoPerfil))&&r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.fotoPerfil?r.jsx("img",{src:a.fotoPerfil,alt:a.nombre||"",className:"w-full h-full rounded-full object-cover"}):r.jsxs("span",{className:"text-cyan-600 font-bold text-2xl",children:[((u=a.nombre)==null?void 0:u.charAt(0))||"",((f=a.apellido)==null?void 0:f.charAt(0))||""]})}),r.jsxs("div",{children:[(a.nombre||a.apellido)&&r.jsxs("h4",{className:"text-2xl font-bold text-gray-800",children:[a.nombre," ",a.apellido]}),(a.cargo||typeof(a==null?void 0:a.edad)=="number")&&r.jsx("p",{className:"text-gray-500",children:a.cargo||`${a.edad} años`})]})]}),r.jsx("div",{className:"space-y-2 pt-4 border-t",children:s.map((m,h)=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between py-2 border-b last:border-b-0",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:m.label}),m.color?r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.color} mt-1 sm:mt-0`,children:m.value}):Kn.isValidElement(m.value)?r.jsx("div",{className:"text-gray-800 text-left sm:text-right break-words",children:m.value}):r.jsx("p",{className:"text-gray-800 text-left sm:text-right break-words",children:m.value})]},h))}),c&&r.jsx("div",{className:"space-y-4",children:c})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-b-xl flex flex-wrap gap-2 justify-end flex-shrink-0",children:[o&&o.map((m,h)=>r.jsxs("button",{onClick:m.onClick,className:`px-5 py-2 rounded-lg font-semibold transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-400 ${m.color==="red"?"bg-red-500 text-white hover:bg-red-600":m.color==="green"?"bg-green-500 text-white hover:bg-green-600":"bg-cyan-500 text-white hover:bg-cyan-600"}`,style:m.style,children:[m.icon&&r.jsx("span",{className:"inline-block mr-2 align-middle",children:m.icon}),m.label]},h)),r.jsx("button",{onClick:t,className:"px-5 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105",children:"Cerrar"})]})]})})},vl=({name:e,label:t,error:n,formData:a,handleInputChange:s,nested:o,...c})=>{const u=()=>{if(o){const m=e.split(".").reduce((h,g)=>h==null?void 0:h[g],a);return c.type==="number"?m??"":m||""}return c.type==="number"?a[e]===null||a[e]===void 0?"":a[e]:a[e]||""};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("input",{name:e,value:u(),onChange:s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,...c}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},$V=({name:e,label:t,error:n,formData:a,handleInputChange:s,nested:o,...c})=>{const u=()=>o?!!e.split(".").reduce((g,x)=>g==null?void 0:g[x],a):!!a[e],f=m=>{s({target:{name:e,value:m.target.checked}})};return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{name:e,type:"checkbox",checked:u(),onChange:f,className:`h-4 w-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 ${n?"border-red-500 animate-shake":""}`,...c}),r.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:t}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},BV=({name:e,label:t,error:n,formData:a,handleInputChange:s,options:o,placeholder:c,nested:u,...f})=>{const m=()=>{if(u)return e.split(".").reduce((b,j)=>b==null?void 0:b[j],a)||"";const g=a[e];return typeof g=="boolean"?g.toString():g||""},h=g=>{const x=g.target.value;if(e==="disponible"){s({target:{name:e,value:x==="true"}});return}s(g)};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsxs("select",{name:e,value:m(),onChange:h,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,...f,children:[r.jsx("option",{value:"",children:c||"Seleccione una opción"}),o.map(g=>r.jsx("option",{value:typeof g=="object"?g.value:g,children:typeof g=="object"?g.label:g},typeof g=="object"?g.value:g))]}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},UV=({name:e,label:t,error:n,formData:a,handleInputChange:s,nested:o,...c})=>{const u=()=>o?e.split(".").reduce((m,h)=>m==null?void 0:m[h],a)||"":a[e]||"";return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("textarea",{name:e,value:u(),onChange:s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 resize-none text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,rows:"3",...c}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},qV=({name:e,label:t,error:n,formData:a,handleInputChange:s,options:o,placeholder:c,...u})=>{const f=()=>{const h=a[e];return Array.isArray(h)?h:[]},m=h=>{const g=Array.from(h.target.selectedOptions,x=>x.value);s({target:{name:e,value:g}})};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("select",{name:e,multiple:!0,value:f(),onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,size:"4",...u,children:o.map(h=>r.jsx("option",{value:typeof h=="object"?h.value:h,children:typeof h=="object"?h.label:h},typeof h=="object"?h.value:h))}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mantén presionado Ctrl (Cmd en Mac) para seleccionar múltiples opciones"})]})},FV=({name:e,label:t,error:n,formData:a,handleInputChange:s,...o})=>{const c=()=>{const f=a[e];return typeof f=="boolean"?f.toString():f||"true"},u=f=>{s({target:{name:e,value:f.target.value==="true"}})};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsxs("select",{name:e,value:c(),onChange:u,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,...o,children:[r.jsx("option",{value:"true",children:"Disponible"}),r.jsx("option",{value:"false",children:"No Disponible"})]}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(mt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},pr=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:o,errors:c,submitLabel:u="Guardar",submitIcon:f,fields:m=[],children:h,customFields:g={},gridCols:x=2})=>{if(!e)return null;const b=(N,S)=>{const{name:A,label:C,type:E,options:k,required:O,colSpan:T=1,nested:P,hidden:_,...z}=N;if(_)return null;const V=O?`${C} *`:C,B=c[A];if(g[A])return r.jsx("div",{className:`col-span-${T}`,children:g[A]},A||S);const W={name:A,label:V,error:B,formData:s,handleInputChange:o,nested:P,...z},oe=(()=>{switch(E){case"checkbox":return r.jsx($V,{...W});case"select":return r.jsx(BV,{...W,options:k});case"multi-select":return r.jsx(qV,{...W,options:k});case"boolean":return r.jsx(FV,{...W});case"textarea":return r.jsx(UV,{...W});case"number":return r.jsx(vl,{...W,type:"number"});case"email":return r.jsx(vl,{...W,type:"email"});case"date":return r.jsx(vl,{...W,type:"date"});case"url":return r.jsx(vl,{...W,type:"url"});case"password":return r.jsx(vl,{...W,type:"password"});case"text":default:return r.jsx(vl,{...W,type:"text"})}})();return r.jsx("div",{className:`col-span-${T}`,children:oe},A||S)},j=N=>{N.preventDefault(),N.stopPropagation(),n(N)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4 animate-fadeIn",children:r.jsxs("form",{onSubmit:j,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl md:max-w-4xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 animate-slideInScale",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-4 sm:p-6 rounded-t-xl sticky top-0 z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:a}),r.jsx("button",{type:"button",onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-1.5 sm:p-2 transition-all duration-200 hover:scale-110",children:r.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-${x} gap-3 sm:gap-4`,children:[h,m.map((N,S)=>b(N,S))]})}),r.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 rounded-b-xl flex flex-col sm:flex-row justify-end gap-2 sm:space-x-3 sticky bottom-0 z-10",children:[r.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all duration-200 hover:scale-105 text-sm sm:text-base",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105 flex items-center justify-center space-x-2 text-sm sm:text-base",children:[f||r.jsx(zl,{className:"w-4 h-4"}),r.jsx("span",{children:u})]})]})]})})},Ba={Ahuachapán:["Ahuachapán","Apaneca","Atiquizaya","Concepción de Ataco","El Refugio","Guaymango","Jujutla","San Francisco Menéndez","San Lorenzo","San Pedro Puxtla","Tacuba","Turín"],Cabañas:["Cinquera","Dolores","Guacotecti","Ilobasco","Jutiapa","San Isidro","Sensuntepeque","Tejutepeque","Victoria"],Chalatenango:["Agua Caliente","Arcatao","Azacualpa","Chalatenango","Citalá","Comalapa","Concepción Quezaltepeque","Dulce Nombre de María","El Carrizal","El Paraíso","La Laguna","La Palma","La Reina","Las Vueltas","Nombre de Jesús","Nueva Concepción","Nueva Trinidad","Ojos de Agua","Potonico","San Antonio de la Cruz","San Antonio Los Ranchos","San Fernando","San Francisco Lempa","San Francisco Morazán","San Ignacio","San Isidro Labrador","San José Cancasque","San José Las Flores","San Luis del Carmen","San Miguel de Mercedes","San Rafael","Santa Rita","Tejutla"],Cuscatlán:["Candelaria","Cojutepeque","El Carmen","El Rosario","Monte San Juan","Oratorio de Concepción","San Bartolomé Perulapía","San Cristóbal","San José Guayabal","San Pedro Perulapán","San Rafael Cedros","San Ramón","Santa Cruz Analquito","Santa Cruz Michapa","Suchitoto","Tenancingo"],"La Libertad":["Antiguo Cuscatlán","Ciudad Arce","Colón","Comasagua","Chiltiupán","Huizúcar","Jayaque","Jicalapa","La Libertad","Nueva San Salvador","Opico","Quezaltepeque","Sacacoyo","San José Villanueva","San Juan Opico","San Matías","San Pablo Tacachico","Talnique","Tamanique","Teotepeque","Tepecoyo","Zaragoza"],"La Paz":["Cuyultitán","El Rosario","Jerusalén","Mercedes La Ceiba","Olocuilta","Paraíso de Osorio","San Antonio Masahuat","San Emigdio","San Francisco Chinameca","San Juan Nonualco","San Juan Talpa","San Juan Tepezontes","San Luis La Herradura","San Luis Talpa","San Miguel Tepezontes","San Pedro Masahuat","San Pedro Nonualco","San Rafael Obrajuelo","Santa María Ostuma","Santiago Nonualco","Tapalhuaca","Zacatecoluca"],"La Unión":["Anamorós","Bolívar","Concepción de Oriente","Conchagua","El Carmen","El Sauce","Intipucá","La Unión","Lilí","Meanguera del Golfo","Nueva Esparta","Pasaquina","Polorós","San Alejo","San José","Santa Rosa de Lima","Yayantique","Yucuaiquín"],Morazán:["Arambala","Cacaopera","Chilanga","Corinto","Delicias de Concepción","El Divisadero","El Rosario","Gualococti","Guatajiagua","Joateca","Jocoaitique","Jocoro","Lolotiquillo","Meanguera","Osicala","Perquín","San Carlos","San Fernando","San Francisco Gotera","San Isidro","San Simón","Sensembra","Sociedad","Torola","Yamabal","Yoloaiquín"],"San Miguel":["Carolina","Chapeltique","Chinameca","Chirilagua","Ciudad Barrios","Comacarán","El Tránsito","Lolotique","Moncagua","Nueva Guadalupe","Nuevo Edén de San Juan","Quelepa","San Antonio del Mosco","San Gerardo","San Jorge","San Luis de la Reina","San Miguel","San Rafael Oriente","Sesori","Uluazapa"],"San Salvador":["Aguilares","Apopa","Ayutuxtepeque","Cuscatancingo","Delgado","El Paisnal","Guazapa","Ilopango","Mejicanos","Nejapa","Panchimalco","Rosario de Mora","San Marcos","San Martín","San Salvador","Santiago Texacuangos","Santo Tomás","Soyapango","Tonacatepeque"],"San Vicente":["Apastepeque","Guadalupe","San Cayetano Istepeque","San Esteban Catarina","San Ildefonso","San Lorenzo","San Sebastián","San Vicente","Santa Clara","Santo Domingo","Tecoluca","Tepetitán","Verapaz"],"Santa Ana":["Candelaria de la Frontera","Chalchuapa","Coatepeque","El Congo","El Porvenir","Masahuat","Metapán","San Antonio Pajonal","San Sebastián Salitrillo","Santa Ana","Santa Rosa Guachipilín","Santiago de la Frontera","Texistepeque"],Sonsonate:["Acajutla","Armenia","Caluco","Cuisnahuat","Izalco","Juayúa","Nahuizalco","Nahulingo","Salcoatitán","San Antonio del Monte","San Julián","Santa Catarina Masahuat","Santa Isabel Ishuatán","Santo Domingo de Guzmán","Sonsonate","Sonzacate"],Usulután:["Alegría","Berlín","California","Concepción Batres","El Triunfo","Ereguayquín","Estanzuelas","Jiquilisco","Jucuapa","Jucuarán","Mercedes Umaña","Nueva Granada","Ozatlán","Puerto El Triunfo","San Agustín","San Buenaventura","San Dionisio","San Francisco Javier","Santa Elena","Santa María","Santiago de María","Tecapán","Usulután"]},VV=({value:e,onChange:t,error:n,isEditing:a=!1,currentPassword:s=null,placeholder:o="Ingrese la contraseña"})=>{const[c,u]=y.useState(!1),[f,m]=y.useState(!1),[h,g]=y.useState("");y.useEffect(()=>{a&&s&&g(s)},[a,s]);const x=()=>{u(!0),g("")},b=()=>{u(!1),g(s||""),m(!1),t({target:{name:"password",value:s||""}})},j=()=>{u(!1),m(!1),t({target:{name:"password",value:h}})},N=S=>{const A=S.target.value;g(A),t({target:{name:"password",value:A}})};return a&&s&&!c?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña"}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Xb,{className:"w-5 h-5 text-gray-400"}),r.jsx("div",{className:"text-gray-500 select-none tracking-widest",children:"••••••••••••"})]}),r.jsxs("button",{type:"button",onClick:x,className:"px-3 py-1 bg-cyan-500 hover:bg-cyan-600 text-white text-sm rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(Qb,{className:"w-4 h-4"}),r.jsx("span",{children:"Cambiar"})]})]})}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"La contraseña actual se mantendrá sin cambios"})]})]}):a&&c?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva Contraseña"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:f?"text":"password",name:"password",value:h,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all text-base ${n?"border-red-500":"border-gray-300"}`,placeholder:"Ingrese la nueva contraseña",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?r.jsx(iv,{className:"w-5 h-5"}):r.jsx(Qt,{className:"w-5 h-5"})}),r.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[r.jsx("button",{type:"button",onClick:j,className:"p-1 text-green-600 hover:text-green-800 transition-colors",title:"Guardar contraseña",children:r.jsx(Dh,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:b,className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Cancelar",children:r.jsx(hr,{className:"w-4 h-4"})})]})]}),n&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:n})]}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Ingrese una nueva contraseña segura"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:f?"text":"password",name:"password",value:e,onChange:t,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all text-base ${n?"border-red-500":"border-gray-300"}`,placeholder:o,autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?r.jsx(iv,{className:"w-5 h-5"}):r.jsx(Qt,{className:"w-5 h-5"})})]}),n&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:n})]}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Debe tener al menos 6 caracteres"})]})]})},HV=({field:e,value:t,onChange:n,error:a,nested:s=!1,placeholder:o,formData:c,isDisabled:u=!1})=>{const[f,m]=y.useState(!1),h=()=>{if(s){const b=e.name.split(".");return c[b[0]]&&c[b[0]][b[1]]||""}return t},g=b=>{const{name:j,value:N}=b.target;if(s){const S=j.split("."),A=S[0],C=S[1],E=c[A]||{};n({target:{name:A,value:{...E,[C]:N}}}),C==="departamento"&&N!==E.departamento&&n({target:{name:A,value:{...E,departamento:N,ciudad:""}}})}else n(b),j==="departamento"&&N!==c.departamento&&n({target:{name:"ciudad",value:""}})},x=`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base ${a?"border-red-500 bg-red-50":u?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed":f?"border-blue-500":"border-gray-300 bg-white"}`;return e.type==="select"?(e.name==="ciudad"&&(console.log("Renderizando campo ciudad:"),console.log("- Valor actual:",h()),console.log("- Opciones disponibles:",e.options),console.log("- Campo deshabilitado:",u),console.log("- FormData departamento:",c.departamento)),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:e.name,value:h(),onChange:g,className:x,onFocus:()=>m(!0),onBlur:()=>m(!1),disabled:u,children:[r.jsx("option",{value:"",children:u?`Primero selecciona ${e.name==="ciudad"?"un departamento":e.label.toLowerCase()}`:e.placeholder||`Seleccione ${e.label.toLowerCase()}`}),Array.isArray(e.options)&&e.options.map((b,j)=>r.jsx("option",{value:b,children:b},`${e.name}-${j}-${b}`))]}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),e.name==="ciudad"&&u&&r.jsxs("p",{className:"text-blue-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:"Primero selecciona un departamento"})]})]})):e.type==="textarea"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:e.name,value:h(),onChange:g,placeholder:o||e.placeholder,className:`${x} resize-none`,rows:3,onFocus:()=>m(!0),onBlur:()=>m(!1)}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]})]}):e.name==="telefono"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"px-4 py-3 bg-gray-100 border border-gray-300 rounded-l-lg flex items-center space-x-2 text-gray-600",children:[r.jsx(Ci,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"+503"})]}),r.jsx("input",{type:"tel",name:e.name,value:t.replace("+503",""),onChange:b=>n({target:{name:e.name,value:"+503"+b.target.value}}),placeholder:"78901234",className:`flex-1 px-4 py-3 border-t border-b border-r rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base ${a?"border-red-500 bg-red-50":"border-gray-300"}`,onFocus:()=>m(!0),onBlur:()=>m(!1),maxLength:"8",inputMode:"numeric"})]}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Ingrese 8 dígitos. Ej: 78901234"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:e.type,name:e.name,value:h(),onChange:g,placeholder:o||e.placeholder,className:x,onFocus:()=>m(!0),onBlur:()=>m(!1),step:e.type==="number"?"1":void 0,min:e.type==="number"&&e.name==="edad"?"18":void 0,max:e.type==="number"&&e.name==="edad"?"100":void 0}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),e.type==="email"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Ejemplo: cliente@email.com"})]}),e.name==="dui"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Formato: 12345678-9"})]}),e.name==="edad"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Edad mínima: 18 años"})]})]})},GV=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:o,errors:c,submitLabel:u,setFormData:f,selectedCliente:m=null})=>{const[h,g]=y.useState(""),x=!!m;y.useEffect(()=>{console.log("EL_SALVADOR_DATA disponible:",Ba),console.log("Departamentos disponibles:",Object.keys(Ba)),console.log("Ejemplo - Municipios de Morazán:",Ba.Morazán)},[]),y.useEffect(()=>{if(x&&m){const E=m.password||s.password||"";g(E),!s.password&&m.password&&f(k=>({...k,password:m.password}))}},[x,m,s.password,f]);const b=()=>{x&&!s.password&&f(E=>({...E,password:h})),n()},j=y.useMemo(()=>Object.keys(Ba),[]),N=y.useMemo(()=>{const E=s.departamento;if(console.log("Calculando municipios para departamento:",E),console.log("FormData actual:",s),console.log("Departamentos disponibles en EL_SALVADOR_DATA:",Object.keys(Ba)),!E)return console.log("No hay departamento seleccionado, retornando array vacío"),[];let k=Ba[E];if(!k){const O=Object.keys(Ba).find(T=>T.normalize("NFD").replace(/[\u0300-\u036f]/g,"")===E.normalize("NFD").replace(/[\u0300-\u036f]/g,""));O&&(k=Ba[O],console.log("Departamento encontrado con normalización:",O))}return k=k||[],console.log("Municipios encontrados:",k),console.log("Ciudad actual en formData:",s.ciudad),console.log("¿Ciudad válida para el departamento?",k.includes(s.ciudad)),k},[s.departamento,s.ciudad]),S=!s.departamento,A=[{title:"👤 Información Personal",fields:[{name:"nombre",label:"Nombre Completo",type:"text",placeholder:"Ej: María Elena",required:!0},{name:"apellido",label:"Apellidos",type:"text",placeholder:"Ej: Rodríguez Pérez",required:!0},{name:"edad",label:"Edad",type:"number",placeholder:"25",required:!0},{name:"dui",label:"Número de DUI",type:"text",placeholder:"12345678-9",required:!0},{name:"telefono",label:"Teléfono",type:"text",required:!0},{name:"correo",label:"Correo Electrónico",type:"email",placeholder:"maria.rodriguez@email.com",required:!0}]},{title:"🏠 Información de Residencia",fields:[{name:"departamento",label:"Departamento",type:"select",options:j,placeholder:"Seleccione un departamento",required:!0},{name:"ciudad",label:"Ciudad/Municipio",type:"select",options:N,placeholder:S?"Primero selecciona un departamento":"Seleccione una ciudad",required:!0},{name:"calle",label:"Dirección Completa",type:"textarea",placeholder:"Colonia Santa Elena, Calle Los Rosales #456, Casa amarilla con portón negro",required:!0}]},{title:"📊 Estado del Cliente",fields:[{name:"estado",label:"Estado del Cliente",type:"select",options:["Activo","Inactivo"],required:!0}]}],C=r.jsxs("div",{className:"space-y-8",children:[A.map((E,k)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:E.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:E.fields.map((O,T)=>r.jsx("div",{className:O.type==="textarea"?"md:col-span-2":"",children:r.jsx(HV,{field:O,value:s[O.name],onChange:o,error:c[O.name],nested:!1,placeholder:O.placeholder,formData:s,isDisabled:O.name==="ciudad"&&S})},`field-${k}-${T}`))})]},`section-${k}`)),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"🔐 Acceso y Seguridad"}),r.jsx("div",{className:"max-w-md",children:r.jsx(VV,{value:s.password,onChange:o,error:c.password,isEditing:x,currentPassword:h,placeholder:"Contraseña para acceder al sistema"})})]})]});return r.jsx(pr,{isOpen:e,onClose:t,onSubmit:b,title:a,formData:s,handleInputChange:o,errors:c,submitLabel:u,fields:[],gridCols:1,size:"xl",children:C})},Kf="https://a-u-r-o-r-a.onrender.com/api/clientes",KV=()=>{const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState(null),[c,u]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(""),[S,A]=y.useState("todos"),C=async()=>{try{a(!0);const ve=(await qe.get(Kf)).data.map(xe=>({...xe,fechaRegistro:new Date(xe.createdAt).toLocaleDateString()}));t(ve)}catch(Q){oe("error","Error al cargar los clientes desde el servidor."),console.error(Q)}finally{a(!1)}};y.useEffect(()=>{C()},[]);const E=y.useMemo(()=>e.filter(Q=>{const ve=j.toLowerCase(),xe=`${Q.nombre} ${Q.apellido}`.toLowerCase().includes(ve)||Q.dui.includes(ve)||Q.correo.toLowerCase().includes(ve)||Q.telefono.includes(j),ze=S==="todos"||Q.estado.toLowerCase()===S;return xe&&ze}),[e,j,S]),{paginatedData:k,...O}=sc(E,5),{formData:T,setFormData:P,handleInputChange:_,resetForm:z,validateForm:V,errors:B,setErrors:W}=$l({nombre:"",apellido:"",edad:"",dui:"",telefono:"",correo:"",departamento:"",ciudad:"",calle:"",estado:"Activo",password:""},(Q,ve)=>{const xe={};return Q.nombre.trim()||(xe.nombre="El nombre es requerido"),Q.apellido.trim()||(xe.apellido="El apellido es requerido"),(!Q.edad||Q.edad<18||Q.edad>100)&&(xe.edad="La edad debe ser entre 18 y 100"),/^\d{8}-\d$/.test(Q.dui)||(xe.dui="DUI inválido (formato: 12345678-9)"),/^\+503[6-7]\d{7}$/.test(Q.telefono)||(xe.telefono="Teléfono inválido (formato: +503XXXXXXXX)"),/\S+@\S+\.\S+/.test(Q.correo)||(xe.correo="Email inválido"),Q.calle.trim()||(xe.calle="La dirección es requerida"),Q.ciudad.trim()||(xe.ciudad="La ciudad es requerida"),Q.departamento.trim()||(xe.departamento="El departamento es requerido"),!ve&&!Q.password&&(xe.password="La contraseña es requerida"),xe}),oe=(Q,ve)=>{u({type:Q,message:ve}),setTimeout(()=>u(null),5e3)},K=()=>{m(!1),g(!1),b(!1),o(null),z()},I=()=>{z(),W({}),o(null),m(!0)},R=Q=>{var xe,ze,Le,Ee,Fe,Ke;console.log("Cliente a editar:",Q),o(Q);const ve={nombre:Q.nombre||"",apellido:Q.apellido||"",edad:((xe=Q.edad)==null?void 0:xe.toString())||"",dui:Q.dui||"",telefono:Q.telefono||"",correo:Q.correo||"",departamento:((ze=Q.direccion)==null?void 0:ze.departamento)||Q.departamento||"",ciudad:((Le=Q.direccion)==null?void 0:Le.ciudad)||Q.ciudad||((Ee=Q.direccion)==null?void 0:Ee.municipio)||Q.municipio||"",calle:((Fe=Q.direccion)==null?void 0:Fe.calle)||Q.calle||((Ke=Q.direccion)==null?void 0:Ke.direccionDetallada)||Q.direccionDetallada||"",estado:Q.estado||"Activo",password:Q.password||""};console.log("Datos del formulario a establecer:",ve),P(ve),W({}),m(!0)},X=Q=>{o(Q),g(!0)},Z=Q=>{o(Q),b(!0)},H=async()=>{var Q,ve;if(V(!!s))try{const xe={...T,direccion:{departamento:T.departamento,ciudad:T.ciudad,calle:T.calle}};delete xe.departamento,delete xe.ciudad,delete xe.calle,console.log("Datos a enviar al backend:",xe),s?(await qe.put(`${Kf}/${s._id}`,xe),oe("success","¡Cliente actualizado exitosamente!")):(await qe.post(Kf,xe),oe("success","¡Cliente agregado exitosamente!")),C(),K()}catch(xe){const ze=((ve=(Q=xe.response)==null?void 0:Q.data)==null?void 0:ve.message)||"Ocurrió un error inesperado.";oe("error",ze),console.error(xe)}},D=async()=>{var Q,ve;if(s)try{await qe.delete(`${Kf}/${s._id}`),oe("success","¡Cliente eliminado exitosamente!"),C(),K()}catch(xe){const ze=((ve=(Q=xe.response)==null?void 0:Q.data)==null?void 0:ve.message)||"Ocurrió un error inesperado.";oe("error",ze),console.error(xe)}},$=Q=>Q==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",G=[{header:"Cliente",key:"cliente"},{header:"DUI",key:"dui"},{header:"Contacto",key:"contacto"},{header:"Dirección",key:"direccion"},{header:"Estado",key:"estado"},{header:"Fecha Registro",key:"fechaRegistro"},{header:"Acciones",key:"acciones"}],te=Q=>r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-cyan-600 font-semibold",children:[Q.nombre.charAt(0),Q.apellido.charAt(0)]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[Q.nombre," ",Q.apellido]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[Q.edad," años"]})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 font-mono",children:Q.dui}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ci,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:Q.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(rc,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:Q.correo})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(vi,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{children:Q.direccion.calle}),r.jsxs("div",{className:"text-gray-500",children:[Q.direccion.ciudad,", ",Q.direccion.departamento]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${$(Q.estado)}`,children:Q.estado})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:Q.fechaRegistro}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Z(Q),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>X(Q),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>R(Q),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]});return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(yr,{alert:c}),r.jsx(ic,{stats:[{title:"Total Clientes",value:e.length,Icon:gd,color:"cyan"},{title:"Clientes Activos",value:e.filter(Q=>Q.estado==="Activo").length,Icon:ko,color:"green"},{title:"Clientes Inactivos",value:e.filter(Q=>Q.estado==="Inactivo").length,Icon:tT,color:"red"}]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Ai,{title:"Gestión de Clientes",buttonLabel:"Añadir Cliente",onButtonClick:I}),r.jsx(Rh,{searchTerm:j,onSearchChange:Q=>N(Q.target.value),searchPlaceholder:"Buscar cliente por nombre, DUI, email o teléfono...",filters:[{label:"Todos",value:"todos"},{label:"Activos",value:"activo"},{label:"Inactivos",value:"inactivo"}],activeFilter:S,onFilterChange:A}),r.jsx(To,{columns:G,data:k,renderRow:te,isLoading:n,noDataMessage:"No se encontraron clientes",noDataSubMessage:j?"Intenta con otros términos de búsqueda":"Comienza registrando tu primer cliente"}),r.jsx(Ei,{...O})]}),f&&r.jsx(GV,{isOpen:f,onClose:K,onSubmit:H,title:s?"Editar Cliente":"Agregar Nuevo Cliente",formData:T,handleInputChange:_,errors:B,submitLabel:s?"Actualizar Cliente":"Guardar Cliente",setFormData:P,selectedCliente:s}),s&&r.jsx(_r,{isOpen:h,onClose:K,title:"Detalles del Cliente",item:s,data:[{label:"Nombre Completo",value:`${s.nombre} ${s.apellido}`},{label:"DUI",value:s.dui},{label:"Edad",value:`${s.edad} años`},{label:"Teléfono",value:s.telefono},{label:"Correo Electrónico",value:s.correo},{label:"Dirección",value:`${s.direccion.calle}, ${s.direccion.ciudad}, ${s.direccion.departamento}`},{label:"Fecha de Registro",value:s.fechaRegistro},{label:"Estado",value:s.estado,color:$(s.estado)}]}),r.jsx(Xr,{isOpen:x,onClose:K,onConfirm:D,title:"Confirmar Eliminación",message:`¿Estás seguro de que deseas eliminar al cliente ${s==null?void 0:s.nombre} ${s==null?void 0:s.apellido}?`})]})},YV="https://a-u-r-o-r-a.onrender.com/api/empleados",WV=({currentPhoto:e,onPhotoChange:t,employeeName:n=""})=>{const[a,s]=y.useState(!1),[o,c]=y.useState(!1),u=()=>{if(!window.cloudinary)return;window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil",uploadPreset:void 0,sources:["local","camera","url"],folder:"empleados_perfil",multiple:!1,cropping:!0,croppingAspectRatio:1,maxImageFileSize:5e6,clientAllowedFormats:["jpg","jpeg","png","webp"],styles:{palette:{window:"#FFFFFF",windowBorder:"#0891B2",tabIcon:"#0891B2",link:"#0891B2",action:"#0891B2"}},text:{es:{"queue.title":"Subir Foto","local.browse":"Seleccionar","camera.capture":"Tomar foto","crop.title":"Recortar foto"}}},(g,x)=>{if(g){c(!1);return}x&&x.event==="upload-added"&&c(!0),x&&x.event==="success"&&(t(x.info.secure_url),c(!1))}).open()},m=(h=>{if(!h||h.trim()==="")return null;const x=h.trim().split(" ").filter(b=>b.length>0);return x.length===0?null:x.length>1?`${x[0][0]}${x[1][0]}`:x[0][0]})(n);return r.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[r.jsxs("div",{className:"relative w-32 h-32 group cursor-pointer",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:u,children:[r.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100 border-4 border-white shadow-lg",children:e?r.jsx("img",{src:e,alt:n,className:"w-full h-full object-cover"}):m?r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-cyan-200 to-blue-200",children:r.jsx("span",{className:"text-cyan-800 font-bold text-2xl",children:m})}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",children:r.jsx(ks,{className:"w-12 h-12 text-gray-500"})})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("div",{className:"text-white text-center",children:o?r.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Qb,{className:"w-6 h-6"}),r.jsx("span",{className:"text-xs font-medium",children:e?"Cambiar":"Subir"})]})})}),r.jsx("button",{type:"button",className:`absolute -bottom-1 -right-1 w-8 h-8 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full shadow-lg flex items-center justify-center border-2 border-white transition-transform ${a?"scale-110":""}`,onClick:h=>{h.stopPropagation(),u()},children:r.jsx(_h,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:e?"Cambiar foto de perfil":"Agregar foto de perfil"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Haz clic en la imagen para ",e?"cambiar":"subir"]})]})]})},XV=({value:e,onChange:t,error:n,isEditing:a=!1})=>{const[s,o]=y.useState(!1),[c,u]=y.useState(!1);return a&&!s?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),r.jsxs("div",{className:"w-full px-4 py-3 bg-gray-50 border rounded-lg flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Xb,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{children:"••••••••"})]}),r.jsxs("button",{type:"button",onClick:()=>o(!0),className:"px-3 py-1 bg-cyan-500 hover:bg-cyan-600 text-white text-sm rounded-lg flex items-center space-x-2",children:[r.jsx(Qb,{className:"w-4 h-4"}),r.jsx("span",{children:"Cambiar"})]})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a?"Nueva Contraseña":"Contraseña *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",name:"password",value:e,onChange:t,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${n?"border-red-500":"border-gray-300"}`,placeholder:"Ingrese la contraseña",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:c?r.jsx(Qt,{className:"w-5 h-5"}):r.jsx(iv,{className:"w-5 h-5"})})]}),n&&r.jsx("p",{className:"text-red-500 text-sm",children:n})]})},ZV=({type:e,message:t,isVisible:n})=>{if(!n)return null;const a=e==="error"?"bg-red-50 border-red-200":"bg-green-50 border-green-200",s=e==="error"?"text-red-800":"text-green-800",o=e==="error"?r.jsx(mt,{className:"w-4 h-4"}):r.jsx(Dh,{className:"w-4 h-4"});return r.jsxs("div",{className:`${a} border rounded-lg p-3 flex items-center space-x-2 transition-all duration-300`,children:[r.jsx("div",{className:s,children:o}),r.jsx("p",{className:`text-sm ${s}`,children:t})]})},QV=({field:e,value:t,onChange:n,error:a,formData:s,handleNestedChange:o,selectedEmpleado:c,onValidationChange:u})=>{const[f,m]=y.useState(!1),[h,g]=y.useState(null),[x,b]=y.useState(!1),j=async(C,E)=>{if(!C||C.trim()===""){g(null);return}if(c&&c[E]===C){g(null);return}m(!0),g(null);try{(await qe.get(`${YV}/validate`,{params:{field:E,value:C,excludeId:c==null?void 0:c._id}})).data.exists?(g({type:"error",message:`Este ${E==="dui"?"DUI":"correo"} ya está registrado`}),u==null||u(E,!1)):(g(null),u==null||u(E,!0))}catch(k){console.error(`Error validating ${E}:`,k),g(null),u==null||u(E,!0)}finally{m(!1)}};y.useEffect(()=>{if(e.name==="dui"||e.name==="correo"){const C=setTimeout(()=>{j(t,e.name)},500);return()=>clearTimeout(C)}},[t,e.name]);const N=()=>{if(e.nested){const C=e.name.split(".");return C[0]==="direccion"?((s==null?void 0:s.direccion)||(c==null?void 0:c.direccion)||{})[C[1]]||"":((s==null?void 0:s[C[0]])||(c==null?void 0:c[C[0]])||{})[C[1]]||""}return t??(s==null?void 0:s[e.name])??(c==null?void 0:c[e.name])??""},S=C=>{var k;const{value:E}=C.target;e.nested?(o(e.name,E),e.name==="direccion.departamento"&&E!==((k=c==null?void 0:c.direccion)==null?void 0:k.departamento)&&o("direccion.municipio","")):(n({target:{name:e.name,value:E}}),e.name==="departamento"&&E!==s.departamento&&n({target:{name:"ciudad",value:""}}),(e.name==="dui"||e.name==="correo")&&g(null))},A=`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base ${a||(h==null?void 0:h.type)==="error"?"border-red-500 bg-red-50":x?"border-blue-500":"border-gray-300 bg-white"} ${e.disabled?"bg-gray-50 text-gray-400 cursor-not-allowed":""}`;return e.type==="select"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:e.name,value:N(),onChange:S,className:A,disabled:e.disabled,onFocus:()=>b(!0),onBlur:()=>b(!1),children:[r.jsx("option",{value:"",children:e.disabled?`Primero selecciona ${e.name.includes("municipio")?"un departamento":e.label.toLowerCase()}`:e.placeholder||`Seleccione ${e.label.toLowerCase()}`}),Array.isArray(e.options)&&e.options.map((C,E)=>{const k=typeof C=="object"&&C.value!==void 0?C.value:C,O=typeof C=="object"&&C.label!==void 0?C.label:C;return r.jsx("option",{value:k,children:O},`${e.name}-${E}-${k}`)})]}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),e.name.includes("municipio")&&e.disabled&&r.jsxs("p",{className:"text-blue-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:"Primero selecciona un departamento"})]})]}):e.type==="textarea"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:e.name,value:N(),onChange:S,placeholder:e.placeholder,className:`${A} resize-none`,rows:3,onFocus:()=>b(!0),onBlur:()=>b(!1)}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]})]}):e.name==="telefono"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"px-4 py-3 bg-gray-100 border border-gray-300 rounded-l-lg flex items-center space-x-2 text-gray-600",children:[r.jsx(Ci,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"+503"})]}),r.jsx("input",{type:"tel",name:e.name,value:t.replace("+503",""),onChange:C=>n({target:{name:e.name,value:"+503"+C.target.value}}),placeholder:"78901234",className:`flex-1 px-4 py-3 border-t border-b border-r rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base ${a?"border-red-500 bg-red-50":"border-gray-300"}`,onFocus:()=>b(!0),onBlur:()=>b(!1),maxLength:"8",inputMode:"numeric"})]}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Ingrese 8 dígitos. Ej: 78901234"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:e.type,name:e.name,value:N(),onChange:S,placeholder:e.placeholder,className:A,onFocus:()=>b(!0),onBlur:()=>b(!1),step:e.type==="number"?"0.01":void 0,min:e.type==="number"?"0":void 0}),f&&(e.name==="dui"||e.name==="correo")&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(pd,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),(e.name==="dui"||e.name==="correo")&&(h==null?void 0:h.type)==="error"&&r.jsx(ZV,{type:h==null?void 0:h.type,message:h==null?void 0:h.message,isVisible:!!h}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),e.type==="email"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Ejemplo: empleado@email.com"})]}),e.name==="dui"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-3 h-3"}),r.jsx("span",{children:"Formato: 12345678-9"})]})]})},JV=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:o,handleNestedChange:c,errors:u,submitLabel:f,sucursales:m,setFormData:h,selectedEmpleado:g,onReturnToOptometristaEdit:x})=>{var V,B;const b=y.useMemo(()=>Object.keys(Ba),[]),j=y.useMemo(()=>{var K,I,R;const W=(K=s==null?void 0:s.direccion)==null?void 0:K.departamento;if(console.log("Calculando municipios para departamento:",W),console.log("FormData actual:",s),console.log("Departamentos disponibles en EL_SALVADOR_DATA:",Object.keys(Ba)),!W)return console.log("No hay departamento seleccionado, retornando array vacío"),[];let oe=Ba[W];if(!oe){const X=Object.keys(Ba).find(Z=>Z.normalize("NFD").replace(/[\u0300-\u036f]/g,"")===W.normalize("NFD").replace(/[\u0300-\u036f]/g,""));X&&(oe=Ba[X],console.log("Departamento encontrado con normalización:",X))}return oe=oe||[],console.log("Municipios encontrados:",oe),console.log("Municipio actual en formData:",(I=s==null?void 0:s.direccion)==null?void 0:I.municipio),console.log("¿Municipio válido para el departamento?",oe.includes((R=s==null?void 0:s.direccion)==null?void 0:R.municipio)),oe},[(V=s==null?void 0:s.direccion)==null?void 0:V.departamento]),N=!((B=s==null?void 0:s.direccion)!=null&&B.departamento),[S,A]=y.useState({dui:!0,correo:!0}),[C,E]=y.useState(!0),k=(W,oe)=>{A(K=>({...K,[W]:oe}))};y.useEffect(()=>{if(g){console.log("Initializing form with employee data:",g);let W={};g.direccion&&typeof g.direccion=="object"?W={departamento:g.direccion.departamento||"",municipio:g.direccion.municipio||"",direccionDetallada:g.direccion.direccionDetallada||""}:W={departamento:g.departamento||"",municipio:g.municipio||"",direccionDetallada:g.direccionDetallada||""},h(oe=>{var K;return{...oe,...g,direccion:W,fechaContratacion:g.fechaContratacion?new Date(g.fechaContratacion).toISOString().split("T")[0]:"",telefono:(K=g.telefono)!=null&&K.startsWith("+503")?g.telefono.substring(4):g.telefono||""}}),console.log("Dirección inicializada:",W)}else h(W=>({...W,direccion:{departamento:"",municipio:"",direccionDetallada:""}}))},[g,h]),y.useEffect(()=>{const W=Object.values(S).every(oe=>oe===!0);E(W)},[S]);const O=[{title:"📋 Información Personal",fields:[{name:"nombre",label:"Nombre",type:"text",placeholder:"Juan Carlos",required:!0},{name:"apellido",label:"Apellido",type:"text",placeholder:"García López",required:!0},{name:"dui",label:"DUI",type:"text",placeholder:"12345678-9",required:!0},{name:"telefono",label:"Teléfono",type:"text",placeholder:"78901234",required:!0},{name:"correo",label:"Correo Electrónico",type:"email",placeholder:"juan.garcia@email.com",required:!0}]},{title:"🏠 Información de Residencia",fields:[{name:"direccion.departamento",label:"Departamento",type:"select",options:b,placeholder:"Seleccione un departamento",nested:!0,required:!0},{name:"direccion.municipio",label:"Ciudad/Municipio",type:"select",options:j,placeholder:N?"Primero selecciona un departamento":"Seleccione una ciudad",nested:!0,disabled:N,required:!0},{name:"direccion.direccionDetallada",label:"Dirección Completa",type:"textarea",placeholder:"Colonia Santa Elena, Calle Los Rosales #456, Casa amarilla con portón negro",nested:!0,className:"md:col-span-2",required:!0}]},{title:"💼 Información Laboral",fields:[{name:"sucursalId",label:"Sucursal",type:"select",options:(m==null?void 0:m.map(W=>({value:W._id,label:W.nombre})))||[],required:!0},{name:"cargo",label:"Puesto",type:"select",options:["Administrador","Gerente","Vendedor","Optometrista","Técnico","Recepcionista"],required:!0},{name:"salario",label:"Salario (USD)",type:"number",placeholder:"500.00",required:!0},{name:"fechaContratacion",label:"Fecha de Contratación",type:"date",required:!0},{name:"estado",label:"Estado",type:"select",options:["Activo","Inactivo"],required:!0}]}],T=()=>g?r.jsx(zl,{className:"w-4 h-4"}):(s==null?void 0:s.cargo)==="Optometrista"?r.jsx(Fg,{className:"w-4 h-4"}):r.jsx(zl,{className:"w-4 h-4"}),P=()=>g?g.cargo!=="Optometrista"&&(s==null?void 0:s.cargo)==="Optometrista"?"Continuar":"Actualizar Empleado":(s==null?void 0:s.cargo)==="Optometrista"?"Continuar":"Guardar Empleado",_=W=>{if(W.preventDefault(),!C){const oe=Object.entries(S).filter(([K,I])=>!I).map(([K])=>K==="dui"?"DUI":"Correo");alert(`No se puede guardar el empleado. Los siguientes campos ya están registrados: ${oe.join(", ")}`);return}n()},z=r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl border",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(WV,{currentPhoto:s==null?void 0:s.fotoPerfil,onPhotoChange:W=>h(oe=>({...oe,fotoPerfil:W})),employeeName:`${(s==null?void 0:s.nombre)||""} ${(s==null?void 0:s.apellido)||""}`.trim()})})}),!C&&r.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[r.jsx(mt,{className:"w-6 h-6 text-red-500 shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-red-800",children:"Datos duplicados detectados"}),r.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Corrige los campos marcados antes de continuar."})]})]}),O.map((W,oe)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:W.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:W.fields.map((K,I)=>r.jsx("div",{className:K.className||(K.type==="textarea"?"md:col-span-2":""),children:r.jsx(QV,{field:K,value:(()=>{if(K.nested){const R=K.name.split(".");return((s==null?void 0:s.direccion)||(g==null?void 0:g.direccion)||{})[R[1]]||""}return(s==null?void 0:s[K.name])||""})(),onChange:K.nested?R=>{const X=R.target.value;K.name==="direccion.departamento"&&c("direccion.municipio",""),c(K.name,X)}:o,error:u[K.name],formData:s,handleNestedChange:c,selectedEmpleado:g,onValidationChange:R=>{(K.name==="dui"||K.name==="correo")&&k(K.name,R)}})},I))})]},oe)),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:"🔐 Acceso y Seguridad"}),r.jsx("div",{className:"max-w-md",children:r.jsx(XV,{value:(s==null?void 0:s.password)||"",onChange:o,error:u==null?void 0:u.password,isEditing:!!g})})]}),(s==null?void 0:s.cargo)==="Optometrista"&&!g&&r.jsxs("div",{className:"bg-cyan-50 border-2 border-cyan-200 rounded-xl p-4 flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500 rounded-full flex items-center justify-center shrink-0",children:r.jsx(ks,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-cyan-800",children:"¡Perfil de Optometrista Seleccionado!"}),r.jsx("p",{className:"text-sm text-cyan-600 mt-1",children:"Al continuar, configurarás horarios y especialidades."})]}),r.jsx(Fg,{className:"w-8 h-8 text-cyan-500 shrink-0"})]}),(s==null?void 0:s.cargo)==="Optometrista"&&g&&g.cargo!=="Optometrista"&&r.jsxs("div",{className:"bg-cyan-50 border-2 border-cyan-200 rounded-xl p-4 flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500 rounded-full flex items-center justify-center shrink-0",children:r.jsx(ks,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-cyan-800",children:"¡Cambio a Optometrista Detectado!"}),r.jsx("p",{className:"text-sm text-cyan-600 mt-1",children:"Al continuar, configurarás los detalles del optometrista."})]}),r.jsx(Fg,{className:"w-8 h-8 text-cyan-500 shrink-0"})]}),(s==null?void 0:s.fromOptometristaPage)&&x&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-800",children:"Editando desde Optometrista"}),r.jsx("p",{className:"text-xs text-blue-600",children:"Puedes regresar a editar los detalles del optometrista."})]}),r.jsx("button",{type:"button",onClick:()=>x(g==null?void 0:g._id),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm",children:"Editar Optometrista"})]})]});return r.jsx(pr,{isOpen:e,onClose:t,onSubmit:_,title:a,formData:s,handleInputChange:o,errors:u,submitLabel:P(),submitIcon:T(),fields:[],gridCols:1,size:"xl",submitDisabled:!C,children:z})},rT=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,setFormData:o,handleInputChange:c,errors:u,submitLabel:f,empleados:m,sucursales:h,selectedOptometrista:g,isCreationFlow:x=!1,preloadedEmployeeData:b=null,onBackToEmployeeForm:j=null,isCreating:N=!1,creationStep:S="",creationProgress:A=0,setActiveSection:C=null,onCreationComplete:E=null})=>{const[k,O]=y.useState(!1),[T,P]=y.useState(!1),[_,z]=y.useState({}),[V,B]=y.useState(!1),W=["General","Pediátrica","Contactología","Baja Visión","Ortóptica"];y.useEffect(()=>{x&&b&&!s.empleadoId&&(console.log("🔄 Estableciendo empleadoId para flujo de creación:",b),o(ne=>({...ne,empleadoId:b._id||"temp_employee_id"})))},[x,b,s.empleadoId,o]);const oe=()=>{const ne={};return(!s.especialidad||s.especialidad.trim()==="")&&(ne.especialidad="La especialidad es obligatoria"),!s.licencia||s.licencia.trim()===""?ne.licencia="El número de licencia es obligatorio":s.licencia.trim().length<3&&(ne.licencia="El número de licencia debe tener al menos 3 caracteres"),!s.experiencia&&s.experiencia!==0?ne.experiencia="Los años de experiencia son obligatorios":parseInt(s.experiencia)<0?ne.experiencia="Los años de experiencia no pueden ser negativos":parseInt(s.experiencia)>50&&(ne.experiencia="Los años de experiencia no pueden exceder 50 años"),!x&&(!s.empleadoId||s.empleadoId.trim()==="")&&(ne.empleadoId="Debe seleccionar un empleado"),(!s.sucursalesAsignadas||s.sucursalesAsignadas.length===0)&&(ne.sucursalesAsignadas="Debe asignar al menos una sucursal"),!s.disponibilidad||s.disponibilidad.length===0?ne.disponibilidad="Debe configurar al menos una hora de disponibilidad":Z(s.disponibilidad).length>44&&(ne.disponibilidad="No puede exceder las 44 horas semanales"),(s.disponible===void 0||s.disponible===null||s.disponible==="")&&(ne.disponible="Debe seleccionar el estado de disponibilidad"),ne},K=(m==null?void 0:m.map(ne=>({value:ne._id,label:`${ne.nombre} ${ne.apellido} - ${ne.correo}`,empleado:ne})))||[],I=(h==null?void 0:h.map(ne=>({value:ne._id,label:ne.nombre})))||[],R=[{key:"lunes",label:"Lunes"},{key:"martes",label:"Martes"},{key:"miercoles",label:"Miércoles"},{key:"jueves",label:"Jueves"},{key:"viernes",label:"Viernes"},{key:"sabado",label:"Sábado"},{key:"domingo",label:"Domingo"}],X=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],Z=ne=>{if(!Array.isArray(ne))return[];const ce=[];return ne.forEach(ae=>{if(ae.hora)ce.push({dia:ae.dia,hora:ae.hora});else if(ae.horaInicio&&ae.horaFin){const J=X.indexOf(ae.horaInicio),we=ae.horaFin.includes(":00")?ae.horaFin.split(":")[0]+":00":ae.horaFin,U=X.indexOf(we);if(J>=0&&U>J)for(let fe=J;fe<U;fe++)ce.push({dia:ae.dia,hora:X[fe]});else J>=0&&U===-1&&ce.push({dia:ae.dia,hora:ae.horaInicio})}}),ce},H=(ne,ce)=>Z(s.disponibilidad).some(J=>J.dia===ne&&J.hora===ce),D=(ne,ce)=>{const ae=Z(s.disponibilidad),J=ae.findIndex(fe=>fe.dia===ne&&fe.hora===ce);let we;if(J>=0)we=ae.filter((fe,De)=>De!==J);else{if(ae.length>=44){xe();return}we=[...ae,{dia:ne,hora:ce}]}const U=we.map(fe=>({dia:fe.dia,hora:fe.hora,horaInicio:fe.hora,horaFin:$(fe.hora)}));o(fe=>({...fe,disponibilidad:U})),_.disponibilidad&&U.length>0&&z(fe=>{const De={...fe};return delete De.disponibilidad,De})},$=ne=>{const ce=X.indexOf(ne);if(ce>=0&&ce<X.length-1)return X[ce+1];if(ne==="16:00")return"17:00";const[ae]=ne.split(":");return`${ae}:00`},G=ne=>{const ce=Array.from(ne.target.selectedOptions,ae=>ae.value);o(ae=>({...ae,sucursalesAsignadas:ce})),_.sucursalesAsignadas&&ce.length>0&&z(ae=>{const J={...ae};return delete J.sucursalesAsignadas,J})},te=ne=>{const J=Z(s.disponibilidad).filter(we=>we.dia!==ne).map(we=>({dia:we.dia,hora:we.hora,horaInicio:we.hora,horaFin:$(we.hora)}));o(we=>({...we,disponibilidad:J}))},Q=ne=>{const ae=Z(s.disponibilidad).filter(Y=>Y.dia!==ne),we=44-ae.length;if(we<=0){xe();return}const U=Math.min(X.length,we),fe=X.slice(0,U).map(Y=>({dia:ne,hora:Y})),se=[...ae,...fe].map(Y=>({dia:Y.dia,hora:Y.hora,horaInicio:Y.hora,horaFin:$(Y.hora)}));o(Y=>({...Y,disponibilidad:se})),U<X.length&&xe()},ve=ne=>Z(s.disponibilidad).filter(ae=>ae.dia===ne).length,xe=()=>{O(!0),setTimeout(()=>{O(!1)},4e3)},ze=()=>{B(!0),setTimeout(()=>{B(!1)},5e3)},Le=()=>s.empleadoId&&(m==null?void 0:m.find(ne=>ne._id===s.empleadoId))||null,Ee=ne=>{c({target:{name:"empleadoId",value:ne}}),P(!1),_.empleadoId&&z(ce=>{const ae={...ce};return delete ae.empleadoId,ae})},Fe=ne=>{const{name:ce,value:ae}=ne.target;c(ne),_[ce]&&ae&&ae.trim()!==""&&z(J=>{const we={...J};return delete we[ce],we})},Ke=ne=>{var we,U;ne.preventDefault(),ne.stopPropagation(),console.log("=== ENVÍO DEL FORMULARIO OPTOMETRISTA ==="),console.log("isCreationFlow:",x),console.log("formData actual:",s);const ce=oe();if(Object.keys(ce).length>0){console.error("❌ Errores de validación:",ce),z(ce),ze();return}z({});const ae={especialidad:(we=s.especialidad)==null?void 0:we.trim(),licencia:(U=s.licencia)==null?void 0:U.trim(),experiencia:parseInt(s.experiencia)||0,disponibilidad:Array.isArray(s.disponibilidad)?s.disponibilidad.map(fe=>({dia:fe.dia,hora:fe.hora,horaInicio:fe.horaInicio||fe.hora,horaFin:fe.horaFin||$(fe.hora)})):[],sucursalesAsignadas:Array.isArray(s.sucursalesAsignadas)?s.sucursalesAsignadas:[],disponible:s.disponible!==!1&&s.disponible!=="false"};!x&&s.empleadoId&&(ae.empleadoId=s.empleadoId),console.log("📦 Datos finales para envío:",ae);const J=()=>{console.log("✅ Optometrista guardado exitosamente"),x&&C?(console.log("🧭 Navegando a sección optometristas"),C("optometristas"),t()):E&&typeof E=="function"?(console.log("✅ Llamando onCreationComplete"),E()):(console.log("🔄 Cerrando modal (navegación estándar)"),t())};try{const fe=n(ae);fe&&typeof fe.then=="function"?fe.then(()=>{J()}).catch(De=>{console.error("❌ Error al enviar formulario:",De)}):J()}catch(fe){console.error("❌ Error al enviar formulario:",fe)}},re=ne=>{ne.preventDefault(),ne.stopPropagation(),console.log("🔙 Botón regresar presionado"),j&&typeof j=="function"?j():console.warn("⚠️ onBackToEmployeeForm no está definido o no es una función")},Be=()=>{if(!V||Object.keys(_).length===0)return null;const ne=r.jsx("div",{className:"fixed top-4 right-4 bg-white rounded-lg shadow-lg border border-red-200 p-4 max-w-sm transform transition-all duration-300 ease-out animate-slideInDown",style:{zIndex:9999},children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(mt,{className:"w-3 h-3 text-red-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Campos incompletos"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por favor complete todos los campos obligatorios"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[Object.entries(_).slice(0,3).map(([ce,ae])=>r.jsxs("p",{className:"text-xs text-red-600",children:["• ",ae]},ce)),Object.keys(_).length>3&&r.jsxs("p",{className:"text-xs text-red-500",children:["+",Object.keys(_).length-3," errores más..."]})]})]}),r.jsx("button",{onClick:()=>B(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(hr,{className:"w-4 h-4"})})]})});return Ty.createPortal(ne,document.body)},Ge=()=>{if(!k)return null;const ne=r.jsx("div",{className:"fixed top-4 right-4 bg-white rounded-lg shadow-lg border border-amber-200 p-4 max-w-sm transform transition-all duration-300 ease-out animate-slideInDown",style:{zIndex:9999},children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("div",{className:"w-5 h-5 bg-amber-100 rounded-full flex items-center justify-center",children:r.jsx(Va,{className:"w-3 h-3 text-amber-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Límite de horas alcanzado"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Máximo 44 horas semanales por optometrista"})]}),r.jsx("button",{onClick:()=>O(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(hr,{className:"w-4 h-4"})})]})});return Ty.createPortal(ne,document.body)},Ne=()=>{const ne=_.empleadoId||u.empleadoId;return x?b?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Empleado *"}),r.jsxs("div",{className:"w-full p-4 border rounded-lg bg-gradient-to-r from-cyan-50 to-blue-50 border-cyan-200 flex items-center space-x-3",children:[r.jsx("img",{src:b.fotoPerfil||`https://ui-avatars.com/api/?name=${b.nombre}+${b.apellido}`,alt:b.nombre,className:"w-12 h-12 rounded-full object-cover border-2 border-cyan-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[b.nombre," ",b.apellido]}),r.jsx("div",{className:"text-sm text-gray-600",children:b.correo}),r.jsx("div",{className:"text-xs text-cyan-600 font-medium",children:"✓ Empleado nuevo - Se guardará automáticamente"})]})]})]}):r.jsx("p",{children:"Cargando datos del empleado..."}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Empleado *"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:()=>P(!T),disabled:!!g,className:`w-full p-4 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-left ${ne?"border-red-500":"border-gray-300"} ${g?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-cyan-300"}`,children:Le()?r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:Le().fotoPerfil||`https://ui-avatars.com/api/?name=${Le().nombre}+${Le().apellido}&background=0891b2&color=fff`,alt:`${Le().nombre}`,className:"w-12 h-12 rounded-full object-cover border-2 border-cyan-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[Le().nombre," ",Le().apellido]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(rc,{className:"w-4 h-4"}),r.jsx("span",{children:Le().correo})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ci,{className:"w-4 h-4"}),r.jsx("span",{children:Le().telefono})]})]})]}),r.jsx(Il,{className:`w-5 h-5 text-gray-400 transform transition-transform ${T?"rotate-180":""}`})]}):r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(ks,{className:"w-6 h-6 text-gray-400"})}),r.jsx("span",{className:"text-gray-500",children:"Seleccione un empleado..."})]}),r.jsx(Il,{className:`w-5 h-5 text-gray-400 transform transition-transform ${T?"rotate-180":""}`})]})}),T&&!g&&r.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:K.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay empleados optometristas disponibles"}):r.jsx("div",{className:"p-2 space-y-1",children:K.map(ce=>{const ae=ce.empleado,J=s.empleadoId===ce.value;return r.jsx("button",{type:"button",onClick:()=>Ee(ce.value),className:`w-full p-3 rounded-lg text-left transition-all hover:bg-cyan-50 ${J?"bg-cyan-100 border border-cyan-300":"hover:border-transparent"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:ae.fotoPerfil||`https://ui-avatars.com/api/?name=${ae.nombre}+${ae.apellido}&background=0891b2&color=fff`,alt:`${ae.nombre}`,className:"w-10 h-10 rounded-full object-cover border border-gray-200"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"font-medium text-gray-900 truncate",children:[ae.nombre," ",ae.apellido]}),r.jsx("div",{className:"text-sm text-gray-500 truncate",children:ae.correo}),r.jsx("div",{className:"text-xs text-gray-400",children:ae.telefono})]}),J&&r.jsx(Dh,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"})]})},ce.value)})})})]}),ne&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:ne})]}),g&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El empleado no se puede cambiar al editar un optometrista"})]})},He=()=>{const ne=Z(s.disponibilidad).length,ce=ne>44,ae=_.disponibilidad||u.disponibilidad;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Horarios de Disponibilidad:"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona las horas disponibles para cada día. Puedes elegir horas no consecutivas."}),r.jsxs("div",{className:`mt-3 inline-flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium ${ce?"bg-red-500 text-white border-2 border-red-600":"bg-green-100 text-green-800 border-2 border-green-200"}`,children:[r.jsx(Va,{className:"w-4 h-4"}),r.jsxs("span",{children:[ne," horas semanales"]}),ce&&r.jsx("span",{className:"text-white font-bold",children:"!"})]})]}),r.jsxs("div",{className:`bg-white rounded-lg border overflow-hidden ${ae?"border-red-500":"border-gray-200"}`,children:[r.jsx("div",{className:"bg-cyan-50 border-b border-gray-200",children:r.jsx("div",{className:"grid grid-cols-7 text-center",children:R.map(J=>{const we=ve(J.key);return r.jsxs("div",{className:"py-3 px-2 border-r border-gray-200 last:border-r-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-700 mb-2",children:J.label}),r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("button",{type:"button",onMouseDown:U=>U.preventDefault(),onClick:U=>{U.preventDefault(),U.stopPropagation(),Q(J.key)},className:"text-xs px-2 py-1 bg-cyan-500 text-white rounded hover:bg-cyan-600 transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-1",title:"Seleccionar todo el día",children:"Todo"}),r.jsx("button",{type:"button",onMouseDown:U=>U.preventDefault(),onClick:U=>{U.preventDefault(),U.stopPropagation(),te(J.key)},className:"text-xs px-2 py-1 bg-gray-400 text-white rounded hover:bg-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-1",title:"Limpiar día",children:"Limpiar"}),we>0?r.jsxs("span",{className:"text-xs text-cyan-600 font-medium",children:[we,"h"]}):r.jsx("span",{className:"text-xs text-transparent",children:"0h"})]})]},J.key)})})}),r.jsx("div",{className:"p-4",children:X.map(J=>r.jsx("div",{className:"grid grid-cols-7 mb-2 last:mb-0",children:R.map(we=>{const U=H(we.key,J);return r.jsx("div",{className:"px-1",children:r.jsx("button",{type:"button",onClick:fe=>{fe.preventDefault(),fe.stopPropagation(),D(we.key,J)},onMouseDown:fe=>{fe.preventDefault()},className:`w-full py-2 px-2 text-sm font-medium rounded transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 ${U?"bg-cyan-500 text-white shadow-md hover:bg-cyan-600 scale-105 focus:ring-cyan-500":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 focus:ring-gray-400"}`,children:J})},`${we.key}-${J}`)})},J))}),r.jsx("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-cyan-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"Disponible"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),r.jsx("span",{className:"text-gray-600",children:"No disponible"})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",Z(s.disponibilidad).length," horas seleccionadas"]})]})})]}),ae&&r.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:ae})]})]})},Ye=()=>{const ne=_.sucursalesAsignadas||u.sucursalesAsignadas;return r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sucursales Asignadas *"}),r.jsx("select",{multiple:!0,value:Array.isArray(s.sucursalesAsignadas)?s.sucursalesAsignadas:[],onChange:G,className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-sm ${ne?"border-red-500":"border-gray-300"}`,size:"4",children:I.map(ce=>r.jsx("option",{value:ce.value,children:ce.label},ce.value))}),ne&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:ne})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Mantén presionado Ctrl (Cmd en Mac) para seleccionar múltiples sucursales"})]})},F=[{name:"especialidad",label:"Especialidad",type:"select",options:W.map(ne=>({value:ne,label:ne})),placeholder:"Seleccione la especialidad",required:!0},{name:"licencia",label:"Número de Licencia",type:"text",placeholder:"Ingrese el número de licencia",required:!0},{name:"experiencia",label:"Años de Experiencia",type:"number",placeholder:"Ingrese años de experiencia",min:0,max:50,required:!0},{name:"disponible",label:"Estado de Disponibilidad",type:"select",options:[{value:!0,label:"Disponible"},{value:!1,label:"No Disponible"}],required:!0}];return y.useEffect(()=>{const ne=ce=>{T&&!ce.target.closest(".relative")&&P(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[T]),r.jsxs(r.Fragment,{children:[r.jsx(Be,{}),r.jsx(Ge,{}),r.jsx(pr,{isOpen:e,onClose:()=>{P(!1),z({}),t()},onSubmit:Ke,title:a,formData:s,handleInputChange:Fe,errors:{...u,..._},submitLabel:f,fields:[],gridCols:2,customButtons:x&&j?r.jsxs("button",{type:"button",onClick:re,className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-all duration-200 flex items-center space-x-2 font-medium",children:[r.jsx(GB,{className:"w-5 h-5"}),r.jsx("span",{children:"Regresar"})]}):null,children:r.jsxs("div",{className:"md:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-cyan-600 mb-4 flex items-center",children:[r.jsx(ks,{className:"w-5 h-5 mr-2"}),"Información del Optometrista"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Ne,{}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:F.map(ne=>{const{name:ce,label:ae,type:J,options:we,required:U,...fe}=ne,De=U?`${ae} *`:ae,se=_[ce]||u[ce];return J==="select"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:De}),r.jsxs("select",{name:ce,value:s[ce]||"",onChange:Fe,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-sm ${se?"border-red-500":"border-gray-300"}`,...fe,children:[r.jsx("option",{value:"",children:fe.placeholder||"Seleccione una opción"}),we.map(Y=>r.jsx("option",{value:typeof Y=="object"?Y.value:Y,children:typeof Y=="object"?Y.label:Y},typeof Y=="object"?Y.value:Y))]}),se&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:se})]})]},ce):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:De}),r.jsx("input",{name:ce,type:J,value:s[ce]||"",onChange:Fe,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-sm ${se?"border-red-500":"border-gray-300"}`,...fe}),se&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:se})]})]},ce)})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-cyan-600 mb-4 flex items-center",children:[r.jsx(Va,{className:"w-5 h-5 mr-2"}),"Configuración de Horarios"]}),r.jsx(He,{})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-cyan-600 mb-4 flex items-center",children:[r.jsx(vi,{className:"w-5 h-5 mr-2"}),"Asignación de Sucursales"]}),r.jsx(Ye,{})]})]})}),r.jsx("style",{children:`
                @keyframes slideInDown {
                    from {
                        opacity: 0;
                        transform: translateY(-20px) scale(0.95);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                }
                
                .animate-slideInDown {
                    animation: slideInDown 0.3s ease-out;
                }
            `})]})},bl=_e.ENDPOINTS.EMPLEADOS,eH=_e.ENDPOINTS.SUCURSALES,Yf=_e.ENDPOINTS.OPTOMETRISTAS,Sr=async(e,t,n,a={})=>{const s=f=>`${f}${t}`,o=async f=>{const m=s(f);try{const h=await qe({url:m,method:e,data:n,withCredentials:!0,headers:{"Content-Type":"application/json",...a.headers||{}},...a});return _e.BASE_URL=f,h}catch(h){throw h}},c=_e.BASE_URL,u=c.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await o(c)}catch(f){const m=(f==null?void 0:f.message)||"";if(f.code==="ECONNABORTED"||m.includes("Network Error")||m.includes("ECONNREFUSED"))return await o(u);throw f}},tH=()=>{var Jt,Ht,an;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,o]=y.useState(!0),[c,u]=y.useState(null),[f,m]=y.useState(null),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,A]=y.useState(""),[C,E]=y.useState("todos"),[k,O]=y.useState("todas"),[T,P]=y.useState(!1),[_,z]=y.useState(null),[V,B]=y.useState(!1),[W,oe]=y.useState(!1),[K,I]=y.useState(""),[R,X]=y.useState(0),Z=An(),H=es(),D=async()=>{var ue,Ue;o(!0);try{const[ut,rn]=await Promise.all([Sr("get",bl),Sr("get",eH)]);t(ut.data),a(rn.data)}catch(ut){ke("error","Error al cargar los datos. "+(((Ue=(ue=ut.response)==null?void 0:ue.data)==null?void 0:Ue.message)||ut.message))}finally{o(!1)}};y.useEffect(()=>{D();const ue=document.createElement("script");return ue.src="https://widget.cloudinary.com/v2.0/global/all.js",ue.async=!0,document.body.appendChild(ue),()=>{document.body.contains(ue)&&document.body.removeChild(ue)}},[]);const{formData:$,setFormData:G,handleInputChange:te,handleNestedChange:Q,resetForm:ve,validateForm:xe,errors:ze,setErrors:Le}=$l({nombre:"",apellido:"",dui:"",telefono:"",correo:"",cargo:"",sucursalId:"",fechaContratacion:"",salario:"",estado:"Activo",password:"",fotoPerfil:"",direccion:{departamento:"",municipio:"",direccionDetallada:""}},ue=>{const Ue={};ue.nombre.trim()||(Ue.nombre="El nombre es requerido"),ue.apellido.trim()||(Ue.apellido="El apellido es requerido"),/^\d{8}-\d$/.test(ue.dui)||(Ue.dui="DUI inválido (formato: 12345678-9)");const ut=ue.telefono.replace("+503","");return/^\d{8}$/.test(ut)||(Ue.telefono="Teléfono inválido (8 dígitos requeridos)"),/\S+@\S+\.\S+/.test(ue.correo)||(Ue.correo="Email inválido"),ue.cargo||(Ue.cargo="El cargo es requerido"),ue.sucursalId||(Ue.sucursalId="La sucursal es requerida"),(!ue.salario||ue.salario<=0)&&(Ue.salario="Salario inválido"),!c&&!ue.password&&(Ue.password="La contraseña es requerida para nuevos empleados"),ue.direccion.departamento&&!ue.direccion.municipio&&(Ue["direccion.municipio"]="El municipio es requerido si el departamento está seleccionado"),ue.direccion.municipio&&!ue.direccion.departamento&&(Ue["direccion.departamento"]="El departamento es requerido si el municipio está seleccionado"),Ue}),{formData:Ee,setFormData:Fe,handleInputChange:Ke,resetForm:re,errors:Be}=$l({especialidad:"",licencia:"",experiencia:"",disponibilidad:[],sucursalesAsignadas:[],disponible:!0,empleadoId:""},ue=>{const Ue={};return ue.especialidad||(Ue.especialidad="La especialidad es requerida"),ue.licencia||(Ue.licencia="La licencia es requerida"),(!ue.experiencia||ue.experiencia<0)&&(Ue.experiencia="La experiencia debe ser un número positivo"),(!ue.sucursalesAsignadas||ue.sucursalesAsignadas.length===0)&&(Ue.sucursalesAsignadas="Debe asignar al menos una sucursal"),(!ue.disponibilidad||ue.disponibilidad.length===0)&&(Ue.disponibilidad="Debe configurar al menos una hora de disponibilidad"),Ue}),Ge=y.useMemo(()=>e.filter(ue=>{var ye;const Ue=S.toLowerCase(),ut=`${ue.nombre} ${ue.apellido}`.toLowerCase().includes(Ue)||ue.dui.includes(Ue)||ue.correo.toLowerCase().includes(Ue)||ue.cargo.toLowerCase().includes(Ue);let rn=!0;C==="activos"?rn=ue.estado==="Activo":C==="inactivos"&&(rn=ue.estado==="Inactivo");let q=!0;return k!=="todas"&&(q=((ye=ue.sucursalId)==null?void 0:ye._id)===k),ut&&rn&&q}),[e,S,C,k]),{paginatedData:Ne,...He}=sc(Ge,5),Ye=e.length,F=e.filter(ue=>ue.estado==="Activo").length,ne=ue=>e.filter(Ue=>{var ut;return((ut=Ue.sucursalId)==null?void 0:ut._id)===ue}).length,ce=n.length>0?ne(n[0]._id):0,ae=e.filter(ue=>ue.estado==="Activo").reduce((ue,Ue)=>ue+parseFloat(Ue.salario||0),0),J=ue=>`$${Number(ue).toFixed(2)}`,we=[{title:"Total Empleados",value:Ye,Icon:gd},{title:"Empleados Activos",value:F,Icon:ko},{title:n.length>0?n[0].nombre:"Sucursal Principal",value:ce,Icon:Pl},{title:"Nómina Total (Activos)",value:J(ae),Icon:Si}],U=y.useMemo(()=>[{label:"Todos los estados",value:"todos"},{label:"Activos",value:"activos"},{label:"Inactivos",value:"inactivos"}],[]),fe=y.useMemo(()=>{const ue=[{label:"Todas las sucursales",value:"todas"}],Ue=n.map(ut=>({label:ut.nombre,value:ut._id}));return[...ue,...Ue]},[n]);y.useEffect(()=>{var ue;if((ue=Z.state)!=null&&ue.editEmployeeId){const Ue=e.find(ut=>ut._id===Z.state.editEmployeeId);Ue&&st(Ue,!0),H(Z.pathname,{replace:!0,state:{}})}},[Z.state,e,H]);const De=()=>{var Ue,ut,rn,q;if(!xe()){console.log("❌ Validación del formulario de empleado falló");return}console.log("=== PROCEDIENDO AL FORMULARIO DE OPTOMETRISTA ==="),console.log("Datos del formulario de empleado:",$);const ue={...$,fotoPerfil:$.fotoPerfil||"",departamento:((Ue=$.direccion)==null?void 0:Ue.departamento)||"",municipio:((ut=$.direccion)==null?void 0:ut.municipio)||"",direccionDetallada:((rn=$.direccion)==null?void 0:rn.direccionDetallada)||"",telefono:(q=$.telefono)!=null&&q.startsWith("+503")?$.telefono:"+503"+$.telefono};delete ue.direccion,delete ue.fromOptometristaPage,console.log("📦 Datos completos del empleado preparados:",ue),z(ue),g(!1),re(),Fe({especialidad:"",licencia:"",experiencia:"",disponibilidad:[],sucursalesAsignadas:[],disponible:!0,empleadoId:""}),B(!0),console.log("✅ Transición al modal de optometrista completada")},se=async(ue=null)=>{var Ue,ut,rn,q,ye,Re,Ie,$e,Xe,ht;try{const nt=ue||Ee;if(console.log("=== INICIO DE CREACIÓN EMPLEADO + OPTOMETRISTA ==="),console.log("Datos del empleado (tempEmployeeData):",_),console.log("Datos del optometrista recibidos:",nt),!_){console.error("❌ No hay datos del empleado para crear"),ke("error","Error: No se encontraron los datos del empleado");return}if(!nt.especialidad||!nt.licencia){console.error("❌ Faltan campos requeridos en optometrista:",{especialidad:nt.especialidad,licencia:nt.licencia,experiencia:nt.experiencia}),ke("error","Faltan campos requeridos: especialidad y licencia son obligatorios");return}if(!nt.sucursalesAsignadas||nt.sucursalesAsignadas.length===0){console.error("❌ Faltan sucursales asignadas"),ke("error","Debe asignar al menos una sucursal");return}if(!nt.disponibilidad||nt.disponibilidad.length===0){console.error("❌ Falta disponibilidad"),ke("error","Debe configurar al menos una hora de disponibilidad");return}o(!0),I("employee"),X(25);let pt=null;if(c&&c._id)console.log("🔍 Flujo edición: usando empleado existente"),pt=c._id;else{console.log("📄 Creando empleado...");const sn=await Sr("post",bl,_),$s=sn.data.empleado||sn.data;if(pt=$s._id,console.log("✅ Empleado creado exitosamente:",sn.data),console.log("👤 Datos del empleado:",$s),console.log("🆔 Nuevo empleadoId:",pt),!pt)throw console.error("❌ No se pudo extraer el ID del empleado creado"),console.error("📋 Estructura de respuesta:",sn.data),new Error("No se pudo obtener el ID del empleado creado. Verifique la respuesta del servidor.")}try{c&&c.cargo!=="Optometrista"||!c&&(_==null?void 0:_.cargo)!=="Optometrista"?(console.log("🔧 Ajustando cargo del empleado a 'Optometrista'..."),await Sr("put",`${bl}/${pt}`,{cargo:"Optometrista"}),console.log("✅ Cargo del empleado actualizado a Optometrista")):console.log("ℹ️ Cargo ya establecido como Optometrista")}catch(sn){console.warn("⚠️ No se pudo actualizar el cargo a Optometrista antes de crear/actualizar el optometrista:",((Ue=sn==null?void 0:sn.response)==null?void 0:Ue.data)||sn.message)}X(60),I("optometrista");const oa={empleadoId:pt,especialidad:(ut=nt.especialidad)==null?void 0:ut.trim(),licencia:(rn=nt.licencia)==null?void 0:rn.trim(),experiencia:parseInt(nt.experiencia)||0,disponibilidad:Array.isArray(nt.disponibilidad)?nt.disponibilidad.map(sn=>({dia:sn.dia,hora:sn.hora,horaInicio:sn.horaInicio||sn.hora,horaFin:sn.horaFin||Y(sn.hora)})):[],sucursalesAsignadas:Array.isArray(nt.sucursalesAsignadas)?nt.sucursalesAsignadas:[],disponible:nt.disponible!==!1&&nt.disponible!=="false"};console.log("📋 Datos finales para optometrista:",oa),console.log("🔎 Verificando si ya existe optometrista para este empleado...");let la;const Ta=await me(pt);Ta&&Ta._id?(console.log("⚠️ Ya existe optometrista, actualizando..."),la=await Sr("put",`${Yf}/${Ta._id}`,oa),console.log("✅ Optometrista actualizado exitosamente:",la.data)):(console.log("📄 Creando optometrista..."),la=await Sr("post",Yf,oa),console.log("✅ Optometrista creado exitosamente:",la.data)),X(100),ke("success","¡Empleado y Optometrista creados exitosamente!"),setTimeout(()=>{Ve(),D().then(()=>{H("/dashboard")})},1e3)}catch(nt){console.error("❌ Error en la creación:",nt),console.error("📄 Respuesta del servidor:",(q=nt.response)==null?void 0:q.data);let pt="Error en la creación: ";(Re=(ye=nt.response)==null?void 0:ye.data)!=null&&Re.message?pt+=nt.response.data.message:($e=(Ie=nt.response)==null?void 0:Ie.data)!=null&&$e.error?pt+=nt.response.data.error:nt.message?pt+=nt.message:pt+="Error desconocido",(ht=(Xe=nt.response)==null?void 0:Xe.data)!=null&&ht.missing&&(pt+=`. Campos faltantes: ${nt.response.data.missing.join(", ")}`),ke("error",pt)}finally{o(!1),I(""),X(0)}},Y=ue=>{const Ue=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],ut=Ue.indexOf(ue);if(ut>=0&&ut<Ue.length-1)return Ue[ut+1];const[rn]=ue.split(":");return`${rn}:59`},ge=()=>{var ue;if(console.log("🔙 Regresando al formulario de empleado"),B(!1),g(!0),_){const Ue={..._,direccion:{departamento:_.departamento||"",municipio:_.municipio||"",direccionDetallada:_.direccionDetallada||""},telefono:(ue=_.telefono)!=null&&ue.startsWith("+503")?_.telefono.substring(4):_.telefono||""};delete Ue.departamento,delete Ue.municipio,delete Ue.direccionDetallada,G(Ue)}},ie=ue=>{const Ue=optometristas==null?void 0:optometristas.find(ut=>ut.empleadoId._id===ue);Ue&&(Ve(),H("/dashboard",{state:{editOptometristaId:Ue._id}}))},ke=(ue,Ue)=>{console.log(`🚨 Alert [${ue.toUpperCase()}]: ${Ue}`),m({type:ue,message:Ue}),setTimeout(()=>m(null),5e3)},Ve=()=>{g(!1),b(!1),N(!1),B(!1),oe(!1),u(null),z(null),I(""),X(0),ve(),re()},Ze=()=>{ve(),re();const ue={nombre:"",apellido:"",dui:"",telefono:"",correo:"",cargo:"",sucursalId:"",fechaContratacion:new Date().toISOString().split("T")[0],salario:"",estado:"Activo",password:"",fotoPerfil:"",direccion:{departamento:"",municipio:"",direccionDetallada:""}};G(ue),u(null),g(!0)},st=(ue,Ue=!1)=>{var ye,Re;u(ue);const ut=(ye=ue.telefono)!=null&&ye.startsWith("+503")?ue.telefono.substring(4):ue.telefono||"",rn={departamento:ue.departamento||"",municipio:ue.municipio||"",direccionDetallada:ue.direccionDetallada||""},q={...ue,sucursalId:((Re=ue.sucursalId)==null?void 0:Re._id)||"",password:"",fechaContratacion:ue.fechaContratacion?new Date(ue.fechaContratacion).toISOString().split("T")[0]:"",direccion:rn,telefono:ut,fotoPerfil:ue.fotoPerfil||"",fromOptometristaPage:Ue,originalCargo:ue.cargo};console.log("Datos para edición:",q),G(q),Le({}),g(!0)},lt=ue=>{u(ue),b(!0)},wt=ue=>{u(ue),N(!0)},me=async ue=>{try{return(await Sr("get",`${Yf}/empleado/${ue}`)).data}catch{return null}},Oe=async ue=>{try{const Ue=await me(ue);Ue&&(await Sr("delete",`${Yf}/${Ue._id}`),console.log("✅ Optometrista eliminado exitosamente"))}catch(Ue){throw console.error("❌ Error al eliminar optometrista:",Ue),Ue}},We=async()=>{var ue,Ue;if(xe()){if(c&&c.cargo==="Optometrista"&&$.cargo!=="Optometrista"){oe(!0);return}if(c&&c.cargo!=="Optometrista"&&$.cargo==="Optometrista"){De();return}try{await tt()}catch(ut){console.error("Error en handleSubmit:",ut),ke("error","Error: "+(((Ue=(ue=ut.response)==null?void 0:ue.data)==null?void 0:Ue.message)||ut.message))}}},tt=async()=>{const ue={...$};console.log("Datos a enviar:",ue),$.direccion&&(ue.departamento=$.direccion.departamento,ue.municipio=$.direccion.municipio,ue.direccionDetallada=$.direccion.direccionDetallada,delete ue.direccion),ue.telefono&&!ue.telefono.startsWith("+503")&&(ue.telefono="+503"+ue.telefono),delete ue.fromOptometristaPage,delete ue.originalCargo,c?(await Sr("put",`${bl}/${c._id}`,ue),ke("success","¡Empleado actualizado exitosamente!")):(await Sr("post",`${bl}`,ue),ke("success","¡Empleado creado exitosamente!")),D(),Ve()},it=async()=>{var ue,Ue;try{o(!0),await Oe(c._id),await tt(),ke("success","¡Empleado actualizado y configuración de optometrista eliminada exitosamente!"),oe(!1)}catch(ut){console.error("Error al cambiar cargo:",ut),ke("error","Error al cambiar cargo: "+(((Ue=(ue=ut.response)==null?void 0:ue.data)==null?void 0:Ue.message)||ut.message))}finally{o(!1)}},Ot=async()=>{var ue,Ue;if(c)try{c.cargo==="Optometrista"&&await Oe(c._id),await Sr("delete",`${bl}/${c._id}`),ke("success","¡Empleado eliminado exitosamente!"),D(),Ve()}catch(ut){ke("error","Error al eliminar: "+(((Ue=(ue=ut.response)==null?void 0:ue.data)==null?void 0:Ue.message)||ut.message))}},At=()=>{const ue=c&&c.cargo!=="Optometrista"&&$.cargo==="Optometrista";return!c&&$.cargo==="Optometrista"||ue?De:We},bt=()=>c?c.cargo!=="Optometrista"&&$.cargo==="Optometrista"?"Continuar":"Actualizar Empleado":$.cargo==="Optometrista"?"Continuar":"Guardar Empleado",qt=ue=>ue==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",Un=ue=>({Administrador:"bg-purple-100 text-purple-800",Gerente:"bg-blue-100 text-blue-800",Vendedor:"bg-orange-100 text-orange-800",Optometrista:"bg-cyan-100 text-cyan-800",Técnico:"bg-yellow-100 text-yellow-800",Recepcionista:"bg-pink-100 text-pink-800"})[ue]||"bg-gray-100 text-gray-800",Zn=ue=>new Date(ue).toLocaleDateString("es-ES"),Xa=[{header:"Empleado",key:"empleado"},{header:"Contacto",key:"contacto"},{header:"Cargo",key:"cargo"},{header:"Sucursal",key:"sucursal"},{header:"Salario",key:"salario"},{header:"Estado",key:"estado"},{header:"Acciones",key:"acciones"}],ga=ue=>{var Ue;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:ue.fotoPerfil||`https://ui-avatars.com/api/?name=${ue.nombre}+${ue.apellido}`,alt:`${ue.nombre}`,className:"w-10 h-10 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[ue.nombre," ",ue.apellido]}),r.jsx("div",{className:"text-sm text-gray-500",children:ue.dui})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ci,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:ue.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(rc,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:ue.correo})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Un(ue.cargo)}`,children:ue.cargo})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:((Ue=ue.sucursalId)==null?void 0:Ue.nombre)||"N/A"})]})}),r.jsx("td",{className:"px-6 py-4 font-mono font-semibold text-cyan-700",children:J(ue.salario)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${qt(ue.estado)}`,children:ue.estado})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>wt(ue),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>lt(ue),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>st(ue),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]})};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(yr,{alert:f}),r.jsx(ic,{stats:we}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Ai,{title:"Gestión de Empleados",buttonLabel:"Añadir Empleado",onButtonClick:Ze}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[r.jsx("div",{className:"flex-1 max-w-md",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"Buscar por nombre, DUI, email o cargo...",value:S,onChange:ue=>A(ue.target.value)})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 min-w-fit",children:[r.jsx("div",{className:"min-w-[180px]",children:r.jsx("select",{value:C,onChange:ue=>E(ue.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",children:U.map(ue=>r.jsx("option",{value:ue.value,children:ue.label},ue.value))})}),r.jsx("div",{className:"min-w-[200px]",children:r.jsx("select",{value:k,onChange:ue=>O(ue.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",children:fe.map(ue=>r.jsx("option",{value:ue.value,children:ue.label},ue.value))})})]})]}),(S||C!=="todos"||k!=="todas")&&r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Filtros activos:"}),S&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-cyan-100 text-cyan-800",children:['Búsqueda: "',S,'"']}),C!=="todos"&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Estado: ",(Jt=U.find(ue=>ue.value===C))==null?void 0:Jt.label]}),k!=="todas"&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Sucursal: ",(Ht=fe.find(ue=>ue.value===k))==null?void 0:Ht.label]}),r.jsx("button",{onClick:()=>{A(""),E("todos"),O("todas")},className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:"Limpiar filtros"})]})]}),r.jsx(To,{columns:Xa,data:Ne,renderRow:ga,loading:s,noDataMessage:"No se encontraron empleados",noDataSubMessage:S?"Intenta con otros términos de búsqueda":"Aún no hay empleados registrados"}),r.jsx(Ei,{...He})]}),r.jsx(JV,{isOpen:h,onClose:Ve,onSubmit:At(),title:c?"Editar Empleado":"Agregar Nuevo Empleado",formData:$,setFormData:G,handleInputChange:te,handleNestedChange:Q,errors:ze,submitLabel:bt(),sucursales:n,selectedEmpleado:c,onReturnToOptometristaEdit:()=>c&&ie(c._id)}),V&&r.jsx(rT,{isOpen:V,onClose:Ve,onSubmit:se,title:"Añadir Detalles del Optometrista (Paso 2 de 2)",submitLabel:K?"Creando...":"Finalizar y Guardar",isCreationFlow:!0,preloadedEmployeeData:_,sucursales:n,formData:Ee,setFormData:Fe,handleInputChange:Ke,errors:Be,empleados:[],selectedOptometrista:null,onBackToEmployeeForm:ge,isCreating:!!K,creationStep:K,creationProgress:R}),r.jsx(Xr,{isOpen:W,onClose:()=>oe(!1),onConfirm:it,title:"⚠️ Advertencia: Cambio de Cargo",message:"Este empleado es actualmente un Optometrista. Al cambiar su cargo, se eliminará toda su configuración de optometrista (horarios, sucursales asignadas, especialidad, etc.). ¿Está seguro de continuar?",confirmLabel:"Sí, cambiar cargo",cancelLabel:"Cancelar",type:"warning"}),r.jsx(_r,{isOpen:x,onClose:Ve,title:"Detalles del Empleado",item:c,data:c?[{label:"Nombre",value:`${c.nombre} ${c.apellido}`},{label:"DUI",value:c.dui},{label:"Contacto",value:`${c.telefono} / ${c.correo}`},{label:"Dirección",value:c.direccion?`${c.direccion.direccionDetallada}, ${c.direccion.municipio}, ${c.direccion.departamento}`:"No especificada"},{label:"Cargo",value:c.cargo,color:Un(c.cargo)},{label:"Sucursal",value:((an=c.sucursalId)==null?void 0:an.nombre)||"N/A"},{label:"Fecha Contratación",value:Zn(c.fechaContratacion)},{label:"Salario",value:J(c.salario)},{label:"Estado",value:c.estado,color:qt(c.estado)}]:[]}),r.jsx(Xr,{isOpen:j,onClose:Ve,onConfirm:Ot,title:"Confirmar Eliminación",message:`¿Estás seguro de que deseas eliminar al empleado ${c==null?void 0:c.nombre} ${c==null?void 0:c.apellido}? Esta acción no se puede deshacer.${(c==null?void 0:c.cargo)==="Optometrista"?`

⚠️ Nota: También se eliminará su configuración de optometrista.`:""}`})]})},nH=({disponibilidad:e=[]})=>{const t=[{key:"lunes",label:"Lunes"},{key:"martes",label:"Martes"},{key:"miercoles",label:"Miércoles"},{key:"jueves",label:"Jueves"},{key:"viernes",label:"Viernes"},{key:"sabado",label:"Sábado"},{key:"domingo",label:"Domingo"}],n=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],a=(u,f)=>Array.isArray(e)?e.some(m=>m.dia===u&&(m.hora===f||m.horaInicio===f)):!1,s=u=>Array.isArray(e)?e.filter(m=>m.dia===u).map(m=>m.hora||m.horaInicio).filter(m=>m&&n.includes(m)).sort((m,h)=>{const g=n.indexOf(m),x=n.indexOf(h);return g-x}):[],o=u=>{if(!u||u.length===0)return"Sin horario";const f=[...u].sort((g,x)=>{const b=n.indexOf(g),j=n.indexOf(x);return b-j});if(f.length===0)return"Sin horario";const m=[];let h=[f[0]];for(let g=1;g<f.length;g++){const x=f[g],b=f[g-1],j=n.indexOf(x),N=n.indexOf(b);j===N+1?h.push(x):(m.push([...h]),h=[x])}return m.push(h),m.map(g=>{if(g.length===1)return g[0];if(g.length===2)return`${g[0]}, ${g[1]}`;{const x=g[g.length-1],b=n.indexOf(x),j=n[b+1]||`${parseInt(x.split(":")[0])+1}:00`;return`${g[0]} - ${j}`}}).join(", ")},c=Array.isArray(e)?e.length:0;return!e||e.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Va,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Sin horarios de disponibilidad definidos"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(Va,{className:"w-5 h-5 text-cyan-600"}),r.jsx("span",{children:"Horarios de Disponibilidad"})]}),r.jsxs("span",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-medium",children:[c," horas semanales"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-50 border-b border-gray-200",children:r.jsx("div",{className:"grid grid-cols-7 text-center",children:t.map(u=>{const f=s(u.key);return r.jsxs("div",{className:"py-3 px-2 border-r border-gray-200 last:border-r-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-700",children:u.label}),f.length>0&&r.jsxs("div",{className:"text-xs text-cyan-600 font-medium mt-1",children:[f.length,"h"]})]},u.key)})})}),r.jsx("div",{className:"p-4",children:n.map(u=>r.jsx("div",{className:"grid grid-cols-7 mb-2 last:mb-0",children:t.map(f=>r.jsx("div",{className:"px-1",children:r.jsx("div",{className:`w-full py-2 px-2 text-sm font-medium rounded text-center ${a(f.key,u)?"bg-cyan-500 text-white shadow-md":"bg-gray-100 text-gray-400"}`,children:u})},`${f.key}-${u}`))},u))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h5",{className:"text-md font-medium text-gray-700 border-b border-gray-200 pb-2",children:"Resumen Semanal"}),r.jsxs("div",{className:"hidden lg:block space-y-4",children:[r.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.slice(0,3).map(u=>{const f=s(u.key),m=o(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"font-semibold text-gray-800 mb-3 text-center border-b border-gray-100 pb-2",children:u.label}),r.jsx("div",{className:`text-sm text-center mb-2 ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m}),f.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 text-center bg-gray-50 rounded px-2 py-1",children:[f.length," hora",f.length!==1?"s":""]})]},u.key)})}),r.jsx("div",{className:"grid grid-cols-4 gap-4",children:t.slice(3).map(u=>{const f=s(u.key),m=o(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"font-semibold text-gray-800 mb-3 text-center border-b border-gray-100 pb-2",children:u.label}),r.jsx("div",{className:`text-sm text-center mb-2 ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m}),f.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 text-center bg-gray-50 rounded px-2 py-1",children:[f.length," hora",f.length!==1?"s":""]})]},u.key)})})]}),r.jsx("div",{className:"hidden md:grid lg:hidden grid-cols-2 gap-4",children:t.map(u=>{const f=s(u.key),m=o(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[r.jsx("div",{className:"font-semibold text-gray-800 mb-3 border-b border-gray-100 pb-2",children:u.label}),r.jsx("div",{className:`text-sm mb-2 ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m}),f.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 rounded px-2 py-1 inline-block",children:[f.length," hora",f.length!==1?"s":""]})]},u.key)})}),r.jsx("div",{className:"grid md:hidden grid-cols-1 gap-3",children:t.map(u=>{const f=s(u.key),m=o(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("div",{className:"font-semibold text-gray-800",children:u.label}),f.length>0&&r.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 rounded px-2 py-1",children:[f.length,"h"]})]}),r.jsx("div",{className:`text-sm ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m})]},u.key)})})]})]})},Wf=_e.ENDPOINTS.OPTOMETRISTAS,hA=_e.ENDPOINTS.EMPLEADOS,aH=_e.ENDPOINTS.SUCURSALES,Qi=async(e,t,n,a={})=>{const s=f=>`${f}${t}`,o=async f=>{const m=s(f),h=await qe({url:m,method:e,data:n,withCredentials:!0,headers:{"Content-Type":"application/json",...a.headers||{}},...a});return _e.BASE_URL=f,h},c=_e.BASE_URL,u=c.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await o(c)}catch(f){const m=(f==null?void 0:f.message)||"";if(f.code==="ECONNABORTED"||m.includes("Network Error")||m.includes("ECONNREFUSED"))return await o(u);throw f}},rH=()=>{var we,U,fe,De,se;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,o]=y.useState([]),[c,u]=y.useState(!0),[f,m]=y.useState(null),[h,g]=y.useState(null),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,A]=y.useState(!1),[C,E]=y.useState(""),[k,O]=y.useState("todas"),[T,P]=y.useState("todos"),[_,z]=y.useState("todas"),V=es(),B=An();y.useEffect(()=>{var Y;if((Y=B.state)!=null&&Y.editOptometristaId){const ge=e.find(ie=>ie._id===B.state.editOptometristaId);ge&&Ee(ge),V(B.pathname,{replace:!0,state:{}})}},[B.state,e,V]);const W=Y=>{Le(),V("/empleados",{state:{editEmployeeId:Y}})},{formData:oe,setFormData:K,handleInputChange:I,resetForm:R,validateForm:X,errors:Z,setErrors:H}=$l({empleadoId:"",especialidad:"",licencia:"",experiencia:"",disponibilidad:[],sucursalesAsignadas:[],disponible:!0},Y=>{const ge={};return Y.empleadoId||(ge.empleadoId="El empleado es requerido"),Y.especialidad||(ge.especialidad="La especialidad es requerida"),Y.licencia||(ge.licencia="La licencia es requerida"),(!Y.experiencia||Y.experiencia<0)&&(ge.experiencia="La experiencia debe ser un número positivo"),(!Y.sucursalesAsignadas||Y.sucursalesAsignadas.length===0)&&(ge.sucursalesAsignadas="Debe asignar al menos una sucursal"),ge}),D=async()=>{var Y,ge;u(!0);try{const[ie,ke,Ve]=await Promise.all([Qi("get",Wf),Qi("get",hA),Qi("get",aH)]);t(ie.data);const Ze=ke.data.filter(st=>st.cargo==="Optometrista");a(Ze),o(Ve.data)}catch(ie){ze("error","Error al cargar los datos: "+(((ge=(Y=ie.response)==null?void 0:Y.data)==null?void 0:ge.message)||ie.message))}finally{u(!1)}};y.useEffect(()=>{D()},[]);const $=y.useMemo(()=>e.filter(Y=>{const ge=Y.empleadoId;if(!ge)return!1;const ie=C.toLowerCase(),ke=`${ge.nombre} ${ge.apellido}`.toLowerCase().includes(ie)||ge.correo.toLowerCase().includes(ie)||Y.especialidad.toLowerCase().includes(ie)||Y.licencia.toLowerCase().includes(ie),Ve=k==="todas"||Y.especialidad===k;let Ze=!0;T==="disponible"?Ze=Y.disponible===!0:T==="no_disponible"&&(Ze=Y.disponible===!1);const st=_==="todas"||Y.sucursalesAsignadas&&Y.sucursalesAsignadas.some(lt=>lt._id===_);return ke&&Ve&&Ze&&st}),[e,C,k,T,_]),{paginatedData:G,...te}=sc($,5),Q=y.useMemo(()=>{const Y=[...new Set(e.map(ge=>ge.especialidad))];return[{label:"Todas las especialidades",value:"todas"},...Y.map(ge=>({label:ge,value:ge}))]},[e]),ve=[{label:"Todos los estados",value:"todos"},{label:"Disponibles",value:"disponible"},{label:"No disponibles",value:"no_disponible"}],xe=y.useMemo(()=>{const Y=[{label:"Todas las sucursales",value:"todas"}],ge=s.map(ie=>({label:ie.nombre,value:ie._id}));return[...Y,...ge]},[s]),ze=(Y,ge)=>{g({type:Y,message:ge}),setTimeout(()=>g(null),5e3)},Le=()=>{b(!1),N(!1),A(!1),m(null),R(),H({})},Ee=Y=>{var ge,ie;m(Y),K({empleadoId:((ge=Y.empleadoId)==null?void 0:ge._id)||"",especialidad:Y.especialidad,licencia:Y.licencia,experiencia:Y.experiencia,disponibilidad:Y.disponibilidad||[],sucursalesAsignadas:((ie=Y.sucursalesAsignadas)==null?void 0:ie.map(ke=>ke._id))||[],disponible:Y.disponible}),H({}),b(!0)},Fe=Y=>{m(Y),N(!0)},Ke=Y=>{m(Y),A(!0)},re=async()=>{var Y,ge;if(X())try{const ie={...oe,disponibilidad:Array.isArray(oe.disponibilidad)?oe.disponibilidad:[],sucursalesAsignadas:Array.isArray(oe.sucursalesAsignadas)?oe.sucursalesAsignadas:[]};f?(await Qi("put",`${Wf}/${f._id}`,ie),ze("success","¡Optometrista actualizado exitosamente!")):(await Qi("post",Wf,ie),ze("success","¡Optometrista creado exitosamente!")),D(),Le()}catch(ie){ze("error","Error: "+(((ge=(Y=ie.response)==null?void 0:Y.data)==null?void 0:ge.message)||ie.message))}},Be=async()=>{var Y,ge,ie;if(f)try{u(!0),await Qi("delete",`${Wf}/${f._id}`),(Y=f.empleadoId)!=null&&Y._id&&await Qi("delete",`${hA}/${f.empleadoId._id}`),ze("success","¡Optometrista y empleado asociado eliminados exitosamente!"),D(),Le()}catch(ke){ze("error","Error al eliminar: "+(((ie=(ge=ke.response)==null?void 0:ge.data)==null?void 0:ie.message)||ke.message))}finally{u(!1)}},Ge=Y=>({General:"bg-blue-100 text-blue-800",Pediátrica:"bg-pink-100 text-pink-800",Contactología:"bg-green-100 text-green-800","Baja Visión":"bg-purple-100 text-purple-800",Ortóptica:"bg-yellow-100 text-yellow-800"})[Y]||"bg-gray-100 text-gray-800",Ne=Y=>Y?{text:"Disponible",color:"bg-green-100 text-green-800"}:{text:"No Disponible",color:"bg-red-100 text-red-800"},He=Y=>!Y||Y.length===0?"Sin sucursales asignadas":Y.map(ge=>ge.nombre).join(", "),Ye=e.length,F=e.filter(Y=>Y.disponible).length,ne=Ye-F,ce=Ye>0?(e.reduce((Y,ge)=>Y+(ge.experiencia||0),0)/Ye).toFixed(1):"0",ae=[{header:"Optometrista",key:"optometrista"},{header:"Contacto",key:"contacto"},{header:"Especialidad",key:"especialidad"},{header:"Licencia",key:"licencia"},{header:"Experiencia",key:"experiencia"},{header:"Sucursales",key:"sucursales"},{header:"Estado",key:"estado"},{header:"Acciones",key:"acciones"}],J=Y=>{const ge=Y.empleadoId;return ge?r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:ge.fotoPerfil||`https://ui-avatars.com/api/?name=${ge.nombre}+${ge.apellido}`,alt:`${ge.nombre}`,className:"w-10 h-10 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[ge.nombre," ",ge.apellido]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",Y.licencia]})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ci,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:ge.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(rc,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:ge.correo})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ge(Y.especialidad)}`,children:Y.especialidad})}),r.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:Y.licencia}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(rv,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[Y.experiencia||0," años"]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm",children:He(Y.sucursalesAsignadas)})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ne(Y.disponible).color}`,children:Ne(Y.disponible).text})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Ke(Y),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Fe(Y),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Ee(Y),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]}):null};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(yr,{alert:h}),r.jsx(ic,{stats:[{title:"Total Optometristas",value:Ye,Icon:Qt,color:"cyan"},{title:"Disponibles",value:F,Icon:ko,color:"green"},{title:"No Disponibles",value:ne,Icon:tT,color:"red"},{title:"Experiencia Promedio",value:`${ce} años`,Icon:rv,color:"purple"}]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Ai,{title:"Gestión de Optometristas",subtitle:"Los optometristas se crean desde la sección de empleados"}),r.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[r.jsx("div",{className:"flex-1 max-w-md",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Oa,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"Buscar por nombre, email, especialidad, licencia...",value:C,onChange:Y=>E(Y.target.value)})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 min-w-fit",children:[r.jsx("div",{className:"min-w-[200px]",children:r.jsx("select",{value:k,onChange:Y=>O(Y.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",children:Q.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),r.jsx("div",{className:"min-w-[180px]",children:r.jsx("select",{value:T,onChange:Y=>P(Y.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",children:ve.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))})}),r.jsx("div",{className:"min-w-[200px]",children:r.jsx("select",{value:_,onChange:Y=>z(Y.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",children:xe.map(Y=>r.jsx("option",{value:Y.value,children:Y.label},Y.value))})})]})]}),(C||k!=="todas"||T!=="todos"||_!=="todas")&&r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Filtros activos:"}),C&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-cyan-100 text-cyan-800",children:['Búsqueda: "',C,'"']}),k!=="todas"&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Especialidad: ",(we=Q.find(Y=>Y.value===k))==null?void 0:we.label]}),T!=="todos"&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Estado: ",(U=ve.find(Y=>Y.value===T))==null?void 0:U.label]}),_!=="todas"&&r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Sucursal: ",(fe=xe.find(Y=>Y.value===_))==null?void 0:fe.label]}),r.jsx("button",{onClick:()=>{E(""),O("todas"),P("todos"),z("todas")},className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:"Limpiar filtros"})]})]}),r.jsx(To,{columns:ae,data:G,renderRow:J,loading:c,noDataMessage:"No se encontraron optometristas",noDataSubMessage:C?"Intenta con otros términos de búsqueda":"Los optometristas se crean desde la sección de empleados"}),r.jsx(Ei,{...te})]}),r.jsx(rT,{isOpen:x,onClose:Le,onSubmit:re,title:f?"Editar Optometrista":"Añadir Nuevo Optometrista",formData:oe,setFormData:K,handleInputChange:I,errors:Z,submitLabel:f?"Actualizar Optometrista":"Guardar Optometrista",empleados:n,sucursales:s,selectedOptometrista:f,onEditEmployeeRequest:W}),r.jsx(_r,{isOpen:j,onClose:Le,title:"Detalles del Optometrista",item:(f==null?void 0:f.empleadoId)||{},data:f?[{label:"Nombre Completo",value:f.empleadoId?`${f.empleadoId.nombre} ${f.empleadoId.apellido}`:"N/A"},{label:"Email",value:((De=f.empleadoId)==null?void 0:De.correo)||"N/A"},{label:"Teléfono",value:((se=f.empleadoId)==null?void 0:se.telefono)||"N/A"},{label:"Especialidad",value:f.especialidad,color:Ge(f.especialidad)},{label:"Licencia",value:f.licencia},{label:"Experiencia",value:`${f.experiencia||0} años`},{label:"Sucursales Asignadas",value:He(f.sucursalesAsignadas)},{label:"Estado",value:Ne(f.disponible).text,color:Ne(f.disponible).color},{label:"Fecha de Registro",value:f.createdAt?new Date(f.createdAt).toLocaleDateString("es-ES"):"N/A"}]:[],children:f&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsx(nH,{disponibilidad:f.disponibilidad||[]})})}),r.jsx(Xr,{isOpen:S,onClose:Le,onConfirm:Be,title:"⚠️ Confirmar Eliminación Completa",message:f!=null&&f.empleadoId?`¿Estás seguro de que deseas eliminar al optometrista ${f.empleadoId.nombre} ${f.empleadoId.apellido}?

⚠️ ATENCIÓN: Esta acción también eliminará:
• El registro del empleado asociado
• Todos los datos del optometrista
• Los horarios y disponibilidad configurados
• Las asignaciones de sucursales

Esta acción NO se puede deshacer.`:"¿Estás seguro de que deseas eliminar este optometrista y su empleado asociado? Esta acción no se puede deshacer.",confirmLabel:"Sí, eliminar todo",cancelLabel:"Cancelar",type:"danger"})]})},sH=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:o,errors:c,submitLabel:u,historialesMedicos:f,optometristas:m})=>{const h=(f||[]).map(b=>{var N,S;let j="";if(b.clienteId){const A=b.clienteId.nombre||"",C=b.clienteId.apellido||"",E=(N=b.historialVisual)!=null&&N.fecha?new Date(b.historialVisual.fecha).toLocaleDateString():"",k=((S=b.historialVisual)==null?void 0:S.diagnostico)||"";j=`${A} ${C}`,(E||k)&&(j+=` - ${E}`,k&&(j+=` - ${k}`))}else j=`Historial ${b._id}`;return{value:b._id,label:j}}),g=(m||[]).map(b=>({value:b._id,label:b.empleadoId?`${b.empleadoId.nombre} ${b.empleadoId.apellido}`:`Optometrista ${b._id}`})),x=[{name:"historialMedicoId",label:"Cliente (del Historial)",type:"select",options:h,placeholder:"Seleccione un cliente",required:!0,colSpan:2},{name:"optometristaId",label:"Optometrista a cargo",type:"select",options:g,placeholder:"Seleccione un optometrista",required:!0,colSpan:2},{name:"diagnostico",label:"Diagnóstico Principal",type:"text",placeholder:"Ej. Miopía y Astigmatismo",required:!0,colSpan:4},{name:"ojoDerecho.esfera",label:"OD Esfera",type:"number",placeholder:"-1.25",step:"0.01",nested:!0},{name:"ojoDerecho.cilindro",label:"OD Cilindro",type:"number",placeholder:"-0.75",step:"0.01",nested:!0},{name:"ojoDerecho.eje",label:"OD Eje",type:"number",placeholder:"180",step:"1",nested:!0},{name:"ojoDerecho.adicion",label:"OD Adición",type:"number",placeholder:"+2.00",step:"0.01",nested:!0},{name:"ojoIzquierdo.esfera",label:"OI Esfera",type:"number",placeholder:"-1.50",step:"0.01",nested:!0},{name:"ojoIzquierdo.cilindro",label:"OI Cilindro",type:"number",placeholder:"-0.50",step:"0.01",nested:!0},{name:"ojoIzquierdo.eje",label:"OI Eje",type:"number",placeholder:"175",step:"1",nested:!0},{name:"ojoIzquierdo.adicion",label:"OI Adición",type:"number",placeholder:"+2.00",step:"0.01",nested:!0},{name:"observaciones",label:"Observaciones Adicionales",type:"textarea",placeholder:"Ej. Tratamiento antireflejante recomendado...",colSpan:3},{name:"vigencia",label:"Vigencia (meses)",type:"number",placeholder:"12",required:!0,colSpan:1,step:"1"}];return r.jsx(pr,{isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:o,errors:c,submitLabel:u,fields:x,gridCols:4})},li="https://a-u-r-o-r-a.onrender.com/api",iH=()=>{var Fe,Ke,re,Be,Ge,Ne,He,Ye;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,o]=y.useState([]),[c,u]=y.useState(!0),[f,m]=y.useState(null),[h,g]=y.useState(null),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,A]=y.useState(!1),[C,E]=y.useState(""),[k,O]=y.useState("todos"),T={historialMedicoId:"",optometristaId:"",diagnostico:"",ojoDerecho:{esfera:null,cilindro:null,eje:null,adicion:null},ojoIzquierdo:{esfera:null,cilindro:null,eje:null,adicion:null},observaciones:"",vigencia:12},[P,_]=y.useState(T),[z,V]=y.useState({}),B=y.useCallback(F=>{const{name:ne,value:ce,type:ae}=F.target;if(ne.includes(".")){const[J,we]=ne.split(".");_(U=>({...U,[J]:{...U[J],[we]:ae==="number"?ce===""?null:Number(ce):ce}}))}else _(J=>({...J,[ne]:ae==="number"?ce===""?null:Number(ce):ce}))},[]),W=()=>_(T),oe=()=>{const F={};return P.historialMedicoId||(F.historialMedicoId="Debe seleccionar un cliente."),P.optometristaId||(F.optometristaId="Debe seleccionar un optometrista."),P.diagnostico.trim()||(F.diagnostico="El diagnóstico es requerido."),(!P.vigencia||P.vigencia<=0)&&(F.vigencia="La vigencia debe ser un número positivo."),P.ojoDerecho.esfera===""&&(F["ojoDerecho.esfera"]="Requerido"),P.ojoDerecho.cilindro===""&&(F["ojoDerecho.cilindro"]="Requerido"),P.ojoDerecho.eje===""&&(F["ojoDerecho.eje"]="Requerido"),P.ojoIzquierdo.esfera===""&&(F["ojoIzquierdo.esfera"]="Requerido"),P.ojoIzquierdo.cilindro===""&&(F["ojoIzquierdo.cilindro"]="Requerido"),P.ojoIzquierdo.eje===""&&(F["ojoIzquierdo.eje"]="Requerido"),V(F),Object.keys(F).length===0},K=y.useCallback(async()=>{u(!0);try{const[F,ne]=await Promise.all([qe.get(`${li}/historialMedico`),qe.get(`${li}/optometrista`)]);a(F.data||[]),o(ne.data||[])}catch(F){H("error","Error al cargar datos maestros (historiales, optometristas)."),console.error("Error fetching master data:",F)}finally{u(!1)}},[]),I=async()=>{u(!0);let F=`${li}/recetas`;k==="vigentes"&&(F=`${li}/recetas/vigentes/activas`);try{const ne=await qe.get(F);t(Array.isArray(ne.data)?ne.data:[])}catch(ne){H("error","Error al cargar las recetas."),console.error("Error fetching recetas:",ne)}finally{u(!1)}};y.useEffect(()=>{K()},[K]),y.useEffect(()=>{I()},[k]),y.useEffect(()=>{const F=window.localStorage.getItem("editRecetaId");if(F&&e.length>0){const ne=e.find(ce=>ce._id===F);ne&&(G(ne),window.localStorage.removeItem("editRecetaId"))}},[e]);const R=y.useMemo(()=>Array.isArray(e)?e.filter(F=>{var U,fe,De,se,Y,ge,ie,ke,Ve,Ze,st,lt;const ne=C.toLowerCase(),ce=((De=(fe=(U=F.historialMedicoId)==null?void 0:U.clienteId)==null?void 0:fe.nombre)==null?void 0:De.toLowerCase())||"",ae=((ge=(Y=(se=F.historialMedicoId)==null?void 0:se.clienteId)==null?void 0:Y.apellido)==null?void 0:ge.toLowerCase())||"",J=((Ve=(ke=(ie=F.optometristaId)==null?void 0:ie.empleadoId)==null?void 0:ke.nombre)==null?void 0:Ve.toLowerCase())||"",we=((lt=(st=(Ze=F.optometristaId)==null?void 0:Ze.empleadoId)==null?void 0:st.apellido)==null?void 0:lt.toLowerCase())||"";return F.diagnostico.toLowerCase().includes(ne)||`${ce} ${ae}`.includes(ne)||`${J} ${we}`.includes(ne)}):[],[e,C]),{paginatedData:X,...Z}=sc(R,5),H=(F,ne)=>{g({type:F,message:ne}),setTimeout(()=>g(null),5e3)},D=()=>{b(!1),N(!1),A(!1),m(null),W()},$=()=>{W(),V({}),m(null),b(!0)},G=F=>{var ce,ae;m(F);const ne={...T,...F,historialMedicoId:((ce=F.historialMedicoId)==null?void 0:ce._id)||F.historialMedicoId,optometristaId:((ae=F.optometristaId)==null?void 0:ae._id)||F.optometristaId,ojoDerecho:{...T.ojoDerecho,...F.ojoDerecho},ojoIzquierdo:{...T.ojoIzquierdo,...F.ojoIzquierdo}};_(ne),V({}),b(!0)},te=F=>{m(F),N(!0)},Q=F=>{m(F),A(!0)},ve=async F=>{var ae,J,we;if(F.preventDefault(),!oe()){H("error","Por favor, completa todos los campos requeridos.");return}const ne=f?`${li}/recetas/${f._id}`:`${li}/recetas`,ce=f?"put":"post";try{if(f)try{await qe.get(`${li}/recetas/${f._id}`)}catch(U){if(((ae=U==null?void 0:U.response)==null?void 0:ae.status)===404){H("error","La receta seleccionada ya no existe (404). Se actualizará la lista."),await I(),D();return}}await qe[ce](ne,P),H("success",`¡Receta ${f?"actualizada":"creada"} exitosamente!`),I(),D()}catch(U){const fe=((we=(J=U.response)==null?void 0:J.data)==null?void 0:we.message)||"Ocurrió un error inesperado.";H("error",fe),console.error("Error submitting receta:",U)}},xe=async()=>{var F,ne;if(f)try{await qe.delete(`${li}/recetas/${f._id}`),H("success","¡Receta eliminada exitosamente!"),I(),D()}catch(ce){const ae=((ne=(F=ce.response)==null?void 0:F.data)==null?void 0:ne.message)||"Ocurrió un error inesperado.";H("error",ae),console.error("Error deleting receta:",ce)}},ze=[{header:"Diagnóstico",key:"diagnostico"},{header:"Cliente",key:"cliente"},{header:"Optometrista",key:"optometrista"},{header:"Fecha",key:"fecha"},{header:"Vigencia",key:"vigencia"},{header:"Acciones",key:"acciones"}],Le=F=>{var J,we;const ne=(J=F.historialMedicoId)==null?void 0:J.clienteId,ce=(we=F.optometristaId)==null?void 0:we.empleadoId,ae=new Date(new Date(F.fecha).setMonth(new Date(F.fecha).getMonth()+F.vigencia))>new Date;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:F.diagnostico}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:ne?`${ne.nombre} ${ne.apellido}`:"N/A"}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:ce?`${ce.nombre} ${ce.apellido}`:"N/A"}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(F.fecha).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${ae?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ae?"Vigente":"Vencida"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Q(F),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>te(F),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>G(F),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]})},Ee=y.useMemo(()=>{const F=e.filter(ce=>new Date(new Date(ce.fecha).setMonth(new Date(ce.fecha).getMonth()+ce.vigencia))>new Date).length,ne=e.length-F;return[{title:"Total Recetas",value:e.length,Icon:Vk,color:"blue"},{title:"Recetas Vigentes",value:F,Icon:Os,color:"green"},{title:"Recetas Vencidas",value:ne,Icon:Va,color:"red"}]},[e]);return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(yr,{alert:h}),r.jsx(ic,{stats:Ee}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Ai,{title:"Gestión de Recetas",buttonLabel:"Añadir Receta",onButtonClick:$}),r.jsx(Rh,{searchTerm:C,onSearchChange:F=>E(F.target.value),searchPlaceholder:"Buscar por diagnóstico, cliente u optometrista...",filters:[{label:"Todas",value:"todos"},{label:"Vigentes",value:"vigentes"}],activeFilter:k,onFilterChange:F=>{O(F),E("")}}),r.jsx(To,{columns:ze,data:X,renderRow:Le,isLoading:c,noDataMessage:"No se encontraron recetas"}),r.jsx(Ei,{...Z})]}),x&&r.jsx(sH,{isOpen:x,onClose:D,onSubmit:ve,title:f?"Editar Receta":"Nueva Receta",formData:P,handleInputChange:B,errors:z,submitLabel:f?"Actualizar Receta":"Guardar Receta",historialesMedicos:n,optometristas:s}),f&&j&&r.jsx(_r,{isOpen:j,onClose:D,title:"Detalles de la Receta",item:f,data:[{label:"Diagnóstico",value:f.diagnostico},{label:"Cliente",value:`${((Ke=(Fe=f.historialMedicoId)==null?void 0:Fe.clienteId)==null?void 0:Ke.nombre)||""} ${((Be=(re=f.historialMedicoId)==null?void 0:re.clienteId)==null?void 0:Be.apellido)||""}`.trim()||"N/A"},{label:"Optometrista",value:`${((Ne=(Ge=f.optometristaId)==null?void 0:Ge.empleadoId)==null?void 0:Ne.nombre)||""} ${((Ye=(He=f.optometristaId)==null?void 0:He.empleadoId)==null?void 0:Ye.apellido)||""}`.trim()||"N/A"},{label:"Fecha",value:new Date(f.fecha).toLocaleDateString()},{label:"Vigencia",value:`${f.vigencia} meses`},{label:"Ojo Derecho",value:`Esf: ${f.ojoDerecho.esfera}, Cil: ${f.ojoDerecho.cilindro}, Eje: ${f.ojoDerecho.eje}, Ad: ${f.ojoDerecho.adicion}`},{label:"Ojo Izquierdo",value:`Esf: ${f.ojoIzquierdo.esfera}, Cil: ${f.ojoIzquierdo.cilindro}, Eje: ${f.ojoIzquierdo.eje}, Ad: ${f.ojoIzquierdo.adicion}`},{label:"Observaciones",value:f.observaciones||"Sin observaciones"}]}),S&&r.jsx(Xr,{isOpen:S,onClose:D,onConfirm:xe,title:"Confirmar Eliminación",message:`¿Estás seguro de que deseas eliminar la receta con diagnóstico "${f==null?void 0:f.diagnostico}"?`})]})};function sT(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=sT(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Ut(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=sT(e))&&(a&&(a+=" "),a+=t);return a}var Vg={},Hg={},pA;function oH(){return pA||(pA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(Hg)),Hg}var Gg={},gA;function iT(){return gA||(gA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Gg)),Gg}var Kg={},xA;function oT(){return xA||(xA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;return typeof n=="string"||typeof n=="symbol"?n:Object.is((a=n==null?void 0:n.valueOf)==null?void 0:a.call(n),-0)?"-0":String(n)}e.toKey=t}(Kg)),Kg}var Yg={},yA;function e1(){return yA||(yA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const a=[],s=n.length;if(s===0)return a;let o=0,c="",u="",f=!1;for(n.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const m=n[o];u?m==="\\"&&o+1<s?(o++,c+=n[o]):m===u?u="":c+=m:f?m==='"'||m==="'"?u=m:m==="]"?(f=!1,a.push(c),c=""):c+=m:m==="["?(f=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,o++}return c&&a.push(c),a}e.toPath=t}(Yg)),Yg}var vA;function t1(){return vA||(vA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oH(),n=iT(),a=oT(),s=e1();function o(u,f,m){if(u==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=u[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(u,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=u[f];return h===void 0?m:h}}}function c(u,f,m){if(f.length===0)return m;let h=u;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return m;h=h[f[g]]}return h===void 0?m:h}e.get=o}(Vg)),Vg}var Wg,bA;function lH(){return bA||(bA=1,Wg=t1().get),Wg}var cH=lH();const ji=Jr(cH);var Xg={exports:{}},Bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function uH(){if(jA)return Bt;jA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(N){if(typeof N=="object"&&N!==null){var S=N.$$typeof;switch(S){case e:switch(N=N.type,N){case n:case s:case a:case f:case m:case x:return N;default:switch(N=N&&N.$$typeof,N){case c:case u:case g:case h:return N;case o:return N;default:return S}}case t:return S}}}return Bt.ContextConsumer=o,Bt.ContextProvider=c,Bt.Element=e,Bt.ForwardRef=u,Bt.Fragment=n,Bt.Lazy=g,Bt.Memo=h,Bt.Portal=t,Bt.Profiler=s,Bt.StrictMode=a,Bt.Suspense=f,Bt.SuspenseList=m,Bt.isContextConsumer=function(N){return j(N)===o},Bt.isContextProvider=function(N){return j(N)===c},Bt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Bt.isForwardRef=function(N){return j(N)===u},Bt.isFragment=function(N){return j(N)===n},Bt.isLazy=function(N){return j(N)===g},Bt.isMemo=function(N){return j(N)===h},Bt.isPortal=function(N){return j(N)===t},Bt.isProfiler=function(N){return j(N)===s},Bt.isStrictMode=function(N){return j(N)===a},Bt.isSuspense=function(N){return j(N)===f},Bt.isSuspenseList=function(N){return j(N)===m},Bt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===s||N===a||N===f||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===h||N.$$typeof===c||N.$$typeof===o||N.$$typeof===u||N.$$typeof===b||N.getModuleId!==void 0)},Bt.typeOf=j,Bt}var wA;function dH(){return wA||(wA=1,Xg.exports=uH()),Xg.exports}var fH=dH(),In=e=>e===0?0:e>0?1:-1,Ga=e=>typeof e=="number"&&e!=+e,oo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!Ga(e),Zr=e=>Je(e)||typeof e=="string",mH=0,Bl=e=>{var t=++mH;return"".concat(e||"").concat(t)},ha=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return a;var o;if(oo(t)){if(n==null)return a;var c=t.indexOf("%");o=n*parseFloat(t.slice(0,c))/100}else o=+t;return Ga(o)&&(o=a),s&&n!=null&&o>n&&(o=n),o},lT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},mi=(e,t)=>Je(e)&&Je(t)?n=>e+n*(t-e):()=>t;function hH(e,t,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):ji(a,t))===n)}var Nn=e=>e===null||typeof e>"u",xd=e=>Nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),pH=["viewBox","children"],gH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NA=["points","pathLength"],Zg={svg:pH,polygon:NA,polyline:NA},n1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xH=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{n1.includes(s)&&(a[s]=o=>n[s](n,o))}),a},yH=(e,t,n)=>a=>(e(t,n,a),null),Lh=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var o=e[s];n1.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=yH(o,t,n))}),a},SA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",CA=null,Qg=null,cT=e=>{if(e===CA&&Array.isArray(Qg))return Qg;var t=[];return y.Children.forEach(e,n=>{Nn(n)||(fH.isFragment(n)?t=t.concat(cT(n.props.children)):t.push(n))}),Qg=t,CA=e,t};function yd(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(s=>SA(s)):a=[SA(t)],cT(e).forEach(s=>{var o=ji(s,"type.displayName")||ji(s,"type.name");a.indexOf(o)!==-1&&n.push(s)}),n}var vH=(e,t,n,a)=>{var s,o=(s=a&&(Zg==null?void 0:Zg[a]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(a&&o.includes(t)||gH.includes(t))||n&&n1.includes(t)},Rt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(o=>{var c;vH((c=a)===null||c===void 0?void 0:c[o],o,t,n)&&(s[o]=a[o])}),s},bH=["children","width","height","viewBox","className","style","title","desc"];function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lv.apply(null,arguments)}function jH(e,t){if(e==null)return{};var n,a,s=wH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wH(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var uT=y.forwardRef((e,t)=>{var{children:n,width:a,height:s,viewBox:o,className:c,style:u,title:f,desc:m}=e,h=jH(e,bH),g=o||{width:a,height:s,x:0,y:0},x=Ut("recharts-surface",c);return y.createElement("svg",lv({},Rt(h,!0,"svg"),{className:x,width:a,height:s,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),y.createElement("title",null,f),y.createElement("desc",null,m),n)}),NH=["children","className"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cv.apply(null,arguments)}function SH(e,t){if(e==null)return{};var n,a,s=CH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function CH(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var pa=y.forwardRef((e,t)=>{var{children:n,className:a}=e,s=SH(e,NH),o=Ut("recharts-layer",a);return y.createElement("g",cv({className:o},Rt(s,!0),{ref:t}),n)}),AH=y.createContext(null);function Kt(e){return function(){return e}}const dT=Math.cos,zm=Math.sin,Dr=Math.sqrt,$m=Math.PI,Ih=2*$m,uv=Math.PI,dv=2*uv,to=1e-6,EH=dv-to;function fT(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function OH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fT;const n=10**t;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class kH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fT:OH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,o,c){this._append`C${+t},${+n},${+a},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(t,n,a,s,o){if(t=+t,n=+n,a=+a,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,f=a-t,m=s-n,h=c-t,g=u-n,x=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>to)if(!(Math.abs(g*f-m*h)>to)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=a-c,j=s-u,N=f*f+m*m,S=b*b+j*j,A=Math.sqrt(N),C=Math.sqrt(x),E=o*Math.tan((uv-Math.acos((N+x-S)/(2*A*C)))/2),k=E/C,O=E/A;Math.abs(k-1)>to&&this._append`L${t+k*h},${n+k*g}`,this._append`A${o},${o},0,0,${+(g*b>h*j)},${this._x1=t+O*f},${this._y1=n+O*m}`}}arc(t,n,a,s,o,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let u=a*Math.cos(s),f=a*Math.sin(s),m=t+u,h=n+f,g=1^c,x=c?s-o:o-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>to||Math.abs(this._y1-h)>to)&&this._append`L${m},${h}`,a&&(x<0&&(x=x%dv+dv),x>EH?this._append`A${a},${a},0,1,${g},${t-u},${n-f}A${a},${a},0,1,${g},${this._x1=m},${this._y1=h}`:x>to&&this._append`A${a},${a},0,${+(x>=uv)},${g},${this._x1=t+a*Math.cos(o)},${this._y1=n+a*Math.sin(o)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function a1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new kH(t)}function r1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mT(e){this._context=e}mT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function zh(e){return new mT(e)}function hT(e){return e[0]}function pT(e){return e[1]}function gT(e,t){var n=Kt(!0),a=null,s=zh,o=null,c=a1(u);e=typeof e=="function"?e:e===void 0?hT:Kt(e),t=typeof t=="function"?t:t===void 0?pT:Kt(t);function u(f){var m,h=(f=r1(f)).length,g,x=!1,b;for(a==null&&(o=s(b=c())),m=0;m<=h;++m)!(m<h&&n(g=f[m],m,f))===x&&((x=!x)?o.lineStart():o.lineEnd()),x&&o.point(+e(g,m,f),+t(g,m,f));if(b)return o=null,b+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Kt(!!f),u):n},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}function Xf(e,t,n){var a=null,s=Kt(!0),o=null,c=zh,u=null,f=a1(m);e=typeof e=="function"?e:e===void 0?hT:Kt(+e),t=typeof t=="function"?t:Kt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?pT:Kt(+n);function m(g){var x,b,j,N=(g=r1(g)).length,S,A=!1,C,E=new Array(N),k=new Array(N);for(o==null&&(u=c(C=f())),x=0;x<=N;++x){if(!(x<N&&s(S=g[x],x,g))===A)if(A=!A)b=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=x-1;j>=b;--j)u.point(E[j],k[j]);u.lineEnd(),u.areaEnd()}A&&(E[x]=+e(S,x,g),k[x]=+t(S,x,g),u.point(a?+a(S,x,g):E[x],n?+n(S,x,g):k[x]))}if(C)return u=null,C+""||null}function h(){return gT().defined(s).curve(c).context(o)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),a=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Kt(+g),m):e},m.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Kt(+g),m):a},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),n=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Kt(+g),m):t},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Kt(+g),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Kt(!!g),m):s},m.curve=function(g){return arguments.length?(c=g,o!=null&&(u=c(o)),m):c},m.context=function(g){return arguments.length?(g==null?o=u=null:u=c(o=g),m):o},m}class xT{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function TH(e){return new xT(e,!0)}function MH(e){return new xT(e,!1)}const s1={draw(e,t){const n=Dr(t/$m);e.moveTo(n,0),e.arc(0,0,n,0,Ih)}},PH={draw(e,t){const n=Dr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},yT=Dr(1/3),_H=yT*2,DH={draw(e,t){const n=Dr(t/_H),a=n*yT;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},RH={draw(e,t){const n=Dr(t),a=-n/2;e.rect(a,a,n,n)}},LH=.8908130915292852,vT=zm($m/10)/zm(7*$m/10),IH=zm(Ih/10)*vT,zH=-dT(Ih/10)*vT,$H={draw(e,t){const n=Dr(t*LH),a=IH*n,s=zH*n;e.moveTo(0,-n),e.lineTo(a,s);for(let o=1;o<5;++o){const c=Ih*o/5,u=dT(c),f=zm(c);e.lineTo(f*n,-u*n),e.lineTo(u*a-f*s,f*a+u*s)}e.closePath()}},Jg=Dr(3),BH={draw(e,t){const n=-Dr(t/(Jg*3));e.moveTo(0,n*2),e.lineTo(-Jg*n,-n),e.lineTo(Jg*n,-n),e.closePath()}},or=-.5,lr=Dr(3)/2,fv=1/Dr(12),UH=(fv/2+1)*3,qH={draw(e,t){const n=Dr(t/UH),a=n/2,s=n*fv,o=a,c=n*fv+n,u=-o,f=c;e.moveTo(a,s),e.lineTo(o,c),e.lineTo(u,f),e.lineTo(or*a-lr*s,lr*a+or*s),e.lineTo(or*o-lr*c,lr*o+or*c),e.lineTo(or*u-lr*f,lr*u+or*f),e.lineTo(or*a+lr*s,or*s-lr*a),e.lineTo(or*o+lr*c,or*c-lr*o),e.lineTo(or*u+lr*f,or*f-lr*u),e.closePath()}};function FH(e,t){let n=null,a=a1(s);e=typeof e=="function"?e:Kt(e||s1),t=typeof t=="function"?t:Kt(t===void 0?64:+t);function s(){let o;if(n||(n=o=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Kt(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Kt(+o),s):t},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function Bm(){}function Um(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function bT(e){this._context=e}bT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VH(e){return new bT(e)}function jT(e){this._context=e}jT.prototype={areaStart:Bm,areaEnd:Bm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HH(e){return new jT(e)}function wT(e){this._context=e}wT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GH(e){return new wT(e)}function NT(e){this._context=e}NT.prototype={areaStart:Bm,areaEnd:Bm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function KH(e){return new NT(e)}function AA(e){return e<0?-1:1}function EA(e,t,n){var a=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(a||s<0&&-0),c=(n-e._y1)/(s||a<0&&-0),u=(o*s+c*a)/(a+s);return(AA(o)+AA(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function OA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ex(e,t,n){var a=e._x0,s=e._y0,o=e._x1,c=e._y1,u=(o-a)/3;e._context.bezierCurveTo(a+u,s+u*t,o-u,c-u*n,o,c)}function qm(e){this._context=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ex(this,this._t0,OA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ex(this,OA(this,n=EA(this,e,t)),n);break;default:ex(this,this._t0,n=EA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ST(e){this._context=new CT(e)}(ST.prototype=Object.create(qm.prototype)).point=function(e,t){qm.prototype.point.call(this,t,e)};function CT(e){this._context=e}CT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,o){this._context.bezierCurveTo(t,e,a,n,o,s)}};function YH(e){return new qm(e)}function WH(e){return new ST(e)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=kA(e),s=kA(t),o=0,c=1;c<n;++o,++c)this._context.bezierCurveTo(a[0][o],s[0][o],a[1][o],s[1][o],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kA(e){var t,n=e.length-1,a,s=new Array(n),o=new Array(n),c=new Array(n);for(s[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/o[t-1],o[t]-=a,c[t]-=a*c[t-1];for(s[n-1]=c[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function XH(e){return new AT(e)}function $h(e,t){this._context=e,this._t=t}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ZH(e){return new $h(e,.5)}function QH(e){return new $h(e,0)}function JH(e){return new $h(e,1)}function Ul(e,t){if((c=e.length)>1)for(var n=1,a,s,o=e[t[0]],c,u=o.length;n<c;++n)for(s=o,o=e[t[n]],a=0;a<u;++a)o[a][1]+=o[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function mv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function eG(e,t){return e[t]}function tG(e){const t=[];return t.key=e,t}function nG(){var e=Kt([]),t=mv,n=Ul,a=eG;function s(o){var c=Array.from(e.apply(this,arguments),tG),u,f=c.length,m=-1,h;for(const g of o)for(u=0,++m;u<f;++u)(c[u][m]=[0,+a(g,c[u].key,m,o)]).data=g;for(u=0,h=r1(t(c));u<f;++u)c[h[u]].index=u;return n(c,h),c}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Kt(Array.from(o)),s):e},s.value=function(o){return arguments.length?(a=typeof o=="function"?o:Kt(+o),s):a},s.order=function(o){return arguments.length?(t=o==null?mv:typeof o=="function"?o:Kt(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(n=o??Ul,s):n},s}function aG(e,t){if((a=e.length)>0){for(var n,a,s=0,o=e[0].length,c;s<o;++s){for(c=n=0;n<a;++n)c+=e[n][s][1]||0;if(c)for(n=0;n<a;++n)e[n][s][1]/=c}Ul(e,t)}}function rG(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,o=a.length;n<o;++n){for(var c=0,u=0;c<s;++c)u+=e[c][n][1]||0;a[n][1]+=a[n][0]=-u/2}Ul(e,t)}}function sG(e,t){if(!(!((c=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,o,c;a<o;++a){for(var u=0,f=0,m=0;u<c;++u){for(var h=e[t[u]],g=h[a][1]||0,x=h[a-1][1]||0,b=(g-x)/2,j=0;j<u;++j){var N=e[t[j]],S=N[a][1]||0,A=N[a-1][1]||0;b+=S-A}f+=g,m+=b*g}s[a-1][1]+=s[a-1][0]=n,f&&(n-=m/f)}s[a-1][1]+=s[a-1][0]=n,Ul(e,t)}}var iG=["type","size","sizeType"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hv.apply(null,arguments)}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(a){oG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oG(e,t,n){return(t=lG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uG(e,t){if(e==null)return{};var n,a,s=dG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var ET={symbolCircle:s1,symbolCross:PH,symbolDiamond:DH,symbolSquare:RH,symbolStar:$H,symbolTriangle:BH,symbolWye:qH},fG=Math.PI/180,mG=e=>{var t="symbol".concat(xd(e));return ET[t]||s1},hG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*fG;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},pG=(e,t)=>{ET["symbol".concat(xd(e))]=t},OT=e=>{var{type:t="circle",size:n=64,sizeType:a="area"}=e,s=uG(e,iG),o=MA(MA({},s),{},{type:t,size:n,sizeType:a}),c=()=>{var g=mG(t),x=FH().type(g).size(hG(n,a,t));return x()},{className:u,cx:f,cy:m}=o,h=Rt(o,!0);return f===+f&&m===+m&&n===+n?y.createElement("path",hv({},h,{className:Ut("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};OT.registerSymbol=pG;var tx={},nx={},PA;function gG(){return PA||(PA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){const s=new Map;for(let o=0;o<n.length;o++){const c=n[o],u=a(c);s.has(u)||s.set(u,c)}return Array.from(s.values())}e.uniqBy=t}(nx)),nx}var ax={},_A;function kT(){return _A||(_A=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(ax)),ax}var rx={},sx={},ix={},DA;function xG(){return DA||(DA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(ix)),ix}var RA;function i1(){return RA||(RA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xG();function n(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=n}(sx)),sx}var ox={},LA;function yG(){return LA||(LA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(ox)),ox}var IA;function vG(){return IA||(IA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i1(),n=yG();function a(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a}(rx)),rx}var lx={},cx={},zA;function bG(){return zA||(zA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t1();function n(a){return function(s){return t.get(s,a)}}e.property=n}(cx)),cx}var ux={},dx={},fx={},mx={},$A;function TT(){return $A||($A=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(mx)),mx}var hx={},BA;function MT(){return BA||(BA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(hx)),hx}var px={},UA;function o1(){return UA||(UA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=t}(px)),px}var qA;function jG(){return qA||(qA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l1(),n=TT(),a=MT(),s=o1();function o(g,x,b){return typeof b!="function"?t.isMatch(g,x):c(g,x,function j(N,S,A,C,E,k){const O=b(N,S,A,C,E,k);return O!==void 0?!!O:c(N,S,j,k)},new Map)}function c(g,x,b,j){if(x===g)return!0;switch(typeof x){case"object":return u(g,x,b,j);case"function":return Object.keys(x).length>0?c(g,{...x},b,j):s.eq(g,x);default:return n.isObject(g)?typeof x=="string"?x==="":!0:s.eq(g,x)}}function u(g,x,b,j){if(x==null)return!0;if(Array.isArray(x))return m(g,x,b,j);if(x instanceof Map)return f(g,x,b,j);if(x instanceof Set)return h(g,x,b,j);const N=Object.keys(x);if(g==null)return N.length===0;if(N.length===0)return!0;if(j&&j.has(x))return j.get(x)===g;j&&j.set(x,g);try{for(let S=0;S<N.length;S++){const A=N[S];if(!a.isPrimitive(g)&&!(A in g)||x[A]===void 0&&g[A]!==void 0||x[A]===null&&g[A]!==null||!b(g[A],x[A],A,g,x,j))return!1}return!0}finally{j&&j.delete(x)}}function f(g,x,b,j){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[N,S]of x.entries()){const A=g.get(N);if(b(A,S,N,g,x,j)===!1)return!1}return!0}function m(g,x,b,j){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const N=new Set;for(let S=0;S<x.length;S++){const A=x[S];let C=!1;for(let E=0;E<g.length;E++){if(N.has(E))continue;const k=g[E];let O=!1;if(b(k,A,S,g,x,j)&&(O=!0),O){N.add(E),C=!0;break}}if(!C)return!1}return!0}function h(g,x,b,j){return x.size===0?!0:g instanceof Set?m([...g],[...x],b,j):!1}e.isMatchWith=o,e.isSetMatch=h}(fx)),fx}var FA;function l1(){return FA||(FA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jG();function n(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=n}(dx)),dx}var gx={},xx={},yx={},VA;function PT(){return VA||(VA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=t}(yx)),yx}var vx={},HA;function c1(){return HA||(HA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(vx)),vx}var bx={},GA;function u1(){return GA||(GA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",a="[object Number]",s="[object Boolean]",o="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",x="[object ArrayBuffer]",b="[object Object]",j="[object Error]",N="[object DataView]",S="[object Uint8Array]",A="[object Uint8ClampedArray]",C="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",O="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",_="[object BigInt64Array]",z="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=N,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=z,e.float64ArrayTag=V,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=a,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=C,e.uint32ArrayTag=E,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=A}(bx)),bx}var jx={},KA;function wG(){return KA||(KA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(jx)),jx}var YA;function _T(){return YA||(YA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PT(),n=c1(),a=u1(),s=MT(),o=wG();function c(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,x,b=new Map,j=void 0){const N=j==null?void 0:j(h,g,x,b);if(N!=null)return N;if(s.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let A=0;A<h.length;A++)S[A]=u(h[A],A,x,b,j);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[A,C]of h)S.set(A,u(C,A,x,b,j));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const A of h)S.add(u(A,void 0,x,b,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let A=0;A<h.length;A++)S[A]=u(h[A],A,x,b,j);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,x,b,j),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,x,b,j),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,x,b,j),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,x,b,j),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,x,b,j),S}return h}function f(h,g,x=h,b,j){const N=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<N.length;S++){const A=N[S],C=Object.getOwnPropertyDescriptor(h,A);(C==null||C.writable)&&(h[A]=u(g[A],A,x,b,j))}}function m(h){switch(n.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f}(xx)),xx}var WA;function NG(){return WA||(WA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T();function n(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n}(gx)),gx}var XA;function SG(){return XA||(XA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l1(),n=NG();function a(s){return s=n.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=a}(ux)),ux}var wx={},Nx={},Sx={},ZA;function CG(){return ZA||(ZA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T(),n=u1();function a(s,o){return t.cloneDeepWith(s,(c,u,f,m)=>{const h=o==null?void 0:o(c,u,f,m);if(h!=null)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case n.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=a}(Sx)),Sx}var QA;function AG(){return QA||(QA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CG();function n(a){return t.cloneDeepWith(a)}e.cloneDeep=n}(Nx)),Nx}var Cx={},Ax={},JA;function DT(){return JA||(JA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=n}(Ax)),Ax}var Ex={},e4;function EG(){return e4||(e4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c1();function n(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=n}(Ex)),Ex}var t4;function OG(){return t4||(t4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT(),n=DT(),a=EG(),s=e1();function o(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(c==null?void 0:c[u])==null?f=s.toPath(u):f=[u],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const g=f[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||a.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=o}(Cx)),Cx}var n4;function kG(){return n4||(n4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l1(),n=oT(),a=AG(),s=t1(),o=OG();function c(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,u);return h===void 0?o.has(m,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(wx)),wx}var a4;function TG(){return a4||(a4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kT(),n=bG(),a=SG(),s=kG();function o(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=o}(lx)),lx}var r4;function MG(){return r4||(r4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gG(),n=kT(),a=vG(),s=TG();function o(c,u=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(u)):[]}e.uniqBy=o}(tx)),tx}var Ox,s4;function PG(){return s4||(s4=1,Ox=MG().uniqBy),Ox}var _G=PG();const i4=Jr(_G);function DG(e,t,n){return t===!0?i4(e,n):typeof t=="function"?i4(e,t):e}var kx={exports:{}},Tx={},Mx={exports:{}},Px={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4;function RG(){if(o4)return Px;o4=1;var e=Wl();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function u(g,x){var b=x(),j=a({inst:{value:b,getSnapshot:x}}),N=j[0].inst,S=j[1];return o(function(){N.value=b,N.getSnapshot=x,f(N)&&S({inst:N})},[g,b,x]),s(function(){return f(N)&&S({inst:N}),g(function(){f(N)&&S({inst:N})})},[g]),c(b),b}function f(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch{return!0}}function m(g,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Px.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Px}var l4;function LG(){return l4||(l4=1,Mx.exports=RG()),Mx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4;function IG(){if(c4)return Tx;c4=1;var e=Wl(),t=LG();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Tx.useSyncExternalStoreWithSelector=function(m,h,g,x,b){var j=o(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=u(function(){function A(T){if(!C){if(C=!0,E=T,T=x(T),b!==void 0&&N.hasValue){var P=N.value;if(b(P,T))return k=P}return k=T}if(P=k,a(E,T))return P;var _=x(T);return b!==void 0&&b(P,_)?(E=T,P):(E=T,k=_)}var C=!1,E,k,O=g===void 0?null:g;return[function(){return A(h())},O===null?void 0:function(){return A(O())}]},[h,g,x,b]);var S=s(m,j[0],j[1]);return c(function(){N.hasValue=!0,N.value=S},[S]),f(S),S},Tx}var u4;function zG(){return u4||(u4=1,kx.exports=IG()),kx.exports}var $G=zG(),d1=y.createContext(null),BG=e=>e,mn=()=>{var e=y.useContext(d1);return e?e.store.dispatch:BG},Em=()=>{},UG=()=>Em,qG=(e,t)=>e===t;function rt(e){var t=y.useContext(d1);return $G.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:UG,t?t.store.getState:Em,t?t.store.getState:Em,t?e:Em,qG)}function FG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function VG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function HG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${n}]`)}}var d4=e=>Array.isArray(e)?e:[e];function GG(e){const t=Array.isArray(e[0])?e[0]:e;return HG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function KG(e,t){const n=[],{length:a}=e;for(let s=0;s<a;s++)n.push(e[s].apply(null,t));return n}var YG=class{constructor(e){this.value=e}deref(){return this.value}},WG=typeof WeakRef<"u"?WeakRef:YG,XG=0,f4=1;function Zf(){return{s:XG,v:void 0,o:null,p:null}}function RT(e,t={}){let n=Zf();const{resultEqualityCheck:a}=t;let s,o=0;function c(){var g;let u=n;const{length:f}=arguments;for(let x=0,b=f;x<b;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let N=u.o;N===null&&(u.o=N=new WeakMap);const S=N.get(j);S===void 0?(u=Zf(),N.set(j,u)):u=S}else{let N=u.p;N===null&&(u.p=N=new Map);const S=N.get(j);S===void 0?(u=Zf(),N.set(j,u)):u=S}}const m=u;let h;if(u.s===f4)h=u.v;else if(h=e.apply(null,arguments),o++,a){const x=((g=s==null?void 0:s.deref)==null?void 0:g.call(s))??s;x!=null&&a(x,h)&&(h=x,o!==0&&o--),s=typeof h=="object"&&h!==null||typeof h=="function"?new WG(h):h}return m.s=f4,m.v=h,h}return c.clearCache=()=>{n=Zf(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function ZG(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let o=0,c=0,u,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),FG(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:b=RT,argsMemoizeOptions:j=[]}=h,N=d4(x),S=d4(j),A=GG(s),C=g(function(){return o++,m.apply(null,arguments)},...N),E=b(function(){c++;const O=KG(A,arguments);return u=C.apply(null,O),u},...S);return Object.assign(E,{resultFunc:m,memoizedResultFunc:C,dependencies:A,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:b})};return Object.assign(a,{withTypes:()=>a}),a}var Ce=ZG(RT),QG=Object.assign((e,t=Ce)=>{VG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(o=>e[o]);return t(a,(...o)=>o.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>QG}),_x={},Dx={},Rx={},m4;function JG(){return m4||(m4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,s,o)=>{if(a!==s){const c=t(a),u=t(s);if(c===u&&c===0){if(a<s)return o==="desc"?1:-1;if(a>s)return o==="desc"?-1:1}return o==="desc"?u-c:c-u}return 0};e.compareValues=n}(Rx)),Rx}var Lx={},Ix={},h4;function LT(){return h4||(h4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Ix)),Ix}var p4;function eK(){return p4||(p4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!n.test(o))||c!=null&&Object.hasOwn(c,o)}e.isKey=s}(Lx)),Lx}var g4;function tK(){return g4||(g4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JG(),n=eK(),a=e1();function s(o,c,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const m=(b,j)=>{let N=b;for(let S=0;S<j.length&&N!=null;++S)N=N[j[S]];return N},h=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:m(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?m(j,b):typeof j=="object"?j[b]:j,g=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:a.toPath(b)}));return o.map(b=>({original:b,criteria:g.map(j=>h(j,b))})).slice().sort((b,j)=>{for(let N=0;N<g.length;N++){const S=t.compareValues(b.criteria[N],j.criteria[N],u[N]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=s}(Dx)),Dx}var zx={},x4;function nK(){return x4||(x4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=1){const s=[],o=Math.floor(a),c=(u,f)=>{for(let m=0;m<u.length;m++){const h=u[m];Array.isArray(h)&&f<o?c(h,f+1):s.push(h)}};return c(n,0),s}e.flatten=t}(zx)),zx}var $x={},y4;function IT(){return y4||(y4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DT(),n=i1(),a=TT(),s=o1();function o(c,u,f){return a.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?s.eq(f[u],c):!1}e.isIterateeCall=o}($x)),$x}var v4;function aK(){return v4||(v4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tK(),n=nK(),a=IT();function s(o,...c){const u=c.length;return u>1&&a.isIterateeCall(o,c[0],c[1])?c=[]:u>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(o,n.flatten(c),["asc"])}e.sortBy=s}(_x)),_x}var Bx,b4;function rK(){return b4||(b4=1,Bx=aK().sortBy),Bx}var sK=rK();const Bh=Jr(sK);var zT=e=>e.legend.settings,iK=e=>e.legend.size,oK=e=>e.legend.payload;Ce([oK,zT],(e,t)=>{var{itemSorter:n}=t,a=e.flat(1);return n?Bh(a,n):a});var Qf=1;function lK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),a=y.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-t.height)>Qf||Math.abs(c.left-t.left)>Qf||Math.abs(c.top-t.top)>Qf||Math.abs(c.width-t.width)>Qf)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Hn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cK=typeof Symbol=="function"&&Symbol.observable||"@@observable",j4=cK,Ux=()=>Math.random().toString(36).substring(7).split("").join("."),uK={INIT:`@@redux/INIT${Ux()}`,REPLACE:`@@redux/REPLACE${Ux()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ux()}`},Fm=uK;function f1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $T(e,t,n){if(typeof e!="function")throw new Error(Hn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Hn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Hn(1));return n($T)(e,t)}let a=e,s=t,o=new Map,c=o,u=0,f=!1;function m(){c===o&&(c=new Map,o.forEach((S,A)=>{c.set(A,S)}))}function h(){if(f)throw new Error(Hn(3));return s}function g(S){if(typeof S!="function")throw new Error(Hn(4));if(f)throw new Error(Hn(5));let A=!0;m();const C=u++;return c.set(C,S),function(){if(A){if(f)throw new Error(Hn(6));A=!1,m(),c.delete(C),o=null}}}function x(S){if(!f1(S))throw new Error(Hn(7));if(typeof S.type>"u")throw new Error(Hn(8));if(typeof S.type!="string")throw new Error(Hn(17));if(f)throw new Error(Hn(9));try{f=!0,s=a(s,S)}finally{f=!1}return(o=c).forEach(C=>{C()}),S}function b(S){if(typeof S!="function")throw new Error(Hn(10));a=S,x({type:Fm.REPLACE})}function j(){const S=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Hn(11));function C(){const k=A;k.next&&k.next(h())}return C(),{unsubscribe:S(C)}},[j4](){return this}}}return x({type:Fm.INIT}),{dispatch:x,subscribe:g,getState:h,replaceReducer:b,[j4]:j}}function dK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Fm.INIT})>"u")throw new Error(Hn(12));if(typeof n(void 0,{type:Fm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hn(13))})}function BT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(n[c]=e[c])}const a=Object.keys(n);let s;try{dK(n)}catch(o){s=o}return function(c={},u){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const g=a[h],x=n[g],b=c[g],j=x(b,u);if(typeof j>"u")throw u&&u.type,new Error(Hn(14));m[g]=j,f=f||j!==b}return f=f||a.length!==Object.keys(c).length,f?m:c}}function Vm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...a)=>t(n(...a)))}function fK(...e){return t=>(n,a)=>{const s=t(n,a);let o=()=>{throw new Error(Hn(15))};const c={getState:s.getState,dispatch:(f,...m)=>o(f,...m)},u=e.map(f=>f(c));return o=Vm(...u)(s.dispatch),{...s,dispatch:o}}}function UT(e){return f1(e)&&"type"in e&&typeof e.type=="string"}var qT=Symbol.for("immer-nothing"),w4=Symbol.for("immer-draftable"),Ka=Symbol.for("immer-state");function Ar(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ql=Object.getPrototypeOf;function No(e){return!!e&&!!e[Ka]}function Ts(e){var t;return e?FT(e)||Array.isArray(e)||!!e[w4]||!!((t=e.constructor)!=null&&t[w4])||qh(e)||Fh(e):!1}var mK=Object.prototype.constructor.toString();function FT(e){if(!e||typeof e!="object")return!1;const t=ql(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===mK}function Hm(e,t){Uh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,a)=>t(a,n,e))}function Uh(e){const t=e[Ka];return t?t.type_:Array.isArray(e)?1:qh(e)?2:Fh(e)?3:0}function pv(e,t){return Uh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VT(e,t,n){const a=Uh(e);a===2?e.set(t,n):a===3?e.add(n):e[t]=n}function hK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function qh(e){return e instanceof Map}function Fh(e){return e instanceof Set}function no(e){return e.copy_||e.base_}function gv(e,t){if(qh(e))return new Map(e);if(Fh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=FT(e);if(t===!0||t==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[Ka];let s=Reflect.ownKeys(a);for(let o=0;o<s.length;o++){const c=s[o],u=a[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(a[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(ql(e),a)}else{const a=ql(e);if(a!==null&&n)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function m1(e,t=!1){return Vh(e)||No(e)||!Ts(e)||(Uh(e)>1&&(e.set=e.add=e.clear=e.delete=pK),Object.freeze(e),t&&Object.entries(e).forEach(([n,a])=>m1(a,!0))),e}function pK(){Ar(2)}function Vh(e){return Object.isFrozen(e)}var gK={};function So(e){const t=gK[e];return t||Ar(0,e),t}var Xu;function HT(){return Xu}function xK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function N4(e,t){t&&(So("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xv(e){yv(e),e.drafts_.forEach(yK),e.drafts_=null}function yv(e){e===Xu&&(Xu=e.parent_)}function S4(e){return Xu=xK(Xu,e)}function yK(e){const t=e[Ka];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function C4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ka].modified_&&(xv(t),Ar(4)),Ts(e)&&(e=Gm(t,e),t.parent_||Km(t,e)),t.patches_&&So("Patches").generateReplacementPatches_(n[Ka].base_,e,t.patches_,t.inversePatches_)):e=Gm(t,n,[]),xv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qT?e:void 0}function Gm(e,t,n){if(Vh(t))return t;const a=t[Ka];if(!a)return Hm(t,(s,o)=>A4(e,a,t,s,o,n)),t;if(a.scope_!==e)return t;if(!a.modified_)return Km(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let o=s,c=!1;a.type_===3&&(o=new Set(s),s.clear(),c=!0),Hm(o,(u,f)=>A4(e,a,s,u,f,n,c)),Km(e,s,!1),n&&e.patches_&&So("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function A4(e,t,n,a,s,o,c){if(No(s)){const u=o&&t&&t.type_!==3&&!pv(t.assigned_,a)?o.concat(a):void 0,f=Gm(e,s,u);if(VT(n,a,f),No(f))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Ts(s)&&!Vh(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gm(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,a)&&Km(e,s)}}function Km(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&m1(t,n)}function vK(e,t){const n=Array.isArray(e),a={type_:n?1:0,scope_:t?t.scope_:HT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,o=h1;n&&(s=[a],o=Zu);const{revoke:c,proxy:u}=Proxy.revocable(s,o);return a.draft_=u,a.revoke_=c,u}var h1={get(e,t){if(t===Ka)return e;const n=no(e);if(!pv(n,t))return bK(e,n,t);const a=n[t];return e.finalized_||!Ts(a)?a:a===qx(e.base_,t)?(Fx(e),e.copy_[t]=bv(a,e)):a},has(e,t){return t in no(e)},ownKeys(e){return Reflect.ownKeys(no(e))},set(e,t,n){const a=GT(no(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=qx(no(e),t),o=s==null?void 0:s[Ka];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(hK(n,s)&&(n!==void 0||pv(e.base_,t)))return!0;Fx(e),vv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fx(e),vv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=no(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:n[t]}},defineProperty(){Ar(11)},getPrototypeOf(e){return ql(e.base_)},setPrototypeOf(){Ar(12)}},Zu={};Hm(h1,(e,t)=>{Zu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zu.deleteProperty=function(e,t){return Zu.set.call(this,e,t,void 0)};Zu.set=function(e,t,n){return h1.set.call(this,e[0],t,n,e[0])};function qx(e,t){const n=e[Ka];return(n?no(n):e)[t]}function bK(e,t,n){var s;const a=GT(t,n);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function GT(e,t){if(!(t in e))return;let n=ql(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=ql(n)}}function vv(e){e.modified_||(e.modified_=!0,e.parent_&&vv(e.parent_))}function Fx(e){e.copy_||(e.copy_=gv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,a)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const c=this;return function(f=o,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&Ar(6),a!==void 0&&typeof a!="function"&&Ar(7);let s;if(Ts(t)){const o=S4(this),c=bv(t,void 0);let u=!0;try{s=n(c),u=!1}finally{u?xv(o):yv(o)}return N4(o,a),C4(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===qT&&(s=void 0),this.autoFreeze_&&m1(s,!0),a){const o=[],c=[];So("Patches").generateReplacementPatches_(t,s,o,c),a(o,c)}return s}else Ar(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let a,s;return[this.produce(t,n,(c,u)=>{a=c,s=u}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ts(e)||Ar(8),No(e)&&(e=Ns(e));const t=S4(this),n=bv(e,void 0);return n[Ka].isManual_=!0,yv(t),n}finishDraft(e,t){const n=e&&e[Ka];(!n||!n.isManual_)&&Ar(9);const{scope_:a}=n;return N4(a,t),C4(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const a=So("Patches").applyPatches_;return No(e)?a(e,t):this.produce(e,s=>a(s,t))}};function bv(e,t){const n=qh(e)?So("MapSet").proxyMap_(e,t):Fh(e)?So("MapSet").proxySet_(e,t):vK(e,t);return(t?t.scope_:HT()).drafts_.push(n),n}function Ns(e){return No(e)||Ar(10,e),KT(e)}function KT(e){if(!Ts(e)||Vh(e))return e;const t=e[Ka];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=gv(e,!0);return Hm(n,(a,s)=>{VT(n,a,KT(s))}),t&&(t.finalized_=!1),n}var Ya=new jK,YT=Ya.produce;Ya.produceWithPatches.bind(Ya);Ya.setAutoFreeze.bind(Ya);Ya.setUseStrictShallowCopy.bind(Ya);Ya.applyPatches.bind(Ya);Ya.createDraft.bind(Ya);Ya.finishDraft.bind(Ya);function WT(e){return({dispatch:n,getState:a})=>s=>o=>typeof o=="function"?o(n,a,e):s(o)}var wK=WT(),NK=WT,SK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vm:Vm.apply(null,arguments)};function gr(e,t){function n(...a){if(t){let s=t(...a);if(!s)throw new Error(Ha(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>UT(a)&&a.type===e,n}var XT=class Tu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Tu.prototype)}static get[Symbol.species](){return Tu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Tu(...t[0].concat(this)):new Tu(...t.concat(this))}};function E4(e){return Ts(e)?YT(e,()=>{}):e}function Jf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function CK(e){return typeof e=="boolean"}var AK=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let c=new XT;return n&&(CK(n)?c.push(wK):c.push(NK(n.extraArgument))),c},EK="RTK_autoBatch",O4=e=>t=>{setTimeout(t,e)},OK=(e={type:"raf"})=>t=>(...n)=>{const a=t(...n);let s=!0,o=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:O4(10):e.type==="callback"?e.queueNotification:O4(e.timeout),m=()=>{c=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const g=()=>s&&h(),x=a.subscribe(g);return u.add(h),()=>{x(),u.delete(h)}},dispatch(h){var g;try{return s=!((g=h==null?void 0:h.meta)!=null&&g[EK]),o=!s,o&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},kK=e=>function(n){const{autoBatch:a=!0}=n??{};let s=new XT(e);return a&&s.push(OK(typeof a=="object"?a:void 0)),s};function TK(e){const t=AK(),{reducer:n=void 0,middleware:a,devTools:s=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(f1(n))u=BT(n);else throw new Error(Ha(1));let f;typeof a=="function"?f=a(t):f=t();let m=Vm;s&&(m=SK({trace:!1,...typeof s=="object"&&s}));const h=fK(...f),g=kK(h);let x=typeof c=="function"?c(g):g();const b=m(...x);return $T(u,o,b)}function ZT(e){const t={},n=[];let a;const s={addCase(o,c){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Ha(28));if(u in t)throw new Error(Ha(29));return t[u]=c,s},addMatcher(o,c){return n.push({matcher:o,reducer:c}),s},addDefaultCase(o){return a=o,s}};return e(s),[t,n,a]}function MK(e){return typeof e=="function"}function PK(e,t){let[n,a,s]=ZT(t),o;if(MK(e))o=()=>E4(e());else{const u=E4(e);o=()=>u}function c(u=o(),f){let m=[n[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,g)=>{if(g)if(No(h)){const b=g(h,f);return b===void 0?h:b}else{if(Ts(h))return YT(h,x=>g(x,f));{const x=g(h,f);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},u)}return c.getInitialState=o,c}var _K="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DK=(e=21)=>{let t="",n=e;for(;n--;)t+=_K[Math.random()*64|0];return t},RK=Symbol.for("rtk-slice-createasyncthunk");function LK(e,t){return`${e}/${t}`}function IK({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[RK];return function(s){const{name:o,reducerPath:c=o}=s;if(!o)throw new Error(Ha(11));const u=(typeof s.reducers=="function"?s.reducers($K()):s.reducers)||{},f=Object.keys(u),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,O){const T=typeof k=="string"?k:k.type;if(!T)throw new Error(Ha(12));if(T in m.sliceCaseReducersByType)throw new Error(Ha(13));return m.sliceCaseReducersByType[T]=O,h},addMatcher(k,O){return m.sliceMatchers.push({matcher:k,reducer:O}),h},exposeAction(k,O){return m.actionCreators[k]=O,h},exposeCaseReducer(k,O){return m.sliceCaseReducersByName[k]=O,h}};f.forEach(k=>{const O=u[k],T={reducerName:k,type:LK(o,k),createNotation:typeof s.reducers=="function"};UK(O)?FK(T,O,h,t):BK(T,O,h)});function g(){const[k={},O=[],T=void 0]=typeof s.extraReducers=="function"?ZT(s.extraReducers):[s.extraReducers],P={...k,...m.sliceCaseReducersByType};return PK(s.initialState,_=>{for(let z in P)_.addCase(z,P[z]);for(let z of m.sliceMatchers)_.addMatcher(z.matcher,z.reducer);for(let z of O)_.addMatcher(z.matcher,z.reducer);T&&_.addDefaultCase(T)})}const x=k=>k,b=new Map,j=new WeakMap;let N;function S(k,O){return N||(N=g()),N(k,O)}function A(){return N||(N=g()),N.getInitialState()}function C(k,O=!1){function T(_){let z=_[k];return typeof z>"u"&&O&&(z=Jf(j,T,A)),z}function P(_=x){const z=Jf(b,O,()=>new WeakMap);return Jf(z,_,()=>{const V={};for(const[B,W]of Object.entries(s.selectors??{}))V[B]=zK(W,_,()=>Jf(j,_,A),O);return V})}return{reducerPath:k,getSelectors:P,get selectors(){return P(T)},selectSlice:T}}const E={name:o,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:A,...C(c),injectInto(k,{reducerPath:O,...T}={}){const P=O??c;return k.inject({reducerPath:P,reducer:S},T),{...E,...C(P,!0)}}};return E}}function zK(e,t,n,a){function s(o,...c){let u=t(o);return typeof u>"u"&&a&&(u=n()),e(u,...c)}return s.unwrapped=e,s}var vr=IK();function $K(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function BK({type:e,reducerName:t,createNotation:n},a,s){let o,c;if("reducer"in a){if(n&&!qK(a))throw new Error(Ha(17));o=a.reducer,c=a.prepare}else o=a;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?gr(e,c):gr(e))}function UK(e){return e._reducerDefinitionType==="asyncThunk"}function qK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function FK({type:e,reducerName:t},n,a,s){if(!s)throw new Error(Ha(18));const{payloadCreator:o,fulfilled:c,pending:u,rejected:f,settled:m,options:h}=n,g=s(e,o,h);a.exposeAction(t,g),c&&a.addCase(g.fulfilled,c),u&&a.addCase(g.pending,u),f&&a.addCase(g.rejected,f),m&&a.addMatcher(g.settled,m),a.exposeCaseReducer(t,{fulfilled:c||em,pending:u||em,rejected:f||em,settled:m||em})}function em(){}var VK="task",QT="listener",JT="completed",p1="cancelled",HK=`task-${p1}`,GK=`task-${JT}`,jv=`${QT}-${p1}`,KK=`${QT}-${JT}`,Hh=class{constructor(e){yg(this,"name","TaskAbortError");yg(this,"message");this.code=e,this.message=`${VK} ${p1} (reason: ${e})`}},g1=(e,t)=>{if(typeof e!="function")throw new TypeError(Ha(32))},Ym=()=>{},e6=(e,t=Ym)=>(e.catch(t),e),t6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),go=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},xo=e=>{if(e.aborted){const{reason:t}=e;throw new Hh(t)}};function n6(e,t){let n=Ym;return new Promise((a,s)=>{const o=()=>s(new Hh(e.reason));if(e.aborted){o();return}n=t6(e,o),t.finally(()=>n()).then(a,s)}).finally(()=>{n=Ym})}var YK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Hh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Wm=e=>t=>e6(n6(e,t).then(n=>(xo(e),n))),a6=e=>{const t=Wm(e);return n=>t(new Promise(a=>setTimeout(a,n)))},{assign:_l}=Object,k4={},Gh="listenerMiddleware",WK=(e,t)=>{const n=a=>t6(e,()=>go(a,e.reason));return(a,s)=>{g1(a);const o=new AbortController;n(o);const c=YK(async()=>{xo(e),xo(o.signal);const u=await a({pause:Wm(o.signal),delay:a6(o.signal),signal:o.signal});return xo(o.signal),u},()=>go(o,GK));return s!=null&&s.autoJoin&&t.push(c.catch(Ym)),{result:Wm(e)(c),cancel(){go(o,HK)}}}},XK=(e,t)=>{const n=async(a,s)=>{xo(t);let o=()=>{};const u=[new Promise((f,m)=>{let h=e({predicate:a,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});o=()=>{h(),m()}})];s!=null&&u.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await n6(t,Promise.race(u));return xo(t),f}finally{o()}};return(a,s)=>e6(n(a,s))},r6=e=>{let{type:t,actionCreator:n,matcher:a,predicate:s,effect:o}=e;if(t)s=gr(t).match;else if(n)t=n.type,s=n.match;else if(a)s=a;else if(!s)throw new Error(Ha(21));return g1(o),{predicate:s,type:t,effect:o}},s6=_l(e=>{const{type:t,predicate:n,effect:a}=r6(e);return{id:DK(),effect:a,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ha(22))}}},{withTypes:()=>s6}),T4=(e,t)=>{const{type:n,effect:a,predicate:s}=r6(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===s)&&o.effect===a)},wv=e=>{e.pending.forEach(t=>{go(t,jv)})},ZK=e=>()=>{e.forEach(wv),e.clear()},M4=(e,t,n)=>{try{e(t,n)}catch(a){setTimeout(()=>{throw a},0)}},i6=_l(gr(`${Gh}/add`),{withTypes:()=>i6}),QK=gr(`${Gh}/removeAll`),o6=_l(gr(`${Gh}/remove`),{withTypes:()=>o6}),JK=(...e)=>{console.error(`${Gh}/error`,...e)},vd=(e={})=>{const t=new Map,{extra:n,onError:a=JK}=e;g1(a);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g!=null&&g.cancelActive&&wv(h)}),o=h=>{const g=T4(t,h)??s6(h);return s(g)};_l(o,{withTypes:()=>o});const c=h=>{const g=T4(t,h);return g&&(g.unsubscribe(),h.cancelActive&&wv(g)),!!g};_l(c,{withTypes:()=>c});const u=async(h,g,x,b)=>{const j=new AbortController,N=XK(o,j.signal),S=[];try{h.pending.add(j),await Promise.resolve(h.effect(g,_l({},x,{getOriginalState:b,condition:(A,C)=>N(A,C).then(Boolean),take:N,delay:a6(j.signal),pause:Wm(j.signal),extra:n,signal:j.signal,fork:WK(j.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((A,C,E)=>{A!==j&&(go(A,jv),E.delete(A))})},cancel:()=>{go(j,jv),h.pending.delete(j)},throwIfCancelled:()=>{xo(j.signal)}})))}catch(A){A instanceof Hh||M4(a,A,{raisedBy:"effect"})}finally{await Promise.all(S),go(j,KK),h.pending.delete(j)}},f=ZK(t);return{middleware:h=>g=>x=>{if(!UT(x))return g(x);if(i6.match(x))return o(x.payload);if(QK.match(x)){f();return}if(o6.match(x))return c(x.payload);let b=h.getState();const j=()=>{if(b===k4)throw new Error(Ha(23));return b};let N;try{if(N=g(x),t.size>0){const S=h.getState(),A=Array.from(t.values());for(const C of A){let E=!1;try{E=C.predicate(x,S,b)}catch(k){E=!1,M4(a,k,{raisedBy:"predicate"})}E&&u(C,x,h,j)}}}finally{b=k4}return N},startListening:o,stopListening:c,clearListeners:f}};function Ha(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},l6=vr({name:"chartLayout",initialState:eY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:tY,setLayout:nY,setChartSize:aY,setScale:rY}=l6.actions,sY=l6.reducer;function P4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(n),!0).forEach(function(a){iY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function iY(e,t,n){return(t=oY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xm=Math.PI/180,cY=e=>e*180/Math.PI,wn=(e,t,n,a)=>({x:e+Math.cos(-Xm*a)*n,y:t+Math.sin(-Xm*a)*n}),c6=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},uY=(e,t)=>{var{x:n,y:a}=e,{x:s,y:o}=t;return Math.sqrt((n-s)**2+(a-o)**2)},dY=(e,t)=>{var{x:n,y:a}=e,{cx:s,cy:o}=t,c=uY({x:n,y:a},{x:s,y:o});if(c<=0)return{radius:c,angle:0};var u=(n-s)/c,f=Math.acos(u);return a>o&&(f=2*Math.PI-f),{radius:c,angle:cY(f),angleInRadian:f}},fY=e=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:t-o*360,endAngle:n-o*360}},mY=(e,t)=>{var{startAngle:n,endAngle:a}=t,s=Math.floor(n/360),o=Math.floor(a/360),c=Math.min(s,o);return e+c*360},hY=(e,t)=>{var{x:n,y:a}=e,{radius:s,angle:o}=dY({x:n,y:a},t),{innerRadius:c,outerRadius:u}=t;if(s<c||s>u||s===0)return null;var{startAngle:f,endAngle:m}=fY(t),h=o,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?_4(_4({},t),{},{radius:s,angle:mY(h,t)}):null};function D4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(n),!0).forEach(function(a){pY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pY(e,t,n){return(t=gY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fn(e,t,n){return Nn(e)||Nn(t)?n:Zr(t)?ji(e,t,n):typeof t=="function"?t(e):n}var yY=(e,t,n,a,s)=>{var o,c=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<u;f++){var m=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,g=f>=u-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(In(h-m)!==In(g-h)){var b=[];if(In(g-h)===In(s[1]-s[0])){x=g;var j=h+s[1]-s[0];b[0]=Math.min(j,(j+m)/2),b[1]=Math.max(j,(j+m)/2)}else{x=m;var N=g+s[1]-s[0];b[0]=Math.min(h,(N+h)/2),b[1]=Math.max(h,(N+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:c}=n[f]);break}}else{var A=Math.min(m,g),C=Math.max(m,g);if(e>(A+h)/2&&e<=(C+h)/2){({index:c}=n[f]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:c}=t[E]);break}}return c},vY=(e,t,n)=>{if(t&&n){var{width:a,height:s}=n,{align:o,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&o!=="center"&&Je(e[o]))return dr(dr({},e),{},{[o]:e[o]+(a||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&c!=="middle"&&Je(e[c]))return dr(dr({},e),{},{[c]:e[c]+(s||0)})}return e},Mo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",u6=(e,t,n,a)=>{if(a)return e.map(u=>u.coordinate);var s,o,c=e.map(u=>(u.coordinate===t&&(s=!0),u.coordinate===n&&(o=!0),u.coordinate));return s||c.push(t),o||c.push(n),c},d6=(e,t,n)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:o,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:x,axisType:b}=e;if(!c)return null;var j=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,N=s==="category"&&c.bandwidth?c.bandwidth()/j:0;if(N=b==="angleAxis"&&o&&o.length>=2?In(o[0]-o[1])*2*N:N,g||x){var S=(g||x||[]).map((A,C)=>{var E=a?a.indexOf(A):A;return{coordinate:c(E)+N,value:A,offset:N,index:C}});return S.filter(A=>!Ga(A.coordinate))}return f&&m?m.map((A,C)=>({coordinate:c(A)+N,value:A,index:C,offset:N})):c.ticks&&h!=null?c.ticks(h).map((A,C)=>({coordinate:c(A)+N,value:A,offset:N,index:C})):c.domain().map((A,C)=>({coordinate:c(A)+N,value:a?a[A]:A,index:C,offset:N}))},R4=1e-4,bY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,a=e.range(),s=Math.min(a[0],a[1])-R4,o=Math.max(a[0],a[1])+R4,c=e(t[0]),u=e(t[n-1]);(c<s||c>o||u<s||u>o)&&e.domain([t[0],t[n-1]])}},jY=(e,t)=>{if(!t||t.length!==2||!Je(t[0])||!Je(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Je(e[0])||e[0]<n)&&(s[0]=n),(!Je(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},wY=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0,c=0;c<t;++c){var u=Ga(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1]):(e[c][n][0]=o,e[c][n][1]=o+u,o=e[c][n][1])}},NY=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0;o<t;++o){var c=Ga(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},SY={sign:wY,expand:aG,none:Ul,silhouette:rG,wiggle:sG,positive:NY},CY=(e,t,n)=>{var a=SY[n],s=nG().keys(t).value((o,c)=>+fn(o,c,0)).order(mv).offset(a);return s(e)};function f6(e){return e==null?void 0:String(e)}var L4=e=>{var{axis:t,ticks:n,offset:a,bandSize:s,entry:o,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+a:null;var u=fn(o,t.dataKey,t.scale.domain()[c]);return Nn(u)?null:t.scale(u)-s/2+a},AY=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},EY=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},OY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kY=(e,t,n)=>{if(e!=null)return OY(Object.keys(e).reduce((a,s)=>{var o=e[s],{stackedData:c}=o,u=c.reduce((f,m)=>{var h=EY(m.slice(t,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],a[0]),Math.max(u[1],a[1])]},[1/0,-1/0]))},I4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,z4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x1=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var s=Bh(t,h=>h.coordinate),o=1/0,c=1,u=s.length;c<u;c++){var f=s[c],m=s[c-1];o=Math.min((f.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function $4(e){var{tooltipEntrySettings:t,dataKey:n,payload:a,value:s,name:o}=e;return dr(dr({},t),{},{dataKey:n,payload:a,value:s,name:o})}function Kh(e,t){if(e)return String(e);if(typeof t=="string")return t}function TY(e,t,n,a,s){if(n==="horizontal"||n==="vertical"){var o=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return o?{x:e,y:t}:null}return a?hY({x:e,y:t},a):null}var MY=(e,t,n,a)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,{radius:c}=a;return dr(dr(dr({},a),wn(a.cx,a.cy,c,o)),{},{angle:o,radius:c})}var u=s.coordinate,{angle:f}=a;return dr(dr(dr({},a),wn(a.cx,a.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},PY=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ds=e=>e.layout.width,Rs=e=>e.layout.height,_Y=e=>e.layout.scale,m6=e=>e.layout.margin,y1=Ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),v1=Ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),h6="data-recharts-item-index",p6="data-recharts-item-data-key",Yh=60;function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(a){DY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function DY(e,t,n){return(t=RY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RY(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IY=e=>e.brush.height,Tn=Ce([Ds,Rs,m6,IY,y1,v1,zT,iK],(e,t,n,a,s,o,c,u)=>{var f=o.reduce((j,N)=>{var{orientation:S}=N;if(!N.mirror&&!N.hide){var A=typeof N.width=="number"?N.width:Yh;return ci(ci({},j),{},{[S]:j[S]+A})}return j},{left:n.left||0,right:n.right||0}),m=s.reduce((j,N)=>{var{orientation:S}=N;return!N.mirror&&!N.hide?ci(ci({},j),{},{[S]:ji(j,"".concat(S))+N.height}):j},{top:n.top||0,bottom:n.bottom||0}),h=ci(ci({},m),f),g=h.bottom;h.bottom+=a,h=vY(h,c,u);var x=e-h.left-h.right,b=t-h.top-h.bottom;return ci(ci({brushBottom:g},h),{},{width:Math.max(x,0),height:Math.max(b,0)})}),zY=Ce(Tn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),g6=Ce(Ds,Rs,(e,t)=>({x:0,y:0,width:e,height:t})),$Y=y.createContext(null),ka=()=>y.useContext($Y)!=null,Wh=e=>e.brush,Xh=Ce([Wh,Tn,m6],(e,t,n)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Je(e.width)?e.width:t.width})),b1=()=>{var e,t=ka(),n=rt(zY),a=rt(Xh),s=(e=rt(Wh))===null||e===void 0?void 0:e.padding;return!t||!a||!s?n:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},BY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},x6=()=>{var e;return(e=rt(Tn))!==null&&e!==void 0?e:BY},y6=()=>rt(Ds),v6=()=>rt(Rs),Lt=e=>e.layout.layoutType,j1=()=>rt(Lt),UY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},b6=vr({name:"legend",initialState:UY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ns(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:uce,setLegendSettings:dce,addLegendPayload:j6,removeLegendPayload:w6}=b6.actions,qY=b6.reducer;function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nv.apply(null,arguments)}function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(a){FY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function FY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GY(e){return Array.isArray(e)&&Zr(e[0])&&Zr(e[1])?e.join(" ~ "):e}var KY=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:o,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:x=!1}=e,b=()=>{if(o&&o.length){var O={padding:0,margin:0},T=(u?Bh(o,u):o).map((P,_)=>{if(P.type==="none")return null;var z=P.formatter||c||GY,{value:V,name:B}=P,W=V,oe=B;if(z){var K=z(V,B,P,_,o);if(Array.isArray(K))[W,oe]=K;else if(K!=null)W=K;else return null}var I=Vx({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},a);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:I},Zr(oe)?y.createElement("span",{className:"recharts-tooltip-item-name"},oe):null,Zr(oe)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},W),y.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},j=Vx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),N=Vx({margin:0},s),S=!Nn(h),A=S?h:"",C=Ut("recharts-default-tooltip",f),E=Ut("recharts-tooltip-label",m);S&&g&&o!==void 0&&o!==null&&(A=g(h,o));var k=x?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Nv({className:C,style:j},k),y.createElement("p",{className:E,style:N},y.isValidElement(A)?A:"".concat(A)),b())},vu="recharts-tooltip-wrapper",YY={visibility:"hidden"};function WY(e){var{coordinate:t,translateX:n,translateY:a}=e;return Ut(vu,{["".concat(vu,"-right")]:Je(n)&&t&&Je(t.x)&&n>=t.x,["".concat(vu,"-left")]:Je(n)&&t&&Je(t.x)&&n<t.x,["".concat(vu,"-bottom")]:Je(a)&&t&&Je(t.y)&&a>=t.y,["".concat(vu,"-top")]:Je(a)&&t&&Je(t.y)&&a<t.y})}function q4(e){var{allowEscapeViewBox:t,coordinate:n,key:a,offsetTopLeft:s,position:o,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:m}=e;if(o&&Je(o[a]))return o[a];var h=n[a]-u-(s>0?s:0),g=n[a]+s;if(t[a])return c[a]?h:g;var x=f[a];if(x==null)return 0;if(c[a]){var b=h,j=x;return b<j?Math.max(g,x):Math.max(h,x)}if(m==null)return 0;var N=g+u,S=x+m;return N>S?Math.max(h,x):Math.max(g,x)}function XY(e){var{translateX:t,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ZY(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:a,position:s,reverseDirection:o,tooltipBox:c,useTranslate3d:u,viewBox:f}=e,m,h,g;return c.height>0&&c.width>0&&n?(h=q4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=q4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=XY({translateX:h,translateY:g,useTranslate3d:u})):m=YY,{cssProperties:m,cssClasses:WY({translateX:h,translateY:g,coordinate:n})}}function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(a){Sv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Sv(e,t,n){return(t=QY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e){var t=JY(e,"string");return typeof t=="symbol"?t:t+""}function JY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eW extends y.PureComponent{constructor(){super(...arguments),Sv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,a,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,children:o,coordinate:c,hasPayload:u,isAnimationActive:f,offset:m,position:h,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:j,lastBoundingBox:N,innerRef:S,hasPortalFromProps:A}=this.props,{cssClasses:C,cssProperties:E}=ZY({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:b}),k=A?{}:tm(tm({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=tm(tm({},k),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:C,style:O,ref:S},o)}}var tW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),oc={isSsr:tW()},N6=()=>rt(e=>e.rootProps.accessibilityLayer);function Wa(e){return Number.isFinite(e)}function Fl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cv.apply(null,arguments)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function H4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(a){nW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function nW(e,t,n){return(t=aW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G4={curveBasisClosed:HH,curveBasisOpen:GH,curveBasis:VH,curveBumpX:TH,curveBumpY:MH,curveLinearClosed:KH,curveLinear:zh,curveMonotoneX:YH,curveMonotoneY:WH,curveNatural:XH,curveStep:ZH,curveStepAfter:JH,curveStepBefore:QH},nm=e=>Wa(e.x)&&Wa(e.y),bu=e=>e.x,ju=e=>e.y,sW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(xd(e));return(n==="curveMonotone"||n==="curveBump")&&t?G4["".concat(n).concat(t==="vertical"?"Y":"X")]:G4[n]||zh},iW=e=>{var{type:t="linear",points:n=[],baseLine:a,layout:s,connectNulls:o=!1}=e,c=sW(t,s),u=o?n.filter(nm):n,f;if(Array.isArray(a)){var m=o?a.filter(g=>nm(g)):a,h=u.map((g,x)=>H4(H4({},g),{},{base:m[x]}));return s==="vertical"?f=Xf().y(ju).x1(bu).x0(g=>g.base.x):f=Xf().x(bu).y1(ju).y0(g=>g.base.y),f.defined(nm).curve(c),f(h)}return s==="vertical"&&Je(a)?f=Xf().y(ju).x1(bu).x0(a):Je(a)?f=Xf().x(bu).y1(ju).y0(a):f=gT().x(bu).y(ju),f.defined(nm).curve(c),f(u)},S6=e=>{var{className:t,points:n,path:a,pathRef:s}=e;if((!n||!n.length)&&!a)return null;var o=n&&n.length?iW(e):a;return y.createElement("path",Cv({},Rt(e,!1),xH(e),{className:Ut("recharts-curve",t),d:o===null?void 0:o,ref:s}))},oW=["x","y","top","left","width","height","className"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Av.apply(null,arguments)}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(a){cW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cW(e,t,n){return(t=uW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fW(e,t){if(e==null)return{};var n,a,s=mW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function mW(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var hW=(e,t,n,a,s,o)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(t,"h").concat(n),pW=e=>{var{x:t=0,y:n=0,top:a=0,left:s=0,width:o=0,height:c=0,className:u}=e,f=fW(e,oW),m=lW({x:t,y:n,top:a,left:s,width:o,height:c},f);return!Je(t)||!Je(n)||!Je(o)||!Je(c)||!Je(a)||!Je(s)?null:y.createElement("path",Av({},Rt(m,!0),{className:Ut("recharts-cross",u),d:hW(t,n,o,c,a,s)}))};function gW(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function Y4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function xW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(n),!0).forEach(function(a){yW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function yW(e,t,n){return(t=vW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rr(e,t){var n=xW({},e),a=t,s=Object.keys(t),o=s.reduce((c,u)=>(c[u]===void 0&&a[u]!==void 0&&(c[u]=a[u]),c),n);return o}var Hx={},Gx={},Kx={},W4;function jW(){return W4||(W4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const a=Object.getPrototypeOf(n);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(Kx)),Kx}var X4;function wW(){return X4||(X4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jW(),n=PT(),a=c1(),s=u1(),o=o1();function c(m,h,g){return u(m,h,void 0,void 0,void 0,void 0,g)}function u(m,h,g,x,b,j,N){const S=N(m,h,g,x,b,j);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,j,N)}return f(m,h,j,N)}function f(m,h,g,x){if(Object.is(m,h))return!0;let b=a.getTag(m),j=a.getTag(h);if(b===s.argumentsTag&&(b=s.objectTag),j===s.argumentsTag&&(j=s.objectTag),b!==j)return!1;switch(b){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const A=m.valueOf(),C=h.valueOf();return o.eq(A,C)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}g=g??new Map;const N=g.get(m),S=g.get(h);if(N!=null&&S!=null)return N===h;g.set(m,h),g.set(h,m);try{switch(b){case s.mapTag:{if(m.size!==h.size)return!1;for(const[A,C]of m.entries())if(!h.has(A)||!u(C,h.get(A),A,m,h,g,x))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const A=Array.from(m.values()),C=Array.from(h.values());for(let E=0;E<A.length;E++){const k=A[E],O=C.findIndex(T=>u(k,T,void 0,m,h,g,x));if(O===-1)return!1;C.splice(O,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let A=0;A<m.length;A++)if(!u(m[A],h[A],A,m,h,g,x))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),g,x);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),g,x);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,g,x)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const C=[...Object.keys(m),...n.getSymbols(m)],E=[...Object.keys(h),...n.getSymbols(h)];if(C.length!==E.length)return!1;for(let k=0;k<C.length;k++){const O=C[k],T=m[O];if(!Object.hasOwn(h,O))return!1;const P=h[O];if(!u(T,P,O,m,h,g,x))return!1}return!0}default:return!1}}finally{g.delete(m),g.delete(h)}}e.isEqualWith=c}(Gx)),Gx}var Yx={},Z4;function NW(){return Z4||(Z4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Yx)),Yx}var Q4;function SW(){return Q4||(Q4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wW(),n=NW();function a(s,o){return t.isEqualWith(s,o,n.noop)}e.isEqual=a}(Hx)),Hx}var Wx,J4;function CW(){return J4||(J4=1,Wx=SW().isEqual),Wx}var AW=CW();const EW=Jr(AW);function OW(e){var t={},n=()=>null,a=!1,s=null,o=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...m]=u;if(typeof f=="number"){s=e.setTimeout(o.bind(null,m),f);return}o(f),s=e.setTimeout(o.bind(null,m));return}typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),o(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}var Zm=1e-4,C6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],A6=(e,t)=>e.map((n,a)=>n*t**a).reduce((n,a)=>n+a),eE=(e,t)=>n=>{var a=C6(e,t);return A6(a,n)},kW=(e,t)=>n=>{var a=C6(e,t),s=[...a.map((o,c)=>o*c).slice(1),0];return A6(s,n)},tE=function(){for(var t,n,a,s,o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[t,a,n,s]=[0,0,1,1];break;case"ease":[t,a,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,a,n,s]=[.42,0,1,1];break;case"ease-out":[t,a,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,a,n,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,a,n,s]=f[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else c.length===4&&([t,a,n,s]=c);var m=eE(t,n),h=eE(a,s),g=kW(t,n),x=j=>j>1?1:j<0?0:j,b=j=>{for(var N=j>1?1:j,S=N,A=0;A<8;++A){var C=m(S)-N,E=g(S);if(Math.abs(C-N)<Zm||E<Zm)return h(S);S=x(S-C/E)}return h(S)};return b.isStepper=!1,b},TW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:s=17}=t,o=(c,u,f)=>{var m=-(c-u)*n,h=f*a,g=f+(m-h)*s/1e3,x=f*s/1e3+c;return Math.abs(x-u)<Zm&&Math.abs(g)<Zm?[u,0]:[x,g]};return o.isStepper=!0,o.dt=s,o},MW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tE(e);case"spring":return TW();default:if(e.split("(")[0]==="cubic-bezier")return tE(e)}return typeof e=="function"?e:null};function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(a){PW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function PW(e,t,n){return(t=_W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),LW=(e,t,n)=>e.map(a=>"".concat(RW(a)," ").concat(t,"ms ").concat(n)).join(","),IW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,a)=>n.filter(s=>a.includes(s))),Qu=(e,t)=>Object.keys(t).reduce((n,a)=>aE(aE({},n),{},{[a]:e(a,t[a])}),{});function rE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(n),!0).forEach(function(a){zW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function zW(e,t,n){return(t=$W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $W(e){var t=BW(e,"string");return typeof t=="symbol"?t:t+""}function BW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qm=(e,t,n)=>e+(t-e)*n,Ev=e=>{var{from:t,to:n}=e;return t!==n},E6=(e,t,n)=>{var a=Qu((s,o)=>{if(Ev(o)){var[c,u]=e(o.from,o.to,o.velocity);return Yn(Yn({},o),{},{from:c,velocity:u})}return o},t);return n<1?Qu((s,o)=>Ev(o)?Yn(Yn({},o),{},{velocity:Qm(o.velocity,a[s].velocity,n),from:Qm(o.from,a[s].from,n)}):o,t):E6(e,a,n-1)};function UW(e,t,n,a,s,o){var c,u=a.reduce((x,b)=>Yn(Yn({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>Qu((x,b)=>b.from,u),m=()=>!Object.values(u).filter(Ev).length,h=null,g=x=>{c||(c=x);var b=x-c,j=b/n.dt;u=E6(n,u,j),s(Yn(Yn(Yn({},e),t),f())),c=x,m()||(h=o.setTimeout(g))};return()=>(h=o.setTimeout(g),()=>{h()})}function qW(e,t,n,a,s,o,c){var u=null,f=s.reduce((g,x)=>Yn(Yn({},g),{},{[x]:[e[x],t[x]]}),{}),m,h=g=>{m||(m=g);var x=(g-m)/a,b=Qu((N,S)=>Qm(...S,n(x)),f);if(o(Yn(Yn(Yn({},e),t),b)),x<1)u=c.setTimeout(h);else{var j=Qu((N,S)=>Qm(...S,n(1)),f);o(Yn(Yn(Yn({},e),t),j))}};return()=>(u=c.setTimeout(h),()=>{u()})}const FW=(e,t,n,a,s,o)=>{var c=IW(e,t);return n.isStepper===!0?UW(e,t,n,c,s,o):qW(e,t,n,a,c,s,o)};class VW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,o=c=>{c-a>=n?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{cancelAnimationFrame(s)}}}var HW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ov.apply(null,arguments)}function GW(e,t){if(e==null)return{};var n,a,s=KW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function KW(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(a){lo(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lo(e,t,n){return(t=YW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XW(){return OW(new VW)}class w1 extends y.PureComponent{constructor(t,n){super(t,n),lo(this,"mounted",!1),lo(this,"manager",null),lo(this,"stopJSAnimation",null),lo(this,"unSubscribe",null);var{isActive:a,attributeName:s,from:o,to:c,children:u,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||f<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:c});return}if(o){if(typeof u=="function"){this.state={style:o};return}this.state={style:s?{[s]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:a,attributeName:s,shouldReAnimate:o,to:c,from:u}=this.props,{style:f}=this.state;if(a){if(!n){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(EW(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||o?u:t.to;if(this.state&&f){var x={style:s?{[s]:g}:g};(s&&f[s]!==g||!s&&f!==g)&&this.setState(x)}this.runAnimation(ui(ui({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:a,duration:s,easing:o,begin:c,onAnimationEnd:u,onAnimationStart:f}=t,m=FW(n,a,MW(o),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,u])}runAnimation(t){var{begin:n,duration:a,attributeName:s,to:o,easing:c,onAnimationStart:u,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:o}:o,g=LW(Object.keys(h),a,c);this.manager.start([u,n,ui(ui({},h),{},{transition:g}),a,f])}render(){var t=this.props,{children:n,begin:a,duration:s,attributeName:o,easing:c,isActive:u,from:f,to:m,canBegin:h,onAnimationEnd:g,shouldReAnimate:x,onAnimationReStart:b,animationManager:j}=t,N=GW(t,HW),S=y.Children.count(n),A=this.state.style;if(typeof n=="function")return n(A);if(!u||S===0||s<=0)return n;var C=E=>{var{style:k={},className:O}=E.props,T=y.cloneElement(E,ui(ui({},N),{},{style:ui(ui({},k),A),className:O}));return T};return S===1?C(y.Children.only(n)):y.createElement("div",null,y.Children.map(n,E=>C(E)))}}lo(w1,"displayName","Animate");lo(w1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var ZW=y.createContext(null);function Co(e){var t,n,a=y.useContext(ZW);return y.createElement(w1,Ov({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:a)!==null&&t!==void 0?t:XW()}))}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jm.apply(null,arguments)}var iE=(e,t,n,a,s)=>{var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,u=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,m;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,x=4;g<x;g++)h[g]=s[g]>o?o:s[g];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+u*h[0],",").concat(t)),m+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+c*h[1])),m+="L ".concat(e+n,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-u*h[2],",").concat(t+a)),m+="L ".concat(e+u*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);m="M ".concat(e,",").concat(t+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+u*b,",").concat(t,`
            L `).concat(e+n-u*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+c*b,`
            L `).concat(e+n,",").concat(t+a-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-u*b,",").concat(t+a,`
            L `).concat(e+u*b,",").concat(t+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return m},QW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O6=e=>{var t=Rr(e,QW),n=y.useRef(null),[a,s]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var{x:o,y:c,width:u,height:f,radius:m,className:h}=t,{animationEasing:g,animationDuration:x,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:N}=t;if(o!==+o||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var S=Ut("recharts-rectangle",h);return N?y.createElement(Co,{canBegin:a>0,from:{width:u,height:f,x:o,y:c},to:{width:u,height:f,x:o,y:c},duration:x,animationEasing:g,isActive:N},A=>{var{width:C,height:E,x:k,y:O}=A;return y.createElement(Co,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:j,easing:g},y.createElement("path",Jm({},Rt(t,!0),{className:S,d:iE(k,O,C,E,m),ref:n})))}):y.createElement("path",Jm({},Rt(t,!0),{className:S,d:iE(o,c,u,f,m)}))};function k6(e){var{cx:t,cy:n,radius:a,startAngle:s,endAngle:o}=e,c=wn(t,n,a,s),u=wn(t,n,a,o);return{points:[c,u],cx:t,cy:n,radius:a,startAngle:s,endAngle:o}}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kv.apply(null,arguments)}var JW=(e,t)=>{var n=In(t-e),a=Math.min(Math.abs(t-e),359.999);return n*a},am=e=>{var{cx:t,cy:n,radius:a,angle:s,sign:o,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,m=u*(c?1:-1)+a,h=Math.asin(u/m)/Xm,g=f?s:s+o*h,x=wn(t,n,m,g),b=wn(t,n,a,g),j=f?s-o*h:s,N=wn(t,n,m*Math.cos(h*Xm),j);return{center:x,circleTangency:b,lineTangency:N,theta:h}},T6=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=JW(o,c),f=o+u,m=wn(t,n,s,o),h=wn(t,n,s,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=wn(t,n,a,o),b=wn(t,n,a,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},eX=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}=e,h=In(m-f),{circleTangency:g,lineTangency:x,theta:b}=am({cx:t,cy:n,radius:s,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:j,lineTangency:N,theta:S}=am({cx:t,cy:n,radius:s,angle:m,sign:-h,cornerRadius:o,cornerIsExternal:u}),A=u?Math.abs(f-m):Math.abs(f-m)-b-S;if(A<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):T6({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var{circleTangency:E,lineTangency:k,theta:O}=am({cx:t,cy:n,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:_}=am({cx:t,cy:n,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),z=u?Math.abs(f-m):Math.abs(f-m)-O-_;if(z<0&&o===0)return"".concat(C,"L").concat(t,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,"Z")}else C+="L".concat(t,",").concat(n,"Z");return C},tX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},M6=e=>{var t=Rr(e,tX),{cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h,className:g}=t;if(o<s||m===h)return null;var x=Ut("recharts-sector",g),b=o-s,j=ha(c,b,0,!0),N;return j>0&&Math.abs(m-h)<360?N=eX({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(j,b/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}):N=T6({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:m,endAngle:h}),y.createElement("path",kv({},Rt(t,!0),{className:x,d:N}))};function nX(e,t,n){var a,s,o,c;if(e==="horizontal")a=t.x,o=a,s=n.top,c=n.top+n.height;else if(e==="vertical")s=t.y,c=s,a=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:f,innerRadius:m,outerRadius:h,angle:g}=t,x=wn(u,f,m,g),b=wn(u,f,h,g);a=x.x,s=x.y,o=b.x,c=b.y}else return k6(t);return[{x:a,y:s},{x:o,y:c}]}var Xx={},Zx={},Qx={},oE;function aX(){return oE||(oE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT();function n(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=n}(Qx)),Qx}var lE;function rX(){return lE||(lE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aX();function n(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n}(Zx)),Zx}var cE;function sX(){return cE||(cE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT(),n=rX();function a(s,o,c){c&&typeof c!="number"&&t.isIterateeCall(s,o,c)&&(o=c=void 0),s=n.toFinite(s),o===void 0?(o=s,s=0):o=n.toFinite(o),c=c===void 0?s<o?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((o-s)/(c||1)),0),f=new Array(u);for(let m=0;m<u;m++)f[m]=s,s+=c;return f}e.range=a}(Xx)),Xx}var Jx,uE;function iX(){return uE||(uE=1,Jx=sX().range),Jx}var oX=iX();const P6=Jr(oX);function gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function N1(e){let t,n,a;e.length!==2?(t=gi,n=(u,f)=>gi(e(u),f),a=(u,f)=>e(u)-f):(t=e===gi||e===lX?e:cX,n=e,a=e);function s(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;n(u[g],f)<0?m=g+1:h=g}while(m<h)}return m}function o(u,f,m=0,h=u.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;n(u[g],f)<=0?m=g+1:h=g}while(m<h)}return m}function c(u,f,m=0,h=u.length){const g=s(u,f,m,h-1);return g>m&&a(u[g-1],f)>-a(u[g],f)?g-1:g}return{left:s,center:c,right:o}}function cX(){return 0}function _6(e){return e===null?NaN:+e}function*uX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const dX=N1(gi),bd=dX.right;N1(_6).center;class dE extends Map{constructor(t,n=hX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(fE(this,t))}has(t){return super.has(fE(this,t))}set(t,n){return super.set(fX(this,t),n)}delete(t){return super.delete(mX(this,t))}}function fE({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function fX({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function mX({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function hX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pX(e=gi){if(e===gi)return D6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function D6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gX=Math.sqrt(50),xX=Math.sqrt(10),yX=Math.sqrt(2);function eh(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),o=a/Math.pow(10,s),c=o>=gX?10:o>=xX?5:o>=yX?2:1;let u,f,m;return s<0?(m=Math.pow(10,-s)/c,u=Math.round(e*m),f=Math.round(t*m),u/m<e&&++u,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,u=Math.round(e/m),f=Math.round(t/m),u*m<e&&++u,f*m>t&&--f),f<u&&.5<=n&&n<2?eh(e,t,n*2):[u,f,m]}function Tv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,o,c]=a?eh(t,e,n):eh(e,t,n);if(!(o>=s))return[];const u=o-s+1,f=new Array(u);if(a)if(c<0)for(let m=0;m<u;++m)f[m]=(o-m)/-c;else for(let m=0;m<u;++m)f[m]=(o-m)*c;else if(c<0)for(let m=0;m<u;++m)f[m]=(s+m)/-c;else for(let m=0;m<u;++m)f[m]=(s+m)*c;return f}function Mv(e,t,n){return t=+t,e=+e,n=+n,eh(e,t,n)[2]}function Pv(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?Mv(t,e,n):Mv(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function mE(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function hE(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function R6(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?D6:pX(s);a>n;){if(a-n>600){const f=a-n+1,m=t-n+1,h=Math.log(f),g=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*g*(f-g)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*g/f+x)),j=Math.min(a,Math.floor(t+(f-m)*g/f+x));R6(e,t,b,j,s)}const o=e[t];let c=n,u=a;for(wu(e,n,t),s(e[a],o)>0&&wu(e,n,a);c<u;){for(wu(e,c,u),++c,--u;s(e[c],o)<0;)++c;for(;s(e[u],o)>0;)--u}s(e[n],o)===0?wu(e,n,u):(++u,wu(e,u,a)),u<=t&&(n=u+1),t<=u&&(a=u-1)}return e}function wu(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function vX(e,t,n){if(e=Float64Array.from(uX(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return hE(e);if(t>=1)return mE(e);var a,s=(a-1)*t,o=Math.floor(s),c=mE(R6(e,o).subarray(0,o+1)),u=hE(e.subarray(o+1));return c+(u-c)*(s-o)}}function bX(e,t,n=_6){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,o=Math.floor(s),c=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return c+(u-c)*(s-o)}}function jX(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++a<s;)o[a]=e+a*n;return o}function br(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ls(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _v=Symbol("implicit");function S1(){var e=new dE,t=[],n=[],a=_v;function s(o){let c=e.get(o);if(c===void 0){if(a!==_v)return a;e.set(o,c=t.push(o)-1)}return n[c%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new dE;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return S1(t,n).unknown(a)},br.apply(s,arguments),s}function C1(){var e=S1().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,o,c,u=!1,f=0,m=0,h=.5;delete e.unknown;function g(){var x=t().length,b=s<a,j=b?s:a,N=b?a:s;o=(N-j)/Math.max(1,x-f+m*2),u&&(o=Math.floor(o)),j+=(N-j-o*(x-f))*h,c=o*(1-f),u&&(j=Math.round(j),c=Math.round(c));var S=jX(x).map(function(A){return j+o*A});return n(b?S.reverse():S)}return e.domain=function(x){return arguments.length?(t(x),g()):t()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,g()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(x){return arguments.length?(u=!!x,g()):u},e.padding=function(x){return arguments.length?(f=Math.min(1,m=+x),g()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},e.paddingOuter=function(x){return arguments.length?(m=+x,g()):m},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),g()):h},e.copy=function(){return C1(t(),[a,s]).round(u).paddingInner(f).paddingOuter(m).align(h)},br.apply(g(),arguments)}function L6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return L6(t())},e}function wX(){return L6(C1.apply(null,arguments).paddingInner(1))}function A1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function I6(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function jd(){}var Ju=.7,th=1/Ju,Dl="\\s*([+-]?\\d+)\\s*",ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NX=/^#([0-9a-f]{3,8})$/,SX=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),CX=new RegExp(`^rgb\\(${Wr},${Wr},${Wr}\\)$`),AX=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${ed}\\)$`),EX=new RegExp(`^rgba\\(${Wr},${Wr},${Wr},${ed}\\)$`),OX=new RegExp(`^hsl\\(${ed},${Wr},${Wr}\\)$`),kX=new RegExp(`^hsla\\(${ed},${Wr},${Wr},${ed}\\)$`),pE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A1(jd,td,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gE,formatHex:gE,formatHex8:TX,formatHsl:MX,formatRgb:xE,toString:xE});function gE(){return this.rgb().formatHex()}function TX(){return this.rgb().formatHex8()}function MX(){return z6(this).formatHsl()}function xE(){return this.rgb().formatRgb()}function td(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=NX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yE(t):n===3?new Na(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SX.exec(e))?new Na(t[1],t[2],t[3],1):(t=CX.exec(e))?new Na(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AX.exec(e))?rm(t[1],t[2],t[3],t[4]):(t=EX.exec(e))?rm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=OX.exec(e))?jE(t[1],t[2]/100,t[3]/100,1):(t=kX.exec(e))?jE(t[1],t[2]/100,t[3]/100,t[4]):pE.hasOwnProperty(e)?yE(pE[e]):e==="transparent"?new Na(NaN,NaN,NaN,0):null}function yE(e){return new Na(e>>16&255,e>>8&255,e&255,1)}function rm(e,t,n,a){return a<=0&&(e=t=n=NaN),new Na(e,t,n,a)}function PX(e){return e instanceof jd||(e=td(e)),e?(e=e.rgb(),new Na(e.r,e.g,e.b,e.opacity)):new Na}function Dv(e,t,n,a){return arguments.length===1?PX(e):new Na(e,t,n,a??1)}function Na(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}A1(Na,Dv,I6(jd,{brighter(e){return e=e==null?th:Math.pow(th,e),new Na(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new Na(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Na(yo(this.r),yo(this.g),yo(this.b),nh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vE,formatHex:vE,formatHex8:_X,formatRgb:bE,toString:bE}));function vE(){return`#${co(this.r)}${co(this.g)}${co(this.b)}`}function _X(){return`#${co(this.r)}${co(this.g)}${co(this.b)}${co((isNaN(this.opacity)?1:this.opacity)*255)}`}function bE(){const e=nh(this.opacity);return`${e===1?"rgb(":"rgba("}${yo(this.r)}, ${yo(this.g)}, ${yo(this.b)}${e===1?")":`, ${e})`}`}function nh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function co(e){return e=yo(e),(e<16?"0":"")+e.toString(16)}function jE(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Er(e,t,n,a)}function z6(e){if(e instanceof Er)return new Er(e.h,e.s,e.l,e.opacity);if(e instanceof jd||(e=td(e)),!e)return new Er;if(e instanceof Er)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),o=Math.max(t,n,a),c=NaN,u=o-s,f=(o+s)/2;return u?(t===o?c=(n-a)/u+(n<a)*6:n===o?c=(a-t)/u+2:c=(t-n)/u+4,u/=f<.5?o+s:2-o-s,c*=60):u=f>0&&f<1?0:c,new Er(c,u,f,e.opacity)}function DX(e,t,n,a){return arguments.length===1?z6(e):new Er(e,t,n,a??1)}function Er(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}A1(Er,DX,I6(jd,{brighter(e){return e=e==null?th:Math.pow(th,e),new Er(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new Er(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new Na(ey(e>=240?e-240:e+120,s,a),ey(e,s,a),ey(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Er(wE(this.h),sm(this.s),sm(this.l),nh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nh(this.opacity);return`${e===1?"hsl(":"hsla("}${wE(this.h)}, ${sm(this.s)*100}%, ${sm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wE(e){return e=(e||0)%360,e<0?e+360:e}function sm(e){return Math.max(0,Math.min(1,e||0))}function ey(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const E1=e=>()=>e;function RX(e,t){return function(n){return e+n*t}}function LX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function IX(e){return(e=+e)==1?$6:function(t,n){return n-t?LX(t,n,e):E1(isNaN(t)?n:t)}}function $6(e,t){var n=t-e;return n?RX(e,n):E1(isNaN(e)?t:e)}const NE=function e(t){var n=IX(t);function a(s,o){var c=n((s=Dv(s)).r,(o=Dv(o)).r),u=n(s.g,o.g),f=n(s.b,o.b),m=$6(s.opacity,o.opacity);return function(h){return s.r=c(h),s.g=u(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a}(1);function zX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(o){for(s=0;s<n;++s)a[s]=e[s]*(1-o)+t[s]*o;return a}}function $X(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BX(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),o=new Array(n),c;for(c=0;c<a;++c)s[c]=lc(e[c],t[c]);for(;c<n;++c)o[c]=t[c];return function(u){for(c=0;c<a;++c)o[c]=s[c](u);return o}}function UX(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function ah(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qX(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=lc(e[s],t[s]):a[s]=t[s];return function(o){for(s in n)a[s]=n[s](o);return a}}var Rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ty=new RegExp(Rv.source,"g");function FX(e){return function(){return e}}function VX(e){return function(t){return e(t)+""}}function HX(e,t){var n=Rv.lastIndex=ty.lastIndex=0,a,s,o,c=-1,u=[],f=[];for(e=e+"",t=t+"";(a=Rv.exec(e))&&(s=ty.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),u[c]?u[c]+=o:u[++c]=o),(a=a[0])===(s=s[0])?u[c]?u[c]+=s:u[++c]=s:(u[++c]=null,f.push({i:c,x:ah(a,s)})),n=ty.lastIndex;return n<t.length&&(o=t.slice(n),u[c]?u[c]+=o:u[++c]=o),u.length<2?f[0]?VX(f[0].x):FX(t):(t=f.length,function(m){for(var h=0,g;h<t;++h)u[(g=f[h]).i]=g.x(m);return u.join("")})}function lc(e,t){var n=typeof t,a;return t==null||n==="boolean"?E1(t):(n==="number"?ah:n==="string"?(a=td(t))?(t=a,NE):HX:t instanceof td?NE:t instanceof Date?UX:$X(t)?zX:Array.isArray(t)?BX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qX:ah)(e,t)}function O1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function GX(e,t){t===void 0&&(t=e,e=lc);for(var n=0,a=t.length-1,s=t[0],o=new Array(a<0?0:a);n<a;)o[n]=e(s,s=t[++n]);return function(c){var u=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return o[u](c-u)}}function KX(e){return function(){return e}}function rh(e){return+e}var SE=[0,1];function fa(e){return e}function Lv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:KX(isNaN(t)?NaN:.5)}function YX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function WX(e,t,n){var a=e[0],s=e[1],o=t[0],c=t[1];return s<a?(a=Lv(s,a),o=n(c,o)):(a=Lv(a,s),o=n(o,c)),function(u){return o(a(u))}}function XX(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=Lv(e[c],e[c+1]),o[c]=n(t[c],t[c+1]);return function(u){var f=bd(e,u,1,a)-1;return o[f](s[f](u))}}function wd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zh(){var e=SE,t=SE,n=lc,a,s,o,c=fa,u,f,m;function h(){var x=Math.min(e.length,t.length);return c!==fa&&(c=YX(e[0],e[x-1])),u=x>2?XX:WX,f=m=null,g}function g(x){return x==null||isNaN(x=+x)?o:(f||(f=u(e.map(a),t,n)))(a(c(x)))}return g.invert=function(x){return c(s((m||(m=u(t,e.map(a),ah)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,rh),h()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),n=O1,h()},g.clamp=function(x){return arguments.length?(c=x?!0:fa,h()):c!==fa},g.interpolate=function(x){return arguments.length?(n=x,h()):n},g.unknown=function(x){return arguments.length?(o=x,g):o},function(x,b){return a=x,s=b,h()}}function k1(){return Zh()(fa,fa)}function ZX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Vl(e){return e=sh(Math.abs(e)),e?e[1]:NaN}function QX(e,t){return function(n,a){for(var s=n.length,o=[],c=0,u=e[0],f=0;s>0&&u>0&&(f+u+1>a&&(u=Math.max(1,a-f)),o.push(n.substring(s-=u,s+u)),!((f+=u+1)>a));)u=e[c=(c+1)%e.length];return o.reverse().join(t)}}function JX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var eZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nd(e){if(!(t=eZ.exec(e)))throw new Error("invalid format: "+e);var t;return new T1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}nd.prototype=T1.prototype;function T1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}T1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tZ(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var B6;function nZ(e,t){var n=sh(e,t);if(!n)return e+"";var a=n[0],s=n[1],o=s-(B6=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return o===c?a:o>c?a+new Array(o-c+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+sh(e,Math.max(0,t+o-1))[0]}function CE(e,t){var n=sh(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const AE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ZX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CE(e*100,t),r:CE,s:nZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EE(e){return e}var OE=Array.prototype.map,kE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aZ(e){var t=e.grouping===void 0||e.thousands===void 0?EE:QX(OE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?EE:JX(OE.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=nd(g);var x=g.fill,b=g.align,j=g.sign,N=g.symbol,S=g.zero,A=g.width,C=g.comma,E=g.precision,k=g.trim,O=g.type;O==="n"?(C=!0,O="g"):AE[O]||(E===void 0&&(E=12),k=!0,O="g"),(S||x==="0"&&b==="=")&&(S=!0,x="0",b="=");var T=N==="$"?n:N==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=N==="$"?a:/[%p]/.test(O)?c:"",_=AE[O],z=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function V(B){var W=T,oe=P,K,I,R;if(O==="c")oe=_(B)+oe,B="";else{B=+B;var X=B<0||1/B<0;if(B=isNaN(B)?f:_(Math.abs(B),E),k&&(B=tZ(B)),X&&+B==0&&j!=="+"&&(X=!1),W=(X?j==="("?j:u:j==="-"||j==="("?"":j)+W,oe=(O==="s"?kE[8+B6/3]:"")+oe+(X&&j==="("?")":""),z){for(K=-1,I=B.length;++K<I;)if(R=B.charCodeAt(K),48>R||R>57){oe=(R===46?s+B.slice(K+1):B.slice(K))+oe,B=B.slice(0,K);break}}}C&&!S&&(B=t(B,1/0));var Z=W.length+B.length+oe.length,H=Z<A?new Array(A-Z+1).join(x):"";switch(C&&S&&(B=t(H+B,H.length?A-oe.length:1/0),H=""),b){case"<":B=W+B+oe+H;break;case"=":B=W+H+B+oe;break;case"^":B=H.slice(0,Z=H.length>>1)+W+B+oe+H.slice(Z);break;default:B=H+W+B+oe;break}return o(B)}return V.toString=function(){return g+""},V}function h(g,x){var b=m((g=nd(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Vl(x)/3)))*3,N=Math.pow(10,-j),S=kE[8+j/3];return function(A){return b(N*A)+S}}return{format:m,formatPrefix:h}}var im,M1,U6;rZ({thousands:",",grouping:[3],currency:["$",""]});function rZ(e){return im=aZ(e),M1=im.format,U6=im.formatPrefix,im}function sZ(e){return Math.max(0,-Vl(Math.abs(e)))}function iZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vl(t)/3)))*3-Vl(Math.abs(e)))}function oZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vl(t)-Vl(e))+1}function q6(e,t,n,a){var s=Pv(e,t,n),o;switch(a=nd(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=iZ(s,c))&&(a.precision=o),U6(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=oZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=sZ(s))&&(a.precision=o-(a.type==="%")*2);break}}return M1(a)}function Oi(e){var t=e.domain;return e.ticks=function(n){var a=t();return Tv(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return q6(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,o=a.length-1,c=a[s],u=a[o],f,m,h=10;for(u<c&&(m=c,c=u,u=m,m=s,s=o,o=m);h-- >0;){if(m=Mv(c,u,n),m===f)return a[s]=c,a[o]=u,t(a);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;f=m}return e},e}function F6(){var e=k1();return e.copy=function(){return wd(e,F6())},br.apply(e,arguments),Oi(e)}function V6(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,rh),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return V6(e).unknown(t)},e=arguments.length?Array.from(e,rh):[0,1],Oi(n)}function H6(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],o=e[a],c;return o<s&&(c=n,n=a,a=c,c=s,s=o,o=c),e[n]=t.floor(s),e[a]=t.ceil(o),e}function TE(e){return Math.log(e)}function ME(e){return Math.exp(e)}function lZ(e){return-Math.log(-e)}function cZ(e){return-Math.exp(-e)}function uZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dZ(e){return e===10?uZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PE(e){return(t,n)=>-e(-t,n)}function P1(e){const t=e(TE,ME),n=t.domain;let a=10,s,o;function c(){return s=fZ(a),o=dZ(a),n()[0]<0?(s=PE(s),o=PE(o),e(lZ,cZ)):e(TE,ME),t}return t.base=function(u){return arguments.length?(a=+u,c()):a},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let m=f[0],h=f[f.length-1];const g=h<m;g&&([m,h]=[h,m]);let x=s(m),b=s(h),j,N;const S=u==null?10:+u;let A=[];if(!(a%1)&&b-x<S){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(j=1;j<a;++j)if(N=x<0?j/o(-x):j*o(x),!(N<m)){if(N>h)break;A.push(N)}}else for(;x<=b;++x)for(j=a-1;j>=1;--j)if(N=x>0?j/o(-x):j*o(x),!(N<m)){if(N>h)break;A.push(N)}A.length*2<S&&(A=Tv(m,h,S))}else A=Tv(x,b,Math.min(b-x,S)).map(o);return g?A.reverse():A},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=nd(f)).precision==null&&(f.trim=!0),f=M1(f)),u===1/0)return f;const m=Math.max(1,a*u/t.ticks().length);return h=>{let g=h/o(Math.round(s(h)));return g*a<a-.5&&(g*=a),g<=m?f(h):""}},t.nice=()=>n(H6(n(),{floor:u=>o(Math.floor(s(u))),ceil:u=>o(Math.ceil(s(u)))})),t}function G6(){const e=P1(Zh()).domain([1,10]);return e.copy=()=>wd(e,G6()).base(e.base()),br.apply(e,arguments),e}function _E(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _1(e){var t=1,n=e(_E(t),DE(t));return n.constant=function(a){return arguments.length?e(_E(t=+a),DE(t)):t},Oi(n)}function K6(){var e=_1(Zh());return e.copy=function(){return wd(e,K6()).constant(e.constant())},br.apply(e,arguments)}function RE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hZ(e){return e<0?-e*e:e*e}function D1(e){var t=e(fa,fa),n=1;function a(){return n===1?e(fa,fa):n===.5?e(mZ,hZ):e(RE(n),RE(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},Oi(t)}function R1(){var e=D1(Zh());return e.copy=function(){return wd(e,R1()).exponent(e.exponent())},br.apply(e,arguments),e}function pZ(){return R1.apply(null,arguments).exponent(.5)}function LE(e){return Math.sign(e)*e*e}function gZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Y6(){var e=k1(),t=[0,1],n=!1,a;function s(o){var c=gZ(e(o));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(o){return e.invert(LE(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,rh)).map(LE)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return Y6(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},br.apply(s,arguments),Oi(s)}function W6(){var e=[],t=[],n=[],a;function s(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=bX(e,c/u);return o}function o(c){return c==null||isNaN(c=+c)?a:t[bd(n,c)]}return o.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(gi),s()},o.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},o.unknown=function(c){return arguments.length?(a=c,o):a},o.quantiles=function(){return n.slice()},o.copy=function(){return W6().domain(e).range(t).unknown(a)},br.apply(o,arguments)}function X6(){var e=0,t=1,n=1,a=[.5],s=[0,1],o;function c(f){return f!=null&&f<=f?s[bd(a,f,0,n)]:o}function u(){var f=-1;for(a=new Array(n);++f<n;)a[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,u()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=n?[a[n-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(o=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return X6().domain([e,t]).range(s).unknown(o)},br.apply(Oi(c),arguments)}function Z6(){var e=[.5],t=[0,1],n,a=1;function s(o){return o!=null&&o<=o?t[bd(e,o,0,a)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Z6().domain(e).range(t).unknown(n)},br.apply(s,arguments)}const ny=new Date,ay=new Date;function Mn(e,t,n,a){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const c=s(o),u=s.ceil(o);return o-c<u-o?c:u},s.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,u)=>{const f=[];if(o=s.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return f;let m;do f.push(m=new Date(+o)),t(o,u),e(o);while(m<o&&o<c);return f},s.filter=o=>Mn(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!o(c););else for(;--u>=0;)for(;t(c,1),!o(c););}),n&&(s.count=(o,c)=>(ny.setTime(+o),ay.setTime(+c),e(ny),e(ay),Math.floor(n(ny,ay))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(a?c=>a(c)%o===0:c=>s.count(0,c)%o===0):s)),s}const ih=Mn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ih);ih.range;const bs=1e3,fr=bs*60,js=fr*60,Ms=js*24,L1=Ms*7,IE=Ms*30,ry=Ms*365,uo=Mn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getUTCSeconds());uo.range;const I1=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bs)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getMinutes());I1.range;const z1=Mn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getUTCMinutes());z1.range;const $1=Mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bs-e.getMinutes()*fr)},(e,t)=>{e.setTime(+e+t*js)},(e,t)=>(t-e)/js,e=>e.getHours());$1.range;const B1=Mn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*js)},(e,t)=>(t-e)/js,e=>e.getUTCHours());B1.range;const Nd=Mn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fr)/Ms,e=>e.getDate()-1);Nd.range;const Qh=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ms,e=>e.getUTCDate()-1);Qh.range;const Q6=Mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ms,e=>Math.floor(e/Ms));Q6.range;function Po(e){return Mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fr)/L1)}const Jh=Po(0),oh=Po(1),xZ=Po(2),yZ=Po(3),Hl=Po(4),vZ=Po(5),bZ=Po(6);Jh.range;oh.range;xZ.range;yZ.range;Hl.range;vZ.range;bZ.range;function _o(e){return Mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/L1)}const ep=_o(0),lh=_o(1),jZ=_o(2),wZ=_o(3),Gl=_o(4),NZ=_o(5),SZ=_o(6);ep.range;lh.range;jZ.range;wZ.range;Gl.range;NZ.range;SZ.range;const U1=Mn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());U1.range;const q1=Mn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());q1.range;const Ps=Mn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ps.range;const _s=Mn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_s.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});_s.range;function J6(e,t,n,a,s,o){const c=[[uo,1,bs],[uo,5,5*bs],[uo,15,15*bs],[uo,30,30*bs],[o,1,fr],[o,5,5*fr],[o,15,15*fr],[o,30,30*fr],[s,1,js],[s,3,3*js],[s,6,6*js],[s,12,12*js],[a,1,Ms],[a,2,2*Ms],[n,1,L1],[t,1,IE],[t,3,3*IE],[e,1,ry]];function u(m,h,g){const x=h<m;x&&([m,h]=[h,m]);const b=g&&typeof g.range=="function"?g:f(m,h,g),j=b?b.range(m,+h+1):[];return x?j.reverse():j}function f(m,h,g){const x=Math.abs(h-m)/g,b=N1(([,,S])=>S).right(c,x);if(b===c.length)return e.every(Pv(m/ry,h/ry,g));if(b===0)return ih.every(Math.max(Pv(m,h,g),1));const[j,N]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return j.every(N)}return[u,f]}const[CZ,AZ]=J6(_s,q1,ep,Q6,B1,z1),[EZ,OZ]=J6(Ps,U1,Jh,Nd,$1,I1);function sy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function iy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kZ(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,o=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,m=Su(s),h=Cu(s),g=Su(o),x=Cu(o),b=Su(c),j=Cu(c),N=Su(u),S=Cu(u),A=Su(f),C=Cu(f),E={a:X,A:Z,b:H,B:D,c:null,d:FE,e:FE,f:QZ,g:lQ,G:uQ,H:WZ,I:XZ,j:ZZ,L:eM,m:JZ,M:eQ,p:$,q:G,Q:GE,s:KE,S:tQ,u:nQ,U:aQ,V:rQ,w:sQ,W:iQ,x:null,X:null,y:oQ,Y:cQ,Z:dQ,"%":HE},k={a:te,A:Q,b:ve,B:xe,c:null,d:VE,e:VE,f:pQ,g:CQ,G:EQ,H:fQ,I:mQ,j:hQ,L:nM,m:gQ,M:xQ,p:ze,q:Le,Q:GE,s:KE,S:yQ,u:vQ,U:bQ,V:jQ,w:wQ,W:NQ,x:null,X:null,y:SQ,Y:AQ,Z:OQ,"%":HE},O={a:V,A:B,b:W,B:oe,c:K,d:UE,e:UE,f:HZ,g:BE,G:$E,H:qE,I:qE,j:UZ,L:VZ,m:BZ,M:qZ,p:z,q:$Z,Q:KZ,s:YZ,S:FZ,u:DZ,U:RZ,V:LZ,w:_Z,W:IZ,x:I,X:R,y:BE,Y:$E,Z:zZ,"%":GZ};E.x=T(n,E),E.X=T(a,E),E.c=T(t,E),k.x=T(n,k),k.X=T(a,k),k.c=T(t,k);function T(Ee,Fe){return function(Ke){var re=[],Be=-1,Ge=0,Ne=Ee.length,He,Ye,F;for(Ke instanceof Date||(Ke=new Date(+Ke));++Be<Ne;)Ee.charCodeAt(Be)===37&&(re.push(Ee.slice(Ge,Be)),(Ye=zE[He=Ee.charAt(++Be)])!=null?He=Ee.charAt(++Be):Ye=He==="e"?" ":"0",(F=Fe[He])&&(He=F(Ke,Ye)),re.push(He),Ge=Be+1);return re.push(Ee.slice(Ge,Be)),re.join("")}}function P(Ee,Fe){return function(Ke){var re=Nu(1900,void 0,1),Be=_(re,Ee,Ke+="",0),Ge,Ne;if(Be!=Ke.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Fe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ge=iy(Nu(re.y,0,1)),Ne=Ge.getUTCDay(),Ge=Ne>4||Ne===0?lh.ceil(Ge):lh(Ge),Ge=Qh.offset(Ge,(re.V-1)*7),re.y=Ge.getUTCFullYear(),re.m=Ge.getUTCMonth(),re.d=Ge.getUTCDate()+(re.w+6)%7):(Ge=sy(Nu(re.y,0,1)),Ne=Ge.getDay(),Ge=Ne>4||Ne===0?oh.ceil(Ge):oh(Ge),Ge=Nd.offset(Ge,(re.V-1)*7),re.y=Ge.getFullYear(),re.m=Ge.getMonth(),re.d=Ge.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Ne="Z"in re?iy(Nu(re.y,0,1)).getUTCDay():sy(Nu(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Ne+5)%7:re.w+re.U*7-(Ne+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,iy(re)):sy(re)}}function _(Ee,Fe,Ke,re){for(var Be=0,Ge=Fe.length,Ne=Ke.length,He,Ye;Be<Ge;){if(re>=Ne)return-1;if(He=Fe.charCodeAt(Be++),He===37){if(He=Fe.charAt(Be++),Ye=O[He in zE?Fe.charAt(Be++):He],!Ye||(re=Ye(Ee,Ke,re))<0)return-1}else if(He!=Ke.charCodeAt(re++))return-1}return re}function z(Ee,Fe,Ke){var re=m.exec(Fe.slice(Ke));return re?(Ee.p=h.get(re[0].toLowerCase()),Ke+re[0].length):-1}function V(Ee,Fe,Ke){var re=b.exec(Fe.slice(Ke));return re?(Ee.w=j.get(re[0].toLowerCase()),Ke+re[0].length):-1}function B(Ee,Fe,Ke){var re=g.exec(Fe.slice(Ke));return re?(Ee.w=x.get(re[0].toLowerCase()),Ke+re[0].length):-1}function W(Ee,Fe,Ke){var re=A.exec(Fe.slice(Ke));return re?(Ee.m=C.get(re[0].toLowerCase()),Ke+re[0].length):-1}function oe(Ee,Fe,Ke){var re=N.exec(Fe.slice(Ke));return re?(Ee.m=S.get(re[0].toLowerCase()),Ke+re[0].length):-1}function K(Ee,Fe,Ke){return _(Ee,t,Fe,Ke)}function I(Ee,Fe,Ke){return _(Ee,n,Fe,Ke)}function R(Ee,Fe,Ke){return _(Ee,a,Fe,Ke)}function X(Ee){return c[Ee.getDay()]}function Z(Ee){return o[Ee.getDay()]}function H(Ee){return f[Ee.getMonth()]}function D(Ee){return u[Ee.getMonth()]}function $(Ee){return s[+(Ee.getHours()>=12)]}function G(Ee){return 1+~~(Ee.getMonth()/3)}function te(Ee){return c[Ee.getUTCDay()]}function Q(Ee){return o[Ee.getUTCDay()]}function ve(Ee){return f[Ee.getUTCMonth()]}function xe(Ee){return u[Ee.getUTCMonth()]}function ze(Ee){return s[+(Ee.getUTCHours()>=12)]}function Le(Ee){return 1+~~(Ee.getUTCMonth()/3)}return{format:function(Ee){var Fe=T(Ee+="",E);return Fe.toString=function(){return Ee},Fe},parse:function(Ee){var Fe=P(Ee+="",!1);return Fe.toString=function(){return Ee},Fe},utcFormat:function(Ee){var Fe=T(Ee+="",k);return Fe.toString=function(){return Ee},Fe},utcParse:function(Ee){var Fe=P(Ee+="",!0);return Fe.toString=function(){return Ee},Fe}}}var zE={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,TZ=/^%/,MZ=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",o=s.length;return a+(o<n?new Array(n-o+1).join(t)+s:s)}function PZ(e){return e.replace(MZ,"\\$&")}function Su(e){return new RegExp("^(?:"+e.map(PZ).join("|")+")","i")}function Cu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _Z(e,t,n){var a=$n.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function DZ(e,t,n){var a=$n.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function RZ(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function LZ(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function IZ(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function $E(e,t,n){var a=$n.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function BE(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function zZ(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function $Z(e,t,n){var a=$n.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function BZ(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function UE(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function UZ(e,t,n){var a=$n.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function qE(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function qZ(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function FZ(e,t,n){var a=$n.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function VZ(e,t,n){var a=$n.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function HZ(e,t,n){var a=$n.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function GZ(e,t,n){var a=TZ.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function KZ(e,t,n){var a=$n.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function YZ(e,t,n){var a=$n.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function FE(e,t){return Tt(e.getDate(),t,2)}function WZ(e,t){return Tt(e.getHours(),t,2)}function XZ(e,t){return Tt(e.getHours()%12||12,t,2)}function ZZ(e,t){return Tt(1+Nd.count(Ps(e),e),t,3)}function eM(e,t){return Tt(e.getMilliseconds(),t,3)}function QZ(e,t){return eM(e,t)+"000"}function JZ(e,t){return Tt(e.getMonth()+1,t,2)}function eQ(e,t){return Tt(e.getMinutes(),t,2)}function tQ(e,t){return Tt(e.getSeconds(),t,2)}function nQ(e){var t=e.getDay();return t===0?7:t}function aQ(e,t){return Tt(Jh.count(Ps(e)-1,e),t,2)}function tM(e){var t=e.getDay();return t>=4||t===0?Hl(e):Hl.ceil(e)}function rQ(e,t){return e=tM(e),Tt(Hl.count(Ps(e),e)+(Ps(e).getDay()===4),t,2)}function sQ(e){return e.getDay()}function iQ(e,t){return Tt(oh.count(Ps(e)-1,e),t,2)}function oQ(e,t){return Tt(e.getFullYear()%100,t,2)}function lQ(e,t){return e=tM(e),Tt(e.getFullYear()%100,t,2)}function cQ(e,t){return Tt(e.getFullYear()%1e4,t,4)}function uQ(e,t){var n=e.getDay();return e=n>=4||n===0?Hl(e):Hl.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function dQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function VE(e,t){return Tt(e.getUTCDate(),t,2)}function fQ(e,t){return Tt(e.getUTCHours(),t,2)}function mQ(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function hQ(e,t){return Tt(1+Qh.count(_s(e),e),t,3)}function nM(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function pQ(e,t){return nM(e,t)+"000"}function gQ(e,t){return Tt(e.getUTCMonth()+1,t,2)}function xQ(e,t){return Tt(e.getUTCMinutes(),t,2)}function yQ(e,t){return Tt(e.getUTCSeconds(),t,2)}function vQ(e){var t=e.getUTCDay();return t===0?7:t}function bQ(e,t){return Tt(ep.count(_s(e)-1,e),t,2)}function aM(e){var t=e.getUTCDay();return t>=4||t===0?Gl(e):Gl.ceil(e)}function jQ(e,t){return e=aM(e),Tt(Gl.count(_s(e),e)+(_s(e).getUTCDay()===4),t,2)}function wQ(e){return e.getUTCDay()}function NQ(e,t){return Tt(lh.count(_s(e)-1,e),t,2)}function SQ(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function CQ(e,t){return e=aM(e),Tt(e.getUTCFullYear()%100,t,2)}function AQ(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function EQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Gl(e):Gl.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function OQ(){return"+0000"}function HE(){return"%"}function GE(e){return+e}function KE(e){return Math.floor(+e/1e3)}var jl,rM,sM;kQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kQ(e){return jl=kZ(e),rM=jl.format,jl.parse,sM=jl.utcFormat,jl.utcParse,jl}function TQ(e){return new Date(e)}function MQ(e){return e instanceof Date?+e:+new Date(+e)}function F1(e,t,n,a,s,o,c,u,f,m){var h=k1(),g=h.invert,x=h.domain,b=m(".%L"),j=m(":%S"),N=m("%I:%M"),S=m("%I %p"),A=m("%a %d"),C=m("%b %d"),E=m("%B"),k=m("%Y");function O(T){return(f(T)<T?b:u(T)<T?j:c(T)<T?N:o(T)<T?S:a(T)<T?s(T)<T?A:C:n(T)<T?E:k)(T)}return h.invert=function(T){return new Date(g(T))},h.domain=function(T){return arguments.length?x(Array.from(T,MQ)):x().map(TQ)},h.ticks=function(T){var P=x();return e(P[0],P[P.length-1],T??10)},h.tickFormat=function(T,P){return P==null?O:m(P)},h.nice=function(T){var P=x();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?x(H6(P,T)):h},h.copy=function(){return wd(h,F1(e,t,n,a,s,o,c,u,f,m))},h}function PQ(){return br.apply(F1(EZ,OZ,Ps,U1,Jh,Nd,$1,I1,uo,rM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _Q(){return br.apply(F1(CZ,AZ,_s,q1,ep,Qh,B1,z1,uo,sM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tp(){var e=0,t=1,n,a,s,o,c=fa,u=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(o(g)-n)*s,u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),a=o(t=+t),s=n===a?0:1/(a-n),m):[e,t]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(c=g,m):c};function h(g){return function(x){var b,j;return arguments.length?([b,j]=x,c=g(b,j),m):[c(0),c(1)]}}return m.range=h(lc),m.rangeRound=h(O1),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return o=g,n=g(e),a=g(t),s=n===a?0:1/(a-n),m}}function ki(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iM(){var e=Oi(tp()(fa));return e.copy=function(){return ki(e,iM())},Ls.apply(e,arguments)}function oM(){var e=P1(tp()).domain([1,10]);return e.copy=function(){return ki(e,oM()).base(e.base())},Ls.apply(e,arguments)}function lM(){var e=_1(tp());return e.copy=function(){return ki(e,lM()).constant(e.constant())},Ls.apply(e,arguments)}function V1(){var e=D1(tp());return e.copy=function(){return ki(e,V1()).exponent(e.exponent())},Ls.apply(e,arguments)}function DQ(){return V1.apply(null,arguments).exponent(.5)}function cM(){var e=[],t=fa;function n(a){if(a!=null&&!isNaN(a=+a))return t((bd(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(gi),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,o)=>vX(e,o/a))},n.copy=function(){return cM(t).domain(e)},Ls.apply(n,arguments)}function np(){var e=0,t=.5,n=1,a=1,s,o,c,u,f,m=fa,h,g=!1,x;function b(N){return isNaN(N=+N)?x:(N=.5+((N=+h(N))-o)*(a*N<a*o?u:f),m(g?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,n]=N,s=h(e=+e),o=h(t=+t),c=h(n=+n),u=s===o?0:.5/(o-s),f=o===c?0:.5/(c-o),a=o<s?-1:1,b):[e,t,n]},b.clamp=function(N){return arguments.length?(g=!!N,b):g},b.interpolator=function(N){return arguments.length?(m=N,b):m};function j(N){return function(S){var A,C,E;return arguments.length?([A,C,E]=S,m=GX(N,[A,C,E]),b):[m(0),m(.5),m(1)]}}return b.range=j(lc),b.rangeRound=j(O1),b.unknown=function(N){return arguments.length?(x=N,b):x},function(N){return h=N,s=N(e),o=N(t),c=N(n),u=s===o?0:.5/(o-s),f=o===c?0:.5/(c-o),a=o<s?-1:1,b}}function uM(){var e=Oi(np()(fa));return e.copy=function(){return ki(e,uM())},Ls.apply(e,arguments)}function dM(){var e=P1(np()).domain([.1,1,10]);return e.copy=function(){return ki(e,dM()).base(e.base())},Ls.apply(e,arguments)}function fM(){var e=_1(np());return e.copy=function(){return ki(e,fM()).constant(e.constant())},Ls.apply(e,arguments)}function H1(){var e=D1(np());return e.copy=function(){return ki(e,H1()).exponent(e.exponent())},Ls.apply(e,arguments)}function RQ(){return H1.apply(null,arguments).exponent(.5)}const Mu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:C1,scaleDiverging:uM,scaleDivergingLog:dM,scaleDivergingPow:H1,scaleDivergingSqrt:RQ,scaleDivergingSymlog:fM,scaleIdentity:V6,scaleImplicit:_v,scaleLinear:F6,scaleLog:G6,scaleOrdinal:S1,scalePoint:wX,scalePow:R1,scaleQuantile:W6,scaleQuantize:X6,scaleRadial:Y6,scaleSequential:iM,scaleSequentialLog:oM,scaleSequentialPow:V1,scaleSequentialQuantile:cM,scaleSequentialSqrt:DQ,scaleSequentialSymlog:lM,scaleSqrt:pZ,scaleSymlog:K6,scaleThreshold:Z6,scaleTime:PQ,scaleUtc:_Q,tickFormat:q6},Symbol.toStringTag,{value:"Module"}));var Do=e=>e.chartData,G1=Ce([Do],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),mM=(e,t,n,a)=>a?G1(e):Do(e);function Kl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Wa(t)&&Wa(n))return!0}return!1}function YE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function LQ(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,s,o;if(Wa(n))s=n;else if(typeof n=="function")return;if(Wa(a))o=a;else if(typeof a=="function")return;var c=[s,o];if(Kl(c))return c}}function IQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,n);if(Kl(a))return YE(a,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,c,u;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Je(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&I4.test(s)){var f=I4.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Je(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&z4.test(o)){var h=z4.exec(o);if(h==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t==null?void 0:t[1];var x=[c,u];if(Kl(x))return t==null?x:YE(x,t,n)}}}var cc=1e9,zQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Y1,Xt=!0,xr="[DecimalError] ",vo=xr+"Invalid argument: ",K1=xr+"Exponent out of range: ",uc=Math.floor,ao=Math.pow,$Q=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fa,Ln=1e7,Yt=7,hM=9007199254740991,ch=uc(hM/Yt),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var t,n,a,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return a===s?0:a>s^o.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Qe.dividedBy=Qe.div=function(e){return Ss(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var t=this,n=t.constructor;return Vt(Ss(t,new n(e),0,1),n.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return Sn(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var t,n=this,a=n.constructor,s=a.precision,o=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(Fa))throw Error(xr+"NaN");if(n.s<1)throw Error(xr+(n.s?"NaN":"-Infinity"));return n.eq(Fa)?new a(0):(Xt=!1,t=Ss(ad(n,o),ad(e,o),o),Xt=!0,Vt(t,s))};Qe.minus=Qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xM(t,e):pM(t,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(xr+"NaN");return n.s?(Xt=!1,t=Ss(n,e,0,1).times(e),Xt=!0,n.minus(t)):Vt(new a(n),s)};Qe.naturalExponential=Qe.exp=function(){return gM(this)};Qe.naturalLogarithm=Qe.ln=function(){return ad(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pM(t,e):xM(t,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(vo+e);if(t=Sn(s)+1,a=s.d.length-1,n=a*Yt+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Qe.squareRoot=Qe.sqrt=function(){var e,t,n,a,s,o,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(xr+"NaN")}for(e=Sn(u),Xt=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Vr(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=uc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),n=f.precision,s=c=n+3;;)if(o=a,a=o.plus(Ss(u,o,c+2)).times(.5),Vr(o.d).slice(0,c)===(t=Vr(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Vt(o,n+1,0),o.times(o).eq(u)){a=o;break}}else if(t!="9999")break;c+=4}return Xt=!0,Vt(a,n)};Qe.times=Qe.mul=function(e){var t,n,a,s,o,c,u,f,m,h=this,g=h.constructor,x=h.d,b=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,n=h.e+e.e,f=x.length,m=b.length,f<m&&(o=x,x=b,b=o,c=f,f=m,m=c),o=[],c=f+m,a=c;a--;)o.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)u=o[s]+b[a]*x[s-a-1]+t,o[s--]=u%Ln|0,t=u/Ln|0;o[s]=(o[s]+t)%Ln|0}for(;!o[--c];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Xt?Vt(e,g.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(Qr(e,0,cc),t===void 0?t=a.rounding:Qr(t,0,8),Vt(n,e+Sn(n)+1,t))};Qe.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=Ao(a,!0):(Qr(e,0,cc),t===void 0?t=s.rounding:Qr(t,0,8),a=Vt(new s(a),e+1,t),n=Ao(a,!0,e+1)),n};Qe.toFixed=function(e,t){var n,a,s=this,o=s.constructor;return e===void 0?Ao(s):(Qr(e,0,cc),t===void 0?t=o.rounding:Qr(t,0,8),a=Vt(new o(s),e+Sn(s)+1,t),n=Ao(a.abs(),!1,e+Sn(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Qe.toInteger=Qe.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Sn(e)+1,t.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var t,n,a,s,o,c,u=this,f=u.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(Fa);if(u=new f(u),!u.s){if(e.s<1)throw Error(xr+"Infinity");return u}if(u.eq(Fa))return u;if(a=f.precision,e.eq(Fa))return Vt(u,a);if(t=e.e,n=e.d.length-1,c=t>=n,o=u.s,c){if((n=h<0?-h:h)<=hM){for(s=new f(Fa),t=Math.ceil(a/Yt+4),Xt=!1;n%2&&(s=s.times(u),XE(s.d,t)),n=uc(n/2),n!==0;)u=u.times(u),XE(u.d,t);return Xt=!0,e.s<0?new f(Fa).div(s):Vt(s,a)}}else if(o<0)throw Error(xr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Xt=!1,s=e.times(ad(u,a+m)),Xt=!0,s=gM(s),s.s=o,s};Qe.toPrecision=function(e,t){var n,a,s=this,o=s.constructor;return e===void 0?(n=Sn(s),a=Ao(s,n<=o.toExpNeg||n>=o.toExpPos)):(Qr(e,1,cc),t===void 0?t=o.rounding:Qr(t,0,8),s=Vt(new o(s),e,t),n=Sn(s),a=Ao(s,e<=n||n<=o.toExpNeg,e)),a};Qe.toSignificantDigits=Qe.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Qr(e,1,cc),t===void 0?t=a.rounding:Qr(t,0,8)),Vt(new a(n),e,t)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Sn(e),n=e.constructor;return Ao(e,t<=n.toExpNeg||t>=n.toExpPos)};function pM(e,t){var n,a,s,o,c,u,f,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Xt?Vt(t,g):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),o=c-s,o){for(o<0?(a=f,o=-o,u=m.length):(a=m,s=c,u=f.length),c=Math.ceil(g/Yt),u=c>u?c+1:u+1,o>u&&(o=u,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(u=f.length,o=m.length,u-o<0&&(o=u,a=m,m=f,f=a),n=0;o;)n=(f[--o]=f[o]+m[o]+n)/Ln|0,f[o]%=Ln;for(n&&(f.unshift(n),++s),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=s,Xt?Vt(t,g):t}function Qr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(vo+e)}function Vr(e){var t,n,a,s=e.length-1,o="",c=e[0];if(s>0){for(o+=c,t=1;t<s;t++)a=e[t]+"",n=Yt-a.length,n&&(o+=hi(n)),o+=a;c=e[t],a=c+"",n=Yt-a.length,n&&(o+=hi(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var Ss=function(){function e(a,s){var o,c=0,u=a.length;for(a=a.slice();u--;)o=a[u]*s+c,a[u]=o%Ln|0,c=o/Ln|0;return c&&a.unshift(c),a}function t(a,s,o,c){var u,f;if(o!=c)f=o>c?1:-1;else for(u=f=0;u<o;u++)if(a[u]!=s[u]){f=a[u]>s[u]?1:-1;break}return f}function n(a,s,o){for(var c=0;o--;)a[o]-=c,c=a[o]<s[o]?1:0,a[o]=c*Ln+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,c){var u,f,m,h,g,x,b,j,N,S,A,C,E,k,O,T,P,_,z=a.constructor,V=a.s==s.s?1:-1,B=a.d,W=s.d;if(!a.s)return new z(a);if(!s.s)throw Error(xr+"Division by zero");for(f=a.e-s.e,P=W.length,O=B.length,b=new z(V),j=b.d=[],m=0;W[m]==(B[m]||0);)++m;if(W[m]>(B[m]||0)&&--f,o==null?C=o=z.precision:c?C=o+(Sn(a)-Sn(s))+1:C=o,C<0)return new z(0);if(C=C/Yt+2|0,m=0,P==1)for(h=0,W=W[0],C++;(m<O||h)&&C--;m++)E=h*Ln+(B[m]||0),j[m]=E/W|0,h=E%W|0;else{for(h=Ln/(W[0]+1)|0,h>1&&(W=e(W,h),B=e(B,h),P=W.length,O=B.length),k=P,N=B.slice(0,P),S=N.length;S<P;)N[S++]=0;_=W.slice(),_.unshift(0),T=W[0],W[1]>=Ln/2&&++T;do h=0,u=t(W,N,P,S),u<0?(A=N[0],P!=S&&(A=A*Ln+(N[1]||0)),h=A/T|0,h>1?(h>=Ln&&(h=Ln-1),g=e(W,h),x=g.length,S=N.length,u=t(g,N,x,S),u==1&&(h--,n(g,P<x?_:W,x))):(h==0&&(u=h=1),g=W.slice()),x=g.length,x<S&&g.unshift(0),n(N,g,S),u==-1&&(S=N.length,u=t(W,N,P,S),u<1&&(h++,n(N,P<S?_:W,S))),S=N.length):u===0&&(h++,N=[0]),j[m++]=h,u&&N[0]?N[S++]=B[k]||0:(N=[B[k]],S=1);while((k++<O||N[0]!==void 0)&&C--)}return j[0]||j.shift(),b.e=f,Vt(b,c?o+Sn(b)+1:o)}}();function gM(e,t){var n,a,s,o,c,u,f=0,m=0,h=e.constructor,g=h.precision;if(Sn(e)>16)throw Error(K1+Sn(e));if(!e.s)return new h(Fa);for(Xt=!1,u=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(ao(2,m))/Math.LN10*2+5|0,u+=a,n=s=o=new h(Fa),h.precision=u;;){if(s=Vt(s.times(e),u),n=n.times(++f),c=o.plus(Ss(s,n,u)),Vr(c.d).slice(0,u)===Vr(o.d).slice(0,u)){for(;m--;)o=Vt(o.times(o),u);return h.precision=g,t==null?(Xt=!0,Vt(o,g)):o}o=c}}function Sn(e){for(var t=e.e*Yt,n=e.d[0];n>=10;n/=10)t++;return t}function oy(e,t,n){if(t>e.LN10.sd())throw Xt=!0,n&&(e.precision=n),Error(xr+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function hi(e){for(var t="";e--;)t+="0";return t}function ad(e,t){var n,a,s,o,c,u,f,m,h,g=1,x=10,b=e,j=b.d,N=b.constructor,S=N.precision;if(b.s<1)throw Error(xr+(b.s?"NaN":"-Infinity"));if(b.eq(Fa))return new N(0);if(t==null?(Xt=!1,m=S):m=t,b.eq(10))return t==null&&(Xt=!0),oy(N,m);if(m+=x,N.precision=m,n=Vr(j),a=n.charAt(0),o=Sn(b),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)b=b.times(e),n=Vr(b.d),a=n.charAt(0),g++;o=Sn(b),a>1?(b=new N("0."+n),o++):b=new N(a+"."+n.slice(1))}else return f=oy(N,m+2,S).times(o+""),b=ad(new N(a+"."+n.slice(1)),m-x).plus(f),N.precision=S,t==null?(Xt=!0,Vt(b,S)):b;for(u=c=b=Ss(b.minus(Fa),b.plus(Fa),m),h=Vt(b.times(b),m),s=3;;){if(c=Vt(c.times(h),m),f=u.plus(Ss(c,new N(s),m)),Vr(f.d).slice(0,m)===Vr(u.d).slice(0,m))return u=u.times(2),o!==0&&(u=u.plus(oy(N,m+2,S).times(o+""))),u=Ss(u,new N(g),m),N.precision=S,t==null?(Xt=!0,Vt(u,S)):u;u=f,s+=2}}function WE(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=uc(n/Yt),e.d=[],a=(n+1)%Yt,n<0&&(a+=Yt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Yt;a<s;)e.d.push(+t.slice(a,a+=Yt));t=t.slice(a),a=Yt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Xt&&(e.e>ch||e.e<-ch))throw Error(K1+n)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,n){var a,s,o,c,u,f,m,h,g=e.d;for(c=1,o=g[0];o>=10;o/=10)c++;if(a=t-c,a<0)a+=Yt,s=t,m=g[h=0];else{if(h=Math.ceil((a+1)/Yt),o=g.length,h>=o)return e;for(m=o=g[h],c=1;o>=10;o/=10)c++;a%=Yt,s=a-Yt+c}if(n!==void 0&&(o=ao(10,c-s-1),u=m/o%10|0,f=t<0||g[h+1]!==void 0||m%o,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(a>0?s>0?m/ao(10,c-s):0:g[h-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(o=Sn(e),g.length=1,t=t-o-1,g[0]=ao(10,(Yt-t%Yt)%Yt),e.e=uc(-t/Yt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(a==0?(g.length=h,o=1,h--):(g.length=h+1,o=ao(10,Yt-a),g[h]=s>0?(m/ao(10,c-s)%ao(10,s)|0)*o:0),f)for(;;)if(h==0){(g[0]+=o)==Ln&&(g[0]=1,++e.e);break}else{if(g[h]+=o,g[h]!=Ln)break;g[h--]=0,o=1}for(a=g.length;g[--a]===0;)g.pop();if(Xt&&(e.e>ch||e.e<-ch))throw Error(K1+Sn(e));return e}function xM(e,t){var n,a,s,o,c,u,f,m,h,g,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Xt?Vt(t,b):t;if(f=e.d,g=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(n=f,c=-c,u=g.length):(n=g,a=m,u=f.length),s=Math.max(Math.ceil(b/Yt),u)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=f.length,u=g.length,h=s<u,h&&(u=s),s=0;s<u;s++)if(f[s]!=g[s]){h=f[s]<g[s];break}c=0}for(h&&(n=f,f=g,g=n,t.s=-t.s),u=f.length,s=g.length-u;s>0;--s)f[u++]=0;for(s=g.length;s>c;){if(f[--s]<g[s]){for(o=s;o&&f[--o]===0;)f[o]=Ln-1;--f[o],f[s]+=Ln}f[s]-=g[s]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,Xt?Vt(t,b):t):new x(0)}function Ao(e,t,n){var a,s=Sn(e),o=Vr(e.d),c=o.length;return t?(n&&(a=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+hi(a):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+hi(-s-1)+o,n&&(a=n-c)>0&&(o+=hi(a))):s>=c?(o+=hi(s+1-c),n&&(a=n-s-1)>0&&(o=o+"."+hi(a))):((a=s+1)<c&&(o=o.slice(0,a)+"."+o.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(o+="."),o+=hi(a))),e.s<0?"-"+o:o}function XE(e,t){if(e.length>t)return e.length=t,!0}function yM(e){var t,n,a;function s(o){var c=this;if(!(c instanceof s))return new s(o);if(c.constructor=s,o instanceof s){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(vo+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return WE(c,o.toString())}else if(typeof o!="string")throw Error(vo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,$Q.test(o))WE(c,o);else throw Error(vo+o)}if(s.prototype=Qe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=yM,s.config=s.set=BQ,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function BQ(e){if(!e||typeof e!="object")throw Error(xr+"Object expected");var t,n,a,s=["precision",1,cc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(uc(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(vo+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(vo+n+": "+a);return this}var Y1=yM(zQ);Fa=new Y1(1);const Dt=Y1;var UQ=e=>e,vM={},bM=e=>e===vM,ZE=e=>function t(){return arguments.length===0||arguments.length===1&&bM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},jM=(e,t)=>e===1?t:ZE(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(c=>c!==vM).length;return o>=e?t(...a):jM(e-o,ZE(function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];var m=a.map(h=>bM(h)?u.shift():h);return t(...m,...u)}))}),ap=e=>jM(e.length,e),Iv=(e,t)=>{for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},qQ=ap((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),FQ=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return UQ;var s=n.reverse(),o=s[0],c=s.slice(1);return function(){return c.reduce((u,f)=>f(u),o(...arguments))}},zv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),wM=e=>{var t=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return t&&s.every((c,u)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[u])})||(t=s,n=e(...s)),n}};function NM(e){var t;return e===0?t=1:t=Math.floor(new Dt(e).abs().log(10).toNumber())+1,t}function SM(e,t,n){for(var a=new Dt(e),s=0,o=[];a.lt(t)&&s<1e5;)o.push(a.toNumber()),a=a.add(n),s++;return o}ap((e,t,n)=>{var a=+e,s=+t;return a+n*(s-a)});ap((e,t,n)=>{var a=t-+e;return a=a||1/0,(n-e)/a});ap((e,t,n)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});var CM=e=>{var[t,n]=e,[a,s]=[t,n];return t>n&&([a,s]=[n,t]),[a,s]},AM=(e,t,n)=>{if(e.lte(0))return new Dt(0);var a=NM(e.toNumber()),s=new Dt(10).pow(a),o=e.div(s),c=a!==1?.05:.1,u=new Dt(Math.ceil(o.div(c).toNumber())).add(n).mul(c),f=u.mul(s);return t?new Dt(f.toNumber()):new Dt(Math.ceil(f.toNumber()))},VQ=(e,t,n)=>{var a=new Dt(1),s=new Dt(e);if(!s.isint()&&n){var o=Math.abs(e);o<1?(a=new Dt(10).pow(NM(e)-1),s=new Dt(Math.floor(s.div(a).toNumber())).mul(a)):o>1&&(s=new Dt(Math.floor(e)))}else e===0?s=new Dt(Math.floor((t-1)/2)):n||(s=new Dt(Math.floor(e)));var c=Math.floor((t-1)/2),u=FQ(qQ(f=>s.add(new Dt(f-c).mul(a)).toNumber()),Iv);return u(0,t)},EM=function(t,n,a,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(a-1)))return{step:new Dt(0),tickMin:new Dt(0),tickMax:new Dt(0)};var c=AM(new Dt(n).sub(t).div(a-1),s,o),u;t<=0&&n>=0?u=new Dt(0):(u=new Dt(t).add(n).div(2),u=u.sub(new Dt(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),m=Math.ceil(new Dt(n).sub(u).div(c).toNumber()),h=f+m+1;return h>a?EM(t,n,a,s,o+1):(h<a&&(m=n>0?m+(a-h):m,f=n>0?f:f+(a-h)),{step:c,tickMin:u.sub(new Dt(f).mul(c)),tickMax:u.add(new Dt(m).mul(c))})};function HQ(e){var[t,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[c,u]=CM([t,n]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...Iv(0,a-1).map(()=>1/0)]:[...Iv(0,a-1).map(()=>-1/0),u];return t>n?zv(f):f}if(c===u)return VQ(c,a,s);var{step:m,tickMin:h,tickMax:g}=EM(c,u,o,s,0),x=SM(h,g.add(new Dt(.1).mul(m)),m);return t>n?zv(x):x}function GQ(e,t){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=CM([n,a]);if(o===-1/0||c===1/0)return[n,a];if(o===c)return[o];var u=Math.max(t,2),f=AM(new Dt(c).sub(o).div(u-1),s,0),m=[...SM(new Dt(o),new Dt(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),n>a?zv(m):m}var KQ=wM(HQ),YQ=wM(GQ),OM=e=>e.rootProps.maxBarSize,WQ=e=>e.rootProps.barGap,kM=e=>e.rootProps.barCategoryGap,XQ=e=>e.rootProps.barSize,Sd=e=>e.rootProps.stackOffset,W1=e=>e.options.chartName,X1=e=>e.rootProps.syncId,TM=e=>e.rootProps.syncMethod,Z1=e=>e.options.eventEmitter,ys={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ua={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},rp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ZQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ys.angleAxisId,includeHidden:!1,name:void 0,reversed:ys.reversed,scale:ys.scale,tick:ys.tick,tickCount:void 0,ticks:void 0,type:ys.type,unit:void 0},QQ={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:Ua.type,unit:void 0},JQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ys.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ys.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ys.scale,tick:ys.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},eJ={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:"category",unit:void 0},Q1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?JQ:ZQ,J1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?eJ:QQ,sp=e=>e.polarOptions,e2=Ce([Ds,Rs,Tn],c6),MM=Ce([sp,e2],(e,t)=>{if(e!=null)return ha(e.innerRadius,t,0)}),PM=Ce([sp,e2],(e,t)=>{if(e!=null)return ha(e.outerRadius,t,t*.8)}),tJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},_M=Ce([sp],tJ);Ce([Q1,_M],rp);var DM=Ce([e2,MM,PM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ce([J1,DM],rp);var nJ=Ce([Lt,sp,MM,PM,Ds,Rs],(e,t,n,a,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||a==null)){var{cx:c,cy:u,startAngle:f,endAngle:m}=t;return{cx:ha(c,s,s/2),cy:ha(u,o,o/2),innerRadius:n,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),xn=(e,t)=>t,Cd=(e,t,n)=>n;function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(a){aJ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function aJ(e,t,n){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $v=[0,"auto"],za={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Is=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??za},$a={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$v,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yh},Ti=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??$a},iJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},t2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??iJ},yn=(e,t,n)=>{switch(t){case"xAxis":return Is(e,n);case"yAxis":return Ti(e,n);case"zAxis":return t2(e,n);case"angleAxis":return Q1(e,n);case"radiusAxis":return J1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},oJ=(e,t,n)=>{switch(t){case"xAxis":return Is(e,n);case"yAxis":return Ti(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ad=(e,t,n)=>{switch(t){case"xAxis":return Is(e,n);case"yAxis":return Ti(e,n);case"angleAxis":return Q1(e,n);case"radiusAxis":return J1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},RM=e=>e.graphicalItems.countOfBars>0;function n2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var a2=e=>e.graphicalItems.cartesianItems,lJ=Ce([xn,Cd],n2),r2=(e,t,n)=>e.filter(n).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),Ed=Ce([a2,yn,lJ],r2),LM=e=>e.filter(t=>t.stackId===void 0),cJ=Ce([Ed],LM),s2=e=>e.map(t=>t.data).filter(Boolean).flat(1),uJ=Ce([Ed],s2),i2=(e,t)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:n.slice(a,s+1)},ip=Ce([uJ,mM],i2),o2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:fn(a,t.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:fn(s,a)}))):e.map(a=>({value:a})),op=Ce([ip,yn,Ed],o2);function IM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ro(e){return e.filter(t=>Zr(t)||t instanceof Date).map(Number).filter(t=>Ga(t)===!1)}function dJ(e,t,n){return!n||typeof t!="number"||Ga(t)?[]:n.length?Ro(n.flatMap(a=>{var s=fn(e,a.dataKey),o,c;if(Array.isArray(s)?[o,c]=s:o=c=s,!(!Wa(o)||!Wa(c)))return[t-o,t+c]})):[]}var zM=(e,t,n)=>{var a={},s=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),a);return Object.fromEntries(Object.entries(s).map(o=>{var[c,u]=o,f=u.map(m=>m.dataKey);return[c,{stackedData:CY(e,f,n),graphicalItems:u}]}))},Bv=Ce([ip,Ed,Sd],zM),$M=(e,t,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n!=="zAxis"){var o=kY(e,a,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},fJ=Ce([Bv,Do,xn],$M),BM=(e,t,n,a)=>n.length>0?e.flatMap(s=>n.flatMap(o=>{var c,u,f=(c=o.errorBars)===null||c===void 0?void 0:c.filter(h=>IM(a,h)),m=fn(s,(u=t.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:m,errorDomain:dJ(s,m,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:fn(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),mJ=Ce(ip,yn,cJ,xn,BM);function hJ(e){var{value:t}=e;if(Zr(t)||t instanceof Date)return t}var pJ=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),n=Ro(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gJ=(e,t,n)=>{var a=e.map(hJ).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&lT(a))?P6(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},l2=e=>{var t;if(e==null||!("domain"in e))return $v;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ro(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:$v},c2=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(Boolean);if(s.length!==0){var o=s.flat(),c=Math.min(...o),u=Math.max(...o);return[c,u]}},UM=e=>e.referenceElements.dots,dc=(e,t,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===n:a.yAxisId===n),xJ=Ce([UM,xn,Cd],dc),qM=e=>e.referenceElements.areas,yJ=Ce([qM,xn,Cd],dc),FM=e=>e.referenceElements.lines,vJ=Ce([FM,xn,Cd],dc),VM=(e,t)=>{var n=Ro(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bJ=Ce(xJ,xn,VM),HM=(e,t)=>{var n=Ro(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},jJ=Ce([yJ,xn],HM),GM=(e,t)=>{var n=Ro(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wJ=Ce(vJ,xn,GM),NJ=Ce(bJ,wJ,jJ,(e,t,n)=>c2(e,n,t)),KM=Ce([yn],l2),u2=(e,t,n,a,s)=>{var o=LQ(t,e.allowDataOverflow);return o??IQ(t,c2(n,s,pJ(a)),e.allowDataOverflow)},SJ=Ce([yn,KM,fJ,mJ,NJ],u2),CJ=[0,1],d2=(e,t,n,a,s,o,c)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:u,type:f}=e,m=Mo(t,o);return m&&u==null?P6(0,n.length):f==="category"?gJ(a,e,m):s==="expand"?CJ:c}},f2=Ce([yn,Lt,ip,op,Sd,xn,SJ],d2),YM=(e,t,n,a,s)=>{if(e!=null){var{scale:o,type:c}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(xd(o));return u in Mu?u:"point"}}},fc=Ce([yn,Lt,RM,W1,xn],YM);function AJ(e){if(e!=null){if(e in Mu)return Mu[e]();var t="scale".concat(xd(e));if(t in Mu)return Mu[t]()}}function m2(e,t,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var s=AJ(t);if(s!=null){var o=s.domain(n).range(a);return bY(o),o}}}var h2=(e,t,n)=>{var a=l2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Kl(e))return KQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Kl(e))return YQ(e,t.tickCount,t.allowDecimals)}},p2=Ce([f2,Ad,fc],h2),g2=(e,t,n,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Kl(t)&&Array.isArray(n)&&n.length>0){var s=t[0],o=n[0],c=t[1],u=n[n.length-1];return[Math.min(s,o),Math.max(c,u)]}return t},EJ=Ce([yn,f2,p2,xn],g2),OJ=Ce(op,yn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,a=Array.from(Ro(e.map(u=>u.value))).sort((u,f)=>u-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var o=0;o<a.length-1;o++){var c=a[o+1]-a[o];n=Math.min(n,c)}return n/s}}),WM=Ce(OJ,Lt,kM,Tn,(e,t,n,a)=>a,(e,t,n,a,s)=>{if(!Wa(e))return 0;var o=t==="vertical"?a.height:a.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var c=ha(n,e*o),u=e*o/2;return u-c-(u-c)/o*c}return 0}),kJ=(e,t)=>{var n=Is(e,t);return n==null||typeof n.padding!="string"?0:WM(e,"xAxis",t,n.padding)},TJ=(e,t)=>{var n=Ti(e,t);return n==null||typeof n.padding!="string"?0:WM(e,"yAxis",t,n.padding)},MJ=Ce(Is,kJ,(e,t)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),PJ=Ce(Ti,TJ,(e,t)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),_J=Ce([Tn,MJ,Xh,Wh,(e,t,n)=>n],(e,t,n,a,s)=>{var{padding:o}=a;return s?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),DJ=Ce([Tn,Lt,PJ,Xh,Wh,(e,t,n)=>n],(e,t,n,a,s,o)=>{var{padding:c}=s;return o?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Od=(e,t,n,a)=>{var s;switch(t){case"xAxis":return _J(e,n,a);case"yAxis":return DJ(e,n,a);case"zAxis":return(s=t2(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return _M(e);case"radiusAxis":return DM(e,n);default:return}},XM=Ce([yn,Od],rp),mc=Ce([yn,fc,EJ,XM],m2);Ce(Ed,xn,(e,t)=>e.flatMap(n=>{var a;return(a=n.errorBars)!==null&&a!==void 0?a:[]}).filter(n=>IM(t,n)));function ZM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lp=(e,t)=>t,cp=(e,t,n)=>n,RJ=Ce(y1,lp,cp,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(ZM)),LJ=Ce(v1,lp,cp,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(ZM)),QM=(e,t)=>({width:e.width,height:t.height}),IJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Yh;return{width:n,height:e.height}},JM=Ce(Tn,Is,QM),zJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},$J=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},BJ=Ce(Rs,Tn,RJ,lp,cp,(e,t,n,a,s)=>{var o={},c;return n.forEach(u=>{var f=QM(t,u);c==null&&(c=zJ(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;o[u.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),o}),UJ=Ce(Ds,Tn,LJ,lp,cp,(e,t,n,a,s)=>{var o={},c;return n.forEach(u=>{var f=IJ(t,u);c==null&&(c=$J(t,a,e));var m=a==="left"&&!s||a==="right"&&s;o[u.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),o}),qJ=(e,t)=>{var n=Tn(e),a=Is(e,t);if(a!=null){var s=BJ(e,a.orientation,a.mirror),o=s[t];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},FJ=(e,t)=>{var n=Tn(e),a=Ti(e,t);if(a!=null){var s=UJ(e,a.orientation,a.mirror),o=s[t];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},eP=Ce(Tn,Ti,(e,t)=>{var n=typeof t.width=="number"?t.width:Yh;return{width:n,height:e.height}}),JE=(e,t,n)=>{switch(t){case"xAxis":return JM(e,n).width;case"yAxis":return eP(e,n).height;default:return}},tP=(e,t,n,a)=>{if(n!=null){var{allowDuplicatedCategory:s,type:o,dataKey:c}=n,u=Mo(e,a),f=t.map(m=>m.value);if(c&&u&&o==="category"&&s&&lT(f))return f}},x2=Ce([Lt,op,yn,xn],tP),nP=(e,t,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:o}=n,c=Mo(e,a);if(c&&(s==="number"||o!=="auto"))return t.map(u=>u.value)}},y2=Ce([Lt,op,Ad,xn],nP),e5=Ce([Lt,oJ,fc,mc,x2,y2,Od,p2,xn],(e,t,n,a,s,o,c,u,f)=>{if(t==null)return null;var m=Mo(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:u,range:c,realScaleType:n,scale:a}}),VJ=(e,t,n,a,s,o,c,u,f)=>{if(!(t==null||a==null)){var m=Mo(e,f),{type:h,ticks:g,tickCount:x}=t,b=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,j=h==="category"&&a.bandwidth?a.bandwidth()/b:0;j=f==="angleAxis"&&o!=null&&o.length>=2?In(o[0]-o[1])*2*j:j;var N=g||s;if(N){var S=N.map((A,C)=>{var E=c?c.indexOf(A):A;return{index:C,coordinate:a(E)+j,value:A,offset:j}});return S.filter(A=>!Ga(A.coordinate))}return m&&u?u.map((A,C)=>({coordinate:a(A)+j,value:A,index:C,offset:j})):a.ticks?a.ticks(x).map(A=>({coordinate:a(A)+j,value:A,offset:j})):a.domain().map((A,C)=>({coordinate:a(A)+j,value:c?c[A]:A,index:C,offset:j}))}},aP=Ce([Lt,Ad,fc,mc,p2,Od,x2,y2,xn],VJ),HJ=(e,t,n,a,s,o,c)=>{if(!(t==null||n==null||a==null||a[0]===a[1])){var u=Mo(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(a==null?void 0:a.length)>=2?In(a[0]-a[1])*2*m:m,u&&o?o.map((h,g)=>({coordinate:n(h)+m,value:h,index:g,offset:m})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+m,value:h,offset:m})):n.domain().map((h,g)=>({coordinate:n(h)+m,value:s?s[h]:h,index:g,offset:m}))}},Yl=Ce([Lt,Ad,mc,Od,x2,y2,xn],HJ),wi=Ce(yn,mc,(e,t)=>{if(!(e==null||t==null))return uh(uh({},e),{},{scale:t})}),GJ=Ce([yn,fc,f2,XM],m2);Ce((e,t,n)=>t2(e,n),GJ,(e,t)=>{if(!(e==null||t==null))return uh(uh({},e),{},{scale:t})});var KJ=Ce([Lt,y1,v1],(e,t,n)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rP=e=>e.options.defaultTooltipEventType,sP=e=>e.options.validateTooltipEventTypes;function iP(e,t,n){if(e==null)return t;var a=e?"axis":"item";return n==null?t:n.includes(a)?a:t}function v2(e,t){var n=rP(e),a=sP(e);return iP(t,n,a)}function YJ(e){return rt(t=>v2(t,e))}var oP=(e,t)=>{var n,a=Number(t);if(!(Ga(a)||t==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},WJ=e=>e.tooltip.settings,pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},XJ={itemInteraction:{click:pi,hover:pi},axisInteraction:{click:pi,hover:pi},keyboardInteraction:pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},lP=vr({name:"tooltip",initialState:XJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ns(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:ZJ,removeTooltipEntrySettings:QJ,setTooltipSettingsState:JJ,setActiveMouseOverItemIndex:cP,mouseLeaveItem:eee,mouseLeaveChart:uP,setActiveClickItemIndex:tee,setMouseOverAxisIndex:dP,setMouseClickAxisIndex:nee,setSyncInteraction:Uv,setKeyboardInteraction:qv}=lP.actions,aee=lP.reducer;function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(a){ree(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ree(e,t,n){return(t=see(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function see(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oee(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function lee(e){return e.index!=null}var fP=(e,t,n,a)=>{if(t==null)return pi;var s=oee(e,t,n);if(s==null)return pi;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(lee(s)){if(o)return om(om({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return om(om({},pi),{},{coordinate:s.coordinate})},b2=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var a=Number(n);if(!Wa(a))return n;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(a,o)))},mP=(e,t,n,a,s,o,c,u)=>{if(!(o==null||u==null)){var f=c[0],m=f==null?void 0:u(f.positions,o);if(m!=null)return m;var h=s==null?void 0:s[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},hP=(e,t,n,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.dataKey)===s})},kd=e=>e.options.tooltipPayloadSearcher,hc=e=>e.tooltip;function n5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function a5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(n),!0).forEach(function(a){cee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cee(e,t,n){return(t=uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fee(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function mee(e,t){return e??t}var pP=(e,t,n,a,s,o,c)=>{if(!(t==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,g=[];return e.reduce((x,b)=>{var j,{dataDefinedOnItem:N,settings:S}=b,A=mee(N,u),C=fee(A,m,h),E=(j=S==null?void 0:S.dataKey)!==null&&j!==void 0?j:a==null?void 0:a.dataKey,k=S==null?void 0:S.nameKey,O;if(a!=null&&a.dataKey&&Array.isArray(C)&&!Array.isArray(C[0])&&c==="axis"?O=hH(C,a.dataKey,s):O=o(C,t,f,k),Array.isArray(O))O.forEach(P=>{var _=a5(a5({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push($4({tooltipEntrySettings:_,dataKey:P.dataKey,payload:P.payload,value:fn(P.payload,P.dataKey),name:P.name}))});else{var T;x.push($4({tooltipEntrySettings:S,dataKey:E,payload:O,value:fn(O,E),name:(T=fn(O,k))!==null&&T!==void 0?T:S==null?void 0:S.name}))}return x},g)}},Bn=e=>{var t=Lt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},pc=e=>e.tooltip.settings.axisId,Xn=e=>{var t=Bn(e),n=pc(e);return Ad(e,t,n)},j2=Ce([Xn,Lt,RM,W1,Bn],YM),hee=Ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pee=Ce([Bn,pc],n2),up=Ce([hee,Xn,pee],r2),gee=Ce([up],s2),Lo=Ce([gee,Do],i2),w2=Ce([Lo,Xn,up],o2),xee=Ce([Xn],l2),yee=Ce([Lo,up,Sd],zM),vee=Ce([yee,Do,Bn],$M),bee=Ce([up],LM),jee=Ce([Lo,Xn,bee,Bn],BM),wee=Ce([UM,Bn,pc],dc),Nee=Ce([wee,Bn],VM),See=Ce([qM,Bn,pc],dc),Cee=Ce([See,Bn],HM),Aee=Ce([FM,Bn,pc],dc),Eee=Ce([Aee,Bn],GM),Oee=Ce([Nee,Eee,Cee],c2),kee=Ce([Xn,xee,vee,jee,Oee],u2),gP=Ce([Xn,Lt,Lo,w2,Sd,Bn,kee],d2),Tee=Ce([gP,Xn,j2],h2),Mee=Ce([Xn,gP,Tee,Bn],g2),xP=e=>{var t=Bn(e),n=pc(e),a=!1;return Od(e,t,n,a)},yP=Ce([Xn,xP],rp),vP=Ce([Xn,j2,Mee,yP],m2),Pee=Ce([Lt,w2,Xn,Bn],tP),_ee=Ce([Lt,w2,Xn,Bn],nP),Dee=(e,t,n,a,s,o,c,u)=>{if(t){var{type:f}=t,m=Mo(e,u);if(a){var h=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return g=u==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?In(s[0]-s[1])*2*g:g,m&&c?c.map((x,b)=>({coordinate:a(x)+g,value:x,index:b,offset:g})):a.domain().map((x,b)=>({coordinate:a(x)+g,value:o?o[x]:x,index:b,offset:g}))}}},zs=Ce([Lt,Xn,j2,vP,xP,Pee,_ee,Bn],Dee),N2=Ce([rP,sP,WJ],(e,t,n)=>iP(n.shared,e,t)),bP=e=>e.tooltip.settings.trigger,S2=e=>e.tooltip.settings.defaultIndex,dp=Ce([hc,N2,bP,S2],fP),Eo=Ce([dp,Lo],b2),jP=Ce([zs,Eo],oP),wP=Ce([dp],e=>{if(e)return e.dataKey}),NP=Ce([hc,N2,bP,S2],hP),Ree=Ce([Ds,Rs,Lt,Tn,zs,S2,NP,kd],mP),Lee=Ce([dp,Ree],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Iee=Ce([dp],e=>e.active),zee=Ce([NP,Eo,Do,Xn,jP,kd,N2],pP);Ce([zee],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function r5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function s5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(n),!0).forEach(function(a){$ee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $ee(e,t,n){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qee=()=>rt(Xn),Fee=()=>{var e=qee(),t=rt(zs),n=rt(vP);return x1(s5(s5({},e),{},{scale:n}),t)},Vee=()=>rt(W1),C2=(e,t)=>t,SP=(e,t,n)=>n,A2=(e,t,n,a)=>a,Hee=Ce(zs,e=>Bh(e,t=>t.coordinate)),E2=Ce([hc,C2,SP,A2],fP),CP=Ce([E2,Lo],b2),Gee=(e,t,n)=>{if(t!=null){var a=hc(e);return t==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},AP=Ce([hc,C2,SP,A2],hP),dh=Ce([Ds,Rs,Lt,Tn,zs,A2,AP,kd],mP),Kee=Ce([E2,dh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),EP=Ce(zs,CP,oP),Yee=Ce([AP,CP,Do,Xn,EP,kd,C2],pP),Wee=Ce([E2],e=>({isActive:e.active,activeIndex:e.index})),Xee=(e,t,n,a,s,o,c,u)=>{if(!(!e||!t||!a||!s||!o)){var f=TY(e.chartX,e.chartY,t,n,u);if(f){var m=PY(f,t),h=yY(m,c,o,a,s),g=MY(t,o,h,f);return{activeIndex:String(h),activeCoordinate:g}}}};function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fv.apply(null,arguments)}function i5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(n),!0).forEach(function(a){Zee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Zee(e,t,n){return(t=Qee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ete(e){var{coordinate:t,payload:n,index:a,offset:s,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:m}=e,h=t,g=n,x=a;if(!u||!h||m!=="ScatterChart"&&f!=="axis")return null;var b,j;if(m==="ScatterChart")b=h,j=pW;else if(m==="BarChart")b=gW(c,h,s,o),j=O6;else if(c==="radial"){var{cx:N,cy:S,radius:A,startAngle:C,endAngle:E}=k6(h);b={cx:N,cy:S,startAngle:C,endAngle:E,innerRadius:A,outerRadius:A},j=M6}else b={points:nX(c,h,s)},j=S6;var k=typeof u=="object"&&"className"in u?u.className:void 0,O=lm(lm(lm(lm({stroke:"#ccc",pointerEvents:"none"},s),b),Rt(u,!1)),{},{payload:g,payloadIndex:x,className:Ut("recharts-tooltip-cursor",k)});return y.isValidElement(u)?y.cloneElement(u,O):y.createElement(j,O)}function tte(e){var t=Fee(),n=x6(),a=j1(),s=Vee();return y.createElement(ete,Fv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:t,chartName:s}))}var OP=y.createContext(null),nte=()=>y.useContext(OP),ly={exports:{}},o5;function ate(){return o5||(o5=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function o(f,m,h,g,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,g||f,x),j=n?n+m:m;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],b]:f._events[j].push(b):(f._events[j]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},u.prototype.listeners=function(m){var h=n?n+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,b=g.length,j=new Array(b);x<b;x++)j[x]=g[x].fn;return j},u.prototype.listenerCount=function(m){var h=n?n+m:m,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(m,h,g,x,b,j){var N=n?n+m:m;if(!this._events[N])return!1;var S=this._events[N],A=arguments.length,C,E;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),A){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,x),!0;case 5:return S.fn.call(S.context,h,g,x,b),!0;case 6:return S.fn.call(S.context,h,g,x,b,j),!0}for(E=1,C=new Array(A-1);E<A;E++)C[E-1]=arguments[E];S.fn.apply(S.context,C)}else{var k=S.length,O;for(E=0;E<k;E++)switch(S[E].once&&this.removeListener(m,S[E].fn,void 0,!0),A){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,h);break;case 3:S[E].fn.call(S[E].context,h,g);break;case 4:S[E].fn.call(S[E].context,h,g,x);break;default:if(!C)for(O=1,C=new Array(A-1);O<A;O++)C[O-1]=arguments[O];S[E].fn.apply(S[E].context,C)}}return!0},u.prototype.on=function(m,h,g){return o(this,m,h,g,!1)},u.prototype.once=function(m,h,g){return o(this,m,h,g,!0)},u.prototype.removeListener=function(m,h,g,x){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var j=this._events[b];if(j.fn)j.fn===h&&(!x||j.once)&&(!g||j.context===g)&&c(this,b);else{for(var N=0,S=[],A=j.length;N<A;N++)(j[N].fn!==h||x&&!j[N].once||g&&j[N].context!==g)&&S.push(j[N]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},u.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u}(ly)),ly.exports}var rte=ate();const ste=Jr(rte);var rd=new ste,Vv="recharts.syncEvent.tooltip",l5="recharts.syncEvent.brush";function kP(e,t){if(t){var n=Number.parseInt(t,10);if(!Ga(n))return e==null?void 0:e[n]}}var ite={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},TP=vr({name:"options",initialState:ite,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ote=TP.reducer,{createEventEmitter:lte}=TP.actions;function cte(e){return e.tooltip.syncInteraction}var ute={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MP=vr({name:"chartData",initialState:ute,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:a}=t.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:c5,setDataStartEndIndexes:dte,setComputedData:fce}=MP.actions,fte=MP.reducer,PP=()=>{};function mte(){var e=rt(X1),t=rt(Z1),n=mn(),a=rt(TM),s=rt(zs),o=j1(),c=b1(),u=rt(f=>f.rootProps.className);y.useEffect(()=>{if(e==null)return PP;var f=(m,h,g)=>{if(t!==g&&e===m){if(a==="index"){n(h);return}if(s!=null){var x;if(typeof a=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},j=a(s,b);x=s[j]}else a==="value"&&(x=s.find(T=>String(T.value)===h.payload.label));var{coordinate:N}=h.payload;if(x==null||h.payload.active===!1||N==null||c==null){n(Uv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:A}=N,C=Math.min(S,c.x+c.width),E=Math.min(A,c.y+c.height),k={x:o==="horizontal"?x.coordinate:C,y:o==="horizontal"?E:x.coordinate},O=Uv({active:h.payload.active,coordinate:k,dataKey:h.payload.dataKey,index:String(x.index),label:h.payload.label});n(O)}}};return rd.on(Vv,f),()=>{rd.off(Vv,f)}},[u,n,t,e,a,s,o,c])}function hte(){var e=rt(X1),t=rt(Z1),n=mn();y.useEffect(()=>{if(e==null)return PP;var a=(s,o,c)=>{t!==c&&e===s&&n(dte(o))};return rd.on(l5,a),()=>{rd.off(l5,a)}},[n,t,e])}function pte(){var e=mn();y.useEffect(()=>{e(lte())},[e]),mte(),hte()}function gte(e,t,n,a,s,o){var c=rt(x=>Gee(x,e,t)),u=rt(Z1),f=rt(X1),m=rt(TM),h=rt(cte),g=h==null?void 0:h.active;y.useEffect(()=>{if(!g&&f!=null&&u!=null){var x=Uv({active:o,coordinate:n,dataKey:c,index:s,label:typeof a=="number"?String(a):a});rd.emit(Vv,f,x,u)}},[g,n,c,s,a,u,f,m,o])}function u5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function d5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(n),!0).forEach(function(a){xte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xte(e,t,n){return(t=yte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yte(e){var t=vte(e,"string");return typeof t=="symbol"?t:t+""}function vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bte(e){return e.dataKey}function jte(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(KY,t)}var f5=[],wte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!oc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function m5(e){var t=Rr(e,wte),{active:n,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:f,offset:m,payloadUniqBy:h,position:g,reverseDirection:x,useTranslate3d:b,wrapperStyle:j,cursor:N,shared:S,trigger:A,defaultIndex:C,portal:E,axisId:k}=t,O=mn(),T=typeof C=="number"?String(C):C;y.useEffect(()=>{O(JJ({shared:S,trigger:A,axisId:k,active:n,defaultIndex:T}))},[O,S,A,k,n,T]);var P=b1(),_=N6(),z=YJ(S),{activeIndex:V,isActive:B}=rt(ve=>Wee(ve,z,A,T)),W=rt(ve=>Yee(ve,z,A,T)),oe=rt(ve=>EP(ve,z,A,T)),K=rt(ve=>Kee(ve,z,A,T)),I=W,R=nte(),X=n??B,[Z,H]=lK([I,X]),D=z==="axis"?oe:void 0;gte(z,A,K,D,V,X);var $=E??R;if($==null)return null;var G=I??f5;X||(G=f5),u&&G.length&&(G=DG(I.filter(ve=>ve.value!=null&&(ve.hide!==!0||t.includeHidden)),h,bte));var te=G.length>0,Q=y.createElement(eW,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:f,active:X,coordinate:K,hasPayload:te,offset:m,position:g,reverseDirection:x,useTranslate3d:b,viewBox:P,wrapperStyle:j,lastBoundingBox:Z,innerRef:H,hasPortalFromProps:!!E},jte(c,d5(d5({},t),{},{payload:G,label:D,active:X,coordinate:K,accessibilityLayer:_})));return y.createElement(y.Fragment,null,Ty.createPortal(Q,$),X&&y.createElement(tte,{cursor:N,tooltipEventType:z,coordinate:K,payload:I,index:V}))}var cy={},uy={},h5;function Nte(){return h5||(h5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=0,s={}){typeof s!="object"&&(s={});let o=null,c=null,u=null,f=0,m=null,h;const{leading:g=!1,trailing:x=!0,maxWait:b}=s,j="maxWait"in s,N=j?Math.max(Number(b)||0,a):0,S=P=>(o!==null&&(h=n.apply(c,o)),o=c=null,f=P,h),A=P=>(f=P,m=setTimeout(O,a),g&&o!==null?S(P):h),C=P=>(m=null,x&&o!==null?S(P):h),E=P=>{if(u===null)return!0;const _=P-u,z=_>=a||_<0,V=j&&P-f>=N;return z||V},k=P=>{const _=u===null?0:P-u,z=a-_,V=N-(P-f);return j?Math.min(z,V):z},O=()=>{const P=Date.now();if(E(P))return C(P);m=setTimeout(O,k(P))},T=function(...P){const _=Date.now(),z=E(_);if(o=P,c=this,u=_,z){if(m===null)return A(_);if(j)return clearTimeout(m),m=setTimeout(O,a),S(_)}return m===null&&(m=setTimeout(O,a)),h};return T.cancel=()=>{m!==null&&clearTimeout(m),f=0,u=o=c=m=null},T.flush=()=>m===null?h:C(Date.now()),T}e.debounce=t}(uy)),uy}var p5;function Ste(){return p5||(p5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nte();function n(a,s=0,o={}){const{leading:c=!0,trailing:u=!0}=o;return t.debounce(a,s,{leading:c,maxWait:s,trailing:u})}e.throttle=n}(cy)),cy}var dy,g5;function Cte(){return g5||(g5=1,dy=Ste().throttle),dy}var Ate=Cte();const Ete=Jr(Ate);var Iu=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o]};function x5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(n),!0).forEach(function(a){Ote(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ote(e,t,n){return(t=kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kte(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y5=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s="100%",height:o="100%",minWidth:c=0,minHeight:u,maxHeight:f,children:m,debounce:h=0,id:g,className:x,onResize:b,style:j={}}=e,N=y.useRef(null),S=y.useRef();S.current=b,y.useImperativeHandle(t,()=>N.current);var[A,C]=y.useState({containerWidth:a.width,containerHeight:a.height}),E=y.useCallback((O,T)=>{C(P=>{var _=Math.round(O),z=Math.round(T);return P.containerWidth===_&&P.containerHeight===z?P:{containerWidth:_,containerHeight:z}})},[]);y.useEffect(()=>{var O=z=>{var V,{width:B,height:W}=z[0].contentRect;E(B,W),(V=S.current)===null||V===void 0||V.call(S,B,W)};h>0&&(O=Ete(O,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(O),{width:P,height:_}=N.current.getBoundingClientRect();return E(P,_),T.observe(N.current),()=>{T.disconnect()}},[E,h]);var k=y.useMemo(()=>{var{containerWidth:O,containerHeight:T}=A;if(O<0||T<0)return null;Iu(oo(s)||oo(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,o),Iu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=oo(s)?O:s,_=oo(o)?T:o;return n&&n>0&&(P?_=P/n:_&&(P=_*n),f&&_>f&&(_=f)),Iu(P>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,_,s,o,c,u,n),y.Children.map(m,z=>y.cloneElement(z,{width:P,height:_,style:fy({width:P,height:_},z.props.style)}))},[n,m,o,f,u,c,A,s]);return y.createElement("div",{id:g?"".concat(g):void 0,className:Ut("recharts-responsive-container",x),style:fy(fy({},j),{},{width:s,height:o,minWidth:c,minHeight:u,maxHeight:f}),ref:N},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),Td=e=>null;Td.displayName="Cell";function v5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(n),!0).forEach(function(a){Mte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Mte(e,t,n){return(t=Pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wl={widthCache:{},cacheCount:0},Dte=2e3,Rte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},b5="recharts_measurement_span";function Lte(e){var t=Hv({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var zu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||oc.isSsr)return{width:0,height:0};var a=Lte(n),s=JSON.stringify({text:t,copyStyle:a});if(wl.widthCache[s])return wl.widthCache[s];try{var o=document.getElementById(b5);o||(o=document.createElement("span"),o.setAttribute("id",b5),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=Hv(Hv({},Rte),a);Object.assign(o.style,c),o.textContent="".concat(t);var u=o.getBoundingClientRect(),f={width:u.width,height:u.height};return wl.widthCache[s]=f,++wl.cacheCount>Dte&&(wl.cacheCount=0,wl.widthCache={}),f}catch{return{width:0,height:0}}},j5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ite=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_P={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$te=Object.keys(_P),Tl="NaN";function Bte(e,t){return e*_P[t]}class ja{static parse(t){var n,[,a,s]=(n=zte.exec(t))!==null&&n!==void 0?n:[];return new ja(parseFloat(a),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ga(t)&&(this.unit=""),n!==""&&!Ite.test(n)&&(this.num=NaN,this.unit=""),$te.includes(n)&&(this.num=Bte(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ja(NaN,""):new ja(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ja(NaN,""):new ja(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ja(NaN,""):new ja(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ja(NaN,""):new ja(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ga(this.num)}}function DP(e){if(e.includes(Tl))return Tl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,a,s,o]=(n=j5.exec(t))!==null&&n!==void 0?n:[],c=ja.parse(a??""),u=ja.parse(o??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Tl;t=t.replace(j5,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,x]=(m=w5.exec(t))!==null&&m!==void 0?m:[],b=ja.parse(h??""),j=ja.parse(x??""),N=g==="+"?b.add(j):b.subtract(j);if(N.isNaN())return Tl;t=t.replace(w5,N.toString())}return t}var N5=/\(([^()]*)\)/;function Ute(e){for(var t=e,n;(n=N5.exec(t))!=null;){var[,a]=n;t=t.replace(N5,DP(a))}return t}function qte(e){var t=e.replace(/\s+/g,"");return t=Ute(t),t=DP(t),t}function Fte(e){try{return qte(e)}catch{return Tl}}function my(e){var t=Fte(e.slice(5,-1));return t===Tl?"":t}var Vte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hte=["dx","dy","angle","className","breakAll"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gv.apply(null,arguments)}function S5(e,t){if(e==null)return{};var n,a,s=Gte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Gte(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var RP=/[ \f\n\r\t\v\u2028\u2029]+/,LP=e=>{var{children:t,breakAll:n,style:a}=e;try{var s=[];Nn(t)||(n?s=t.toString().split(""):s=t.toString().split(RP));var o=s.map(u=>({word:u,width:zu(u,a).width})),c=n?0:zu(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Kte=(e,t,n,a,s)=>{var{maxLines:o,children:c,style:u,breakAll:f}=e,m=Je(o),h=c,g=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((W,oe)=>{var{word:K,width:I}=oe,R=W[W.length-1];if(R&&(a==null||s||R.width+I+n<Number(a)))R.words.push(K),R.width+=I+n;else{var X={words:[K],width:I};W.push(X)}return W},[])},x=g(t),b=V=>V.reduce((B,W)=>B.width>W.width?B:W);if(!m||s)return x;var j=x.length>o||b(x).width>Number(a);if(!j)return x;for(var N="…",S=V=>{var B=h.slice(0,V),W=LP({breakAll:f,style:u,children:B+N}).wordsWithComputedWidth,oe=g(W),K=oe.length>o||b(oe).width>Number(a);return[K,oe]},A=0,C=h.length-1,E=0,k;A<=C&&E<=h.length-1;){var O=Math.floor((A+C)/2),T=O-1,[P,_]=S(T),[z]=S(O);if(!P&&!z&&(A=O+1),P&&z&&(C=O-1),!P&&z){k=_;break}E++}return k||x},C5=e=>{var t=Nn(e)?[]:e.toString().split(RP);return[{words:t}]},Yte=e=>{var{width:t,scaleToFit:n,children:a,style:s,breakAll:o,maxLines:c}=e;if((t||n)&&!oc.isSsr){var u,f,m=LP({breakAll:o,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;u=h,f=g}else return C5(a);return Kte({breakAll:o,children:a,maxLines:c,style:s},u,f,t,n)}return C5(a)},A5="#808080",fp=y.forwardRef((e,t)=>{var{x:n=0,y:a=0,lineHeight:s="1em",capHeight:o="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:f="end",fill:m=A5}=e,h=S5(e,Vte),g=y.useMemo(()=>Yte({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:x,dy:b,angle:j,className:N,breakAll:S}=h,A=S5(h,Hte);if(!Zr(n)||!Zr(a))return null;var C=n+(Je(x)?x:0),E=a+(Je(b)?b:0),k;switch(f){case"start":k=my("calc(".concat(o,")"));break;case"middle":k=my("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:k=my("calc(".concat(g.length-1," * -").concat(s,")"));break}var O=[];if(c){var T=g[0].width,{width:P}=h;O.push("scale(".concat(Je(P)?P/T:1,")"))}return j&&O.push("rotate(".concat(j,", ").concat(C,", ").concat(E,")")),O.length&&(A.transform=O.join(" ")),y.createElement("text",Gv({},Rt(A,!0),{ref:t,x:C,y:E,className:Ut("recharts-text",N),textAnchor:u,fill:m.includes("url")?A5:m}),g.map((_,z)=>{var V=_.words.join(S?"":" ");return y.createElement("tspan",{x:C,dy:z===0?k:s,key:"".concat(V,"-").concat(z)},V)}))});fp.displayName="Text";var Wte=["offset"],Xte=["labelRef"];function E5(e,t){if(e==null)return{};var n,a,s=Zte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Zte(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function O5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(n),!0).forEach(function(a){Qte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Qte(e,t,n){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jte(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vs.apply(null,arguments)}var tne=e=>{var{value:t,formatter:n}=e,a=Nn(e.children)?t:e.children;return typeof n=="function"?n(a):a},O2=e=>e!=null&&typeof e=="function",nne=(e,t)=>{var n=In(t-e),a=Math.min(Math.abs(t-e),360);return n*a},ane=(e,t,n)=>{var{position:a,viewBox:s,offset:o,className:c}=e,{cx:u,cy:f,innerRadius:m,outerRadius:h,startAngle:g,endAngle:x,clockWise:b}=s,j=(m+h)/2,N=nne(g,x),S=N>=0?1:-1,A,C;a==="insideStart"?(A=g+S*o,C=b):a==="insideEnd"?(A=x-S*o,C=!b):a==="end"&&(A=x+S*o,C=b),C=N<=0?C:!C;var E=wn(u,f,j,A),k=wn(u,f,j,A+(C?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),T=Nn(e.id)?Bl("recharts-radial-line-"):e.id;return y.createElement("text",vs({},n,{dominantBaseline:"central",className:Ut("recharts-radial-bar-label",c)}),y.createElement("defs",null,y.createElement("path",{id:T,d:O})),y.createElement("textPath",{xlinkHref:"#".concat(T)},t))},rne=e=>{var{viewBox:t,offset:n,position:a}=e,{cx:s,cy:o,innerRadius:c,outerRadius:u,startAngle:f,endAngle:m}=t,h=(f+m)/2;if(a==="outside"){var{x:g,y:x}=wn(s,o,u+n,h);return{x:g,y:x,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,{x:j,y:N}=wn(s,o,b,h);return{x:j,y:N,textAnchor:"middle",verticalAnchor:"middle"}},sne=(e,t)=>{var{parentViewBox:n,offset:a,position:s}=e,{x:o,y:c,width:u,height:f}=t,m=f>=0?1:-1,h=m*a,g=m>0?"end":"start",x=m>0?"start":"end",b=u>=0?1:-1,j=b*a,N=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var A={x:o+u/2,y:c-m*a,textAnchor:"middle",verticalAnchor:g};return jn(jn({},A),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var C={x:o+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:x};return jn(jn({},C),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var E={x:o-j,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return jn(jn({},E),n?{width:Math.max(E.x-n.x,0),height:f}:{})}if(s==="right"){var k={x:o+u+j,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return jn(jn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:f}:{})}var O=n?{width:u,height:f}:{};return s==="insideLeft"?jn({x:o+j,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideRight"?jn({x:o+u-j,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideTop"?jn({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},O):s==="insideBottom"?jn({x:o+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:g},O):s==="insideTopLeft"?jn({x:o+j,y:c+h,textAnchor:S,verticalAnchor:x},O):s==="insideTopRight"?jn({x:o+u-j,y:c+h,textAnchor:N,verticalAnchor:x},O):s==="insideBottomLeft"?jn({x:o+j,y:c+f-h,textAnchor:S,verticalAnchor:g},O):s==="insideBottomRight"?jn({x:o+u-j,y:c+f-h,textAnchor:N,verticalAnchor:g},O):s&&typeof s=="object"&&(Je(s.x)||oo(s.x))&&(Je(s.y)||oo(s.y))?jn({x:o+ha(s.x,u),y:c+ha(s.y,f),textAnchor:"end",verticalAnchor:"end"},O):jn({x:o+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},ine=e=>"cx"in e&&Je(e.cx);function qa(e){var{offset:t=5}=e,n=E5(e,Wte),a=jn({offset:t},n),{viewBox:s,position:o,value:c,children:u,content:f,className:m="",textBreakAll:h,labelRef:g}=a,x=b1(),b=s||x;if(!b||Nn(c)&&Nn(u)&&!y.isValidElement(f)&&typeof f!="function")return null;if(y.isValidElement(f)){var{labelRef:j}=a,N=E5(a,Xte);return y.cloneElement(f,N)}var S;if(typeof f=="function"){if(S=y.createElement(f,a),y.isValidElement(S))return S}else S=tne(a);var A=ine(b),C=Rt(a,!0);if(A&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ane(a,S,C);var E=A?rne(a):sne(a,b);return y.createElement(fp,vs({ref:g,className:Ut("recharts-label",m)},C,E,{breakAll:h}),S)}qa.displayName="Label";var IP=e=>{var{cx:t,cy:n,angle:a,startAngle:s,endAngle:o,r:c,radius:u,innerRadius:f,outerRadius:m,x:h,y:g,top:x,left:b,width:j,height:N,clockWise:S,labelViewBox:A}=e;if(A)return A;if(Je(j)&&Je(N)){if(Je(h)&&Je(g))return{x:h,y:g,width:j,height:N};if(Je(x)&&Je(b))return{x,y:b,width:j,height:N}}if(Je(h)&&Je(g))return{x:h,y:g,width:0,height:0};if(Je(t)&&Je(n))return{cx:t,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:f||0,outerRadius:m||u||c||0,clockWise:S};if(e.viewBox)return e.viewBox},one=(e,t,n)=>{if(!e)return null;var a={viewBox:t,labelRef:n};return e===!0?y.createElement(qa,vs({key:"label-implicit"},a)):Zr(e)?y.createElement(qa,vs({key:"label-implicit",value:e},a)):y.isValidElement(e)?e.type===qa?y.cloneElement(e,jn({key:"label-implicit"},a)):y.createElement(qa,vs({key:"label-implicit",content:e},a)):O2(e)?y.createElement(qa,vs({key:"label-implicit",content:e},a)):e&&typeof e=="object"?y.createElement(qa,vs({},e,{key:"label-implicit"},a)):null},lne=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:s,labelRef:o}=t,c=IP(t),u=yd(s,qa).map((m,h)=>y.cloneElement(m,{viewBox:n||c,key:"label-".concat(h)}));if(!a)return u;var f=one(t.label,n||c,o);return[f,...u]};qa.parseViewBox=IP;qa.renderCallByParent=lne;var hy={},py={},k5;function cne(){return k5||(k5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(py)),py}var gy={},T5;function une(){return T5||(T5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(gy)),gy}var M5;function dne(){return M5||(M5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cne(),n=une(),a=i1();function s(o){if(a.isArrayLike(o))return t.last(n.toArray(o))}e.last=s}(hy)),hy}var xy,P5;function fne(){return P5||(P5=1,xy=dne().last),xy}var mne=fne();const hne=Jr(mne);var pne=["valueAccessor"],gne=["data","dataKey","clockWise","id","textBreakAll"];function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fh.apply(null,arguments)}function _5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function D5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(n),!0).forEach(function(a){xne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function xne(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R5(e,t){if(e==null)return{};var n,a,s=bne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bne(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var jne=e=>Array.isArray(e.value)?hne(e.value):e.value;function bo(e){var{valueAccessor:t=jne}=e,n=R5(e,pne),{data:a,dataKey:s,clockWise:o,id:c,textBreakAll:u}=n,f=R5(n,gne);return!a||!a.length?null:y.createElement(pa,{className:"recharts-label-list"},a.map((m,h)=>{var g=Nn(s)?t(m,h):fn(m&&m.payload,s),x=Nn(c)?{}:{id:"".concat(c,"-").concat(h)};return y.createElement(qa,fh({},Rt(m,!0),f,x,{parentViewBox:m.parentViewBox,value:g,textBreakAll:u,viewBox:qa.parseViewBox(Nn(o)?m:D5(D5({},m),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}bo.displayName="LabelList";function wne(e,t){return e?e===!0?y.createElement(bo,{key:"labelList-implicit",data:t}):y.isValidElement(e)||O2(e)?y.createElement(bo,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(bo,fh({data:t},e,{key:"labelList-implicit"})):null:null}function Nne(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:a}=e,s=yd(a,bo).map((c,u)=>y.cloneElement(c,{data:t,key:"labelList-".concat(u)}));if(!n)return s;var o=wne(e.label,t);return[o,...s]}bo.renderCallByParent=Nne;var zP=e=>e.graphicalItems.polarItems,Sne=Ce([xn,Cd],n2),k2=Ce([zP,yn,Sne],r2),Cne=Ce([k2],s2),T2=Ce([Cne,G1],i2),Ane=Ce([T2,yn,k2],o2),Ene=Ce([T2,yn,k2],(e,t,n)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var o,c=fn(a,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:fn(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),L5=()=>{},One=Ce([yn,KM,L5,Ene,L5],u2),$P=Ce([yn,Lt,T2,Ane,Sd,xn,One],d2),kne=Ce([$P,yn,fc],h2);Ce([yn,$P,kne,xn],g2);var Tne={radiusAxis:{},angleAxis:{}},BP=vr({name:"polarAxis",initialState:Tne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:mce,removeRadiusAxis:hce,addAngleAxis:pce,removeAngleAxis:gce}=BP.actions,Mne=BP.reducer;function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function z5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(a){Pne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Pne(e,t,n){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M2=(e,t)=>t,Rne=[],P2=(e,t,n)=>(n==null?void 0:n.length)===0?Rne:n,UP=Ce([G1,M2,P2],(e,t,n)=>{var{chartData:a}=e,s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&n!=null&&(s=n.map(o=>z5(z5({},t.presentationProps),o.props))),s!=null)return s}),Lne=Ce([UP,M2,P2],(e,t,n)=>{if(e!=null)return e.map((a,s)=>{var o,c=fn(a,t.nameKey,t.name),u;return n!=null&&(o=n[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?u=a.fill:u=t.fill,{value:Kh(c,t.dataKey),color:u,payload:a,type:t.legendType}})}),Ine=Ce([zP,M2],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),zne=Ce([UP,Ine,P2,Tn],(e,t,n,a)=>{if(!(t==null||e==null))return Tae({offset:a,pieSettings:t,displayedData:e,cells:n})}),$ne={countOfBars:0,cartesianItems:[],polarItems:[]},qP=vr({name:"graphicalItems",initialState:$ne,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:a}=t.payload,s=Ns(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=a)},removeCartesianGraphicalItem(e,t){var n=Ns(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ns(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:Bne,removeBar:Une,addCartesianGraphicalItem:qne,replaceCartesianGraphicalItem:Fne,removeCartesianGraphicalItem:Vne,addPolarGraphicalItem:Hne,removePolarGraphicalItem:Gne}=qP.actions,Kne=qP.reducer;function $5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function B5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(n),!0).forEach(function(a){Yne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yne(e,t,n){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wne(e){var t=Xne(e,"string");return typeof t=="symbol"?t:t+""}function Xne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zne(e){var t=mn(),n=y.useRef(null);return y.useEffect(()=>{var a=B5(B5({},e),{},{stackId:f6(e.stackId)});n.current===null?t(qne(a)):n.current!==a&&t(Fne({prev:n.current,next:a})),n.current=a},[t,e]),y.useEffect(()=>()=>{n.current&&(t(Vne(n.current)),n.current=null)},[t]),null}function Qne(e){var t=mn();return y.useEffect(()=>(t(Hne(e)),()=>{t(Gne(e))}),[t,e]),null}var yy={},U5;function Jne(){return U5||(U5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${o}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t}(yy)),yy}var vy,q5;function eae(){return q5||(q5=1,vy=Jne().isPlainObject),vy}var tae=eae();const nae=Jr(tae);function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mh.apply(null,arguments)}var F5=(e,t,n,a,s)=>{var o=n-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-o/2,",").concat(t+s),c+="L ".concat(e+n-o/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},aae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rae=e=>{var t=Rr(e,aae),n=y.useRef(),[a,s]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:m,className:h}=t,{animationEasing:g,animationDuration:x,animationBegin:b,isUpdateAnimationActive:j}=t;if(o!==+o||c!==+c||u!==+u||f!==+f||m!==+m||u===0&&f===0||m===0)return null;var N=Ut("recharts-trapezoid",h);return j?y.createElement(Co,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:o,y:c},to:{upperWidth:u,lowerWidth:f,height:m,x:o,y:c},duration:x,animationEasing:g,isActive:j},S=>{var{upperWidth:A,lowerWidth:C,height:E,x:k,y:O}=S;return y.createElement(Co,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:g},y.createElement("path",mh({},Rt(t,!0),{className:N,d:F5(k,O,A,C,E),ref:n})))}):y.createElement("g",null,y.createElement("path",mh({},Rt(t,!0),{className:N,d:F5(o,c,u,f,m)})))},sae=["option","shapeType","propTransformer","activeClassName","isActive"];function iae(e,t){if(e==null)return{};var n,a,s=oae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function oae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function V5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(n),!0).forEach(function(a){lae(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lae(e,t,n){return(t=cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cae(e){var t=uae(e,"string");return typeof t=="symbol"?t:t+""}function uae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dae(e,t){return hh(hh({},t),e)}function fae(e,t){return e==="symbols"}function H5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(O6,n);case"trapezoid":return y.createElement(rae,n);case"sector":return y.createElement(M6,n);case"symbols":if(fae(t))return y.createElement(OT,n);break;default:return null}}function mae(e){return y.isValidElement(e)?e.props:e}function FP(e){var{option:t,shapeType:n,propTransformer:a=dae,activeClassName:s="recharts-active-shape",isActive:o}=e,c=iae(e,sae),u;if(y.isValidElement(t))u=y.cloneElement(t,hh(hh({},c),mae(t)));else if(typeof t=="function")u=t(c);else if(nae(t)&&typeof t!="boolean"){var f=a(t,c);u=y.createElement(H5,{shapeType:n,elementProps:f})}else{var m=c;u=y.createElement(H5,{shapeType:n,elementProps:m})}return o?y.createElement(pa,{className:s},u):u}var _2=(e,t)=>{var n=mn();return(a,s)=>o=>{e==null||e(a,s,o),n(cP({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},D2=e=>{var t=mn();return(n,a)=>s=>{e==null||e(n,a,s),t(eee())}},R2=(e,t)=>{var n=mn();return(a,s)=>o=>{e==null||e(a,s,o),n(tee({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function VP(e){var{fn:t,args:n}=e,a=mn(),s=ka();return y.useEffect(()=>{if(!s){var o=t(n);return a(ZJ(o)),()=>{a(QJ(o))}}},[t,n,a,s]),null}var HP=()=>{};function hae(e){var{legendPayload:t}=e,n=mn(),a=ka();return y.useEffect(()=>a?HP:(n(j6(t)),()=>{n(w6(t))}),[n,a,t]),null}function pae(e){var{legendPayload:t}=e,n=mn(),a=rt(Lt);return y.useEffect(()=>a!=="centric"&&a!=="radial"?HP:(n(j6(t)),()=>{n(w6(t))}),[n,a,t]),null}function GP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(Bl(t)),a=y.useRef(e);return a.current!==e&&(n.current=Bl(t),a.current=e),n.current}var gae=["onMouseEnter","onClick","onMouseLeave"];function xae(e,t){if(e==null)return{};var n,a,s=yae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function yae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function G5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(n),!0).forEach(function(a){mp(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mp(e,t,n){return(t=vae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vae(e){var t=bae(e,"string");return typeof t=="symbol"?t:t+""}function bae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Oo.apply(null,arguments)}function jae(e){var t=y.useMemo(()=>Rt(e,!1),[e]),n=y.useMemo(()=>yd(e.children,Td),[e.children]),a=y.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=rt(o=>Lne(o,a,n));return y.createElement(pae,{legendPayload:s})}function wae(e){var{dataKey:t,nameKey:n,sectors:a,stroke:s,strokeWidth:o,fill:c,name:u,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:a==null?void 0:a.map(h=>h.tooltipPayload),positions:a==null?void 0:a.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:c,dataKey:t,nameKey:n,name:Kh(u,t),hide:f,type:m,color:c,unit:""}}}var Nae=(e,t)=>e>t?"start":e<t?"end":"middle",Sae=(e,t,n)=>typeof t=="function"?t(e):ha(t,n,n*.8),Cae=(e,t,n)=>{var{top:a,left:s,width:o,height:c}=t,u=c6(o,c),f=s+ha(e.cx,o,o/2),m=a+ha(e.cy,c,c/2),h=ha(e.innerRadius,u,0),g=Sae(n,e.outerRadius,u),x=e.maxRadius||Math.sqrt(o*o+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:g,maxRadius:x}},Aae=(e,t)=>{var n=In(t-e),a=Math.min(Math.abs(t-e),360);return n*a},Eae=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Ut("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(S6,Oo({},t,{type:"linear",className:n}))},Oae=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var a=n;if(typeof e=="function"&&(a=e(t),y.isValidElement(a)))return a;var s=Ut("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(fp,Oo({},t,{alignmentBaseline:"middle",className:s}),a)};function kae(e){var{sectors:t,props:n,showLabels:a}=e,{label:s,labelLine:o,dataKey:c}=n;if(!a||!s||!t)return null;var u=Rt(n,!1),f=Rt(s,!1),m=Rt(o,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,g=t.map((x,b)=>{var j=(x.startAngle+x.endAngle)/2,N=wn(x.cx,x.cy,x.outerRadius+h,j),S=un(un(un(un({},u),x),{},{stroke:"none"},f),{},{index:b,textAnchor:Nae(N.x,x.cx)},N),A=un(un(un(un({},u),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[wn(x.cx,x.cy,x.outerRadius,j),N],key:"line"});return y.createElement(pa,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},o&&Eae(o,A),Oae(s,S,fn(x,c)))});return y.createElement(pa,{className:"recharts-pie-labels"},g)}function KP(e){var{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:s,showLabels:o}=e,c=rt(Eo),{onMouseEnter:u,onClick:f,onMouseLeave:m}=s,h=xae(s,gae),g=_2(u,s.dataKey),x=D2(m),b=R2(f,s.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((j,N)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&t.length!==1)return null;var S=n&&String(N)===c,A=c?a:null,C=S?n:A,E=un(un({},j),{},{stroke:j.stroke,tabIndex:-1,[h6]:N,[p6]:s.dataKey});return y.createElement(pa,Oo({tabIndex:-1,className:"recharts-pie-sector"},Lh(h,j,N),{onMouseEnter:g(j,N),onMouseLeave:x(j,N),onClick:b(j,N),key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(N)}),y.createElement(FP,Oo({option:C,isActive:S,shapeType:"sector"},E)))}),y.createElement(kae,{sectors:t,props:s,showLabels:o}))}function Tae(e){var t,{pieSettings:n,displayedData:a,cells:s,offset:o}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:m,nameKey:h,tooltipType:g}=n,x=Math.abs(n.minAngle),b=Aae(u,f),j=Math.abs(b),N=a.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=a.filter(T=>fn(T,m,0)!==0).length,A=(j>=360?S:S-1)*N,C=j-S*x-A,E=a.reduce((T,P)=>{var _=fn(P,m,0);return T+(Je(_)?_:0)},0),k;if(E>0){var O;k=a.map((T,P)=>{var _=fn(T,m,0),z=fn(T,h,P),V=Cae(n,o,T),B=(Je(_)?_:0)/E,W,oe=un(un({},T),s&&s[P]&&s[P].props);P?W=O.endAngle+In(b)*N*(_!==0?1:0):W=u;var K=W+In(b)*((_!==0?x:0)+B*C),I=(W+K)/2,R=(V.innerRadius+V.outerRadius)/2,X=[{name:z,value:_,payload:oe,dataKey:m,type:g}],Z=wn(V.cx,V.cy,R,I);return O=un(un(un(un({},n.presentationProps),{},{percent:B,cornerRadius:c,name:z,tooltipPayload:X,midAngle:I,middleRadius:R,tooltipPosition:Z},oe),V),{},{value:fn(T,m),startAngle:W,endAngle:K,payload:oe,paddingAngle:In(b)*N}),O})}return k}function Mae(e){var{props:t,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:u,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:g}=t,x=GP(t,"recharts-pie-"),b=n.current,[j,N]=y.useState(!0),S=y.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),A=y.useCallback(()=>{typeof h=="function"&&h(),N(!0)},[h]);return y.createElement(Co,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},onAnimationStart:A,onAnimationEnd:S,key:x},C=>{var{t:E}=C,k=[],O=a&&a[0],T=O.startAngle;return a.forEach((P,_)=>{var z=b&&b[_],V=_>0?ji(P,"paddingAngle",0):0;if(z){var B=mi(z.endAngle-z.startAngle,P.endAngle-P.startAngle),W=un(un({},P),{},{startAngle:T+V,endAngle:T+B(E)+V});k.push(W),T=W.endAngle}else{var{endAngle:oe,startAngle:K}=P,I=mi(0,oe-K),R=I(E),X=un(un({},P),{},{startAngle:T+V,endAngle:T+R+V});k.push(X),T=X.endAngle}}),n.current=k,y.createElement(pa,null,y.createElement(KP,{sectors:k,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!j}))})}function Pae(e){var{sectors:t,isAnimationActive:n,activeShape:a,inactiveShape:s}=e,o=y.useRef(null),c=o.current;return n&&t&&t.length&&(!c||c!==t)?y.createElement(Mae,{props:e,previousSectorsRef:o}):y.createElement(KP,{sectors:t,activeShape:a,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function _ae(e){var{hide:t,className:n,rootTabIndex:a}=e,s=Ut("recharts-pie",n);return t?null:y.createElement(pa,{tabIndex:a,className:s},y.createElement(Pae,e))}var YP={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!oc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Dae(e){var t=Rr(e,YP),n=y.useMemo(()=>yd(e.children,Td),[e.children]),a=Rt(t,!1),s=y.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:a}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,a]),o=rt(c=>zne(c,s,n));return y.createElement(y.Fragment,null,y.createElement(VP,{fn:wae,args:un(un({},t),{},{sectors:o})}),y.createElement(_ae,Oo({},t,{sectors:o})))}class L2 extends y.PureComponent{constructor(){super(...arguments),mp(this,"id",Bl("recharts-pie-"))}render(){return y.createElement(y.Fragment,null,y.createElement(Qne,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),y.createElement(jae,this.props),y.createElement(Dae,this.props),this.props.children)}}mp(L2,"displayName","Pie");mp(L2,"defaultProps",YP);var Rae=Ce([Tn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Lae=Ce([Rae,Ds,Rs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Iae=e=>{var t=ka();return rt(n=>wi(n,"xAxis",e,t))},zae=e=>{var t=ka();return rt(n=>wi(n,"yAxis",e,t))},WP=()=>rt(Lae),$ae=()=>{var e=mn();return y.useEffect(()=>(e(Bne()),()=>{e(Une())})),null},Bae=["children"];function Uae(e,t){if(e==null)return{};var n,a,s=qae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function qae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var K5=()=>{},XP=y.createContext({addErrorBar:K5,removeErrorBar:K5}),Fae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ZP=y.createContext(Fae);function Vae(e){var{children:t}=e,n=Uae(e,Bae);return y.createElement(ZP.Provider,{value:n},t)}var Hae=()=>y.useContext(ZP),Gae=e=>{var{children:t,xAxisId:n,yAxisId:a,zAxisId:s,dataKey:o,data:c,stackId:u,hide:f,type:m,barSize:h}=e,[g,x]=y.useState([]),b=y.useCallback(S=>{x(A=>[...A,S])},[x]),j=y.useCallback(S=>{x(A=>A.filter(C=>C!==S))},[x]),N=ka();return y.createElement(XP.Provider,{value:{addErrorBar:b,removeErrorBar:j}},y.createElement(Zne,{type:m,data:c,xAxisId:n,yAxisId:a,zAxisId:s,dataKey:o,errorBars:g,stackId:u,hide:f,barSize:h,isPanorama:N}),t)};function Kae(e){var{addErrorBar:t,removeErrorBar:n}=y.useContext(XP);return y.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var Yae=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function QP(e,t,n){return(t=Wae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sd.apply(null,arguments)}function Zae(e,t){if(e==null)return{};var n,a,s=Qae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Qae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Jae(e){var{direction:t,width:n,dataKey:a,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:u}=e,f=Zae(e,Yae),m=Rt(f,!1),{data:h,dataPointFormatter:g,xAxisId:x,yAxisId:b,errorBarOffset:j}=Hae(),N=Iae(x),S=zae(b);if((N==null?void 0:N.scale)==null||(S==null?void 0:S.scale)==null||h==null||t==="x"&&N.type!=="number")return null;var A=h.map(C=>{var{x:E,y:k,value:O,errorVal:T}=g(C,a,t);if(!T)return null;var P=[],_,z;if(Array.isArray(T)?[_,z]=T:_=z=T,t==="x"){var{scale:V}=N,B=k+j,W=B+n,oe=B-n,K=V(O-_),I=V(O+z);P.push({x1:I,y1:W,x2:I,y2:oe}),P.push({x1:K,y1:B,x2:I,y2:B}),P.push({x1:K,y1:W,x2:K,y2:oe})}else if(t==="y"){var{scale:R}=S,X=E+j,Z=X-n,H=X+n,D=R(O-_),$=R(O+z);P.push({x1:Z,y1:$,x2:H,y2:$}),P.push({x1:X,y1:D,x2:X,y2:$}),P.push({x1:Z,y1:D,x2:H,y2:D})}var G="".concat(E+j,"px ").concat(k+j,"px");return y.createElement(pa,sd({className:"recharts-errorBar",key:"bar-".concat(P.map(te=>"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)))},m),P.map(te=>{var Q=s?{transformOrigin:"".concat(te.x1-5,"px")}:void 0;return y.createElement(Co,{from:{transform:"scaleY(0)",transformOrigin:G},to:{transform:"scaleY(1)",transformOrigin:G},begin:o,easing:u,isActive:s,duration:c,key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2),style:{transformOrigin:G}},y.createElement("line",sd({},te,{style:Q})))}))});return y.createElement(pa,{className:"recharts-errorBars"},A)}var JP=y.createContext(void 0);function ere(e){var t=y.useContext(JP);return e??t??"x"}function tre(e){var{direction:t,children:n}=e;return y.createElement(JP.Provider,{value:t},n)}var e_={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function nre(e){var t=ere(e.direction),{width:n,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c}=Rr(e,e_);return y.createElement(y.Fragment,null,y.createElement(Kae,{dataKey:e.dataKey,direction:t}),y.createElement(Jae,sd({},e,{direction:t,width:n,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c})))}class t_ extends y.Component{render(){return y.createElement(nre,this.props)}}QP(t_,"defaultProps",e_);QP(t_,"displayName","ErrorBar");var are="Invariant failed";function rre(e,t){throw new Error(are)}var sre=["x","y"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kv.apply(null,arguments)}function Y5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y5(Object(n),!0).forEach(function(a){ire(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ire(e,t,n){return(t=ore(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cre(e,t){if(e==null)return{};var n,a,s=ure(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ure(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function dre(e,t){var{x:n,y:a}=e,s=cre(e,sre),o="".concat(n),c=parseInt(o,10),u="".concat(a),f=parseInt(u,10),m="".concat(t.height||s.height),h=parseInt(m,10),g="".concat(t.width||s.width),x=parseInt(g,10);return Au(Au(Au(Au(Au({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:x,name:t.name,radius:t.radius})}function n_(e){return y.createElement(FP,Kv({shapeType:"rectangle",propTransformer:dre,activeClassName:"recharts-active-bar"},e))}var fre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Je(t))return t;var o=Je(a)||Nn(a);return o?t(a,s):(o||rre(),n)}};function a_(e,t){var n,a,s=rt(m=>Is(m,e)),o=rt(m=>Ti(m,t)),c=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:za.allowDataOverflow,u=(a=o==null?void 0:o.allowDataOverflow)!==null&&a!==void 0?a:$a.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function mre(e){var{xAxisId:t,yAxisId:n,clipPathId:a}=e,s=WP(),{needClipX:o,needClipY:c,needClip:u}=a_(t,n);if(!u)return null;var{x:f,y:m,width:h,height:g}=s;return y.createElement("clipPath",{id:"clipPath-".concat(a)},y.createElement("rect",{x:o?f:f-h/2,y:c?m:m-g/2,width:o?h:h*2,height:c?g:g*2}))}var hre=["onMouseEnter","onMouseLeave","onClick"],pre=["value","background","tooltipPosition"],gre=["onMouseEnter","onClick","onMouseLeave"];function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},id.apply(null,arguments)}function W5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(n),!0).forEach(function(a){hp(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hp(e,t,n){return(t=xre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yv(e,t){if(e==null)return{};var n,a,s=vre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vre(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var bre=e=>{var{dataKey:t,name:n,fill:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:a,value:Kh(n,t),payload:e}]};function jre(e){var{dataKey:t,stroke:n,strokeWidth:a,fill:s,name:o,hide:c,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Kh(o,t),hide:c,type:e.tooltipType,color:e.fill,unit:u}}}function wre(e){var t=rt(Eo),{data:n,dataKey:a,background:s,allOtherBarProps:o}=e,{onMouseEnter:c,onMouseLeave:u,onClick:f}=o,m=Yv(o,hre),h=_2(c,a),g=D2(u),x=R2(f,a);if(!s||n==null)return null;var b=Rt(s,!1);return y.createElement(y.Fragment,null,n.map((j,N)=>{var{value:S,background:A,tooltipPosition:C}=j,E=Yv(j,pre);if(!A)return null;var k=h(j,N),O=g(j,N),T=x(j,N),P=na(na(na(na(na({option:s,isActive:String(N)===t},E),{},{fill:"#eee"},A),b),Lh(m,j,N)),{},{onMouseEnter:k,onMouseLeave:O,onClick:T,dataKey:a,index:N,className:"recharts-bar-background-rectangle"});return y.createElement(n_,id({key:"background-bar-".concat(N)},P))}))}function r_(e){var{data:t,props:n,showLabels:a}=e,s=Rt(n,!1),{shape:o,dataKey:c,activeBar:u}=n,f=rt(Eo),m=rt(wP),{onMouseEnter:h,onClick:g,onMouseLeave:x}=n,b=Yv(n,gre),j=_2(h,c),N=D2(x),S=R2(g,c);return t?y.createElement(y.Fragment,null,t.map((A,C)=>{var E=u&&String(C)===f&&(m==null||c===m),k=E?u:o,O=na(na(na({},s),A),{},{isActive:E,option:k,index:C,dataKey:c});return y.createElement(pa,id({className:"recharts-bar-rectangle"},Lh(b,A,C),{onMouseEnter:j(A,C),onMouseLeave:N(A,C),onClick:S(A,C),key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(C)}),y.createElement(n_,O))}),a&&bo.renderCallByParent(n,t)):null}function Nre(e){var{props:t,previousRectanglesRef:n}=e,{data:a,layout:s,isAnimationActive:o,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,g=n.current,x=GP(t,"recharts-bar-"),[b,j]=y.useState(!1),N=y.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),S=y.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return y.createElement(Co,{begin:c,duration:u,isActive:o,easing:f,from:{t:0},to:{t:1},onAnimationEnd:N,onAnimationStart:S,key:x},A=>{var{t:C}=A,E=C===1?a:a.map((k,O)=>{var T=g&&g[O];if(T){var P=mi(T.x,k.x),_=mi(T.y,k.y),z=mi(T.width,k.width),V=mi(T.height,k.height);return na(na({},k),{},{x:P(C),y:_(C),width:z(C),height:V(C)})}if(s==="horizontal"){var B=mi(0,k.height),W=B(C);return na(na({},k),{},{y:k.y+k.height-W,height:W})}var oe=mi(0,k.width),K=oe(C);return na(na({},k),{},{width:K})});return C>0&&(n.current=E),y.createElement(pa,null,y.createElement(r_,{props:t,data:E,showLabels:!b}))})}function Sre(e){var{data:t,isAnimationActive:n}=e,a=y.useRef(null);return n&&t&&t.length&&(a.current==null||a.current!==t)?y.createElement(Nre,{previousRectanglesRef:a,props:e}):y.createElement(r_,{props:e,data:t,showLabels:!0})}var s_=0,Cre=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:fn(e,t)}};class Are extends y.PureComponent{constructor(){super(...arguments),hp(this,"id",Bl("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:a,className:s,xAxisId:o,yAxisId:c,needClip:u,background:f,id:m,layout:h}=this.props;if(t)return null;var g=Ut("recharts-bar",s),x=Nn(m)?this.id:m;return y.createElement(pa,{className:g},u&&y.createElement("defs",null,y.createElement(mre,{clipPathId:x,xAxisId:o,yAxisId:c})),y.createElement(pa,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(x,")"):null},y.createElement(wre,{data:n,dataKey:a,background:f,allOtherBarProps:this.props}),y.createElement(Sre,this.props)),y.createElement(tre,{direction:h==="horizontal"?"y":"x"},this.props.children))}}var i_={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!oc.isSsr,legendType:"rect",minPointSize:s_,xAxisId:0,yAxisId:0};function Ere(e){var{xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:o,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h}=Rr(e,i_),{needClip:g}=a_(t,n),x=j1(),b=ka(),j=y.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:o,stackId:f6(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,o,e.stackId]),N=yd(e.children,Td),S=rt(E=>tse(E,t,n,b,j,N));if(x!=="vertical"&&x!=="horizontal")return null;var A,C=S==null?void 0:S[0];return C==null||C.height==null||C.width==null?A=0:A=x==="vertical"?C.height/2:C.width/2,y.createElement(Vae,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:Cre,errorBarOffset:A},y.createElement(Are,id({},e,{layout:x,needClip:g,data:S,xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:o,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Ore(e){var{layout:t,barSettings:{dataKey:n,minPointSize:a},pos:s,bandSize:o,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:g,offset:x,cells:b}=e,j=t==="horizontal"?u:c,N=h?j.scale.domain():null,S=AY({numericAxis:j});return g.map((A,C)=>{var E,k,O,T,P,_;h?E=jY(h[C],N):(E=fn(A,n),Array.isArray(E)||(E=[S,E]));var z=fre(a,s_)(E[1],C);if(t==="horizontal"){var V,[B,W]=[u.scale(E[0]),u.scale(E[1])];k=L4({axis:c,ticks:f,bandSize:o,offset:s.offset,entry:A,index:C}),O=(V=W??B)!==null&&V!==void 0?V:void 0,T=s.size;var oe=B-W;if(P=Ga(oe)?0:oe,_={x:k,y:x.top,width:T,height:x.height},Math.abs(z)>0&&Math.abs(P)<Math.abs(z)){var K=In(P||z)*(Math.abs(z)-Math.abs(P));O-=K,P+=K}}else{var[I,R]=[c.scale(E[0]),c.scale(E[1])];if(k=I,O=L4({axis:u,ticks:m,bandSize:o,offset:s.offset,entry:A,index:C}),T=R-I,P=s.size,_={x:x.left,y:O,width:x.width,height:P},Math.abs(z)>0&&Math.abs(T)<Math.abs(z)){var X=In(T||z)*(Math.abs(z)-Math.abs(T));T+=X}}var Z=na(na({},A),{},{x:k,y:O,width:T,height:P,value:h?E:E[1],payload:A,background:_,tooltipPosition:{x:k+T/2,y:O+P/2}},b&&b[C]&&b[C].props);return Z})}class I2 extends y.PureComponent{render(){return y.createElement(Gae,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},y.createElement($ae,null),y.createElement(hae,{legendPayload:bre(this.props)}),y.createElement(VP,{fn:jre,args:this.props}),y.createElement(Ere,this.props))}}hp(I2,"displayName","Bar");hp(I2,"defaultProps",i_);function X5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(n),!0).forEach(function(a){kre(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kre(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Mre(e,"string");return typeof t=="symbol"?t:t+""}function Mre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pre=(e,t)=>t,_re=(e,t,n)=>n,Dre=(e,t,n,a)=>a,z2=(e,t,n,a,s)=>s,Rre=(e,t,n,a,s)=>s.maxBarSize,Lre=(e,t,n,a,s,o)=>o,Z5=(e,t,n)=>{var a=n??e;if(!Nn(a))return ha(a,t,0)},Ire=Ce([Lt,a2,Pre,_re,Dre],(e,t,n,a,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===a).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),zre=(e,t,n,a)=>{var s=Lt(e);return s==="horizontal"?Bv(e,"yAxis",n,a):Bv(e,"xAxis",t,a)},$re=(e,t,n)=>{var a=Lt(e);return a==="horizontal"?JE(e,"xAxis",t):JE(e,"yAxis",n)};function Bre(e){return e.stackId!=null&&e.dataKey!=null}var Ure=(e,t,n)=>{var a={},s=e.filter(Bre),o=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),u=Object.entries(c).map(m=>{var[h,g]=m,x=g.map(j=>j.dataKey),b=Z5(t,n,g[0].barSize);return{stackId:h,dataKeys:x,barSize:b}}),f=o.map(m=>{var h=[m.dataKey].filter(x=>x!=null),g=Z5(t,n,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...f]},qre=Ce([Ire,XQ,$re],Ure),Fre=(e,t,n,a,s)=>{var o,c,u=Lt(e),f=OM(e),{maxBarSize:m}=s,h=Nn(m)?f:m,g,x;return u==="horizontal"?(g=wi(e,"xAxis",t,a),x=Yl(e,"xAxis",t,a)):(g=wi(e,"yAxis",n,a),x=Yl(e,"yAxis",n,a)),(o=(c=x1(g,x,!0))!==null&&c!==void 0?c:h)!==null&&o!==void 0?o:0},o_=(e,t,n,a)=>{var s=Lt(e),o,c;return s==="horizontal"?(o=wi(e,"xAxis",t,a),c=Yl(e,"xAxis",t,a)):(o=wi(e,"yAxis",n,a),c=Yl(e,"yAxis",n,a)),x1(o,c)};function Vre(e,t,n,a,s){var o=a.length;if(!(o<1)){var c=ha(e,n,0,!0),u,f=[];if(Wa(a[0].barSize)){var m=!1,h=n/o,g=a.reduce((A,C)=>A+(C.barSize||0),0);g+=(o-1)*c,g>=n&&(g-=(o-1)*c,c=0),g>=n&&h>0&&(m=!0,h*=.9,g=o*h);var x=(n-g)/2>>0,b={offset:x-c,size:0};u=a.reduce((A,C)=>{var E,k={stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:b.offset+b.size+c,size:m?h:(E=C.barSize)!==null&&E!==void 0?E:0}},O=[...A,k];return b=O[O.length-1].position,O},f)}else{var j=ha(t,n,0,!0);n-2*j-(o-1)*c<=0&&(c=0);var N=(n-2*j-(o-1)*c)/o;N>1&&(N>>=0);var S=Wa(s)?Math.min(N,s):N;u=a.reduce((A,C,E)=>[...A,{stackId:C.stackId,dataKeys:C.dataKeys,position:{offset:j+(N+c)*E+(N-S)/2,size:S}}],f)}return u}}var Hre=(e,t,n,a,s,o,c)=>{var u=Nn(c)?t:c,f=Vre(n,a,s!==o?s:o,e,u);return s!==o&&f!=null&&(f=f.map(m=>cm(cm({},m),{},{position:cm(cm({},m.position),{},{offset:m.position.offset-s/2})}))),f},Gre=Ce([qre,OM,WQ,kM,Fre,o_,Rre],Hre),Kre=(e,t,n,a)=>wi(e,"xAxis",t,a),Yre=(e,t,n,a)=>wi(e,"yAxis",n,a),Wre=(e,t,n,a)=>Yl(e,"xAxis",t,a),Xre=(e,t,n,a)=>Yl(e,"yAxis",n,a),Zre=Ce([Gre,z2],(e,t)=>{if(e!=null){var n=e.find(a=>a.stackId===t.stackId&&a.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Qre=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s){var o=s.find(c=>c.key===t.dataKey);return o}}}}},Jre=Ce([a2,z2],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),ese=Ce([zre,z2],Qre),tse=Ce([Tn,Kre,Yre,Wre,Xre,Zre,Lt,mM,o_,ese,Jre,Lre],(e,t,n,a,s,o,c,u,f,m,h,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:j}=u;if(!(h==null||o==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||a==null||s==null||f==null)){var{data:N}=h,S;if(N!=null&&N.length>0?S=N:S=x==null?void 0:x.slice(b,j+1),S!=null)return Ore({layout:c,barSettings:h,pos:o,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:S,offset:e,cells:g})}}),l_=e=>{var{chartData:t}=e,n=mn(),a=ka();return y.useEffect(()=>a?()=>{}:(n(c5(t)),()=>{n(c5(void 0))}),[t,n,a]),null},Q5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},c_=vr({name:"brush",initialState:Q5,reducers:{setBrushSettings(e,t){return t.payload==null?Q5:t.payload}}}),{setBrushSettings:xce}=c_.actions,nse=c_.reducer;function ase(e,t,n){return(t=rse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rse(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $2{static create(t){return new $2(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}ase($2,"EPS",1e-4);function ise(e){return(e%180+180)%180}var ose=function(t){var{width:n,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ise(s),c=o*Math.PI/180,u=Math.atan(a/n),f=c>u&&c<Math.PI-u?a/Math.sin(c):n/Math.cos(c);return Math.abs(f)},lse={dots:[],areas:[],lines:[]},u_=vr({name:"referenceElements",initialState:lse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ns(e).dots.findIndex(a=>a===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ns(e).areas.findIndex(a=>a===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ns(e).lines.findIndex(a=>a===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:yce,removeDot:vce,addArea:bce,removeArea:jce,addLine:wce,removeLine:Nce}=u_.actions,cse=u_.reducer,use=y.createContext(void 0),dse=e=>{var{children:t}=e,[n]=y.useState("".concat(Bl("recharts"),"-clip")),a=WP();if(a==null)return null;var{x:s,y:o,width:c,height:u}=a;return y.createElement(use.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:s,y:o,height:u,width:c}))),t)};function by(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function d_(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function fse(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return ose(a,n)}function mse(e,t,n){var a=n==="width",{x:s,y:o,width:c,height:u}=e;return t===1?{start:a?s:o,end:a?s+c:o+u}:{start:a?s+c:o+u,end:a?s:o}}function ph(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var o=n();return e*(t-e*o/2-a)>=0&&e*(t+e*o/2-s)<=0}function hse(e,t){return d_(e,t+1)}function pse(e,t,n,a,s){for(var o=(a||[]).slice(),{start:c,end:u}=t,f=0,m=1,h=c,g=function(){var j=a==null?void 0:a[f];if(j===void 0)return{v:d_(a,m)};var N=f,S,A=()=>(S===void 0&&(S=n(j,N)),S),C=j.coordinate,E=f===0||ph(e,C,A,h,u);E||(f=0,h=c,m+=1),E&&(h=C+e*(A()/2+s),f+=m)},x;m<=o.length;)if(x=g(),x)return x.v;return[]}function J5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(n),!0).forEach(function(a){gse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function gse(e,t,n){return(t=xse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vse(e,t,n,a,s){for(var o=(a||[]).slice(),c=o.length,{start:u}=t,{end:f}=t,m=function(x){var b=o[x],j,N=()=>(j===void 0&&(j=n(b,x)),j);if(x===c-1){var S=e*(b.coordinate+e*N()/2-f);o[x]=b=ta(ta({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else o[x]=b=ta(ta({},b),{},{tickCoord:b.coordinate});var A=ph(e,b.tickCoord,N,u,f);A&&(f=b.tickCoord-e*(N()/2+s),o[x]=ta(ta({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return o}function bse(e,t,n,a,s,o){var c=(a||[]).slice(),u=c.length,{start:f,end:m}=t;if(o){var h=a[u-1],g=n(h,u-1),x=e*(h.coordinate+e*g/2-m);c[u-1]=h=ta(ta({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate});var b=ph(e,h.tickCoord,()=>g,f,m);b&&(m=h.tickCoord-e*(g/2+s),c[u-1]=ta(ta({},h),{},{isShow:!0}))}for(var j=o?u-1:u,N=function(C){var E=c[C],k,O=()=>(k===void 0&&(k=n(E,C)),k);if(C===0){var T=e*(E.coordinate-e*O()/2-f);c[C]=E=ta(ta({},E),{},{tickCoord:T<0?E.coordinate-T*e:E.coordinate})}else c[C]=E=ta(ta({},E),{},{tickCoord:E.coordinate});var P=ph(e,E.tickCoord,O,f,m);P&&(f=E.tickCoord+e*(O()/2+s),c[C]=ta(ta({},E),{},{isShow:!0}))},S=0;S<j;S++)N(S);return c}function B2(e,t,n){var{tick:a,ticks:s,viewBox:o,minTickGap:c,orientation:u,interval:f,tickFormatter:m,unit:h,angle:g}=e;if(!s||!s.length||!a)return[];if(Je(f)||oc.isSsr){var x;return(x=hse(s,Je(f)?f:0))!==null&&x!==void 0?x:[]}var b=[],j=u==="top"||u==="bottom"?"width":"height",N=h&&j==="width"?zu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(E,k)=>{var O=typeof m=="function"?m(E.value,k):E.value;return j==="width"?fse(zu(O,{fontSize:t,letterSpacing:n}),N,g):zu(O,{fontSize:t,letterSpacing:n})[j]},A=s.length>=2?In(s[1].coordinate-s[0].coordinate):1,C=mse(o,A,j);return f==="equidistantPreserveStart"?pse(A,C,S,s,c):(f==="preserveStart"||f==="preserveStartEnd"?b=bse(A,C,S,s,c,f==="preserveStartEnd"):b=vse(A,C,S,s,c),b.filter(E=>E.isShow))}var jse=["viewBox"],wse=["viewBox"];function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ml.apply(null,arguments)}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(a){U2(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function tO(e,t){if(e==null)return{};var n,a,s=Nse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Nse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function U2(e,t,n){return(t=Sse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mi extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:a}=t,s=tO(t,jse),o=this.props,{viewBox:c}=o,u=tO(o,wse);return!by(a,c)||!by(s,u)||!by(n,this.state)}getTickLineCoord(t){var{x:n,y:a,width:s,height:o,orientation:c,tickSize:u,mirror:f,tickMargin:m}=this.props,h,g,x,b,j,N,S=f?-1:1,A=t.tickSize||u,C=Je(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=g=t.coordinate,b=a+ +!f*o,x=b-S*A,N=x-S*m,j=C;break;case"left":x=b=t.coordinate,g=n+ +!f*s,h=g-S*A,j=h-S*m,N=C;break;case"right":x=b=t.coordinate,g=n+ +f*s,h=g+S*A,j=h+S*m,N=C;break;default:h=g=t.coordinate,b=a+ +f*o,x=b+S*A,N=x+S*m,j=C;break}return{line:{x1:h,y1:x,x2:g,y2:b},tick:{x:j,y:N}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,a;switch(t){case"left":a=n?"start":"end";break;case"right":a=n?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:a,height:s,orientation:o,mirror:c,axisLine:u}=this.props,f=kn(kn(kn({},Rt(this.props,!1)),Rt(u,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!c||o==="bottom"&&c);f=kn(kn({},f),{},{x1:t,y1:n+m*s,x2:t+a,y2:n+m*s})}else{var h=+(o==="left"&&!c||o==="right"&&c);f=kn(kn({},f),{},{x1:t+h*a,y1:n,x2:t+h*a,y2:n+s})}return y.createElement("line",Ml({},f,{className:Ut("recharts-cartesian-axis-line",ji(u,"className"))}))}static renderTickItem(t,n,a){var s,o=Ut(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))s=y.cloneElement(t,kn(kn({},n),{},{className:o}));else if(typeof t=="function")s=t(kn(kn({},n),{},{className:o}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Ut(c,t.className)),s=y.createElement(fp,Ml({},n,{className:c}),a)}return s}renderTicks(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:o,tick:c,tickFormatter:u,unit:f}=this.props,m=B2(kn(kn({},this.props),{},{ticks:a}),t,n),h=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Rt(this.props,!1),b=Rt(c,!1),j=kn(kn({},x),{},{fill:"none"},Rt(s,!1)),N=m.map((S,A)=>{var{line:C,tick:E}=this.getTickLineCoord(S),k=kn(kn(kn(kn({textAnchor:h,verticalAnchor:g},x),{},{stroke:"none",fill:o},b),E),{},{index:A,payload:S,visibleTicksCount:m.length,tickFormatter:u});return y.createElement(pa,Ml({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Lh(this.props,S,A)),s&&y.createElement("line",Ml({},j,C,{className:Ut("recharts-cartesian-axis-tick-line",ji(s,"className"))})),c&&Mi.renderTickItem(c,k,"".concat(typeof u=="function"?u(S.value,A):S.value).concat(f||"")))});return N.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}render(){var{axisLine:t,width:n,height:a,className:s,hide:o}=this.props;if(o)return null;var{ticks:c}=this.props;return n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(pa,{className:Ut("recharts-cartesian-axis",s),ref:u=>{if(u){var f=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,g=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),qa.renderCallByParent(this.props))}}U2(Mi,"displayName","CartesianAxis");U2(Mi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ase=["x1","y1","x2","y2","key"],Ese=["offset"],Ose=["xAxisId","yAxisId"],kse=["xAxisId","yAxisId"];function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(a){Tse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Tse(e,t,n){return(t=Mse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mse(e){var t=Pse(e,"string");return typeof t=="symbol"?t:t+""}function Pse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fo.apply(null,arguments)}function gh(e,t){if(e==null)return{};var n,a,s=_se(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _se(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Dse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:a,y:s,width:o,height:c,ry:u}=e;return y.createElement("rect",{x:a,y:s,ry:u,width:o,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function f_(e,t){var n;if(y.isValidElement(e))n=y.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:a,y1:s,x2:o,y2:c,key:u}=t,f=gh(t,Ase),m=Rt(f,!1),{offset:h}=m,g=gh(m,Ese);n=y.createElement("line",fo({},g,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function Rse(e){var{x:t,width:n,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,u=gh(e,Ose),f=s.map((m,h)=>{var g=aa(aa({},u),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(h),index:h});return f_(a,g)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Lse(e){var{y:t,height:n,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,u=gh(e,kse),f=s.map((m,h)=>{var g=aa(aa({},u),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(h),index:h});return f_(a,g)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Ise(e){var{horizontalFill:t,fillOpacity:n,x:a,y:s,width:o,height:c,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=u.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==m[0]&&m.unshift(0);var h=m.map((g,x)=>{var b=!m[x+1],j=b?s+c-g:m[x+1]-g;if(j<=0)return null;var N=x%t.length;return y.createElement("rect",{key:"react-".concat(x),y:g,x:a,height:j,width:o,stroke:"none",fill:t[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function zse(e){var{vertical:t=!0,verticalFill:n,fillOpacity:a,x:s,y:o,width:c,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==m[0]&&m.unshift(0);var h=m.map((g,x)=>{var b=!m[x+1],j=b?s+c-g:m[x+1]-g;if(j<=0)return null;var N=x%n.length;return y.createElement("rect",{key:"react-".concat(x),x:g,y:o,width:j,height:u,stroke:"none",fill:n[N],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var $se=(e,t)=>{var{xAxis:n,width:a,height:s,offset:o}=e;return u6(B2(aa(aa(aa({},Mi.defaultProps),n),{},{ticks:d6(n),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,t)},Bse=(e,t)=>{var{yAxis:n,width:a,height:s,offset:o}=e;return u6(B2(aa(aa(aa({},Mi.defaultProps),n),{},{ticks:d6(n),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,t)},Use={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function m_(e){var t=y6(),n=v6(),a=x6(),s=aa(aa({},Rr(e,Use)),{},{x:Je(e.x)?e.x:a.left,y:Je(e.y)?e.y:a.top,width:Je(e.width)?e.width:a.width,height:Je(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:c,x:u,y:f,width:m,height:h,syncWithTicks:g,horizontalValues:x,verticalValues:b}=s,j=ka(),N=rt(z=>e5(z,"xAxis",o,j)),S=rt(z=>e5(z,"yAxis",c,j));if(!Je(m)||m<=0||!Je(h)||h<=0||!Je(u)||u!==+u||!Je(f)||f!==+f)return null;var A=s.verticalCoordinatesGenerator||$se,C=s.horizontalCoordinatesGenerator||Bse,{horizontalPoints:E,verticalPoints:k}=s;if((!E||!E.length)&&typeof C=="function"){var O=x&&x.length,T=C({yAxis:S?aa(aa({},S),{},{ticks:O?x:S.ticks}):void 0,width:t,height:n,offset:a},O?!0:g);Iu(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}if((!k||!k.length)&&typeof A=="function"){var P=b&&b.length,_=A({xAxis:N?aa(aa({},N),{},{ticks:P?b:N.ticks}):void 0,width:t,height:n,offset:a},P?!0:g);Iu(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(k=_)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Dse,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),y.createElement(Ise,fo({},s,{horizontalPoints:E})),y.createElement(zse,fo({},s,{verticalPoints:k})),y.createElement(Rse,fo({},s,{offset:a,horizontalPoints:E,xAxis:N,yAxis:S})),y.createElement(Lse,fo({},s,{offset:a,verticalPoints:k,xAxis:N,yAxis:S})))}m_.displayName="CartesianGrid";function aO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function rO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(n),!0).forEach(function(a){qse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qse(e,t,n){return(t=Fse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fse(e){var t=Vse(e,"string");return typeof t=="symbol"?t:t+""}function Vse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hse={xAxis:{},yAxis:{},zAxis:{}},h_=vr({name:"cartesianAxis",initialState:Hse,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:a}=t.payload;e.yAxis[n]&&(e.yAxis[n]=rO(rO({},e.yAxis[n]),{},{width:a}))}}}),{addXAxis:Gse,removeXAxis:Kse,addYAxis:Yse,removeYAxis:Wse,addZAxis:Sce,removeZAxis:Cce,updateYAxisWidth:Xse}=h_.actions,Zse=h_.reducer,Qse=["children"],Jse=["dangerouslySetInnerHTML","ticks"];function p_(e,t,n){return(t=eie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wv.apply(null,arguments)}function g_(e,t){if(e==null)return{};var n,a,s=nie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function aie(e){var t=mn(),n=y.useMemo(()=>{var{children:o}=e,c=g_(e,Qse);return c},[e]),a=rt(o=>Is(o,n.id)),s=n===a;return y.useEffect(()=>(t(Gse(n)),()=>{t(Kse(n))}),[n,t]),s?e.children:null}var rie=e=>{var{xAxisId:t,className:n}=e,a=rt(g6),s=ka(),o="xAxis",c=rt(b=>mc(b,o,t,s)),u=rt(b=>aP(b,o,t,s)),f=rt(b=>JM(b,t)),m=rt(b=>qJ(b,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=e,x=g_(e,Jse);return y.createElement(Mi,Wv({},x,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:Ut("recharts-".concat(o," ").concat(o),n),viewBox:a,ticks:u}))},sie=e=>{var t,n,a,s,o;return y.createElement(aie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter},y.createElement(rie,e))};class q2 extends y.Component{render(){return y.createElement(sie,this.props)}}p_(q2,"displayName","XAxis");p_(q2,"defaultProps",{allowDataOverflow:za.allowDataOverflow,allowDecimals:za.allowDecimals,allowDuplicatedCategory:za.allowDuplicatedCategory,height:za.height,hide:!1,mirror:za.mirror,orientation:za.orientation,padding:za.padding,reversed:za.reversed,scale:za.scale,tickCount:za.tickCount,type:za.type,xAxisId:0});var iie=e=>{var{ticks:t,label:n,labelGapWithTick:a=5,tickSize:s=0,tickMargin:o=0}=e,c=0;if(t){t.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=s+o,m=c+f+u+(n?a:0);return Math.round(m)}return 0},oie=["dangerouslySetInnerHTML","ticks"];function x_(e,t,n){return(t=lie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lie(e){var t=cie(e,"string");return typeof t=="symbol"?t:t+""}function cie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xv.apply(null,arguments)}function uie(e,t){if(e==null)return{};var n,a,s=die(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function die(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function fie(e){var t=mn();return y.useEffect(()=>(t(Yse(e)),()=>{t(Wse(e))}),[e,t]),null}var mie=e=>{var t,{yAxisId:n,className:a,width:s,label:o}=e,c=y.useRef(null),u=y.useRef(null),f=rt(g6),m=ka(),h=mn(),g="yAxis",x=rt(E=>mc(E,g,n,m)),b=rt(E=>eP(E,n)),j=rt(E=>FJ(E,n)),N=rt(E=>aP(E,g,n,m));if(y.useLayoutEffect(()=>{var E;if(!(s!=="auto"||!b||O2(o)||y.isValidElement(o))){var k=c.current,O=k==null||(E=k.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:T,tickMargin:P}=k.props,_=iie({ticks:O,label:u.current,labelGapWithTick:5,tickSize:T,tickMargin:P});Math.round(b.width)!==Math.round(_)&&h(Xse({id:n,width:_}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b==null?void 0:b.width,b,h,o,n,s]),b==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:A}=e,C=uie(e,oie);return y.createElement(Mi,Xv({},C,{ref:c,labelRef:u,scale:x,x:j.x,y:j.y,width:b.width,height:b.height,className:Ut("recharts-".concat(g," ").concat(g),a),viewBox:f,ticks:N}))},hie=e=>{var t,n,a,s,o;return y.createElement(y.Fragment,null,y.createElement(fie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter}),y.createElement(mie,e))},pie={allowDataOverflow:$a.allowDataOverflow,allowDecimals:$a.allowDecimals,allowDuplicatedCategory:$a.allowDuplicatedCategory,hide:!1,mirror:$a.mirror,orientation:$a.orientation,padding:$a.padding,reversed:$a.reversed,scale:$a.scale,tickCount:$a.tickCount,type:$a.type,width:$a.width,yAxisId:0};class F2 extends y.Component{render(){return y.createElement(hie,this.props)}}x_(F2,"displayName","YAxis");x_(F2,"defaultProps",pie);var jy={exports:{}},wy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function gie(){if(sO)return wy;sO=1;var e=Wl();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return wy.useSyncExternalStoreWithSelector=function(f,m,h,g,x){var b=s(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=c(function(){function S(O){if(!A){if(A=!0,C=O,O=g(O),x!==void 0&&j.hasValue){var T=j.value;if(x(T,O))return E=T}return E=O}if(T=E,n(C,O))return T;var P=g(O);return x!==void 0&&x(T,P)?(C=O,T):(C=O,E=P)}var A=!1,C,E,k=h===void 0?null:h;return[function(){return S(m())},k===null?void 0:function(){return S(k())}]},[m,h,g,x]);var N=a(f,b[0],b[1]);return o(function(){j.hasValue=!0,j.value=N},[N]),u(N),N},wy}var iO;function xie(){return iO||(iO=1,jy.exports=gie()),jy.exports}xie();function yie(e){e()}function vie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){yie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var oO={notify(){},get:()=>[]};function bie(e,t){let n,a=oO,s=0,o=!1;function c(N){h();const S=a.subscribe(N);let A=!1;return()=>{A||(A=!0,S(),g())}}function u(){a.notify()}function f(){j.onStateChange&&j.onStateChange()}function m(){return o}function h(){s++,n||(n=e.subscribe(f),a=vie())}function g(){s--,n&&s===0&&(n(),n=void 0,a.clear(),a=oO)}function x(){o||(o=!0,h())}function b(){o&&(o=!1,g())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>a};return j}var jie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wie=jie(),Nie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Sie=Nie(),Cie=()=>wie||Sie?y.useLayoutEffect:y.useEffect,Aie=Cie(),Ny=Symbol.for("react-redux-context"),Sy=typeof globalThis<"u"?globalThis:{};function Eie(){if(!y.createContext)return{};const e=Sy[Ny]??(Sy[Ny]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Oie=Eie();function kie(e){const{children:t,context:n,serverState:a,store:s}=e,o=y.useMemo(()=>{const f=bie(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=y.useMemo(()=>s.getState(),[s]);Aie(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,c]);const u=n||Oie;return y.createElement(u.Provider,{value:o},t)}var Tie=kie,Mie=(e,t)=>t,V2=Ce([Mie,Lt,nJ,Bn,yP,zs,Hee,Tn],Xee),H2=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/a)}},y_=gr("mouseClick"),v_=vd();v_.startListening({actionCreator:y_,effect:(e,t)=>{var n=e.payload,a=V2(t.getState(),H2(n));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(nee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Zv=gr("mouseMove"),b_=vd();b_.startListening({actionCreator:Zv,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=v2(a,a.tooltip.settings.shared),o=V2(a,H2(n));s==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(dP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(uP()))}});function Pie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var lO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},j_=vr({name:"rootProps",initialState:lO,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:lO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),_ie=j_.reducer,{updateOptions:Die}=j_.actions,w_=vr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Rie}=w_.actions,Lie=w_.reducer,N_=gr("keyDown"),S_=gr("focus"),G2=vd();G2.startListening({actionCreator:N_,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=Number(b2(s,Lo(n))),u=zs(n);if(o==="Enter"){var f=dh(n,"axis","hover",String(s.index));t.dispatch(qv({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=KJ(n),h=m==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,x=c+g*h;if(!(u==null||x>=u.length||x<0)){var b=dh(n,"axis","hover",String(x));t.dispatch(qv({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});G2.startListening({actionCreator:S_,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var o="0",c=dh(n,"axis","hover",String(o));t.dispatch(qv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:c}))}}}});var cr=gr("externalEvent"),C_=vd();C_.startListening({actionCreator:cr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),a={activeCoordinate:Lee(n),activeDataKey:wP(n),activeIndex:Eo(n),activeLabel:jP(n),activeTooltipIndex:Eo(n),isTooltipActive:Iee(n)};e.payload.handler(a,e.payload.reactEvent)}}});var Iie=Ce([hc],e=>e.tooltipItemPayloads),zie=Ce([Iie,kd,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,a)=>{var s=e.find(u=>u.settings.dataKey===a);if(s!=null){var{positions:o}=s;if(o!=null){var c=t(o,n);return c}}}),A_=gr("touchMove"),E_=vd();E_.startListening({actionCreator:A_,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=v2(a,a.tooltip.settings.shared);if(s==="axis"){var o=V2(a,H2({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(dP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var c,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(h6),h=(c=f.getAttribute(p6))!==null&&c!==void 0?c:void 0,g=zie(t.getState(),m,h);t.dispatch(cP({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}});var $ie=BT({brush:nse,cartesianAxis:Zse,chartData:fte,graphicalItems:Kne,layout:sY,legend:qY,options:ote,polarAxis:Mne,polarOptions:Lie,referenceElements:cse,rootProps:_ie,tooltip:aee}),Bie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return TK({reducer:$ie,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([v_.middleware,b_.middleware,G2.middleware,C_.middleware,E_.middleware]),devTools:{serialize:{replacer:Pie},name:"recharts-".concat(n)}})};function O_(e){var{preloadedState:t,children:n,reduxStoreName:a}=e,s=ka(),o=y.useRef(null);if(s)return n;o.current==null&&(o.current=Bie(t,a));var c=d1;return y.createElement(Tie,{context:c,store:o.current},n)}function k_(e){var{layout:t,width:n,height:a,margin:s}=e,o=mn(),c=ka();return y.useEffect(()=>{c||(o(nY(t)),o(aY({width:n,height:a})),o(tY(s)))},[o,c,t,n,a,s]),null}function T_(e){var t=mn();return y.useEffect(()=>{t(Die(e))},[t,e]),null}var Uie=["children"];function qie(e,t){if(e==null)return{};var n,a,s=Fie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Fie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xh.apply(null,arguments)}var Vie={width:"100%",height:"100%"},Hie=y.forwardRef((e,t)=>{var n=y6(),a=v6(),s=N6();if(!Fl(n)||!Fl(a))return null;var{children:o,otherAttributes:c,title:u,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,y.createElement(uT,xh({},c,{title:u,desc:f,role:h,tabIndex:m,width:n,height:a,style:Vie,ref:t}),o)}),Gie=e=>{var{children:t}=e,n=rt(Xh);if(!n)return null;var{width:a,height:s,y:o,x:c}=n;return y.createElement(uT,{width:a,height:s,x:c,y:o},t)},cO=y.forwardRef((e,t)=>{var{children:n}=e,a=qie(e,Uie),s=ka();return s?y.createElement(Gie,null,n):y.createElement(Hie,xh({ref:t},a),n)});function Kie(){var e=mn(),[t,n]=y.useState(null),a=rt(_Y);return y.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;Wa(o)&&o!==a&&e(rY(o))}},[t,e,a]),n}function uO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Yie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(n),!0).forEach(function(a){Wie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wie(e,t,n){return(t=Xie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qie=y.forwardRef((e,t)=>{var{children:n,className:a,height:s,onClick:o,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:x,onTouchEnd:b,onTouchMove:j,onTouchStart:N,style:S,width:A}=e,C=mn(),[E,k]=y.useState(null),[O,T]=y.useState(null);pte();var P=Kie(),_=y.useCallback(G=>{P(G),typeof t=="function"&&t(G),k(G),T(G)},[P,t,k,T]),z=y.useCallback(G=>{C(y_(G)),C(cr({handler:o,reactEvent:G}))},[C,o]),V=y.useCallback(G=>{C(Zv(G)),C(cr({handler:m,reactEvent:G}))},[C,m]),B=y.useCallback(G=>{C(uP()),C(cr({handler:h,reactEvent:G}))},[C,h]),W=y.useCallback(G=>{C(Zv(G)),C(cr({handler:g,reactEvent:G}))},[C,g]),oe=y.useCallback(()=>{C(S_())},[C]),K=y.useCallback(G=>{C(N_(G.key))},[C]),I=y.useCallback(G=>{C(cr({handler:c,reactEvent:G}))},[C,c]),R=y.useCallback(G=>{C(cr({handler:u,reactEvent:G}))},[C,u]),X=y.useCallback(G=>{C(cr({handler:f,reactEvent:G}))},[C,f]),Z=y.useCallback(G=>{C(cr({handler:x,reactEvent:G}))},[C,x]),H=y.useCallback(G=>{C(cr({handler:N,reactEvent:G}))},[C,N]),D=y.useCallback(G=>{C(A_(G)),C(cr({handler:j,reactEvent:G}))},[C,j]),$=y.useCallback(G=>{C(cr({handler:b,reactEvent:G}))},[C,b]);return y.createElement(OP.Provider,{value:E},y.createElement(AH.Provider,{value:O},y.createElement("div",{className:Ut("recharts-wrapper",a),style:Yie({position:"relative",cursor:"default",width:A,height:s},S),onClick:z,onContextMenu:I,onDoubleClick:R,onFocus:oe,onKeyDown:K,onMouseDown:X,onMouseEnter:V,onMouseLeave:B,onMouseMove:W,onMouseUp:Z,onTouchEnd:$,onTouchMove:D,onTouchStart:H,ref:_},n)))}),Jie=["children","className","width","height","style","compact","title","desc"];function eoe(e,t){if(e==null)return{};var n,a,s=toe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function toe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var M_=y.forwardRef((e,t)=>{var{children:n,className:a,width:s,height:o,style:c,compact:u,title:f,desc:m}=e,h=eoe(e,Jie),g=Rt(h,!1);return u?y.createElement(cO,{otherAttributes:g,title:f,desc:m},n):y.createElement(Qie,{className:a,style:c,width:s,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(cO,{otherAttributes:g,title:f,desc:m,ref:t},y.createElement(dse,null,n)))}),noe=["width","height"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qv.apply(null,arguments)}function aoe(e,t){if(e==null)return{};var n,a,s=roe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function roe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var soe={top:5,right:5,bottom:5,left:5},ioe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:soe,reverseStackOrder:!1,syncMethod:"index"},ooe=y.forwardRef(function(t,n){var a,s=Rr(t.categoricalChartProps,ioe),{width:o,height:c}=s,u=aoe(s,noe);if(!Fl(o)||!Fl(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:x}=t,b={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return y.createElement(O_,{preloadedState:{options:b},reduxStoreName:(a=x.id)!==null&&a!==void 0?a:f},y.createElement(l_,{chartData:x.data}),y.createElement(k_,{width:o,height:c,layout:s.layout,margin:s.margin}),y.createElement(T_,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),y.createElement(M_,Qv({},u,{width:o,height:c,ref:n})))}),loe=["axis","item"],coe=y.forwardRef((e,t)=>y.createElement(ooe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:loe,tooltipPayloadSearcher:kP,categoricalChartProps:e,ref:t}));function uoe(e){var t=mn();return y.useEffect(()=>{t(Rie(e))},[t,e]),null}var doe=["width","height","layout"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jv.apply(null,arguments)}function foe(e,t){if(e==null)return{};var n,a,s=moe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function moe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var hoe={top:5,right:5,bottom:5,left:5},poe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hoe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},goe=y.forwardRef(function(t,n){var a,s=Rr(t.categoricalChartProps,poe),{width:o,height:c,layout:u}=s,f=foe(s,doe);if(!Fl(o)||!Fl(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:x}=t,b={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return y.createElement(O_,{preloadedState:{options:b},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:m},y.createElement(l_,{chartData:s.data}),y.createElement(k_,{width:o,height:c,layout:u,margin:s.margin}),y.createElement(T_,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),y.createElement(uoe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),y.createElement(M_,Jv({width:o,height:c},f,{ref:n})))}),xoe=["item"],yoe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},voe=y.forwardRef((e,t)=>{var n=Rr(e,yoe);return y.createElement(goe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xoe,tooltipPayloadSearcher:kP,categoricalChartProps:n,ref:t})});const{BASE_URL:boe,ENDPOINTS:joe}=_e,woe=()=>{const{user:e,token:t}=zn(),[n,a]=y.useState(null),[s,o]=y.useState(!0),[c,u]=y.useState(null),f=async()=>{var m,h;if(!t){u("No hay token de autenticación"),o(!1);return}try{o(!0),u(null);const g=await qe.get(`${boe}${joe.DASHBOARD}/all`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},withCredentials:!0});if(g.data.success)a(g.data.data);else throw new Error(g.data.message||"Error al obtener datos")}catch(g){console.error("Error fetching dashboard data:",g),u(((h=(m=g.response)==null?void 0:m.data)==null?void 0:h.message)||"Error al obtener datos del dashboard")}finally{o(!1)}};return y.useEffect(()=>{t&&e&&f()},[t,e]),{dashboardData:n,loading:s,error:c,refreshData:f}},Noe=({onNavigate:e,visibleIds:t=[]})=>{var m,h,g,x,b,j,N,S;const{dashboardData:n,loading:a,error:s,refreshData:o}=woe(),{user:c}=zn(),u=["#009BBF","#00B8E6","#33C7E6","#66D6E6"],f=[{id:"lentes",title:"Crear Lentes",icon:Qt,onClick:()=>e?e("lentes"):console.log("Crear Lentes")},{id:"citas",title:"Crear Cita",icon:Yr,onClick:()=>e?e("citas"):console.log("Crear Cita")},{id:"recetas",title:"Crear Receta",icon:Qk,onClick:()=>e?e("recetas"):console.log("Crear Receta")},{id:"promociones",title:"Crear Promoción",icon:xs,onClick:()=>e?e("promociones"):console.log("Crear Promoción")}];return a?r.jsx("div",{children:"Cargando..."}):s?r.jsxs("div",{children:["Error: ",s]}):c?r.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6 bg-gray-50",children:[r.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[#3C3C3B] mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Bienvenido al panel de administración"})]}),r.jsxs("button",{onClick:o,className:"w-full sm:w-auto bg-[#009BBF] hover:bg-[#0088A8] text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm sm:text-base",children:[r.jsx(Wk,{className:"h-4 w-4"}),"Actualizar"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[#3C3C3B] mb-4 sm:mb-6",children:"Indicadores Clave de Rendimiento"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx(gd,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Clientes"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:((g=(h=(m=n==null?void 0:n.stats)==null?void 0:m.totalClientes)==null?void 0:h.toLocaleString)==null?void 0:g.call(h))||0})]})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx(Yr,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Citas Hoy"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:((x=n==null?void 0:n.stats)==null?void 0:x.citasHoy)??0})]})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx(Zk,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Ventas del Mes"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:((b=n==null?void 0:n.stats)==null?void 0:b.ventasDelMes)??0})]})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx(Si,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Ingresos del Mes"}),r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:["$",((S=(N=(j=n==null?void 0:n.stats)==null?void 0:j.totalIngresos)==null?void 0:N.toLocaleString)==null?void 0:S.call(N))||0]})]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#3C3C3B] mb-4",children:"Ventas Mensuales"}),r.jsx("div",{className:"h-48 sm:h-56 md:h-64",children:r.jsx(y5,{width:"100%",height:"100%",children:r.jsxs(coe,{data:(n==null?void 0:n.ventasMensuales)||[],children:[r.jsx(m_,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(q2,{dataKey:"mes",tick:{fontSize:10,fill:"#3C3C3B"},axisLine:{stroke:"#e0e0e0"}}),r.jsx(F2,{tick:{fontSize:10,fill:"#3C3C3B"},axisLine:{stroke:"#e0e0e0"}}),r.jsx(m5,{contentStyle:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",color:"#3C3C3B",fontSize:"12px"}}),r.jsx(I2,{dataKey:"ventas",fill:"#009BBF",radius:[4,4,0,0]})]})})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#3C3C3B] mb-4",children:"Estado de Citas"}),r.jsx("div",{className:"h-48 sm:h-56 md:h-64",children:r.jsx(y5,{width:"100%",height:"100%",children:r.jsxs(voe,{children:[r.jsx(L2,{data:(n==null?void 0:n.estadoCitas)||[],cx:"50%",cy:"50%",labelLine:!1,label:({estado:A,cantidad:C})=>`${A}: ${C}`,outerRadius:60,fill:"#009BBF",dataKey:"cantidad",children:((n==null?void 0:n.estadoCitas)||[]).map((A,C)=>r.jsx(Td,{fill:u[C%u.length]},`cell-${C}`))}),r.jsx(m5,{contentStyle:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",color:"#3C3C3B",fontSize:"12px"}})]})})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[#3C3C3B] mb-4 sm:mb-6",children:"Acciones Rápidas"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:f.filter(A=>!t.length||t.includes(A.id)).map((A,C)=>r.jsxs("button",{onClick:A.onClick,className:"bg-[#009BBF] hover:bg-[#0088A8] text-white p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transition-all duration-200 transform hover:scale-105 shadow-md",children:[r.jsx(A.icon,{className:"h-6 w-6 sm:h-8 sm:w-8 mb-2"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium text-center",children:A.title})]},C))})]})]}):r.jsx("div",{children:"Debe iniciar sesión para ver el dashboard"})},Soe=({currentImages:e=[],onImagesChange:t,maxImages:n=5})=>{const[a,s]=y.useState(!1),[o,c]=y.useState(0);y.useEffect(()=>{if(!window.cloudinary){const g=document.createElement("script");return g.src="https://widget.cloudinary.com/v2.0/global/all.js",g.async=!0,g.onload=()=>{console.log("Cloudinary script loaded successfully")},g.onerror=()=>{console.error("Failed to load Cloudinary script")},document.head.appendChild(g),()=>{document.head.contains(g)&&document.head.removeChild(g)}}},[]);const u=()=>{if(!window.cloudinary){alert("El sistema de carga de imágenes no está disponible. Por favor, recarga la página.");return}window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil",uploadPreset:void 0,sources:["local","camera","url"],folder:"lentes",multiple:!0,maxFiles:Math.max(1,n-e.length),cropping:!1,maxImageFileSize:1e7,clientAllowedFormats:["jpg","jpeg","png","webp"],transformation:[{quality:"auto",fetch_format:"auto"}],styles:{palette:{window:"#FFFFFF",windowBorder:"#0891B2",tabIcon:"#0891B2",link:"#0891B2",action:"#0891B2"}},text:{es:{"queue.title":"Subir Imágenes","local.browse":"Seleccionar","camera.capture":"Tomar foto"}}},(x,b)=>{var j;if(x){console.error("Error uploading:",x),s(!1),c(0);return}if(b&&b.event==="queues-start"&&(s(!0),c(((j=b.info.files)==null?void 0:j.length)||1)),b&&b.event==="success"){const N=b.info.secure_url,S=[...e,N];t(S),console.log("Image uploaded successfully:",N)}b&&b.event==="queues-end"&&(s(!1),c(0))}).open()},f=g=>{const x=e.filter((b,j)=>j!==g);t(x)},m=(g,x)=>{const b=[...e],j=b.splice(g,1)[0];b.splice(x,0,j),t(b)},h=g=>g?typeof g=="string"?g.startsWith("http://")||g.startsWith("https://")?g.replace("http://","https://"):g.includes("cloudinary")||!g.startsWith("http")?`https://res.cloudinary.com/dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil/image/upload/${g}`:g:typeof g=="object"&&g!==null&&(g.secure_url||g.url)||null:null;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Imágenes del Lente"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[e.length>0&&r.jsxs("span",{className:"text-sm text-gray-500",children:[e.length,"/",n]}),r.jsx("button",{type:"button",onClick:u,disabled:a||e.length>=n,className:"inline-flex items-center px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?r.jsxs(r.Fragment,{children:[r.jsx(pd,{className:"w-4 h-4 mr-2 animate-spin"}),"Subiendo ",o>1?`${o} imágenes`:"imagen","..."]}):r.jsxs(r.Fragment,{children:[r.jsx(bi,{className:"w-4 h-4 mr-2"}),e.length===0?"Subir Imágenes":"Agregar Más"]})})]})]}),e.length===0&&!a&&r.jsxs("div",{onClick:u,className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center cursor-pointer hover:border-cyan-500 hover:bg-cyan-50 transition-colors",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(bi,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"Sube las imágenes del lente"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Arrastra imágenes aquí o haz clic para seleccionar archivos"}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Formatos: JPG, PNG, WEBP • Máximo ",n," imágenes • Hasta 10MB cada una"]})]}),e.length>0&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.map((g,x)=>{const b=h(g);return r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`aspect-square rounded-lg overflow-hidden border-2 ${x===0?"border-cyan-500 shadow-lg":"border-gray-200"} bg-gray-100 relative`,children:[b?r.jsx("img",{src:b,alt:`Lente ${x+1}`,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",onError:j=>{console.error("Error loading image:",b),j.target.style.display="none",j.target.nextElementSibling.style.display="flex"},onLoad:j=>{console.log("Image loaded successfully:",b),j.target.style.display="block",j.target.nextElementSibling&&(j.target.nextElementSibling.style.display="none")},loading:"lazy",style:{display:"block",zIndex:1}}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:r.jsx(wo,{className:"w-8 h-8 text-gray-400"})}),r.jsx("div",{className:"w-full h-full absolute inset-0 items-center justify-center bg-gray-200",style:{display:"none",zIndex:2},children:r.jsxs("div",{className:"text-center",children:[r.jsx(mt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Error al cargar"})]})}),x===0&&r.jsx("div",{className:"absolute -top-2 -left-2 bg-cyan-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg z-20",children:"Principal"}),r.jsx("div",{className:"absolute bottom-2 left-2 bg-white bg-opacity-90 px-2 py-1 rounded text-xs font-medium text-gray-700 z-10",children:x+1})]}),r.jsxs("div",{className:"absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-1 z-30",children:[x>0&&r.jsx("button",{type:"button",onClick:()=>m(x,0),className:"p-2 bg-white rounded-full shadow-lg hover:bg-cyan-50 transition-colors border",title:"Hacer principal",children:r.jsx(xs,{className:"w-3 h-3 text-cyan-600"})}),r.jsx("button",{type:"button",onClick:()=>f(x),className:"p-2 bg-white rounded-full shadow-lg hover:bg-red-50 transition-colors border",title:"Eliminar",children:r.jsx(Cn,{className:"w-3 h-3 text-red-600"})})]})]},`image-${x}-${b}`)}),e.length<n&&r.jsx("div",{onClick:u,className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-cyan-500 hover:bg-cyan-50 transition-colors",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Agregar más"})]})})]})]})},Coe=({sucursales:e,selectedSucursales:t,onChange:n,errors:a})=>{const[s,o]=y.useState(!1);y.useEffect(()=>{o(t.length===e.length&&e.length>0)},[t,e]);const c=()=>{if(s)n([]);else{const m=e.map(h=>({sucursalId:h._id,nombreSucursal:h.nombre,stock:0}));n(m)}},u=m=>{if(t.find(g=>g.sucursalId===m._id)){const g=t.filter(x=>x.sucursalId!==m._id);n(g)}else{const g=[...t,{sucursalId:m._id,nombreSucursal:m.nombre,stock:0}];n(g)}},f=(m,h)=>{const g=t.map(x=>x.sucursalId===m?{...x,stock:parseInt(h)||0}:x);n(g)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sucursales Disponibles *"}),r.jsx("button",{type:"button",onClick:c,className:"text-sm text-cyan-600 hover:text-cyan-700 font-medium",children:s?"Deseleccionar todas":"Seleccionar todas"})]}),r.jsx("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto bg-gray-50",children:e.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay sucursales disponibles"}):r.jsx("div",{className:"space-y-3",children:e.map(m=>{const h=t.find(g=>g.sucursalId===m._id);return r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border",children:[r.jsx("input",{type:"checkbox",id:`sucursal-${m._id}`,checked:!!h,onChange:()=>u(m),className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),r.jsx("label",{htmlFor:`sucursal-${m._id}`,className:"flex-1 text-sm font-medium text-gray-700 cursor-pointer",children:m.nombre}),h&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Stock:"}),r.jsx("input",{type:"number",min:"0",value:h.stock,onChange:g=>f(m._id,g.target.value),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"0"})]})]},m._id)})})}),t.length>0&&r.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:["✓ ",t.length," sucursal(es) seleccionada(s)"]}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},dO=({label:e,value:t,onChange:n,error:a,required:s=!1,placeholder:o="0.00"})=>{const[c,u]=y.useState(t||"");y.useEffect(()=>{u(t||"")},[t]);const f=m=>{const h=m.target.value;u(h);const g=parseFloat(h);!isNaN(g)&&g>=0?n(g):h===""&&n(0)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,s&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Si,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:c,onChange:f,placeholder:o,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${a?"border-red-500":"border-gray-300"}`})]}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},Aoe=({medidas:e,onChange:t,errors:n})=>{const a=(s,o)=>{const c={...e,[s]:o};t(c)};return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ancho Puente (mm) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Am,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"number",step:"0.1",min:"0",value:(e==null?void 0:e.anchoPuente)||"",onChange:s=>a("anchoPuente",s.target.value),placeholder:"14.0",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${n!=null&&n["medidas.anchoPuente"]?"border-red-500":"border-gray-300"}`})]}),(n==null?void 0:n["medidas.anchoPuente"])&&r.jsx("p",{className:"text-red-500 text-sm",children:n["medidas.anchoPuente"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Altura (mm) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Am,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"number",step:"0.1",min:"0",value:(e==null?void 0:e.altura)||"",onChange:s=>a("altura",s.target.value),placeholder:"45.0",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${n!=null&&n["medidas.altura"]?"border-red-500":"border-gray-300"}`})]}),(n==null?void 0:n["medidas.altura"])&&r.jsx("p",{className:"text-red-500 text-sm",children:n["medidas.altura"]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ancho Total (mm) *"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Am,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"number",step:"0.1",min:"0",value:(e==null?void 0:e.ancho)||"",onChange:s=>a("ancho",s.target.value),placeholder:"140.0",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${n!=null&&n["medidas.ancho"]?"border-red-500":"border-gray-300"}`})]}),(n==null?void 0:n["medidas.ancho"])&&r.jsx("p",{className:"text-red-500 text-sm",children:n["medidas.ancho"]})]})]})},Eoe=({promociones:e,selectedPromocion:t,onPromocionChange:n,precioBase:a,error:s})=>{const[o,c]=y.useState(null),u=e.filter(f=>f.fechaFin?new Date(f.fechaFin)>=new Date:!0);return y.useEffect(()=>{if(t&&a){const f=u.find(m=>m._id===t);if(f){let m=a;f.tipoDescuento==="porcentaje"?m=a*(1-f.valorDescuento/100):f.tipoDescuento==="monto_fijo"&&(m=Math.max(0,a-f.valorDescuento)),c(m.toFixed(2))}}else c(null)},[t,a,u]),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Promoción Disponible *"}),u.length===0?r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(mt,{className:"w-5 h-5 text-yellow-600 mr-2"}),r.jsx("span",{className:"text-sm text-yellow-800",children:"No hay promociones activas disponibles"})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("select",{value:t||"",onChange:n,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${s?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Seleccionar promoción..."}),u.map(f=>{const m=f.tipoDescuento==="porcentaje"?`${f.valorDescuento}% OFF`:`$${f.valorDescuento} OFF`,h=f.fechaFin?new Date(f.fechaFin).toLocaleDateString("es-ES"):null;return r.jsxs("option",{value:f._id,children:[f.nombre," - ",m,h&&` (Hasta ${h})`]},f._id)})]}),o&&a&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-green-800",children:[r.jsx("span",{className:"font-medium",children:"Precio original:"})," $",a.toFixed(2)]}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",o]})]}),r.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Ahorro: $",(a-parseFloat(o)).toFixed(2)]})]})]}),s&&r.jsx("p",{className:"text-red-500 text-sm",children:s})]})},Ooe=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,setFormData:o,handleInputChange:c,errors:u,isEditing:f=!1,categorias:m=[],marcas:h=[],promociones:g=[],sucursales:x=[],selectedLente:b=null})=>{var V,B,W,oe,K;const[j,N]=y.useState([]),[S,A]=y.useState(!1);y.useEffect(()=>{s.marcaId?(A(!0),setTimeout(()=>{N({default:["Económica","Estándar","Premium","Luxury"]}.default||[]),A(!1)},500)):N([])},[s.marcaId]);const C=I=>{o?o(R=>({...R,imagenes:I})):c({target:{name:"imagenes",value:I}})},E=I=>{o?o(R=>({...R,sucursales:I})):c({target:{name:"sucursales",value:I}})},k=I=>{o?o(R=>({...R,medidas:I})):c({target:{name:"medidas",value:I}})},O=I=>{o?o(R=>({...R,precioBase:I,precioActual:R.enPromocion?R.precioActual:I})):(c({target:{name:"precioBase",value:I}}),s.enPromocion||c({target:{name:"precioActual",value:I}}))},T=I=>{const R=I.target.checked;o?o(X=>({...X,enPromocion:R,precioActual:R?X.precioActual:X.precioBase,promocionId:R?X.promocionId:""})):(c(I),R||(c({target:{name:"precioActual",value:s.precioBase||0}}),c({target:{name:"promocionId",value:""}})))},P=I=>{const R=I.target.value;o&&o(X=>{let Z=X.precioBase;if(R&&X.precioBase){const H=g.find(D=>D._id===R);H&&(H.tipoDescuento==="porcentaje"?Z=X.precioBase*(1-H.valorDescuento/100):H.tipoDescuento==="monto_fijo"&&(Z=Math.max(0,X.precioBase-H.valorDescuento)),Z=parseFloat(Z.toFixed(2)))}return{...X,promocionId:R,precioActual:Z}})},_=[{title:"👓 Información Básica",fields:[{name:"nombre",label:"Nombre del Lente",type:"text",placeholder:"Ej: Lente progresivo transitions",required:!0,className:"md:col-span-2"},{name:"descripcion",label:"Descripción",type:"textarea",placeholder:"Describe las características y beneficios del lente...",required:!0,className:"md:col-span-2"}]},{title:"🏷️ Categorización",fields:[{name:"categoriaId",label:"Categoría",type:"select",options:(m==null?void 0:m.map(I=>({value:I._id,label:I.nombre})))||[],placeholder:"Seleccione una categoría",required:!0},{name:"marcaId",label:"Marca",type:"select",options:(h==null?void 0:h.map(I=>({value:I._id,label:I.nombre})))||[],placeholder:"Seleccione una marca",required:!0},{name:"linea",label:"Línea de Producto",type:"select",options:j.map(I=>({value:I,label:I})),placeholder:S?"Cargando líneas...":"Seleccione una línea",required:!0,disabled:!s.marcaId||S},{name:"tipoLente",label:"Tipo de Lente",type:"select",options:[{value:"Monofocal",label:"Monofocal"},{value:"Bifocal",label:"Bifocal"},{value:"Progresivo",label:"Progresivo"},{value:"Ocupacional",label:"Ocupacional"}],placeholder:"Seleccione el tipo",required:!0}]},{title:"🎨 Características Físicas",fields:[{name:"material",label:"Material",type:"select",options:["Orgánico","Policarbonato","Trivex","Alto índice","Cristal mineral","CR-39","Otro"],placeholder:"Seleccione el material",required:!0},{name:"color",label:"Color",type:"select",options:["Transparente","Amarillo","Azul","Gris","Marrón","Verde","Rosa","Fotocromático","Polarizado","Espejado","Degradado"],placeholder:"Seleccione el color",required:!0}]}],z=r.jsxs("div",{className:"space-y-8",children:[_.map((I,R)=>r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:I.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.fields.map((X,Z)=>r.jsx("div",{className:X.className||"",children:r.jsx(koe,{field:X,value:s==null?void 0:s[X.name],onChange:c,error:u==null?void 0:u[X.name],formData:s,loadingLineas:S})},Z))})]},R)),r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:"📏 Medidas del Lente"}),r.jsx(Aoe,{medidas:s==null?void 0:s.medidas,onChange:k,errors:u})]}),r.jsx("div",{className:"bg-white border rounded-xl p-6",children:r.jsx(Soe,{currentImages:(s==null?void 0:s.imagenes)||[],onImagesChange:C,maxImages:5})}),r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:"💰 Información de Precios"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(dO,{label:"Precio Base",value:s==null?void 0:s.precioBase,onChange:O,error:u==null?void 0:u.precioBase,required:!0,placeholder:"0.00"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",id:"enPromocion",name:"enPromocion",checked:(s==null?void 0:s.enPromocion)||!1,onChange:T,className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),r.jsx("label",{htmlFor:"enPromocion",className:"text-sm font-medium text-gray-700",children:"Lente en promoción"})]}),(s==null?void 0:s.enPromocion)&&r.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx(Eoe,{promociones:g,selectedPromocion:s==null?void 0:s.promocionId,onPromocionChange:P,precioBase:s==null?void 0:s.precioBase,error:u==null?void 0:u.promocionId}),r.jsx(dO,{label:"Precio con Promoción (ajustar manualmente si es necesario)",value:s==null?void 0:s.precioActual,onChange:I=>{o?o(R=>({...R,precioActual:I})):c({target:{name:"precioActual",value:I}})},error:u==null?void 0:u.precioActual,required:!0,placeholder:"0.00"}),(s==null?void 0:s.precioBase)&&(s==null?void 0:s.precioActual)&&s.precioBase>s.precioActual&&r.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-3",children:r.jsxs("p",{className:"text-green-800 text-sm font-medium",children:["💰 Descuento: $",(s.precioBase-s.precioActual).toFixed(2),"(",((s.precioBase-s.precioActual)/s.precioBase*100).toFixed(1),"% OFF)"]})})]}),!(s!=null&&s.enPromocion)&&(s==null?void 0:s.precioBase)&&r.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Precio actual:"})," $",s.precioBase.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El precio actual es igual al precio base cuando no hay promoción"})]})]})]})]}),r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:"📅 Información Adicional"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Creación *"}),r.jsx("input",{type:"date",name:"fechaCreacion",value:(s==null?void 0:s.fechaCreacion)||"",onChange:c,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${u!=null&&u.fechaCreacion?"border-red-500":"border-gray-300"}`}),(u==null?void 0:u.fechaCreacion)&&r.jsx("p",{className:"text-red-500 text-sm",children:u.fechaCreacion})]})]}),r.jsx("div",{className:"bg-white border rounded-xl p-6",children:r.jsx(Coe,{sucursales:x,selectedSucursales:(s==null?void 0:s.sucursales)||[],onChange:E,errors:u==null?void 0:u.sucursales})}),(s==null?void 0:s.nombre)&&(s==null?void 0:s.precioBase)&&((V=s==null?void 0:s.sucursales)==null?void 0:V.length)>0&&r.jsxs("div",{className:"bg-cyan-50 border-2 border-cyan-200 rounded-xl p-6",children:[r.jsx("h4",{className:"font-semibold text-cyan-800 mb-3",children:"📋 Resumen del Lente"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Lente:"})," ",s.nombre]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Tipo:"})," ",s.tipoLente]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Precio:"})," $",(s.precioActual||s.precioBase||0).toFixed(2)]}),s.enPromocion&&s.promocionId&&r.jsxs("p",{className:"text-green-600",children:[r.jsx("span",{className:"font-medium",children:"🏷️ En promoción:"})," ",((B=g.find(I=>I._id===s.promocionId))==null?void 0:B.nombre)||"Promoción seleccionada"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Sucursales:"})," ",((W=s.sucursales)==null?void 0:W.length)||0]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Imágenes:"})," ",((oe=s.imagenes)==null?void 0:oe.length)||0]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Stock total:"})," ",((K=s.sucursales)==null?void 0:K.reduce((I,R)=>I+(R.stock||0),0))||0," unidades"]}),s.medidas&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Medidas:"})," ",s.medidas.ancho,"x",s.medidas.altura,"x",s.medidas.anchoPuente,"mm"]})]})]})]})]});return r.jsx(pr,{isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:c,errors:u,submitLabel:f?"Actualizar Lente":"Crear Lente",submitIcon:r.jsx(wo,{className:"w-4 h-4"}),fields:[],gridCols:1,size:"xl",children:z})},koe=({field:e,value:t,onChange:n,error:a,formData:s,loadingLineas:o})=>{var f;const c=()=>t||"",u=`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${a?"border-red-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed opacity-60":""}`;return e.type==="select"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:e.name,value:c(),onChange:n,className:u,disabled:e.disabled,children:[r.jsx("option",{value:"",children:e.placeholder||"Seleccione"}),(f=e.options)==null?void 0:f.map((m,h)=>typeof m=="object"?r.jsx("option",{value:m.value,children:m.label},h):r.jsx("option",{value:m,children:m},h))]}),o&&e.name==="linea"&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(pd,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.disabled&&e.name==="linea"&&!(s!=null&&s.marcaId)&&r.jsx("p",{className:"text-gray-500 text-xs",children:"Primero selecciona una marca"}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):e.type==="textarea"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsx("textarea",{name:e.name,value:c(),onChange:n,placeholder:e.placeholder,className:`${u} resize-none`,rows:3}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsx("input",{type:e.type,name:e.name,value:c(),onChange:n,placeholder:e.placeholder,className:u,step:e.type==="number"?"0.01":void 0,min:e.type==="number"?"0":void 0}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},Om=()=>_e.BASE_URL,Nl="https://a-u-r-o-r-a.onrender.com/api",gs=(e,t=Om())=>`${t}${e}`,Toe=()=>{var ne,ce,ae,J,we,U,fe,De;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,o]=y.useState([]),[c,u]=y.useState([]),[f,m]=y.useState([]),[h,g]=y.useState(!0),[x,b]=y.useState(null),[j,N]=y.useState(null),[S,A]=y.useState(!1),[C,E]=y.useState(!1),[k,O]=y.useState(!1),[T,P]=y.useState(""),[_,z]=y.useState("todos"),V={nombre:"",descripcion:"",categoriaId:"",marcaId:"",material:"",color:"",tipoLente:"",precioBase:0,precioActual:0,linea:"",medidas:{anchoPuente:"",altura:"",ancho:""},imagenes:[],enPromocion:!1,promocionId:"",fechaCreacion:new Date().toISOString().split("T")[0],sucursales:[]},{formData:B,setFormData:W,handleInputChange:oe,resetForm:K,validateForm:I,errors:R,setErrors:X}=$l(V,se=>{var ie,ke,Ve,Ze,st,lt,wt;const Y={};return(ie=se.nombre)!=null&&ie.trim()||(Y.nombre="El nombre es requerido"),(ke=se.descripcion)!=null&&ke.trim()||(Y.descripcion="La descripción es requerida"),se.categoriaId||(Y.categoriaId="La categoría es requerida"),se.marcaId||(Y.marcaId="La marca es requerida"),(Ve=se.material)!=null&&Ve.trim()||(Y.material="El material es requerido"),(Ze=se.color)!=null&&Ze.trim()||(Y.color="El color es requerido"),(st=se.tipoLente)!=null&&st.trim()||(Y.tipoLente="El tipo de lente es requerido"),(lt=se.linea)!=null&&lt.trim()||(Y.linea="La línea es requerida"),(!se.precioBase||se.precioBase<=0)&&(Y.precioBase="El precio base debe ser mayor a 0"),se.enPromocion&&(se.promocionId||(Y.promocionId="Debe seleccionar una promoción"),!se.precioActual||se.precioActual<=0?Y.precioActual="El precio promocional debe ser mayor a 0":se.precioActual>=se.precioBase&&(Y.precioActual="El precio promocional debe ser menor al precio base")),se.medidas&&((!se.medidas.anchoPuente||se.medidas.anchoPuente<=0)&&(Y["medidas.anchoPuente"]="Ancho de puente inválido"),(!se.medidas.altura||se.medidas.altura<=0)&&(Y["medidas.altura"]="Altura inválida"),(!se.medidas.ancho||se.medidas.ancho<=0)&&(Y["medidas.ancho"]="Ancho inválido")),(!se.imagenes||se.imagenes.length===0)&&(Y.imagenes="Se requiere al menos una imagen"),(!se.sucursales||se.sucursales.length===0)&&(Y.sucursales="Debe seleccionar al menos una sucursal"),((wt=se.sucursales)==null?void 0:wt.some(me=>me.stock<0))&&(Y.sucursales="El stock no puede ser negativo"),Y}),Z=(se,Y)=>{N({type:se,message:Y}),setTimeout(()=>N(null),5e3)},H=async()=>{var se,Y,ge,ie;g(!0);try{const ke=Om(),Ve=async We=>Promise.all([qe.get(gs("/lentes",We)),qe.get(gs("/categoria",We)),qe.get(gs("/marcas",We)),qe.get(gs("/promociones",We)),qe.get(gs("/sucursales",We))]);let Ze,st,lt,wt,me;try{[Ze,st,lt,wt,me]=await Ve(ke)}catch(We){const tt=((se=We==null?void 0:We.message)==null?void 0:se.includes("ERR_CONNECTION_REFUSED"))||(We==null?void 0:We.code)==="ERR_NETWORK",it=ke.includes("localhost");if(tt&&it)[Ze,st,lt,wt,me]=await Ve(Nl),_e.BASE_URL=Nl;else throw We}const Oe=Array.isArray(Ze.data)?Ze.data:Array.isArray((Y=Ze.data)==null?void 0:Y.data)?Ze.data.data:[];t(Oe),a(st.data),o(lt.data),u(wt.data),m(me.data)}catch(ke){Z("error","Error al cargar los datos: "+(((ie=(ge=ke.response)==null?void 0:ge.data)==null?void 0:ie.message)||ke.message))}finally{g(!1)}};y.useEffect(()=>{H()},[]);const D=()=>{A(!1),E(!1),O(!1),b(null),K(),X({})},$=()=>{K(),b(null),W(V),A(!0)},G=se=>{var ke,Ve,Ze,st,lt,wt;b(se);const Y=me=>!me||!Array.isArray(me)?[]:me.map(Oe=>typeof Oe=="string"?Oe.startsWith("http")?Oe:`https://res.cloudinary.com/dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil/image/upload/${Oe}`:typeof Oe=="object"&&Oe!==null?Oe.secure_url||Oe.url||(Oe.public_id?`https://res.cloudinary.com/dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil/image/upload/${Oe.public_id}`:""):"").filter(Oe=>Oe&&Oe.length>0),ge=me=>!me||!Array.isArray(me)?[]:me.map(Oe=>{var We,tt;return{sucursalId:((We=Oe.sucursalId)==null?void 0:We._id)||Oe.sucursalId||Oe._id||"",nombreSucursal:Oe.nombreSucursal||((tt=Oe.sucursalId)==null?void 0:tt.nombre)||Oe.nombre||"",stock:parseInt(Oe.stock)||0}}),ie={nombre:se.nombre||"",descripcion:se.descripcion||"",categoriaId:((ke=se.categoriaId)==null?void 0:ke._id)||se.categoriaId||"",marcaId:((Ve=se.marcaId)==null?void 0:Ve._id)||se.marcaId||"",material:se.material||"",color:se.color||"",tipoLente:se.tipoLente||"",precioBase:parseFloat(se.precioBase)||0,precioActual:parseFloat(se.precioActual||se.precioBase)||0,linea:se.linea||"",medidas:{anchoPuente:((Ze=se.medidas)==null?void 0:Ze.anchoPuente)||"",altura:((st=se.medidas)==null?void 0:st.altura)||"",ancho:((lt=se.medidas)==null?void 0:lt.ancho)||""},imagenes:Y(se.imagenes),enPromocion:!!se.enPromocion,promocionId:((wt=se.promocionId)==null?void 0:wt._id)||se.promocionId||"",fechaCreacion:se.fechaCreacion?new Date(se.fechaCreacion).toISOString().split("T")[0]:"",sucursales:ge(se.sucursales)};W(ie),A(!0)},te=se=>{b(se),E(!0)},Q=se=>{b(se),O(!0)},ve=async se=>{var Y,ge,ie,ke,Ve,Ze,st,lt,wt;if(se.preventDefault(),!I()){Z("error","Por favor, corrige los errores del formulario.");return}try{const me=B.medidas||{};let Oe={nombre:(Y=B.nombre)==null?void 0:Y.trim(),descripcion:(ge=B.descripcion)==null?void 0:ge.trim(),categoriaId:B.categoriaId,marcaId:B.marcaId,material:(ie=B.material)==null?void 0:ie.trim(),color:(ke=B.color)==null?void 0:ke.trim(),tipoLente:(Ve=B.tipoLente)==null?void 0:Ve.trim(),precioBase:Number(B.precioBase),precioActual:B.enPromocion?Number(B.precioActual):Number(B.precioBase),linea:(Ze=B.linea)==null?void 0:Ze.trim(),medidas:{anchoPuente:Number(me.anchoPuente),altura:Number(me.altura),ancho:Number(me.ancho)},imagenes:Array.isArray(B.imagenes)?B.imagenes:[],enPromocion:!!B.enPromocion,promocionId:B.enPromocion?B.promocionId:void 0,fechaCreacion:B.fechaCreacion,sucursales:Array.isArray(B.sucursales)?B.sucursales.map(it=>{var Ot,At;return{sucursalId:typeof it.sucursalId=="object"&&((Ot=it.sucursalId)!=null&&Ot._id)?it.sucursalId._id:it.sucursalId,nombreSucursal:it.nombreSucursal||((At=f.find(bt=>{var qt;return bt._id===(typeof it.sucursalId=="object"?(qt=it.sucursalId)==null?void 0:qt._id:it.sucursalId)}))==null?void 0:At.nombre)||"",stock:Number(it.stock??0)}}).filter(it=>typeof it.sucursalId=="string"&&/^[a-fA-F0-9]{24}$/.test(it.sucursalId)):[]};const We=Om(),tt=async it=>{var Ot;try{return await it(We)}catch(At){const bt=((Ot=At==null?void 0:At.message)==null?void 0:Ot.includes("ERR_CONNECTION_REFUSED"))||(At==null?void 0:At.code)==="ERR_NETWORK",qt=We.includes("localhost");if(bt&&qt)return _e.BASE_URL=Nl,await it(Nl);throw At}};x?(await tt(it=>qe.put(gs(`/lentes/${x._id}`,it),Oe)),Z("success","Lente actualizado exitosamente")):(await tt(it=>qe.post(gs("/lentes",it),Oe)),Z("success","Lente creado exitosamente")),H(),D()}catch(me){Z("error","Error al guardar el lente: "+(((lt=(st=me.response)==null?void 0:st.data)==null?void 0:lt.message)||me.message)),console.error("Error saving lente:",((wt=me.response)==null?void 0:wt.data)||me.message)}},xe=async()=>{var se,Y;if(x)try{const ge=Om();await(async ke=>{var Ve;try{return await qe.delete(gs(`/lentes/${x._id}`,ke))}catch(Ze){const st=((Ve=Ze==null?void 0:Ze.message)==null?void 0:Ve.includes("ERR_CONNECTION_REFUSED"))||(Ze==null?void 0:Ze.code)==="ERR_NETWORK",lt=ge.includes("localhost");if(st&&lt)return _e.BASE_URL=Nl,await qe.delete(gs(`/lentes/${x._id}`,Nl));throw Ze}})(ge),Z("success","Lente eliminado exitosamente"),H(),D()}catch(ge){Z("error","Error al eliminar el lente: "+(((Y=(se=ge.response)==null?void 0:se.data)==null?void 0:Y.message)||ge.message))}},ze=y.useMemo(()=>{let se=Array.isArray(e)?e:[];if(T){const Y=T.toLowerCase();se=se.filter(ge=>{var ie,ke,Ve,Ze,st,lt,wt,me,Oe,We;return((ie=ge.nombre)==null?void 0:ie.toLowerCase().includes(Y))||((ke=ge.descripcion)==null?void 0:ke.toLowerCase().includes(Y))||((Ve=ge.material)==null?void 0:Ve.toLowerCase().includes(Y))||((Ze=ge.color)==null?void 0:Ze.toLowerCase().includes(Y))||((st=ge.tipoLente)==null?void 0:st.toLowerCase().includes(Y))||((lt=ge.linea)==null?void 0:lt.toLowerCase().includes(Y))||((me=(wt=ge.categoriaId)==null?void 0:wt.nombre)==null?void 0:me.toLowerCase().includes(Y))||((We=(Oe=ge.marcaId)==null?void 0:Oe.nombre)==null?void 0:We.toLowerCase().includes(Y))})}return _!=="todos"&&(_==="en_promocion"?se=se.filter(Y=>Y.enPromocion):_==="sin_promocion"?se=se.filter(Y=>!Y.enPromocion):_==="sin_stock"?se=se.filter(Y=>{var ge,ie;return((ge=Y.sucursales)==null?void 0:ge.every(ke=>ke.stock===0))||!((ie=Y.sucursales)!=null&&ie.length)}):_==="con_stock"?se=se.filter(Y=>{var ge;return(ge=Y.sucursales)==null?void 0:ge.some(ie=>ie.stock>0)}):se=se.filter(Y=>{var ge;return((ge=Y.tipoLente)==null?void 0:ge.toLowerCase())===_})),se},[e,T,_]),{paginatedData:Le,...Ee}=sc(ze,12),Fe=se=>se.sucursales?se.sucursales.reduce((Y,ge)=>Y+(ge.stock||0),0):0,Ke=Array.isArray(e)?e:[],re=Ke.length,Be=Ke.filter(se=>se.enPromocion).length,Ge=Ke.reduce((se,Y)=>se+Fe(Y),0),Ne=Ke.reduce((se,Y)=>se+(Y.precioActual||Y.precioBase||0)*Fe(Y),0),He=[{title:"Total de Lentes",value:re,Icon:wo,color:"bg-blue-500"},{title:"En Promoción",value:Be,Icon:eT,color:"bg-green-500"},{title:"Stock Total",value:Ge,Icon:ma,color:"bg-purple-500"},{title:"Valor Inventario",value:Ne.toLocaleString("es-SV",{style:"currency",currency:"USD"}),Icon:Si,color:"bg-yellow-500"}],Ye=[{header:"Producto",key:"producto"},{header:"Marca/Categoría",key:"marca_categoria"},{header:"Características",key:"caracteristicas"},{header:"Precio",key:"precio"},{header:"Stock",key:"stock"},{header:"Estado",key:"estado"},{header:"Acciones",key:"acciones"}],F=se=>{var ie,ke,Ve,Ze;const Y=Fe(se),ge=Y>0;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12",children:se.imagenes&&se.imagenes.length>0?r.jsx("img",{src:se.imagenes[0],alt:se.nombre,className:"w-12 h-12 rounded-lg object-cover border"}):r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx(wo,{className:"w-6 h-6 text-gray-400"})})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:se.nombre}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:se.descripcion})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xs,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-900",children:((ie=se.marcaId)==null?void 0:ie.nombre)||"Sin marca"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gk,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500",children:((ke=se.categoriaId)==null?void 0:ke.nombre)||"Sin categoría"})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zb,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:se.color})]}),r.jsxs("div",{className:"text-gray-500",children:[se.material," • ",se.tipoLente]}),se.linea&&r.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full inline-block",children:se.linea}),se.medidas&&r.jsxs("div",{className:"text-xs text-gray-400",children:[se.medidas.ancho,"×",se.medidas.altura,"×",se.medidas.anchoPuente,"mm"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"space-y-1",children:se.enPromocion?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",(se.precioActual||0).toFixed(2)]}),r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"OFERTA"})]}),r.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["$",(se.precioBase||0).toFixed(2)]}),((Ve=se.promocionId)==null?void 0:Ve.nombre)&&r.jsx("div",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full inline-block",children:se.promocionId.nombre})]}):r.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",(se.precioBase||0).toFixed(2)]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`text-sm font-medium ${ge?"text-green-600":"text-red-600"}`,children:[Y," unidades"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["en ",((Ze=se.sucursales)==null?void 0:Ze.length)||0," sucursal(es)"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${se.enPromocion?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:se.enPromocion?"🏷️ Promoción":"Precio normal"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ge?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ge?"✅ Disponible":"❌ Sin stock"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>te(se),className:"p-2 text-blue-600 bg-white hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>G(se),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(se),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})})]})})]})};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(yr,{alert:j}),r.jsx(ic,{stats:He}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Ai,{title:"Gestión de Lentes",buttonLabel:"Agregar Lente",onButtonClick:$}),r.jsx(Rh,{searchTerm:T,onSearchChange:se=>P(se.target.value),placeholder:"Buscar por nombre, marca, material o color...",filters:[{label:"Todos",value:"todos"},{label:"En Promoción",value:"en_promocion"},{label:"Sin Promoción",value:"sin_promocion"},{label:"Con Stock",value:"con_stock"},{label:"Sin Stock",value:"sin_stock"},{label:"Monofocal",value:"monofocal"},{label:"Bifocal",value:"bifocal"},{label:"Progresivo",value:"progresivo"},{label:"Ocupacional",value:"ocupacional"}],activeFilter:_,onFilterChange:z}),r.jsx(To,{columns:Ye,data:Le,renderRow:F,loading:h,noDataMessage:"No se encontraron lentes",noDataSubMessage:T?"Intenta con otros términos de búsqueda":"Aún no hay lentes registrados"}),r.jsx(Ei,{...Ee})]}),r.jsx(Ooe,{isOpen:S,onClose:D,onSubmit:ve,title:x?"Editar Lente":"Agregar Nuevo Lente",formData:B,setFormData:W,handleInputChange:oe,errors:R,isEditing:!!x,categorias:n,marcas:s,promociones:c,sucursales:f,selectedLente:x}),r.jsx(_r,{isOpen:C,onClose:D,title:"Detalles del Lente",item:x,data:x?[{label:"Nombre",value:x.nombre},{label:"Descripción",value:x.descripcion},{label:"Categoría",value:((ne=x.categoriaId)==null?void 0:ne.nombre)||x.categoriaId},{label:"Marca",value:((ce=x.marcaId)==null?void 0:ce.nombre)||x.marcaId},{label:"Línea",value:x.linea},{label:"Material",value:x.material},{label:"Color",value:x.color},{label:"Tipo de Lente",value:x.tipoLente},{label:"Precio Base",value:`${(x.precioBase||0).toFixed(2)}`},{label:"Precio Actual",value:`${(x.precioActual||x.precioBase||0).toFixed(2)}`,color:x.enPromocion?"text-green-600":"text-gray-900"},{label:"Estado",value:x.enPromocion?"En Promoción":"Precio Normal",color:x.enPromocion?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"},...x.enPromocion&&x.promocionId?[{label:"Promoción Aplicada",value:((ae=x.promocionId)==null?void 0:ae.nombre)||"Promoción sin nombre",color:"text-orange-600"}]:[],{label:"Ancho Puente",value:`${((J=x.medidas)==null?void 0:J.anchoPuente)||"N/A"} mm`},{label:"Altura",value:`${((we=x.medidas)==null?void 0:we.altura)||"N/A"} mm`},{label:"Ancho",value:`${((U=x.medidas)==null?void 0:U.ancho)||"N/A"} mm`},{label:"Stock Total",value:`${Fe(x)} unidades`},{label:"Disponibilidad por Sucursal",value:((fe=x.sucursales)==null?void 0:fe.map(se=>{var Y;return`${se.nombreSucursal||((Y=se.sucursalId)==null?void 0:Y.nombre)}: ${se.stock||0} unidades`}).join(" | "))||"Sin stock"},{label:"Imágenes",value:`${((De=x.imagenes)==null?void 0:De.length)||0} imagen(es)`},{label:"Fecha de Creación",value:x.fechaCreacion?new Date(x.fechaCreacion).toLocaleDateString("es-ES"):"N/A"}]:[]}),r.jsx(Xr,{isOpen:k,onClose:D,onConfirm:xe,title:"Confirmar Eliminación",message:`¿Estás seguro de que deseas eliminar el lente "${x==null?void 0:x.nombre}"? Esta acción no se puede deshacer.`,confirmLabel:"Sí, eliminar",cancelLabel:"Cancelar",type:"danger"})]})},Moe=({currentImages:e=[],onImagesChange:t,maxImages:n=5})=>{const[a,s]=y.useState(!1),[o,c]=y.useState(0);y.useEffect(()=>{if(!window.cloudinary){const g=document.createElement("script");return g.src="https://widget.cloudinary.com/v2.0/global/all.js",g.async=!0,g.onload=()=>{console.log("Cloudinary script loaded successfully")},g.onerror=()=>{console.error("Failed to load Cloudinary script")},document.head.appendChild(g),()=>{document.head.contains(g)&&document.head.removeChild(g)}}},[]);const u=()=>{if(!window.cloudinary){alert("El sistema de carga de imágenes no está disponible. Por favor, recarga la página.");return}window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil",uploadPreset:void 0,sources:["local","camera","url"],folder:"accesorios",multiple:!0,maxFiles:Math.max(1,n-e.length),cropping:!1,maxImageFileSize:1e7,clientAllowedFormats:["jpg","jpeg","png","webp"],transformation:[{quality:"auto",fetch_format:"auto"}],styles:{palette:{window:"#FFFFFF",windowBorder:"#0891B2",tabIcon:"#0891B2",link:"#0891B2",action:"#0891B2"}},text:{es:{"queue.title":"Subir Imágenes","local.browse":"Seleccionar","camera.capture":"Tomar foto"}}},(x,b)=>{var j;if(x){console.error("Error uploading:",x),s(!1),c(0);return}if(b&&b.event==="queues-start"&&(s(!0),c(((j=b.info.files)==null?void 0:j.length)||1)),b&&b.event==="success"){const N=b.info.secure_url,S=[...e,N];t(S),console.log("Image uploaded successfully:",N)}b&&b.event==="queues-end"&&(s(!1),c(0))}).open()},f=g=>{const x=e.filter((b,j)=>j!==g);t(x)},m=(g,x)=>{const b=[...e],j=b.splice(g,1)[0];b.splice(x,0,j),t(b)},h=g=>g?typeof g=="string"?g.startsWith("http://")||g.startsWith("https://")?g.replace("http://","https://"):g.includes("cloudinary")||!g.startsWith("http")?`https://res.cloudinary.com/dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil/image/upload/${g}`:g:typeof g=="object"&&g!==null&&(g.secure_url||g.url)||null:null;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Imágenes del Producto"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[e.length>0&&r.jsxs("span",{className:"text-sm text-gray-500",children:[e.length,"/",n]}),r.jsx("button",{type:"button",onClick:u,disabled:a||e.length>=n,className:"inline-flex items-center px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?r.jsxs(r.Fragment,{children:[r.jsx(pd,{className:"w-4 h-4 mr-2 animate-spin"}),"Subiendo ",o>1?`${o} imágenes`:"imagen","..."]}):r.jsxs(r.Fragment,{children:[r.jsx(bi,{className:"w-4 h-4 mr-2"}),e.length===0?"Subir Imágenes":"Agregar Más"]})})]})]}),e.length===0&&!a&&r.jsxs("div",{onClick:u,className:"border-2 border-dashed border-gray-300 rounded-xl p-12 text-center cursor-pointer hover:border-cyan-500 hover:bg-cyan-50 transition-colors",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(bi,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h4",{className:"text-lg font-medium text-gray-700 mb-2",children:"Sube las imágenes del producto"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Arrastra imágenes aquí o haz clic para seleccionar archivos"}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Formatos: JPG, PNG, WEBP • Máximo ",n," imágenes • Hasta 10MB cada una"]})]}),e.length>0&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.map((g,x)=>{const b=h(g);return r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:`aspect-square rounded-lg overflow-hidden border-2 ${x===0?"border-cyan-500 shadow-lg":"border-gray-200"} bg-gray-100 relative`,children:[b?r.jsx("img",{src:b,alt:`Imagen ${x+1}`,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",onError:j=>{console.error("Error loading image:",b),j.target.style.display="none",j.target.nextElementSibling.style.display="flex"},onLoad:j=>{console.log("Image loaded successfully:",b),j.target.style.display="block",j.target.nextElementSibling&&(j.target.nextElementSibling.style.display="none")},loading:"lazy",style:{display:"block",zIndex:1}}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:r.jsx(ma,{className:"w-8 h-8 text-gray-400"})}),r.jsx("div",{className:"w-full h-full absolute inset-0 items-center justify-center bg-gray-200",style:{display:"none",zIndex:2},children:r.jsxs("div",{className:"text-center",children:[r.jsx(mt,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Error al cargar"})]})}),x===0&&r.jsx("div",{className:"absolute -top-2 -left-2 bg-cyan-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg z-20",children:"Principal"}),r.jsx("div",{className:"absolute bottom-2 left-2 bg-white bg-opacity-90 px-2 py-1 rounded text-xs font-medium text-gray-700 z-10",children:x+1})]}),r.jsxs("div",{className:"absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-1 z-30",children:[x>0&&r.jsx("button",{type:"button",onClick:()=>m(x,0),className:"p-2 bg-white rounded-full shadow-lg hover:bg-cyan-50 transition-colors border",title:"Hacer principal",children:r.jsx(xs,{className:"w-3 h-3 text-cyan-600"})}),r.jsx("button",{type:"button",onClick:()=>f(x),className:"p-2 bg-white rounded-full shadow-lg hover:bg-red-50 transition-colors border",title:"Eliminar",children:r.jsx(Cn,{className:"w-3 h-3 text-red-600"})})]})]},`image-${x}-${b}`)}),e.length<n&&r.jsx("div",{onClick:u,className:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-cyan-500 hover:bg-cyan-50 transition-colors",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Agregar más"})]})})]})]})},Poe=({sucursales:e,selectedSucursales:t,onChange:n,errors:a})=>{const[s,o]=y.useState(!1);y.useEffect(()=>{o(t.length===e.length&&e.length>0)},[t,e]);const c=()=>{if(s)n([]);else{const m=e.map(h=>({sucursalId:h._id,nombreSucursal:h.nombre,stock:0}));n(m)}},u=m=>{if(t.find(g=>g.sucursalId===m._id)){const g=t.filter(x=>x.sucursalId!==m._id);n(g)}else{const g=[...t,{sucursalId:m._id,nombreSucursal:m.nombre,stock:0}];n(g)}},f=(m,h)=>{const g=t.map(x=>x.sucursalId===m?{...x,stock:parseInt(h)||0}:x);n(g)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sucursales Disponibles *"}),r.jsx("button",{type:"button",onClick:c,className:"text-sm text-cyan-600 hover:text-cyan-700 font-medium",children:s?"Deseleccionar todas":"Seleccionar todas"})]}),r.jsx("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto bg-gray-50",children:e.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay sucursales disponibles"}):r.jsx("div",{className:"space-y-3",children:e.map(m=>{const h=t.find(g=>g.sucursalId===m._id);return r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border",children:[r.jsx("input",{type:"checkbox",id:`sucursal-${m._id}`,checked:!!h,onChange:()=>u(m),className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),r.jsx("label",{htmlFor:`sucursal-${m._id}`,className:"flex-1 text-sm font-medium text-gray-700 cursor-pointer",children:m.nombre}),h&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Stock:"}),r.jsx("input",{type:"number",min:"0",value:h.stock,onChange:g=>f(m._id,g.target.value),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"0"})]})]},m._id)})})}),t.length>0&&r.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:["✓ ",t.length," sucursal(es) seleccionada(s)"]}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},fO=({label:e,value:t,onChange:n,error:a,required:s=!1,placeholder:o="0.00"})=>{const[c,u]=y.useState(t||"");y.useEffect(()=>{u(t||"")},[t]);const f=m=>{const h=m.target.value;u(h);const g=parseFloat(h);!isNaN(g)&&g>=0?n(g):h===""&&n(0)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,s&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Si,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:c,onChange:f,placeholder:o,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${a?"border-red-500":"border-gray-300"}`})]}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},_oe=({promociones:e,selectedPromocion:t,onPromocionChange:n,precioBase:a,error:s})=>{const[o,c]=y.useState(null),u=e.filter(f=>f.fechaFin?new Date(f.fechaFin)>=new Date:!0);return y.useEffect(()=>{if(t&&a){const f=u.find(m=>m._id===t);if(f){let m=a;f.tipoDescuento==="porcentaje"?m=a*(1-f.valorDescuento/100):f.tipoDescuento==="monto_fijo"&&(m=Math.max(0,a-f.valorDescuento)),c(m.toFixed(2))}}else c(null)},[t,a,u]),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Promoción Disponible *"}),u.length===0?r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(mt,{className:"w-5 h-5 text-yellow-600 mr-2"}),r.jsx("span",{className:"text-sm text-yellow-800",children:"No hay promociones activas disponibles"})]})}):r.jsxs(r.Fragment,{children:[r.jsxs("select",{value:t||"",onChange:n,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${s?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Seleccionar promoción..."}),u.map(f=>{const m=f.tipoDescuento==="porcentaje"?`${f.valorDescuento}% OFF`:`$${f.valorDescuento} OFF`,h=f.fechaFin?new Date(f.fechaFin).toLocaleDateString("es-ES"):null;return r.jsxs("option",{value:f._id,children:[f.nombre," - ",m,h&&` (Hasta ${h})`]},f._id)})]}),o&&a&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm text-green-800",children:[r.jsx("span",{className:"font-medium",children:"Precio original:"})," $",a.toFixed(2)]}),r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",o]})]}),r.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["Ahorro: $",(a-parseFloat(o)).toFixed(2)]})]})]}),s&&r.jsx("p",{className:"text-red-500 text-sm",children:s})]})},Doe=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,setFormData:o,handleInputChange:c,errors:u,isEditing:f=!1,marcas:m=[],categorias:h=[],sucursales:g=[],promociones:x=[],selectedAccesorio:b=null})=>{var z,V,B,W,oe;const[j,N]=y.useState([]),[S,A]=y.useState(!1);y.useEffect(()=>{s.marcaId?(A(!0),setTimeout(()=>{N({default:["Económica","Estándar","Premium","Luxury"]}.default||[]),A(!1)},500)):N([])},[s.marcaId]);const C=K=>{o?o(I=>({...I,imagenes:K})):c({target:{name:"imagenes",value:K}})},E=K=>{o?o(I=>({...I,sucursales:K})):c({target:{name:"sucursales",value:K}})},k=K=>{o?o(I=>({...I,precioBase:K,precioActual:I.enPromocion?I.precioActual:K})):(c({target:{name:"precioBase",value:K}}),s.enPromocion||c({target:{name:"precioActual",value:K}}))},O=K=>{const I=K.target.checked;o?o(R=>({...R,enPromocion:I,precioActual:I?R.precioActual:R.precioBase,promocionId:I?R.promocionId:""})):(c(K),I||(c({target:{name:"precioActual",value:s.precioBase||0}}),c({target:{name:"promocionId",value:""}})))},T=K=>{const I=K.target.value;if(o)o(R=>{let X=R.precioBase;if(I&&R.precioBase){const Z=x.find(H=>H._id===I);Z&&(Z.tipoDescuento==="porcentaje"?X=R.precioBase*(1-Z.valorDescuento/100):Z.tipoDescuento==="monto_fijo"&&(X=Math.max(0,R.precioBase-Z.valorDescuento)),X=parseFloat(X.toFixed(2)))}return{...R,promocionId:I,precioActual:X}});else if(c({target:{name:"promocionId",value:I}}),I&&s.precioBase){const R=x.find(X=>X._id===I);if(R){let X=s.precioBase;R.tipoDescuento==="porcentaje"?X=s.precioBase*(1-R.valorDescuento/100):R.tipoDescuento==="monto_fijo"&&(X=Math.max(0,s.precioBase-R.valorDescuento)),c({target:{name:"precioActual",value:parseFloat(X.toFixed(2))}})}}},P=[{title:"📦 Información Básica",fields:[{name:"nombre",label:"Nombre del Accesorio",type:"text",placeholder:"Ej: Estuche de cuero premium",required:!0,className:"md:col-span-2"},{name:"descripcion",label:"Descripción",type:"textarea",placeholder:"Describe las características y beneficios del accesorio...",required:!0,className:"md:col-span-2"}]},{title:"🏷️ Categorización",fields:[{name:"tipo",label:"Categoría",type:"select",options:(h==null?void 0:h.map(K=>({value:K._id,label:K.nombre})))||[],placeholder:"Seleccione una categoría",required:!0},{name:"marcaId",label:"Marca",type:"select",options:(m==null?void 0:m.map(K=>({value:K._id,label:K.nombre})))||[],placeholder:"Seleccione una marca",required:!0},{name:"linea",label:"Línea de Producto",type:"select",options:j.map(K=>({value:K,label:K})),placeholder:S?"Cargando líneas...":"Seleccione una línea",required:!0,disabled:!s.marcaId||S}]},{title:"🎨 Características Físicas",fields:[{name:"material",label:"Material",type:"select",options:["Cuero","Cuero sintético","Tela","Plástico","Metal","Silicona","Goma","Madera","Fibra de carbono","Otro"],placeholder:"Seleccione el material",required:!0},{name:"color",label:"Color",type:"select",options:["Negro","Marrón","Blanco","Gris","Azul","Rojo","Verde","Amarillo","Naranja","Rosa","Morado","Multicolor"],placeholder:"Seleccione el color",required:!0}]}],_=r.jsxs("div",{className:"space-y-8",children:[P.map((K,I)=>r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:K.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:K.fields.map((R,X)=>r.jsx("div",{className:R.className||"",children:r.jsx(Roe,{field:R,value:s==null?void 0:s[R.name],onChange:c,error:u==null?void 0:u[R.name],formData:s,loadingLineas:S})},X))})]},I)),r.jsx("div",{className:"bg-white border rounded-xl p-6",children:r.jsx(Moe,{currentImages:(s==null?void 0:s.imagenes)||[],onImagesChange:C,maxImages:5})}),r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:"💰 Información de Precios"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(fO,{label:"Precio Base",value:s==null?void 0:s.precioBase,onChange:k,error:u==null?void 0:u.precioBase,required:!0,placeholder:"0.00"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",id:"enPromocion",name:"enPromocion",checked:(s==null?void 0:s.enPromocion)||!1,onChange:O,className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),r.jsx("label",{htmlFor:"enPromocion",className:"text-sm font-medium text-gray-700",children:"Producto en promoción"})]}),(s==null?void 0:s.enPromocion)&&r.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx(_oe,{promociones:x,selectedPromocion:s==null?void 0:s.promocionId,onPromocionChange:T,precioBase:s==null?void 0:s.precioBase,error:u==null?void 0:u.promocionId}),r.jsx(fO,{label:"Precio con Promoción (ajustar manualmente si es necesario)",value:s==null?void 0:s.precioActual,onChange:K=>{o?o(I=>({...I,precioActual:K})):c({target:{name:"precioActual",value:K}})},error:u==null?void 0:u.precioActual,required:!0,placeholder:"0.00"}),(s==null?void 0:s.precioBase)&&(s==null?void 0:s.precioActual)&&s.precioBase>s.precioActual&&r.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-3",children:r.jsxs("p",{className:"text-green-800 text-sm font-medium",children:["💰 Descuento: $",(s.precioBase-s.precioActual).toFixed(2),"(",((s.precioBase-s.precioActual)/s.precioBase*100).toFixed(1),"% OFF)"]})})]}),!(s!=null&&s.enPromocion)&&(s==null?void 0:s.precioBase)&&r.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Precio actual:"})," $",s.precioBase.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El precio actual es igual al precio base cuando no hay promoción"})]})]})]})]}),r.jsx("div",{className:"bg-white border rounded-xl p-6",children:r.jsx(Poe,{sucursales:g,selectedSucursales:(s==null?void 0:s.sucursales)||[],onChange:E,errors:u==null?void 0:u.sucursales})}),(s==null?void 0:s.nombre)&&(s==null?void 0:s.precioBase)&&((z=s==null?void 0:s.sucursales)==null?void 0:z.length)>0&&r.jsxs("div",{className:"bg-cyan-50 border-2 border-cyan-200 rounded-xl p-6",children:[r.jsx("h4",{className:"font-semibold text-cyan-800 mb-3",children:"📋 Resumen del Producto"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Producto:"})," ",s.nombre]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Precio:"})," $",(s.precioActual||s.precioBase||0).toFixed(2)]}),s.enPromocion&&s.promocionId&&r.jsxs("p",{className:"text-green-600",children:[r.jsx("span",{className:"font-medium",children:"🏷️ En promoción:"})," ",((V=x.find(K=>K._id===s.promocionId))==null?void 0:V.nombre)||"Promoción seleccionada"]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Sucursales:"})," ",((B=s.sucursales)==null?void 0:B.length)||0]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Imágenes:"})," ",((W=s.imagenes)==null?void 0:W.length)||0]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Stock total:"})," ",((oe=s.sucursales)==null?void 0:oe.reduce((K,I)=>K+(I.stock||0),0))||0," unidades"]})]})]})]})]});return r.jsx(pr,{isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:c,errors:u,submitLabel:f?"Actualizar Accesorio":"Crear Accesorio",submitIcon:r.jsx(ma,{className:"w-4 h-4"}),fields:[],gridCols:1,size:"xl",children:_})},Roe=({field:e,value:t,onChange:n,error:a,formData:s,loadingLineas:o})=>{var f;const c=()=>t||"",u=`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${a?"border-red-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed opacity-60":""}`;return e.type==="select"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:e.name,value:c(),onChange:n,className:u,disabled:e.disabled,children:[r.jsx("option",{value:"",children:e.placeholder||"Seleccione"}),(f=e.options)==null?void 0:f.map((m,h)=>typeof m=="object"?r.jsx("option",{value:m.value,children:m.label},h):r.jsx("option",{value:m,children:m},h))]}),o&&e.name==="linea"&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(pd,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.disabled&&e.name==="linea"&&!(s!=null&&s.marcaId)&&r.jsx("p",{className:"text-gray-500 text-xs",children:"Primero selecciona una marca"}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):e.type==="textarea"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsx("textarea",{name:e.name,value:c(),onChange:n,placeholder:e.placeholder,className:`${u} resize-none`,rows:3}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsx("input",{type:e.type,name:e.name,value:c(),onChange:n,placeholder:e.placeholder,className:u,step:e.type==="number"?"0.01":void 0,min:e.type==="number"?"0":void 0}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},um="https://a-u-r-o-r-a.onrender.com/api/accesorios",Loe="https://a-u-r-o-r-a.onrender.com/api/marcas",Ioe="https://a-u-r-o-r-a.onrender.com/api/categoria",zoe="https://a-u-r-o-r-a.onrender.com/api/sucursales",$oe="https://a-u-r-o-r-a.onrender.com/api/promociones",Boe=()=>{var He,Ye,F,ne,ce,ae;const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState(null),[c,u]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState([]),[S,A]=y.useState([]),[C,E]=y.useState([]),[k,O]=y.useState([]),[T,P]=y.useState(""),[_,z]=y.useState("todos"),{formData:V,setFormData:B,handleInputChange:W,resetForm:oe,errors:K,validateForm:I}=$l({nombre:"",descripcion:"",tipo:"",marcaId:"",linea:"",material:"",color:"",precioBase:0,precioActual:0,imagenes:[],enPromocion:!1,promocionId:"",sucursales:[]},J=>{var fe,De,se;const we={};return(fe=J.nombre)!=null&&fe.trim()||(we.nombre="El nombre es requerido"),(De=J.descripcion)!=null&&De.trim()||(we.descripcion="La descripción es requerida"),J.tipo||(we.tipo="La categoría es requerida"),J.marcaId||(we.marcaId="La marca es requerida"),J.linea||(we.linea="La línea es requerida"),J.material||(we.material="El material es requerido"),J.color||(we.color="El color es requerido"),(!J.precioBase||J.precioBase<=0)&&(we.precioBase="El precio base debe ser mayor a 0"),J.enPromocion&&(J.promocionId||(we.promocionId="Debe seleccionar una promoción"),!J.precioActual||J.precioActual<=0?we.precioActual="El precio promocional debe ser mayor a 0":J.precioActual>=J.precioBase&&(we.precioActual="El precio promocional debe ser menor al precio base")),(!J.sucursales||J.sucursales.length===0)&&(we.sucursales="Debe seleccionar al menos una sucursal"),((se=J.sucursales)==null?void 0:se.some(Y=>Y.stock<0))&&(we.sucursales="El stock no puede ser negativo"),(!J.imagenes||J.imagenes.length===0)&&(we.imagenes="Debe agregar al menos una imagen"),we}),R=y.useMemo(()=>e.filter(J=>{var De,se,Y,ge,ie,ke,Ve,Ze,st,lt;const we=T.toLowerCase(),U=((De=J.nombre)==null?void 0:De.toLowerCase().includes(we))||((se=J.descripcion)==null?void 0:se.toLowerCase().includes(we))||((ge=(Y=J.marcaId)==null?void 0:Y.nombre)==null?void 0:ge.toLowerCase().includes(we))||((ke=(ie=J.tipo)==null?void 0:ie.nombre)==null?void 0:ke.toLowerCase().includes(we))||((Ve=J.material)==null?void 0:Ve.toLowerCase().includes(we))||((Ze=J.color)==null?void 0:Ze.toLowerCase().includes(we));let fe=!0;return _==="en_promocion"?fe=J.enPromocion===!0:_==="sin_promocion"?fe=J.enPromocion===!1:_==="sin_stock"?fe=(st=J.sucursales)==null?void 0:st.every(wt=>wt.stock===0):_==="con_stock"&&(fe=(lt=J.sucursales)==null?void 0:lt.some(wt=>wt.stock>0)),U&&fe}),[e,T,_]),{paginatedData:X,...Z}=sc(R,12),H=(J,we)=>{u({type:J,message:we}),setTimeout(()=>u(null),5e3)},D=async()=>{var J,we;a(!0);try{const U=await qe.get(um);console.log("Accesorios response:",U.data);const fe=U.data.data||U.data;t(Array.isArray(fe)?fe:[])}catch(U){console.error("Error fetching accesorios:",U),H("error","Error al cargar los accesorios: "+(((we=(J=U.response)==null?void 0:J.data)==null?void 0:we.message)||U.message)),t([])}finally{a(!1)}},$=async()=>{var J,we;try{const[U,fe,De,se]=await Promise.all([qe.get(Loe),qe.get(Ioe),qe.get(zoe),qe.get($oe)]);console.log("Dependencies loaded:",{marcas:U.data,categorias:fe.data,sucursales:De.data,promociones:se.data}),N(Array.isArray(U.data)?U.data:U.data.data||[]),A(Array.isArray(fe.data)?fe.data:fe.data.data||[]),E(Array.isArray(De.data)?De.data:De.data.data||[]),O(Array.isArray(se.data)?se.data:se.data.data||[])}catch(U){console.error("Error fetching dependencies:",U),H("error","Error al cargar marcas, categorías, sucursales o promociones: "+(((we=(J=U.response)==null?void 0:J.data)==null?void 0:we.message)||U.message)),N([]),A([]),E([]),O([])}};y.useEffect(()=>{D(),$();const J=document.createElement("script");return J.src="https://widget.cloudinary.com/v2.0/global/all.js",J.async=!0,document.body.appendChild(J),()=>{document.body.contains(J)&&document.body.removeChild(J)}},[]);const G=()=>{m(!1),g(!1),b(!1),o(null),oe()},te=()=>{oe(),o(null),B({nombre:"",descripcion:"",tipo:"",marcaId:"",linea:"",material:"",color:"",precioBase:0,precioActual:0,imagenes:[],enPromocion:!1,promocionId:"",sucursales:[]}),m(!0)},Q=J=>{var De,se,Y;o(J);const we=ge=>!ge||!Array.isArray(ge)?[]:ge.map(ie=>typeof ie=="string"?ie.startsWith("http")?ie:`https://res.cloudinary.com/dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil/image/upload/${ie}`:typeof ie=="object"&&ie!==null?ie.secure_url||ie.url||(ie.public_id?`https://res.cloudinary.com/dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil/image/upload/${ie.public_id}`:""):"").filter(ie=>ie&&ie.length>0),U=ge=>!ge||!Array.isArray(ge)?[]:ge.map(ie=>{var ke,Ve;return{sucursalId:((ke=ie.sucursalId)==null?void 0:ke._id)||ie.sucursalId||ie._id||"",nombreSucursal:ie.nombreSucursal||((Ve=ie.sucursalId)==null?void 0:Ve.nombre)||ie.nombre||"",stock:parseInt(ie.stock)||0}}),fe={nombre:J.nombre||"",descripcion:J.descripcion||"",tipo:((De=J.tipo)==null?void 0:De._id)||J.tipo||"",marcaId:((se=J.marcaId)==null?void 0:se._id)||J.marcaId||"",linea:J.linea||"",material:J.material||"",color:J.color||"",precioBase:parseFloat(J.precioBase)||0,precioActual:parseFloat(J.precioActual||J.precioBase)||0,imagenes:we(J.imagenes),enPromocion:!!J.enPromocion,promocionId:((Y=J.promocionId)==null?void 0:Y._id)||J.promocionId||"",sucursales:U(J.sucursales)};console.log("Datos originales del accesorio:",{imagenes_originales:J.imagenes,sucursales_originales:J.sucursales}),console.log("Datos normalizados para edición:",fe),B(fe),m(!0)},ve=J=>{o(J),g(!0)},xe=J=>{o(J),b(!0)},ze=async J=>{var U,fe;if(J.preventDefault(),console.log("Form data before validation:",V),!I()){H("error","Por favor, corrige los errores del formulario.");return}const we=new FormData;Object.keys(V).forEach(De=>{De==="sucursales"?we.append("sucursales",JSON.stringify(V.sucursales)):De==="imagenes"?we.append("imagenes",JSON.stringify(V.imagenes)):De==="promocionId"?V.enPromocion&&V.promocionId&&we.append(De,V[De]):we.append(De,V[De])}),console.log("Sending data:",Object.fromEntries(we));try{let De;s?(De=await qe.put(`${um}/${s._id}`,we,{headers:{"Content-Type":"multipart/form-data"}}),H("success","Accesorio actualizado exitosamente")):(De=await qe.post(um,we,{headers:{"Content-Type":"multipart/form-data"}}),H("success","Accesorio creado exitosamente")),console.log("Server response:",De.data),await D(),G()}catch(De){console.error("Error submitting form:",De);const se=((fe=(U=De.response)==null?void 0:U.data)==null?void 0:fe.message)||De.message||"Error desconocido";H("error",`Error al guardar el accesorio: ${se}`)}},Le=async()=>{var J,we;if(s)try{await qe.delete(`${um}/${s._id}`),H("success","Accesorio eliminado exitosamente"),await D(),G()}catch(U){console.error("Error deleting accesorio:",U);const fe=((we=(J=U.response)==null?void 0:J.data)==null?void 0:we.message)||U.message||"Error desconocido";H("error",`Error al eliminar el accesorio: ${fe}`)}},Ee=e.length,Fe=e.filter(J=>J.enPromocion).length,Ke=e.length>0?e.reduce((J,we)=>J+(we.precioActual||we.precioBase||0),0)/e.length:0,re=e.reduce((J,we)=>{var U;return J+(((U=we.sucursales)==null?void 0:U.reduce((fe,De)=>fe+(De.stock||0),0))||0)},0),Be=[{title:"Total Accesorios",value:Ee,Icon:ma,color:"bg-blue-500"},{title:"En Promoción",value:Fe,Icon:ia,color:"bg-green-500"},{title:"Precio Promedio",value:`$${Ke.toFixed(2)}`,Icon:Si,color:"bg-yellow-500"},{title:"Stock Total",value:re,Icon:Jb,color:"bg-purple-500"}],Ge=[{header:"Producto",key:"producto"},{header:"Marca/Categoría",key:"marca_categoria"},{header:"Características",key:"caracteristicas"},{header:"Precio",key:"precio"},{header:"Stock",key:"stock"},{header:"Estado",key:"estado"},{header:"Acciones",key:"acciones"}],Ne=J=>{var fe,De,se,Y,ge;const we=((fe=J.sucursales)==null?void 0:fe.reduce((ie,ke)=>ie+(ke.stock||0),0))||0,U=we>0;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12",children:J.imagenes&&J.imagenes.length>0?r.jsx("img",{src:J.imagenes[0],alt:J.nombre,className:"w-12 h-12 rounded-lg object-cover border"}):r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx(ma,{className:"w-6 h-6 text-gray-400"})})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:J.nombre}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:J.descripcion})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ia,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-900",children:((De=J.marcaId)==null?void 0:De.nombre)||"Sin marca"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Gk,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500",children:((se=J.tipo)==null?void 0:se.nombre)||J.tipo||"Sin categoría"})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zb,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:J.color})]}),r.jsx("div",{className:"text-gray-500",children:J.material}),J.linea&&r.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full inline-block",children:J.linea})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"space-y-1",children:J.enPromocion?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",(J.precioActual||0).toFixed(2)]}),r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"OFERTA"})]}),r.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["$",(J.precioBase||0).toFixed(2)]}),((Y=J.promocionId)==null?void 0:Y.nombre)&&r.jsx("div",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full inline-block",children:J.promocionId.nombre})]}):r.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",(J.precioBase||0).toFixed(2)]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`text-sm font-medium ${U?"text-green-600":"text-red-600"}`,children:[we," unidades"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["en ",((ge=J.sucursales)==null?void 0:ge.length)||0," sucursal(es)"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${J.enPromocion?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:J.enPromocion?"🏷️ Promoción":"Precio normal"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${U?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U?"✅ Disponible":"❌ Sin stock"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ve(J),className:"p-2 text-blue-600 bg-white hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(J),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>xe(J),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})})]})})]})};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(yr,{alert:c}),r.jsx(ic,{stats:Be}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Ai,{title:"Gestión de Accesorios",buttonLabel:"Agregar Accesorio",onButtonClick:te}),r.jsx(Rh,{searchTerm:T,onSearchChange:J=>P(J.target.value),placeholder:"Buscar por nombre, marca, material o color...",filters:[{label:"Todos",value:"todos"},{label:"En Promoción",value:"en_promocion"},{label:"Sin Promoción",value:"sin_promocion"},{label:"Con Stock",value:"con_stock"},{label:"Sin Stock",value:"sin_stock"}],activeFilter:_,onFilterChange:z}),r.jsx(To,{columns:Ge,data:X,renderRow:Ne,loading:n,noDataMessage:"No se encontraron accesorios",noDataSubMessage:T?"Intenta con otros términos de búsqueda":"Aún no hay accesorios registrados"}),r.jsx(Ei,{...Z})]}),r.jsx(Doe,{isOpen:f,onClose:G,onSubmit:ze,title:s?"Editar Accesorio":"Agregar Nuevo Accesorio",formData:V,setFormData:B,handleInputChange:W,errors:K,isEditing:!!s,marcas:j,categorias:S,sucursales:C,promociones:k,selectedAccesorio:s}),r.jsx(_r,{isOpen:h,onClose:G,title:"Detalles del Accesorio",item:s,data:s?[{label:"Nombre",value:s.nombre},{label:"Descripción",value:s.descripcion},{label:"Categoría",value:((He=s.tipo)==null?void 0:He.nombre)||s.tipo},{label:"Marca",value:(Ye=s.marcaId)==null?void 0:Ye.nombre},{label:"Línea",value:s.linea},{label:"Material",value:s.material},{label:"Color",value:s.color},{label:"Precio Base",value:`${(s.precioBase||0).toFixed(2)}`},{label:"Precio Actual",value:`${(s.precioActual||s.precioBase||0).toFixed(2)}`,color:s.enPromocion?"text-green-600":"text-gray-900"},{label:"Estado",value:s.enPromocion?"En Promoción":"Precio Normal",color:s.enPromocion?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"},...s.enPromocion&&s.promocionId?[{label:"Promoción Aplicada",value:((F=s.promocionId)==null?void 0:F.nombre)||"Promoción sin nombre",color:"text-orange-600"}]:[],{label:"Stock Total",value:`${((ne=s.sucursales)==null?void 0:ne.reduce((J,we)=>J+(we.stock||0),0))||0} unidades`},{label:"Disponibilidad por Sucursal",value:((ce=s.sucursales)==null?void 0:ce.map(J=>{var we;return`${J.nombreSucursal||((we=J.sucursalId)==null?void 0:we.nombre)}: ${J.stock||0} unidades`}).join(" | "))||"Sin stock"},{label:"Imágenes",value:`${((ae=s.imagenes)==null?void 0:ae.length)||0} imagen(es)`},{label:"Fecha de Creación",value:new Date(s.createdAt).toLocaleDateString("es-ES")}]:[]}),r.jsx(Xr,{isOpen:x,onClose:G,onConfirm:Le,title:"Confirmar Eliminación",message:`¿Estás seguro de que deseas eliminar el accesorio "${s==null?void 0:s.nombre}"? Esta acción no se puede deshacer.`,confirmLabel:"Sí, eliminar",cancelLabel:"Cancelar",type:"danger"})]})},Fr=(e,t={})=>{const[n,a]=y.useState([]),[s,o]=y.useState(!0),[c,u]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(null);return y.useEffect(()=>{let x=!0,b=null;const j=async(N=0)=>{try{o(!0),u(null);const S=dn(`/${e}`,t),A=new AbortController;b=setTimeout(()=>{A.abort()},_e.TIMEOUTS.REQUEST);const C=await fetch(S,{..._e.FETCH_CONFIG,signal:A.signal});if(clearTimeout(b),!C.ok){const k=await C.json().catch(()=>({}));throw new Error(`HTTP ${C.status}: ${k.message||C.statusText}`)}const E=await C.json();if(x){E&&typeof E=="object"&&E.pagination?g(E.pagination):g(null);const k=PB(E);if(k.isValid){const O=Array.isArray(k.data)?k.data:[k.data];a(O),m(!0),u(null)}else a([]),m(!1),u(k.error)}}catch(S){if(clearTimeout(b),S.name==="AbortError"){x&&(u("La solicitud tardó demasiado. Por favor, intenta nuevamente."),m(!1),a([]));return}if(N<_e.TIMEOUTS.MAX_RETRIES&&(S.name==="AbortError"||S.message.includes("fetch")||S.message.includes("network"))){const A=_e.TIMEOUTS.RETRY_DELAY*Math.pow(2,N);setTimeout(()=>{x&&j(N+1)},A);return}if(x){const A=$k(S,e);u(A),m(!1),a([])}}finally{x&&o(!1)}};return j(),()=>{x=!1,b&&clearTimeout(b)}},[e,JSON.stringify(t)]),{data:n,loading:s,error:c,success:f,pagination:h}},K2=({type:e="info",message:t,show:n=!1,onClose:a,duration:s=0,dismissible:o=!0,className:c=""})=>{const[u,f]=y.useState(n),[m,h]=y.useState(!1),g={success:{icon:Os,bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",iconColor:"text-green-500",title:"Éxito"},error:{icon:mt,bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500",title:"Error"},warning:{icon:Im,bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-500",title:"Advertencia"},info:{icon:Wb,bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500",title:"Información"}},x=g[e]||g.info,b=x.icon;y.useEffect(()=>{if(n){if(f(!0),h(!0),s>0){const N=setTimeout(()=>{j()},s);return()=>clearTimeout(N)}}else j()},[n,s]);const j=()=>{h(!1),setTimeout(()=>{f(!1),a==null||a()},300)};return u?r.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-md w-full ${c}`,children:r.jsx("div",{className:`
          ${x.bgColor} 
          ${x.borderColor} 
          ${x.textColor}
          border rounded-lg p-4 shadow-lg
          transform transition-all duration-300 ease-in-out
          ${m?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        `,role:"alert","aria-live":"assertive",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(b,{className:`h-5 w-5 ${x.iconColor}`,"aria-hidden":"true"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium",children:x.title}),r.jsx("div",{className:"mt-1 text-sm",children:t})]}),o&&r.jsx("div",{className:"ml-auto pl-3",children:r.jsx("button",{type:"button",className:`
                  inline-flex rounded-md p-1.5 
                  ${x.bgColor} 
                  ${x.textColor} 
                  hover:bg-opacity-75 
                  focus:outline-none focus:ring-2 
                  focus:ring-offset-2 
                  focus:ring-offset-green-50 
                  focus:ring-green-600
                  transition-colors duration-200
                `,onClick:j,"aria-label":"Cerrar alerta",children:r.jsx(hr,{className:"h-4 w-4","aria-hidden":"true"})})})]})})}):null},Y2=()=>{const[e,t]=y.useState({show:!1,type:"info",message:"",duration:5e3}),n=(f,m,h=5e3)=>{t({show:!0,type:f,message:m,duration:h})};return{alertState:e,showAlert:n,hideAlert:()=>{t(f=>({...f,show:!1}))},showSuccess:(f,m)=>n("success",f,m),showError:(f,m)=>n("error",f,m),showWarning:(f,m)=>n("warning",f,m),showInfo:(f,m)=>n("info",f,m)}},W2=({children:e})=>r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e}),mO=e=>{if(!e)return r.jsx(ia,{className:"w-4 h-4"});const n={Tags:ia,Package:ma,Eye:Qt,Clock:Va,UserCheck:ko,Search:Oa,Plus:Pr,Trash2:Cn,Edit:Wn,ChevronDown:Il}[e]||ia;return r.jsx(n,{className:"w-4 h-4"})},Uoe=({categories:e,selectedCategory:t,onCategorySelect:n,loading:a,error:s})=>{const[o,c]=y.useState(!1),u=e.find(m=>m.nombre===t),f=m=>{n(m),c(!1)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>c(!o),className:"flex items-center justify-between px-4 py-2 bg-white border border-gray-300 rounded-lg hover:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 min-w-[200px]",children:[r.jsx("div",{className:"flex items-center space-x-2",children:t==="todos"?r.jsxs(r.Fragment,{children:[r.jsx(ma,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:"Todas las categorías"})]}):u?r.jsxs(r.Fragment,{children:[mO(u.icono),r.jsx("span",{className:"text-gray-700",children:u.nombre})]}):r.jsxs(r.Fragment,{children:[r.jsx(ia,{className:"w-4 h-4 text-gray-500"}),r.jsx("span",{className:"text-gray-700",children:"Seleccionar categoría"})]})}),r.jsx(Il,{className:`w-4 h-4 text-gray-400 transition-transform ${o?"rotate-180":""}`})]}),o&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),r.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-20 max-h-60 overflow-y-auto",children:a?r.jsxs("div",{className:"p-4 text-center text-gray-500",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-cyan-500 mx-auto mb-2"}),"Cargando categorías..."]}):s?r.jsx("div",{className:"p-4 text-center text-red-500",children:s}):r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>f("todos"),className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 ${t==="todos"?"bg-cyan-50 text-cyan-600":"text-gray-700"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsx(ma,{className:"w-4 h-4 text-gray-500"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Todas las categorías"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Ver todos los productos"})]})]})}),e.map(m=>r.jsx("button",{onClick:()=>f(m.nombre),className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 ${t===m.nombre?"bg-cyan-50 text-cyan-600":"text-gray-700"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-cyan-100 rounded-lg flex items-center justify-center text-cyan-600",children:mO(m.icono)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium truncate",children:m.nombre}),r.jsx("div",{className:"text-xs text-gray-500 truncate",children:m.descripcion})]})]})},m._id)),e.length===0&&!a&&r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay categorías disponibles"})]})})]})]})},qoe=()=>{const[e,t]=y.useState(""),[n,a]=y.useState("todos"),[s,o]=y.useState(!1),[c,u]=y.useState(!1),[f,m]=y.useState(null),[h,g]=y.useState(0),{data:x,loading:b,error:j}=Fr("productosPersonalizados",{r:h}),{data:N}=Fr("pedidos",{r:h}),{data:S}=Fr("clientes"),{data:A}=Fr("lentes"),{data:C}=Fr("marcas"),[E,k]=y.useState({total:0,enProceso:0,completado:0}),[O,T]=y.useState(!1),{alertState:P,showSuccess:_,showError:z,hideAlert:V}=Y2(),[B,W]=y.useState(!1),[oe,K]=y.useState(null),[I,R]=y.useState([]),[X,Z]=y.useState(!1),[H,D]=y.useState(null),[$,G]=y.useState({clienteId:"",productoBaseId:"",nombre:"",descripcion:"",categoria:"",marcaId:"",material:"",color:"",tipoLente:"",precioCalculado:null,fechaEntregaEstimada:"",cotizacion:{total:null,validaHasta:""}}),[te,Q]=y.useState({}),ve=[{value:"pendiente",label:"Pendiente"},{value:"en_proceso",label:"En Proceso"},{value:"completado",label:"Completado"},{value:"cancelado",label:"Cancelado"},{value:"entregado",label:"Entregado"}],xe=me=>{switch(me){case"completado":return"Completado";case"en_proceso":return"En Proceso";case"pendiente":return"Pendiente";case"cancelado":return"Cancelado";case"entregado":return"Entregado";default:return me||"Pendiente"}},ze=me=>{if(typeof me!="number")return"-";try{return me.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}catch{return`$${me}`}},Le=me=>{if(!me)return"";const Oe=new Date(me);return isNaN(Oe.getTime())?"":Oe.toISOString().slice(0,10)},Ee=me=>{const{name:Oe,value:We,type:tt}=me.target;if(Oe.includes(".")){const it=Oe.split(".");G(Ot=>{const At={...Ot};let bt=At;for(let Un=0;Un<it.length-1;Un++){const Zn=it[Un];bt[Zn]=bt[Zn]??{},bt=bt[Zn]}const qt=it[it.length-1];return bt[qt]=tt==="number"?We===""?null:Number(We):We,At})}else G(it=>({...it,[Oe]:tt==="number"?We===""?null:Number(We):We}))},Fe=()=>{const me=["clienteId","productoBaseId","nombre","descripcion","categoria","marcaId","material","color","tipoLente","precioCalculado","fechaEntregaEstimada","cotizacion.total","cotizacion.validaHasta"],Oe={};for(const We of me){let tt=$;for(const it of We.split("."))tt=tt==null?void 0:tt[it];(tt===""||tt===null||tt===void 0)&&(Oe[We]="Requerido")}return Q(Oe),Object.keys(Oe).length===0},Ke=()=>{G({clienteId:"",productoBaseId:"",nombre:"",descripcion:"",categoria:"",marcaId:"",material:"",color:"",tipoLente:"",precioCalculado:null,fechaEntregaEstimada:"",cotizacion:{total:null,validaHasta:""}}),Q({})},re=async me=>{if(me.preventDefault(),!!Fe())try{const Oe=dn(_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS),We=await fetch(Oe,{method:"POST",headers:{"Content-Type":"application/json"},credentials:_e.FETCH_CONFIG.credentials,body:JSON.stringify($)});if(!We.ok){const tt=await We.json().catch(()=>({}));throw new Error(tt.message||`Error ${We.status}`)}o(!1),Ke(),g(tt=>tt+1),_("Producto personalizado creado correctamente",3e3)}catch(Oe){Q(We=>({...We,submit:Oe.message||"Error al crear"})),z(Oe.message||"Error al crear el personalizado",4e3)}},Be=me=>{var We,tt,it,Ot,At;const Oe=Array.isArray(x)?x.find(bt=>bt._id===me):null;Oe&&(m(me),G({clienteId:((We=Oe.clienteId)==null?void 0:We._id)||Oe.clienteId||"",productoBaseId:((tt=Oe.productoBaseId)==null?void 0:tt._id)||Oe.productoBaseId||"",nombre:Oe.nombre||"",descripcion:Oe.descripcion||"",categoria:Oe.categoria||"",marcaId:((it=Oe.marcaId)==null?void 0:it._id)||Oe.marcaId||"",material:Oe.material||"",color:Oe.color||"",tipoLente:Oe.tipoLente||"",precioCalculado:typeof Oe.precioCalculado=="number"?Oe.precioCalculado:null,fechaEntregaEstimada:Oe.fechaEntregaEstimada?Le(Oe.fechaEntregaEstimada):"",cotizacion:{total:((Ot=Oe.cotizacion)==null?void 0:Ot.total)??null,validaHasta:(At=Oe.cotizacion)!=null&&At.validaHasta?Le(Oe.cotizacion.validaHasta):""}}),Q({}),u(!0))},Ge=async me=>{if(me.preventDefault(),!(!Fe()||!f))try{const Oe=dn(`${_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${f}`),We=await fetch(Oe,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:_e.FETCH_CONFIG.credentials,body:JSON.stringify($)});if(!We.ok){const tt=await We.json().catch(()=>({}));throw new Error(tt.message||`Error ${We.status}`)}u(!1),m(null),Ke(),g(tt=>tt+1),_("Producto personalizado actualizado",2500)}catch(Oe){Q(We=>({...We,submit:Oe.message||"Error al actualizar"})),z(Oe.message||"Error al actualizar el personalizado",4e3)}},Ne=async me=>{if(window.confirm("¿Eliminar este personalizado? Esta acción no se puede deshacer."))try{const Oe=dn(`${_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${me}`),We=await fetch(Oe,{method:"DELETE",credentials:_e.FETCH_CONFIG.credentials});if(!We.ok){const tt=await We.json().catch(()=>({}));throw new Error(tt.message||`Error ${We.status}`)}g(tt=>tt+1),_("Producto personalizado eliminado",2500)}catch(Oe){z(Oe.message||"Error al eliminar",4e3)}},He=async(me,Oe)=>{try{const We=dn(`${_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${me}/estado`),tt=await fetch(We,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:_e.FETCH_CONFIG.credentials,body:JSON.stringify({estado:Oe})});if(!tt.ok){const it=await tt.json().catch(()=>({}));throw new Error(it.message||`Error ${tt.status}`)}g(it=>it+1),_("Estado actualizado",2e3)}catch(We){z(We.message||"Error al actualizar estado",3500)}},Ye=me=>{K(me),W(!0)},F=y.useMemo(()=>Array.isArray(x)?x.map(me=>{const Oe=me.fechaSolicitud||me.createdAt,We=Oe?new Date(Oe):null,tt=We?Date.now()-We.getTime()<=24*60*60*1e3:!1;return{id:me._id,nombre:me.nombre,descripcion:me.descripcion,categoria:me.categoria,color:me.color,precio:ze(me.precioCalculado),cliente:typeof me.clienteId=="object"&&me.clienteId!==null?me.clienteId.nombre||me.clienteId.fullName||me.clienteId.razonSocial||me.clienteId.email||String(me.clienteId._id||""):String(me.clienteId||""),fechaCreacion:Le(Oe),estado:xe(me.estado),backendEstado:me.estado,cotizacionId:me.cotizacionId||null,pedidoId:me.pedidoId||null,isRecent:tt,source:"personalizado"}}):[],[x]),ne=y.useMemo(()=>{if(!Array.isArray(N))return[];const me=[];for(const Oe of N){const We=typeof Oe.clienteId=="object"&&Oe.clienteId!==null?Oe.clienteId.nombre||Oe.clienteId.fullName||Oe.clienteId.razonSocial||Oe.clienteId.email||String(Oe.clienteId._id||""):String(Oe.clienteId||""),tt=Oe.createdAt||Oe.fecha,it=tt?new Date(tt):null,Ot=it?Date.now()-it.getTime()<=24*60*60*1e3:!1;(Array.isArray(Oe.items)?Oe.items:[]).forEach((bt,qt)=>{(bt.tipo||"otro")==="personalizado"&&me.push({id:`${Oe._id}:${qt}`,nombre:bt.nombre||"Personalizado",descripcion:bt.categoria?`Categoría: ${bt.categoria}`:"",categoria:bt.categoria||"Personalizado",color:"-",precio:ze(typeof bt.subtotal=="number"?bt.subtotal:Number(bt.precioUnitario||0)*Number(bt.cantidad||1)),cliente:We,fechaCreacion:Le(tt),estado:xe("en_proceso"),backendEstado:"en_proceso",cotizacionId:Oe.cotizacionId||null,pedidoId:Oe._id,isRecent:Ot,source:"pedido"})})}return me},[N]),ce=y.useMemo(()=>[...F,...ne],[F,ne]);y.useEffect(()=>{let me=!1;return(async()=>{var We,tt;try{const it=dn(`${_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/estadisticas/resumen`),Ot=await fetch(it,{credentials:_e.FETCH_CONFIG.credentials});if(!Ot.ok)throw new Error(`HTTP ${Ot.status}`);const At=await Ot.json().catch(()=>({})),bt=At&&typeof At=="object"&&(At.data||At)||{},qt=Array.isArray(bt.estadisticas)?bt.estadisticas:[],Un=((We=qt.find(ga=>ga._id==="en_proceso"))==null?void 0:We.count)??0,Zn=((tt=qt.find(ga=>ga._id==="completado"))==null?void 0:tt.count)??0,Xa=typeof bt.totalProductos=="number"?bt.totalProductos:qt.reduce((ga,Jt)=>ga+(Jt.count||0),0);me||k({total:Xa,enProceso:Un,completado:Zn})}catch{const Ot=ce.length,At=ce.filter(qt=>qt.estado==="En Proceso").length,bt=ce.filter(qt=>qt.estado==="Completado").length;me||k({total:Ot,enProceso:At,completado:bt})}})(),()=>{me=!0}},[h,ce]),y.useEffect(()=>{(async()=>{Z(!0),D(null);try{const Oe=await qe.get(dn(_e.ENDPOINTS.CATEGORIAS),{withCredentials:!0});Oe.data&&Array.isArray(Oe.data)&&R(Oe.data)}catch(Oe){console.error("Error fetching categories:",Oe),D("No se pudieron cargar las categorías")}finally{Z(!1)}})()},[]);const ae=y.useMemo(()=>Array.isArray(S)?S.map(me=>({value:me._id,label:me.nombre||me.fullName||me.razonSocial||me.email||String(me._id)})):[],[S]),J=y.useMemo(()=>X?[]:I.map(me=>({value:me.nombre,label:me.nombre})),[I,X]),we=y.useMemo(()=>Array.isArray(A)?A.map(me=>({value:me._id,label:me.nombre||me.modelo||String(me._id)})):[],[A]),U=y.useMemo(()=>Array.isArray(C)?C.map(me=>({value:me._id,label:me.nombre||me.descripcion||String(me._id)})):[],[C]),fe=ce.filter(me=>{const Oe=me.nombre.toLowerCase().includes(e.toLowerCase())||me.cliente.toLowerCase().includes(e.toLowerCase()),We=n==="todos"||me.categoria===n,tt=!O||me.isRecent;return Oe&&We&&tt}),De=async me=>{if(!me){z("Este personalizado no tiene cotización vinculada",3e3);return}try{const Oe=dn(`${_e.ENDPOINTS.COTIZACIONES}/${me}/convertir-a-pedido`),We=await fetch(Oe,{method:"POST",credentials:_e.FETCH_CONFIG.credentials,headers:{"Content-Type":"application/json"}}),tt=await We.json().catch(()=>({}));if(!We.ok)throw new Error(tt.message||`Error ${We.status}`);_("Cotización convertida en pedido",2500),g(it=>it+1)}catch(Oe){z(Oe.message||"No se pudo convertir a pedido",4e3)}},[se,Y]=y.useState(0),[ge,ie]=y.useState(5),ke=Math.max(1,Math.ceil(fe.length/ge)),Ve=fe.slice(se*ge,se*ge+ge),Ze=()=>Y(0),st=()=>Y(me=>me>0?me-1:me),lt=()=>Y(me=>me<ke-1?me+1:me),wt=()=>Y(ke-1);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(W2,{children:r.jsx(K2,{type:P.type,message:P.message,show:P.show,onClose:V,duration:P.duration})}),r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Personalizados"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:E.total})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(ma,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"En Proceso"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:E.enProceso})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(Va,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Completados"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:E.completado})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(ko,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Productos Personalizados"}),r.jsxs("button",{onClick:()=>o(!0),className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Añadir Personalizado"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Oa,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por producto o cliente...",value:e,onChange:me=>t(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[r.jsx(Uoe,{categories:I,selectedCategory:n,onCategorySelect:a,loading:X,error:H}),r.jsx("button",{onClick:()=>T(me=>!me),className:`px-4 py-2 rounded-lg transition-colors ${O?"bg-emerald-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Mostrar solo solicitudes de las últimas 24 horas",children:O?"Recientes (24h): ON":"Recientes (24h)"})]})]})}),r.jsxs("div",{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Producto"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Cliente"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Categoría"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Color"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Precio"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Fecha"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[b&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-6 text-center text-gray-500",children:"Cargando..."})}),!b&&j&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-6 text-center text-red-600",children:String(j)})}),!b&&!j&&Ve.map(me=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[me.nombre,me.isRecent&&r.jsx("span",{className:"px-2 py-0.5 text-[11px] rounded-full bg-green-100 text-green-700 border border-green-200",children:"Nuevo"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:me.descripcion})]})}),r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:me.cliente}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:me.categoria}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:me.color}),r.jsx("td",{className:"px-6 py-4 font-semibold text-cyan-600",children:me.precio}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:me.fechaCreacion}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("select",{value:me.backendEstado||"pendiente",onChange:Oe=>He(me.id,Oe.target.value),className:"px-3 py-1 border rounded-lg text-sm",children:ve.map(Oe=>r.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",onClick:()=>me.source==="pedido"?null:Ne(me.id),disabled:me.source==="pedido",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",onClick:()=>Ye(me),children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",onClick:()=>me.source==="pedido"?null:Be(me.id),disabled:me.source==="pedido",children:r.jsx(Wn,{className:"w-4 h-4"})}),me.source!=="pedido"&&r.jsx("button",{className:`p-2 ${me.cotizacionId?"text-cyan-700 hover:bg-cyan-50":"text-gray-400 cursor-not-allowed"} rounded-lg transition-colors`,title:me.cotizacionId?"Convertir cotización a pedido":"Sin cotización vinculada",disabled:!me.cotizacionId,onClick:()=>De(me.cotizacionId),children:r.jsx(ma,{className:"w-4 h-4"})})]})})]},me.id))]})]})}),!b&&!j&&fe.length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(ma,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos personalizados"}),r.jsx("p",{className:"text-gray-500",children:e?"Intenta con otros términos de búsqueda":"Comienza creando tu primer producto personalizado"})]}),r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:ge,onChange:me=>{ie(Number(me.target.value)),Y(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(me=>r.jsx("option",{value:me,children:me},me))}),r.jsx("span",{className:"text-gray-700",children:"por página"})]}),r.jsxs("div",{className:"flex items-center gap-2 m-[25px]",children:[r.jsx("button",{onClick:Ze,disabled:se===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:st,disabled:se===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Página ",se+1," de ",ke]}),r.jsx("button",{onClick:lt,disabled:se===ke-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{type:"button",onClick:wt,disabled:se===ke-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]})]})]}),s&&r.jsx(pr,{isOpen:s,onClose:()=>{o(!1)},onSubmit:re,title:"Crear Personalizado",formData:$,handleInputChange:Ee,errors:te,submitLabel:"Crear",gridCols:2,fields:[{name:"clienteId",label:"Cliente",type:"select",required:!0,options:ae},{name:"productoBaseId",label:"Producto Base (Lente)",type:"select",required:!0,options:we},{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripción",type:"textarea",required:!0,colSpan:2},{name:"categoria",label:"Categoría",type:"select",required:!0,options:J,loading:X},{name:"marcaId",label:"Marca",type:"select",required:!0,options:U},{name:"material",label:"Material",type:"text",required:!0},{name:"color",label:"Color",type:"text",required:!0},{name:"tipoLente",label:"Tipo de Lente",type:"text",required:!0},{name:"precioCalculado",label:"Precio Calculado",type:"number",required:!0},{name:"fechaEntregaEstimada",label:"Fecha Entrega Estimada",type:"date",required:!0},{name:"cotizacion.total",label:"Cotización Total",type:"number",required:!0,nested:!0},{name:"cotizacion.validaHasta",label:"Cotización Válida Hasta",type:"date",required:!0,nested:!0}]}),c&&r.jsx(pr,{isOpen:c,onClose:()=>{u(!1),m(null)},onSubmit:Ge,title:"Editar Personalizado",formData:$,handleInputChange:Ee,errors:te,submitLabel:"Guardar Cambios",gridCols:2,fields:[{name:"clienteId",label:"Cliente",type:"select",required:!0,options:ae},{name:"productoBaseId",label:"Producto Base (Lente)",type:"select",required:!0,options:we},{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripción",type:"textarea",required:!0,colSpan:2},{name:"categoria",label:"Categoría",type:"select",required:!0,options:J,loading:X},{name:"marcaId",label:"Marca",type:"select",required:!0,options:U},{name:"material",label:"Material",type:"text",required:!0},{name:"color",label:"Color",type:"text",required:!0},{name:"tipoLente",label:"Tipo de Lente",type:"text",required:!0},{name:"precioCalculado",label:"Precio Calculado",type:"number",required:!0},{name:"fechaEntregaEstimada",label:"Fecha Entrega Estimada",type:"date",required:!0},{name:"cotizacion.total",label:"Cotización Total",type:"number",required:!0,nested:!0},{name:"cotizacion.validaHasta",label:"Cotización Válida Hasta",type:"date",required:!0,nested:!0}]}),B&&r.jsx(_r,{isOpen:B,onClose:()=>{W(!1),K(null)},title:"Detalles del Personalizado",item:oe,data:oe?[{label:"ID",value:oe.id},{label:"Nombre",value:oe.nombre},{label:"Descripción",value:oe.descripcion||"-"},{label:"Cliente",value:oe.cliente||"-"},{label:"Categoría",value:oe.categoria||"-"},{label:"Color",value:oe.color||"-"},{label:"Precio",value:oe.precio||"-"},{label:"Fecha",value:oe.fechaCreacion||"-"},{label:"Estado",value:oe.estado||"-"},oe.cotizacionId?{label:"Cotización ID",value:oe.cotizacionId}:null,oe.pedidoId?{label:"Pedido ID",value:oe.pedidoId}:null,{label:"Origen",value:oe.source==="pedido"?"Pedido":"Personalizado"}].filter(Boolean):[]})]})},yh=[{name:"Tags",component:ia,category:"General"},{name:"Glasses",component:wo,category:"Óptica"},{name:"Eye",component:Qt,category:"Óptica"},{name:"Package",component:ma,category:"General"},{name:"ShoppingBag",component:Jb,category:"Comercio"},{name:"Heart",component:Dq,category:"General"},{name:"Star",component:ov,category:"General"},{name:"Home",component:zq,category:"General"},{name:"User",component:ks,category:"Personas"},{name:"Settings",component:Xk,category:"Sistema"},{name:"Bell",component:QB,category:"Sistema"},{name:"Calendar",component:Yr,category:"Tiempo"},{name:"Clock",component:Va,category:"Tiempo"},{name:"Mail",component:rc,category:"Comunicación"},{name:"Phone",component:Ci,category:"Comunicación"},{name:"Camera",component:_h,category:"Multimedia"},{name:"Image",component:Yb,category:"Multimedia"},{name:"Music",component:fF,category:"Multimedia"},{name:"Video",component:kV,category:"Multimedia"},{name:"Download",component:sv,category:"Acciones"},{name:"Upload",component:bi,category:"Acciones"},{name:"Folder",component:yq,category:"Archivos"},{name:"File",component:uq,category:"Archivos"},{name:"Archive",component:VB,category:"Archivos"},{name:"Bookmark",component:Ph,category:"General"},{name:"Flag",component:hq,category:"General"},{name:"Shield",component:UF,category:"Seguridad"},{name:"Lock",component:Xb,category:"Seguridad"},{name:"Key",component:qq,category:"Seguridad"},{name:"Zap",component:aT,category:"General"},{name:"Wifi",component:MV,category:"Tecnología"},{name:"Battery",component:XB,category:"Tecnología"},{name:"Bluetooth",component:rU,category:"Tecnología"},{name:"Headphones",component:Pq,category:"Multimedia"},{name:"Mic",component:iF,category:"Multimedia"},{name:"Speaker",component:WF,category:"Multimedia"},{name:"Monitor",component:lF,category:"Tecnología"},{name:"Smartphone",component:HF,category:"Tecnología"},{name:"Tablet",component:rV,category:"Tecnología"},{name:"Laptop",component:Vq,category:"Tecnología"},{name:"Car",component:AU,category:"Transporte"},{name:"Plane",component:CF,category:"Transporte"},{name:"Train",component:mV,category:"Transporte"},{name:"Bus",component:yU,category:"Transporte"},{name:"Bike",component:eU,category:"Transporte"},{name:"MapPin",component:vi,category:"Ubicación"},{name:"Navigation",component:hF,category:"Ubicación"},{name:"Compass",component:WU,category:"Ubicación"},{name:"Globe",component:Aq,category:"Ubicación"},{name:"Sun",component:nV,category:"Clima"},{name:"Moon",component:uF,category:"Clima"},{name:"Cloud",component:HU,category:"Clima"},{name:"Umbrella",component:wV,category:"Clima"},{name:"Snowflake",component:KF,category:"Clima"},{name:"Thermometer",component:cV,category:"Clima"},{name:"Wind",component:_V,category:"Clima"},{name:"Coffee",component:KU,category:"Comida"},{name:"Pizza",component:NF,category:"Comida"},{name:"Gift",component:Nq,category:"General"},{name:"Gamepad2",component:jq,category:"Entretenimiento"},{name:"Trophy",component:bV,category:"Entretenimiento"},{name:"Award",component:rv,category:"Entretenimiento"},{name:"Target",component:Jk,category:"General"},{name:"Briefcase",component:cU,category:"Trabajo"},{name:"Building",component:gU,category:"Lugares"},{name:"Store",component:eV,category:"Comercio"},{name:"Factory",component:oq,category:"Lugares"},{name:"Hospital",component:Lq,category:"Lugares"},{name:"School",component:RF,category:"Educación"},{name:"Book",component:iU,category:"Educación"},{name:"GraduationCap",component:Oq,category:"Educación"},{name:"Lightbulb",component:Zq,category:"General"},{name:"Palette",component:Zb,category:"Arte"},{name:"Brush",component:dU,category:"Arte"},{name:"Scissors",component:IF,category:"Herramientas"},{name:"Wrench",component:nT,category:"Herramientas"},{name:"Hammer",component:Tq,category:"Herramientas"},{name:"PaintBucket",component:xF,category:"Arte"},{name:"Ruler",component:Am,category:"Herramientas"},{name:"Calculator",component:bU,category:"Trabajo"},{name:"CreditCard",component:ZU,category:"Finanzas"},{name:"DollarSign",component:Si,category:"Finanzas"},{name:"TrendingUp",component:eT,category:"Finanzas"},{name:"TrendingDown",component:gV,category:"Finanzas"},{name:"BarChart",component:TU,category:"Finanzas"},{name:"PieChart",component:PU,category:"Finanzas"},{name:"Activity",component:qB,category:"Salud"},{name:"Droplet",component:aq,category:"Naturaleza"},{name:"Leaf",component:Wq,category:"Naturaleza"},{name:"Flower",component:gq,category:"Naturaleza"},{name:"Bug",component:mU,category:"Naturaleza"},{name:"Fish",component:fq,category:"Animales"},{name:"Dog",component:JU,category:"Animales"},{name:"Cat",component:OU,category:"Animales"},{name:"Bird",component:nU,category:"Animales"},{name:"Rabbit",component:OF,category:"Animales"}],eb=e=>{if(!e)return r.jsx(ia,{className:"w-6 h-6"});const t=yh.find(n=>n.name===e);if(t){const n=t.component;return r.jsx(n,{className:"w-6 h-6"})}return r.jsx(ia,{className:"w-6 h-6"})},Foe=({selectedIcon:e,onIconSelect:t,onClose:n})=>{const[a,s]=y.useState(""),[o,c]=y.useState("Todos"),u=["Todos",...new Set(yh.map(m=>m.category))],f=yh.filter(m=>{const h=m.name.toLowerCase().includes(a.toLowerCase()),g=o==="Todos"||m.category===o;return h&&g});return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[70] p-4",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-4 rounded-t-xl flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-bold",children:"Seleccionar Icono"}),r.jsx("button",{onClick:n,className:"text-white hover:bg-cyan-600 rounded-lg p-2 transition-colors",children:"×"})]}),r.jsx("div",{className:"p-4 border-b bg-gray-50",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Oa,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar icono...",value:a,onChange:m=>s(m.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsx("select",{value:o,onChange:m=>c(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:u.map(m=>r.jsx("option",{value:m,children:m},m))})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[r.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-2",children:f.map(m=>{const h=m.component,g=e===m.name;return r.jsxs("button",{onClick:()=>t(m.name),className:`p-3 rounded-lg border-2 transition-all duration-200 hover:scale-105 flex flex-col items-center justify-center min-h-[60px] ${g?"border-cyan-500 bg-cyan-50 text-cyan-600":"border-gray-200 hover:border-cyan-300 hover:bg-gray-50"}`,title:m.name,children:[r.jsx(h,{className:"w-6 h-6 mb-1"}),r.jsx("span",{className:"text-xs text-center leading-tight",children:m.name})]},m.name)})}),f.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(ia,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),r.jsx("p",{children:"No se encontraron iconos"})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:()=>{n()},className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-colors",children:"Seleccionar"})]})]})})},hO=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:o,errors:c,submitLabel:u="Guardar",isEditing:f=!1})=>{const[m,h]=y.useState(!1);if(!e)return null;const g=j=>{j.preventDefault(),n(j)},x=j=>{o({target:{name:"icono",value:j}}),h(!1)},b=()=>{if(!s.icono)return r.jsx(ia,{className:"w-6 h-6"});const j=yh.find(N=>N.name===s.icono);if(j){const N=j.component;return r.jsx(N,{className:"w-6 h-6"})}return r.jsx(ia,{className:"w-6 h-6"})};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto transform transition-all duration-300 animate-slideInScale",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6 rounded-t-xl sticky top-0 z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-xl font-bold",children:a}),r.jsx("button",{type:"button",onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:"×"})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),r.jsx("input",{name:"nombre",value:s.nombre||"",onChange:o,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 ${c.nombre?"border-red-500":"border-gray-300 hover:border-cyan-300"}`,placeholder:"Ingrese el nombre de la categoría"}),c.nombre&&r.jsxs("div",{className:"mt-1 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(Im,{className:"w-4 h-4"}),r.jsx("span",{children:c.nombre})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),r.jsx("textarea",{name:"descripcion",value:s.descripcion||"",onChange:o,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 resize-none ${c.descripcion?"border-red-500":"border-gray-300 hover:border-cyan-300"}`,rows:"3",placeholder:"Ingrese la descripción de la categoría"}),c.descripcion&&r.jsxs("div",{className:"mt-1 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(Im,{className:"w-4 h-4"}),r.jsx("span",{children:c.descripcion})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icono"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("button",{type:"button",onClick:()=>h(!0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg hover:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 flex items-center justify-between text-left",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[b(),r.jsx("span",{className:"text-gray-700",children:s.icono?`${s.icono}`:"Seleccionar icono"})]}),r.jsx(Oa,{className:"w-4 h-4 text-gray-400"})]})}),s.icono&&r.jsx("button",{type:"button",onClick:()=>o({target:{name:"icono",value:""}}),className:"px-3 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Limpiar icono",children:"×"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Haz clic para seleccionar un icono de la librería"})]})]}),r.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-xl flex justify-end space-x-3 sticky bottom-0 z-10",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all duration-200 hover:scale-105",children:"Cancelar"}),r.jsxs("button",{type:"submit",onClick:g,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105 flex items-center space-x-2",children:[r.jsx(zl,{className:"w-4 h-4"}),r.jsx("span",{children:u})]})]})]})}),m&&r.jsx(Foe,{selectedIcon:s.icono,onIconSelect:x,onClose:()=>h(!1)})]})},Voe=({isOpen:e,onClose:t,categoria:n})=>!e||!n?null:r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col transform transition-all duration-300 animate-slideInScale",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-5 rounded-t-xl flex justify-between items-center flex-shrink-0",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Detalles de Categoría"}),r.jsx("button",{onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:"×"})]}),r.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:eb(n.icono)}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:n.nombre}),r.jsx("p",{className:"text-gray-500",children:"Categoría"})]})]}),r.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"ID"}),r.jsx("p",{className:"text-gray-800 text-right break-all",children:n._id})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Nombre"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.nombre})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Descripción"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.descripcion})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Fecha de Creación"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("es-ES"):"N/A"})]}),r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Última Actualización"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.updatedAt?new Date(n.updatedAt).toLocaleDateString("es-ES"):"N/A"})]})]})]}),r.jsx("div",{className:"p-4 bg-gray-50 rounded-b-xl flex justify-end flex-shrink-0",children:r.jsx("button",{onClick:t,className:"px-5 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105",children:"Cerrar"})})]})}),Hoe=()=>{const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState({type:"",message:""}),[c,u]=y.useState(""),[f,m]=y.useState(0),[h,g]=y.useState(5),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,A]=y.useState(!1),[C,E]=y.useState(null),[k,O]=y.useState(!1),[T,P]=y.useState(null),[_,z]=y.useState({nombre:"",descripcion:"",icono:""}),[V,B]=y.useState({}),W=_e.ENDPOINTS.CATEGORIAS,oe=async(Ne="",He={})=>{const Ye=ae=>`${ae}${W}${Ne}`,F=async ae=>{const J=Ye(ae),we=new AbortController,U=setTimeout(()=>we.abort(),_e.TIMEOUTS.REQUEST);try{const fe=await fetch(J,{..._e.FETCH_CONFIG,...He,signal:we.signal});if(clearTimeout(U),!fe.ok){const De=await fe.text().catch(()=>"");throw new Error(`HTTP ${fe.status} ${fe.statusText} - ${De}`)}return _e.BASE_URL=ae,await fe.json()}catch(fe){throw clearTimeout(U),fe}},ne=_e.BASE_URL,ce=ne.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"https://a-u-r-o-r-a.onrender.com/api/api";try{return await F(ne)}catch(ae){if(ae.name==="AbortError"||ae instanceof TypeError||ae.message&&(ae.message.includes("Failed to fetch")||ae.message.includes("NetworkError")))try{return await F(ce)}catch(J){throw J}throw ae}},K=async()=>{try{a(!0);const Ne=await oe("",{method:"GET"});Array.isArray(Ne)?t(Ne):Ne.message&&(ve("error",Ne.message),t([]))}catch{ve("error","Error al conectar con el servidor"),t([])}finally{a(!1)}};y.useEffect(()=>{K()},[]);const I=()=>{var He,Ye;const Ne={};return(He=_.nombre)!=null&&He.trim()||(Ne.nombre="El nombre es obligatorio"),(Ye=_.descripcion)!=null&&Ye.trim()||(Ne.descripcion="La descripción es obligatoria"),B(Ne),Object.keys(Ne).length===0},R=Ne=>{const{name:He,value:Ye}=Ne.target;z(F=>({...F,[He]:Ye})),V[He]&&B(F=>({...F,[He]:""}))},X=async Ne=>{if(Ne.preventDefault(),!!I())try{const He=await oe("",{method:"POST",body:JSON.stringify(_)});He.message==="categoria guardada"?(await K(),b(!1),$(),ve("success","Categoría creada exitosamente")):ve("error",He.message||"Error al crear la categoría")}catch{ve("error","Error al conectar con el servidor")}},Z=async Ne=>{if(Ne.preventDefault(),!!I())try{const He=await oe(`/${C._id}`,{method:"PUT",body:JSON.stringify(_)});He.message==="Categoria actualizada"?(await K(),N(!1),$(),E(null),ve("success","Categoría actualizada exitosamente")):ve("error",He.message||"Error al actualizar la categoría")}catch{ve("error","Error al conectar con el servidor")}},H=Ne=>{P(Ne),O(!0)},D=async()=>{if(T)try{const Ne=await oe(`/${T}`,{method:"DELETE"});Ne.message==="Categoria eliminada"?(await K(),ve("success","Categoría eliminada exitosamente")):ve("error",Ne.message||"Error al eliminar la categoría")}catch{ve("error","Error al conectar con el servidor")}finally{O(!1),P(null)}},$=()=>{z({nombre:"",descripcion:"",icono:""}),B({}),xe()},G=Ne=>{E(Ne),z({nombre:Ne.nombre,descripcion:Ne.descripcion,icono:Ne.icono||""}),B({}),N(!0)},te=Ne=>{E(Ne),A(!0)},Q=()=>{b(!1),N(!1),A(!1),O(!1),E(null),$(),xe()},ve=(Ne,He)=>{o({type:Ne,message:He}),setTimeout(()=>o({type:"",message:""}),5e3)},xe=()=>{o({type:"",message:""})},ze=e.filter(Ne=>{var He,Ye;return((He=Ne.nombre)==null?void 0:He.toLowerCase().includes(c.toLowerCase()))||((Ye=Ne.descripcion)==null?void 0:Ye.toLowerCase().includes(c.toLowerCase()))}),Le=Math.ceil(ze.length/h),Ee=ze.slice(f*h,f*h+h),Fe=()=>m(0),Ke=()=>m(Ne=>Math.max(0,Ne-1)),re=()=>m(Ne=>Math.min(Le-1,Ne+1)),Be=()=>m(Le-1),Ge=e.length;return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("div",{className:"sticky top-2 z-40",children:r.jsx(yr,{type:s.type||"info",message:s.message,onClose:xe})}),r.jsx(Xr,{isOpen:k,onClose:()=>{O(!1),P(null)},onConfirm:D,title:"Confirmar eliminación",message:"¿Está seguro de que desea eliminar esta categoría? Esta acción no se puede deshacer."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Categorías"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:Ge})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(ia,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Categorías Activas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:Ge})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(ko,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"En Esta Página"}),r.jsx("p",{className:"text-3xl font-bold text-cyan-600 mt-2",children:Ee.length})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(ma,{className:"w-6 h-6 text-cyan-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestión de Categorías"}),r.jsxs("button",{onClick:()=>{$(),b(!0)},className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Añadir Categoría"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Oa,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar categoría...",value:c,onChange:Ne=>{u(Ne.target.value),m(0)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]})})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Nombre"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Descripción"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Icono"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Fecha Creación"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Ee.map(Ne=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:Ne.nombre}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:Ne.descripcion}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-lg flex items-center justify-center text-cyan-600",children:eb(Ne.icono)})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:Ne.createdAt?new Date(Ne.createdAt).toLocaleDateString("es-ES"):"N/A"}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>H(Ne._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>te(Ne),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>G(Ne),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]},Ne._id))})]})}),ze.length===0&&!n&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(ia,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron categorías"}),r.jsx("p",{className:"text-gray-500",children:c?"Intenta con otros términos de búsqueda":"Comienza creando tu primera categoría"})]}),ze.length>0&&r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:h,onChange:Ne=>{g(Number(Ne.target.value)),m(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(Ne=>r.jsx("option",{value:Ne,children:Ne},Ne))}),r.jsx("span",{className:"text-gray-700",children:"por página"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:Fe,disabled:f===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:Ke,disabled:f===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Página ",f+1," de ",Le]}),r.jsx("button",{onClick:re,disabled:f===Le-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:Be,disabled:f===Le-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsx("h3",{className:"text-xl font-bold",children:"Vista Rápida de Categorías"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ze.slice(0,6).map(Ne=>r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>te(Ne),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center text-cyan-600",children:eb(Ne.icono)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:Ne.nombre}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:Ne.descripcion})]})]})},`card-${Ne._id}`))})})]}),r.jsx(hO,{isOpen:x,onClose:Q,onSubmit:X,title:"Agregar Nueva Categoría",formData:_,handleInputChange:R,errors:V,submitLabel:"Crear Categoría"}),r.jsx(hO,{isOpen:j,onClose:Q,onSubmit:Z,title:"Editar Categoría",formData:_,handleInputChange:R,errors:V,submitLabel:"Actualizar Categoría",isEditing:!0}),r.jsx(Voe,{isOpen:S,onClose:Q,categoria:C})]})},Goe=(e,t)=>{const[n,a]=y.useState(e),[s,o]=y.useState({});return{formData:n,setFormData:a,handleInputChange:m=>{const{name:h,value:g}=m.target;if(h.includes(".")){const x=h.split(".");a(b=>({...b,[x[0]]:{...b[x[0]],[x[1]]:g}}))}else a(x=>({...x,[h]:g}));s[h]&&o(x=>({...x,[h]:""}))},validateForm:()=>{const m=t?t(n):{};return o(m),Object.keys(m).length===0},resetForm:()=>{a(e),o({})},errors:s,setErrors:o}},Koe=(e,t)=>{const[n,a]=y.useState(0),s=Math.ceil(e.length/t);return{paginatedData:e.slice(n*t,(n+1)*t),currentPage:n,totalPages:s,setCurrentPage:a,pageSize:t}},Yoe=({title:e,buttonLabel:t,onButtonClick:n})=>r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:e}),r.jsxs("button",{onClick:n,className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:t})]})]})}),Woe=({stats:e})=>r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:e.map((t,n)=>r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:t.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:t.value})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(t.Icon,{className:"w-6 h-6 text-cyan-600"})})]})},n))}),Xoe=({searchTerm:e,onSearchChange:t,placeholder:n,filters:a,activeFilter:s,onFilterChange:o})=>r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Oa,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:n,value:e,onChange:t,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:a.map((c,u)=>r.jsx("button",{onClick:()=>o(c.value),className:`px-4 py-2 rounded-lg transition-colors ${s===c.value?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:c.label},u))})]})}),Zoe=({columns:e,data:t,renderRow:n,loading:a,noDataMessage:s,noDataSubMessage:o})=>a?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando..."})]}):t.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Ph,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s}),r.jsx("p",{className:"text-gray-500",children:o})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsx("tr",{children:e.map((c,u)=>r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:c.header},u))})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((c,u)=>r.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:n(c)},c._id||u))})]})}),Qoe=({currentPage:e,totalPages:t,setCurrentPage:n})=>r.jsx("div",{className:"p-6 flex justify-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>n(0),disabled:e===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:()=>n(a=>Math.max(0,a-1)),disabled:e===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium px-4",children:["Página ",e+1," de ",t]}),r.jsx("button",{onClick:()=>n(a=>Math.min(t-1,a+1)),disabled:e===t-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:()=>n(t-1),disabled:e===t-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})}),Joe=({alert:e})=>{if(!e)return null;const t=n=>{switch(n){case"success":return"bg-green-100 border-green-400 text-green-700";case"error":return"bg-red-100 border-red-400 text-red-700";case"warning":return"bg-yellow-100 border-yellow-400 text-yellow-700";default:return"bg-blue-100 border-blue-400 text-blue-700"}};return r.jsx("div",{className:`border px-4 py-3 rounded ${t(e.type)} animate-slideInDown`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(mt,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:e.message})]})})},ele=({isOpen:e,onClose:t,onConfirm:n,title:a,message:s,confirmLabel:o="Confirmar",cancelLabel:c="Cancelar"})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 animate-slideInScale",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:a}),r.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-line",children:s}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:c}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:o})]})]})})}):null,tle=({isOpen:e,onClose:t,title:n,item:a,data:s=[],children:o})=>{var c;return!e||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 animate-slideInScale",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-5 rounded-t-xl flex justify-between items-center flex-shrink-0",children:[r.jsx("h3",{className:"text-xl font-bold",children:n}),r.jsx("button",{onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:r.jsx(hr,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.logo?r.jsx("img",{src:a.logo,alt:a.nombre,className:"w-full h-full rounded-full object-cover"}):r.jsx("span",{className:"text-cyan-600 font-bold text-2xl",children:(c=a.nombre)==null?void 0:c.charAt(0)})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:a.nombre}),r.jsx("p",{className:"text-gray-500",children:a.paisOrigen})]})]}),r.jsx("div",{className:"space-y-2 pt-4 border-t",children:s.map((u,f)=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between py-2 border-b last:border-b-0",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:u.label}),u.color?r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.color} mt-1 sm:mt-0`,children:u.value}):r.jsx("p",{className:"text-gray-800 text-left sm:text-right break-words",children:u.value})]},f))}),o&&r.jsx("div",{className:"space-y-4",children:o})]}),r.jsx("div",{className:"p-4 bg-gray-50 rounded-b-xl flex justify-end flex-shrink-0",children:r.jsx("button",{onClick:t,className:"px-5 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105",children:"Cerrar"})})]})})},nle=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:o,errors:c,submitLabel:u,submitIcon:f,fields:m=[],children:h,gridCols:g=2})=>{if(!e)return null;const x=j=>{j.preventDefault(),n()},b=(j,N)=>{const{name:S,label:A,type:C,options:E,required:k,colSpan:O=1,placeholder:T,...P}=j,_=k?`${A} *`:A,z=c[S],V={name:S,value:Array.isArray(s[S])?s[S]:s[S]||"",onChange:o,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-sm ${z?"border-red-500":"border-gray-300 hover:border-cyan-300"}`,placeholder:T,...P};let B;switch(C){case"select":B=r.jsxs("select",{...V,children:[r.jsx("option",{value:"",children:"Seleccione una opción"}),E.map(W=>r.jsx("option",{value:typeof W=="object"?W.value:W,children:typeof W=="object"?W.label:W},typeof W=="object"?W.value:W))]});break;case"multi-select":B=r.jsxs("div",{children:[r.jsx("select",{...V,multiple:!0,size:"4",onChange:W=>{const oe=Array.from(W.target.selectedOptions,K=>K.value);o({target:{name:S,value:oe}})},children:E.map(W=>r.jsx("option",{value:typeof W=="object"?W.value:W,children:typeof W=="object"?W.label:W},typeof W=="object"?W.value:W))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mantén presionado Ctrl (Cmd en Mac) para seleccionar múltiples opciones"})]});break;case"textarea":B=r.jsx("textarea",{...V,rows:"3",className:`${V.className} resize-none`});break;default:B=r.jsx("input",{...V,type:C||"text"})}return r.jsxs("div",{className:`col-span-${O}`,children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:_}),B,z&&r.jsxs("div",{className:"mt-1 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:z})]})]},S||N)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4 animate-fadeIn",children:r.jsxs("form",{onSubmit:x,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl md:max-w-4xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 animate-slideInScale",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-4 sm:p-6 rounded-t-xl sticky top-0 z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:a}),r.jsx("button",{type:"button",onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-1.5 sm:p-2 transition-all duration-200 hover:scale-110",children:r.jsx(hr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-${g} gap-3 sm:gap-4`,children:[h,m.map((j,N)=>b(j,N))]})}),r.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 rounded-b-xl flex flex-col sm:flex-row justify-end gap-2 sm:space-x-3 sticky bottom-0 z-10",children:[r.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all duration-200 hover:scale-105 text-sm sm:text-base",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105 flex items-center justify-center space-x-2 text-sm sm:text-base",children:[f||r.jsx(zl,{className:"w-4 h-4"}),r.jsx("span",{children:u})]})]})]})})},dm=_e.ENDPOINTS.MARCAS,fm=async(e,t,n,a={})=>{const s=f=>`${f}${t}`,o=async f=>{const m=s(f),h=await qe({url:m,method:e,data:n,withCredentials:!0,headers:{"Content-Type":"application/json",...a.headers||{}},...a});return _e.BASE_URL=f,h},c=_e.BASE_URL,u=c.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await o(c)}catch(f){const m=(f==null?void 0:f.message)||"";if(f.code==="ECONNABORTED"||m.includes("Network Error")||m.includes("ECONNREFUSED"))return await o(u);throw f}},ale=()=>{var Ye;const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState(null),[c,u]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(""),[S,A]=y.useState("todas"),[C,E]=y.useState(!1),k={nombre:"",descripcion:"",logo:"",paisOrigen:"",lineas:[]},O=F=>{var ce,ae,J;const ne={};return(ce=F.nombre)!=null&&ce.trim()||(ne.nombre="El nombre es requerido"),(ae=F.descripcion)!=null&&ae.trim()||(ne.descripcion="La descripción es requerida"),(J=F.paisOrigen)!=null&&J.trim()||(ne.paisOrigen="El país de origen es requerido"),(!F.lineas||F.lineas.length===0)&&(ne.lineas="Debe seleccionar al menos una línea"),ne},{formData:T,setFormData:P,handleInputChange:_,resetForm:z,validateForm:V,errors:B,setErrors:W}=Goe(k,O),oe=async()=>{var F,ne;a(!0);try{const ce=await fm("get",dm);t(ce.data)}catch(ce){console.error("Error al cargar marcas:",ce),$("error","Error al cargar las marcas: "+(((ne=(F=ce.response)==null?void 0:F.data)==null?void 0:ne.message)||ce.message))}finally{a(!1)}},K=async F=>{var ne,ce;try{await fm("post",dm,{...F,fechaCreacion:new Date().toISOString()}),await oe(),$("success","¡Marca creada exitosamente!"),G()}catch(ae){console.error("Error al crear marca:",ae),$("error","Error al crear la marca: "+(((ce=(ne=ae.response)==null?void 0:ne.data)==null?void 0:ce.message)||ae.message))}},I=async(F,ne)=>{var ce,ae;try{await fm("put",`${dm}/${F}`,{...ne,fechaActualizacion:new Date().toISOString()}),await oe(),$("success","¡Marca actualizada exitosamente!"),G()}catch(J){console.error("Error al actualizar marca:",J),$("error","Error al actualizar la marca: "+(((ae=(ce=J.response)==null?void 0:ce.data)==null?void 0:ae.message)||J.message))}},R=async F=>{var ne,ce;try{await fm("delete",`${dm}/${F}`),await oe(),$("success","¡Marca eliminada exitosamente!"),G()}catch(ae){console.error("Error al eliminar marca:",ae),$("error","Error al eliminar la marca: "+(((ce=(ne=ae.response)==null?void 0:ne.data)==null?void 0:ce.message)||ae.message))}};y.useEffect(()=>{oe();const F=document.createElement("script");return F.src="https://widget.cloudinary.com/v2.0/global/all.js",F.async=!0,document.body.appendChild(F),()=>{document.body.contains(F)&&document.body.removeChild(F)}},[]);const X=y.useMemo(()=>e.filter(F=>{var ae,J,we,U,fe;const ne=((ae=F.nombre)==null?void 0:ae.toLowerCase().includes(j.toLowerCase()))||((J=F.descripcion)==null?void 0:J.toLowerCase().includes(j.toLowerCase()))||((we=F.paisOrigen)==null?void 0:we.toLowerCase().includes(j.toLowerCase()));let ce=!0;return S==="premium"?ce=(U=F.lineas)==null?void 0:U.includes("Premium"):S==="economica"&&(ce=(fe=F.lineas)==null?void 0:fe.includes("Económica")),ne&&ce}),[e,j,S]),{paginatedData:Z,...H}=Koe(X,5),D=y.useMemo(()=>{const F=e.length,ne=e.filter(J=>{var we;return(we=J.lineas)==null?void 0:we.includes("Premium")}).length,ce=e.filter(J=>{var we;return(we=J.lineas)==null?void 0:we.includes("Económica")}).length,ae=[...new Set(e.map(J=>J.paisOrigen).filter(Boolean))].length;return[{title:"Total Marcas",value:F,Icon:Ph},{title:"Líneas Premium",value:ne,Icon:ia},{title:"Líneas Económicas",value:ce,Icon:ma},{title:"Países",value:ae,Icon:vi}]},[e]),$=(F,ne)=>{u({type:F,message:ne}),setTimeout(()=>u(null),5e3)},G=()=>{m(!1),g(!1),b(!1),o(null),z()},te=()=>{z(),o(null),m(!0)},Q=F=>{o(F),P({nombre:F.nombre||"",descripcion:F.descripcion||"",logo:F.logo||"",paisOrigen:F.paisOrigen||"",lineas:F.lineas||[]}),W({}),m(!0)},ve=F=>{o(F),g(!0)},xe=F=>{o(F),b(!0)},ze=async()=>{if(!V())return;const F={nombre:T.nombre.trim(),descripcion:T.descripcion.trim(),paisOrigen:T.paisOrigen.trim(),lineas:T.lineas,logo:T.logo||""};s?await I(s._id,F):await K(F)},Le=async()=>{s&&await R(s._id)},Ee=()=>{if(!window.cloudinary){$("error","Error: Cloudinary no está disponible. Verifica la configuración.");return}E(!0),window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil",uploadPreset:void 0,folder:"marcas",sources:["local","url","camera"],multiple:!1,maxFileSize:5e6,clientAllowedFormats:["png","jpg","jpeg","webp"],cropping:!0,croppingAspectRatio:1.5,showSkipCropButton:!1,croppingDefaultSelectionRatio:1,gravity:"center",theme:"minimal"},(ne,ce)=>{if(E(!1),ne){$("error","Error al subir imagen: "+ne.message);return}if(ce.event==="success"){const ae=ce.info.secure_url;P(J=>({...J,logo:ae})),$("success","Imagen subida exitosamente")}}).open()},Fe=()=>{P(F=>({...F,logo:""}))},Ke=F=>{switch(F){case"Premium":return"bg-purple-100 text-purple-800";case"Económica":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},re=F=>F?new Date(F).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No disponible",Be=[{header:"Marca",key:"marca"},{header:"Descripción",key:"descripcion"},{header:"Logo",key:"logo"},{header:"Líneas",key:"lineas"},{header:"País Origen",key:"paisOrigen"},{header:"Fecha Creación",key:"fechaCreacion"},{header:"Acciones",key:"acciones"}],Ge=F=>{var ne,ce;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.nombre}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",((ne=F._id)==null?void 0:ne.slice(-6))||"N/A"]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 max-w-xs",children:r.jsx("p",{className:"truncate",title:F.descripcion,children:F.descripcion})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"w-16 h-12 bg-white rounded-lg border border-gray-200 flex items-center justify-center overflow-hidden",children:[F.logo?r.jsx("img",{src:F.logo,alt:`Logo de ${F.nombre}`,className:"max-w-full max-h-full object-contain",onError:ae=>{ae.target.style.display="none",ae.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:`${F.logo?"hidden":"flex"} w-full h-full bg-gray-100 items-center justify-center text-gray-400 text-xs`,children:"Sin logo"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:((ce=F.lineas)==null?void 0:ce.map((ae,J)=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ke(ae)}`,children:ae},J)))||r.jsx("span",{className:"text-gray-400 text-sm",children:"Sin líneas"})})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vi,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:F.paisOrigen})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-500 text-sm",children:re(F.createdAt||F.fechaCreacion)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>xe(F),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ve(F),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(F),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]})},Ne=[{name:"nombre",label:"Nombre de la Marca",type:"text",required:!0,placeholder:"Ej: Ray-Ban, Nike, Adidas...",colSpan:1},{name:"paisOrigen",label:"País de Origen",type:"text",required:!0,placeholder:"Ej: Estados Unidos, Alemania...",colSpan:1},{name:"lineas",label:"Líneas de Productos",type:"multi-select",required:!0,options:[{value:"Premium",label:"Premium"},{value:"Económica",label:"Económica"}],colSpan:2},{name:"descripcion",label:"Descripción",type:"textarea",required:!0,placeholder:"Describe la marca, su enfoque, características principales...",colSpan:2}],He=[{label:"Todas",value:"todas"},{label:"Premium",value:"premium"},{label:"Económica",value:"economica"}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(Joe,{alert:c}),r.jsx(Woe,{stats:D}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Yoe,{title:"Gestión de Marcas",buttonLabel:"Añadir Marca",onButtonClick:te}),r.jsx(Xoe,{searchTerm:j,onSearchChange:F=>N(F.target.value),placeholder:"Buscar por nombre, descripción o país...",filters:He,activeFilter:S,onFilterChange:A}),r.jsx(Zoe,{columns:Be,data:Z,renderRow:Ge,loading:n,noDataMessage:"No se encontraron marcas",noDataSubMessage:j?"Intenta con otros términos de búsqueda":"Aún no hay marcas registradas"}),X.length>0&&r.jsx(Qoe,{...H})]}),r.jsx(nle,{isOpen:f,onClose:G,onSubmit:ze,title:s?"Editar Marca":"Agregar Nueva Marca",formData:T,handleInputChange:_,errors:B,submitLabel:s?"Actualizar Marca":"Guardar Marca",submitIcon:r.jsx(zl,{className:"w-4 h-4"}),fields:Ne,gridCols:2,children:r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo de la Marca"}),T.logo?r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:T.logo,alt:"Logo preview",className:"w-32 h-20 object-contain border border-gray-300 rounded-lg bg-white p-2"}),r.jsx("button",{type:"button",onClick:Fe,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(hr,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("button",{type:"button",onClick:Ee,disabled:C,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 disabled:opacity-50 transition-all duration-200 flex items-center space-x-2",children:[r.jsx(_h,{className:"w-4 h-4"}),r.jsx("span",{children:"Cambiar Logo"})]})})]}):r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-cyan-400 transition-colors",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(bi,{className:"w-12 h-12 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-2",children:"Subir logo de la marca"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"PNG, JPG, JPEG o WEBP (máx. 5MB)"})]}),r.jsx("button",{type:"button",onClick:Ee,disabled:C,className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 disabled:opacity-50 transition-all duration-200 flex items-center space-x-2 mx-auto",children:C?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Subiendo..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(bi,{className:"w-4 h-4"}),r.jsx("span",{children:"Seleccionar Archivo"})]})})]})}),B.logo&&r.jsxs("div",{className:"mt-2 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{children:B.logo})]})]})}),r.jsx(tle,{isOpen:h,onClose:G,title:"Detalles de la Marca",item:s,data:s?[{label:"Nombre",value:s.nombre},{label:"Descripción",value:s.descripcion},{label:"País de Origen",value:s.paisOrigen},{label:"Líneas",value:((Ye=s.lineas)==null?void 0:Ye.join(", "))||"No especificadas"},{label:"Fecha de Creación",value:re(s.createdAt||s.fechaCreacion)},{label:"Última Actualización",value:re(s.updatedAt||s.fechaActualizacion)}]:[],children:(s==null?void 0:s.logo)&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Logo:"}),r.jsx("div",{className:"flex justify-center p-4 bg-gray-50 rounded-lg",children:r.jsx("img",{src:s.logo,alt:`Logo de ${s.nombre}`,className:"max-w-48 max-h-24 object-contain"})})]})}),r.jsx(ele,{isOpen:x,onClose:G,onConfirm:Le,title:"Confirmar Eliminación",message:`¿Estás seguro de que deseas eliminar la marca "${s==null?void 0:s.nombre}"?

Esta acción no se puede deshacer.`,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})},Ji=(e,t=_e.BASE_URL)=>`${t}${e}`;qe.defaults.withCredentials=!0;const rle=({currentImage:e,onImageChange:t,promocionName:n=""})=>{const[a,s]=y.useState(!1),o=()=>{if(!window.cloudinary){alert("Error: Cloudinary no está disponible. Recarga la página.");return}window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko VITE_CLOUDINARY_UPLOAD_PRESET=empleados_perfil",uploadPreset:void 0,sources:["local","url"],folder:"promociones",multiple:!1,cropping:!0,croppingAspectRatio:16/9,maxImageFileSize:1e7,clientAllowedFormats:["jpg","jpeg","png","webp"],styles:{palette:{window:"#FFFFFF",windowBorder:"#0891B2",tabIcon:"#0891B2",link:"#0891B2",action:"#0891B2"}},text:{es:{"queue.title":"Subir Imagen de Promoción","local.browse":"Seleccionar Archivo","crop.title":"Recortar Imagen","crop.crop_btn":"Recortar","crop.cancel_btn":"Cancelar"}}},(u,f)=>{if(u){console.error("Error en Cloudinary:",u),s(!1);return}if(f&&f.event==="upload-added"&&s(!0),f&&f.event==="success"){const m={url:f.info.secure_url,metadata:{publicId:f.info.public_id,width:f.info.width,height:f.info.height,format:f.info.format}};t(m),s(!1)}}).open()};return r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Imagen de Promoción"}),r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:border-cyan-500 transition-colors",children:e?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:e,alt:n,className:"w-full h-48 object-cover rounded-lg mb-4"}),r.jsx("button",{type:"button",onClick:o,className:"w-full bg-cyan-500 hover:bg-cyan-600 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Subiendo..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(_h,{className:"w-5 h-5"}),r.jsx("span",{children:"Cambiar Imagen"})]})})]}):r.jsxs("div",{className:"text-center",children:[r.jsx(Yb,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("button",{type:"button",onClick:o,className:"bg-cyan-500 hover:bg-cyan-600 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors mx-auto",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Subiendo..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(bi,{className:"w-5 h-5"}),r.jsx("span",{children:"Subir Imagen"})]})}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Recomendado: 1200x675px (16:9) para mejor visualización en el carrusel"})]})})]})},sle=()=>{const[e,t]=y.useState(""),[n,a]=y.useState("todas"),[s,o]=y.useState([]),[c,u]=y.useState([]),[f,m]=y.useState([]),[h,g]=y.useState(!0),[x,b]=y.useState(null),[j,N]=y.useState(!1),[S,A]=y.useState(!1),[C,E]=y.useState(!1),[k,O]=y.useState(null),[T,P]=y.useState(0),[_,z]=y.useState(5),V={nombre:"",descripcion:"",tipoDescuento:"porcentaje",valorDescuento:0,aplicaA:"todos",categoriasAplicables:[],lentesAplicables:[],fechaInicio:"",fechaFin:"",codigoPromo:"",imagenPromocion:"",imagenMetadata:{},activo:!0,prioridad:0,mostrarEnCarrusel:!0,limiteUsos:null},[B,W]=y.useState(V),[oe,K]=y.useState({}),I=(U,fe)=>{b({type:U,message:fe}),setTimeout(()=>b(null),5e3)},R=async()=>{var U,fe;g(!0);try{const De=await qe.get(Ji(_e.ENDPOINTS.PROMOCIONES)),se=await qe.get(Ji(_e.ENDPOINTS.CATEGORIAS)),Y=await qe.get(Ji(_e.ENDPOINTS.LENTES));o(Array.isArray(De.data)?De.data:[]),u(Array.isArray(se.data)?se.data:[]);let ge=[];Y.data&&Y.data.data&&Array.isArray(Y.data.data)?(ge=Y.data.data,console.log("Lentes cargados (paginación):",ge.length)):Array.isArray(Y.data)&&(ge=Y.data,console.log("Lentes cargados (directo):",ge.length));let ie=[];try{const Ve=await qe.get(Ji(_e.ENDPOINTS.ACCESORIOS));Ve.data&&Ve.data.data&&Array.isArray(Ve.data.data)?ie=Ve.data.data:Array.isArray(Ve.data)&&(ie=Ve.data),console.log("Accesorios cargados:",ie.length)}catch(Ve){console.warn("Endpoint de accesorios no disponible:",Ve.message)}const ke=[...ge.map(Ve=>({...Ve,tipo:"lente"})),...ie.map(Ve=>({...Ve,tipo:"accesorio"}))];m(ke),console.log("Total productos finales:",ke.length)}catch(De){console.error("Error detallado cargando datos:",De.response||De),I("error","Error cargando datos de promociones: "+(((fe=(U=De.response)==null?void 0:U.data)==null?void 0:fe.message)||De.message))}finally{g(!1)}};y.useEffect(()=>{R()},[]),y.useEffect(()=>{console.log("Estado productos actualizado:",f.length,f)},[f]);const X=U=>{const fe=new Date,De=U.fechaInicio?new Date(U.fechaInicio):null,se=U.fechaFin?new Date(U.fechaFin):null;return U.activo===!1?"Inactiva":U.limiteUsos&&U.usos>=U.limiteUsos?"Agotada":De&&fe<De?"Programada":se&&fe>se?"Expirada":"Activa"},Z=y.useMemo(()=>{const U=e.trim().toLowerCase();let fe=Array.isArray(s)?s:[];return U&&(fe=fe.filter(De=>{var se,Y,ge;return((se=De.nombre)==null?void 0:se.toLowerCase().includes(U))||((Y=De.descripcion)==null?void 0:Y.toLowerCase().includes(U))||((ge=De.codigoPromo)==null?void 0:ge.toLowerCase().includes(U))})),n!=="todas"&&(fe=fe.filter(De=>X(De).toLowerCase()===n)),fe},[s,e,n]),H=Math.ceil((Z.length||0)/_)||1,D=Z.slice(T*_,T*_+_),$=()=>P(0),G=()=>P(U=>U>0?U-1:U),te=()=>P(U=>U<H-1?U+1:U),Q=()=>P(H-1),ve=U=>{switch(U){case"Activa":return"bg-green-100 text-green-800";case"Expirada":return"bg-red-100 text-red-800";case"Programada":return"bg-blue-100 text-blue-800";case"Agotada":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},xe=U=>{switch((U||"").toString().toLowerCase()){case"porcentaje":return r.jsx(Yk,{className:"w-5 h-5 text-cyan-600"});case"monto":return r.jsx(xs,{className:"w-5 h-5 text-purple-600"});case"2x1":return r.jsx(xs,{className:"w-5 h-5 text-orange-600"});default:return null}},ze=s.length,Le=s.filter(U=>X(U)==="Activa").length,Ee=s.filter(U=>X(U)==="Programada").length,Fe=s.filter(U=>U.mostrarEnCarrusel&&X(U)==="Activa").length,Ke=()=>{O(null),W(V),K({}),N(!0)},re=U=>{O(U),W({nombre:U.nombre||"",descripcion:U.descripcion||"",tipoDescuento:(U.tipoDescuento||"porcentaje").toString().toLowerCase(),valorDescuento:Number(U.valorDescuento||0),aplicaA:(U.aplicaA||"todos").toString().toLowerCase(),categoriasAplicables:Array.isArray(U.categoriasAplicables)?U.categoriasAplicables.map(fe=>(fe==null?void 0:fe._id)||fe):[],lentesAplicables:Array.isArray(U.lentesAplicables)?U.lentesAplicables.map(fe=>(fe==null?void 0:fe._id)||fe):[],fechaInicio:U.fechaInicio?new Date(U.fechaInicio).toISOString().slice(0,10):"",fechaFin:U.fechaFin?new Date(U.fechaFin).toISOString().slice(0,10):"",codigoPromo:U.codigoPromo||"",imagenPromocion:U.imagenPromocion||"",imagenMetadata:U.imagenMetadata||{},activo:U.activo!==!1,prioridad:U.prioridad||0,mostrarEnCarrusel:U.mostrarEnCarrusel!==!1,limiteUsos:U.limiteUsos||null}),K({}),N(!0)},Be=U=>{O(U),E(!0)},Ge=U=>{O(U),A(!0)},Ne=()=>{N(!1),E(!1),A(!1),O(null),K({})},He=U=>{const{name:fe,value:De,type:se,checked:Y}=U.target,ge=se==="checkbox"?Y:De;W(ie=>({...ie,[fe]:ge}))},Ye=U=>{W(fe=>({...fe,imagenPromocion:U.url,imagenMetadata:U.metadata}))},F=U=>{var De,se,Y;const fe={};if((De=U.nombre)!=null&&De.trim()||(fe.nombre="El nombre es obligatorio"),(se=U.descripcion)!=null&&se.trim()||(fe.descripcion="La descripción es obligatoria"),U.tipoDescuento||(fe.tipoDescuento="Tipo de descuento requerido"),(!U.valorDescuento||Number(U.valorDescuento)<=0)&&(fe.valorDescuento="Debe ser > 0"),U.aplicaA||(fe.aplicaA="Campo requerido"),U.fechaInicio||(fe.fechaInicio="Fecha inicio requerida"),U.fechaFin||(fe.fechaFin="Fecha fin requerida"),(Y=U.codigoPromo)!=null&&Y.trim()||(fe.codigoPromo="Código requerido"),U.tipoDescuento==="porcentaje"&&Number(U.valorDescuento)>100&&(fe.valorDescuento="No puede ser > 100%"),U.aplicaA==="categoria"&&(!U.categoriasAplicables||U.categoriasAplicables.length===0)&&(fe.categoriasAplicables="Seleccione al menos una categoría"),U.aplicaA==="lente"&&(!U.lentesAplicables||U.lentesAplicables.length===0)&&(fe.lentesAplicables="Seleccione al menos un producto"),(U.prioridad<0||U.prioridad>10)&&(fe.prioridad="Debe estar entre 0 y 10"),U.limiteUsos&&U.limiteUsos<1&&(fe.limiteUsos="Debe ser mayor a 0 o dejarlo vacío"),U.fechaInicio&&U.fechaFin){const ge=new Date(U.fechaInicio);new Date(U.fechaFin)<=ge&&(fe.fechaFin="Debe ser posterior a inicio")}return fe},ne=async()=>{var se,Y;const U={...B},fe=F(U);if(K(fe),Object.keys(fe).length>0)return;const De={nombre:U.nombre.trim(),descripcion:U.descripcion.trim(),tipoDescuento:U.tipoDescuento,valorDescuento:Number(U.valorDescuento),aplicaA:U.aplicaA,categoriasAplicables:U.aplicaA==="categoria"?U.categoriasAplicables:[],lentesAplicables:U.aplicaA==="lente"?U.lentesAplicables:[],fechaInicio:new Date(U.fechaInicio).toISOString(),fechaFin:new Date(U.fechaFin).toISOString(),codigoPromo:U.codigoPromo.trim(),imagenPromocion:U.imagenPromocion||null,imagenMetadata:U.imagenMetadata||{},activo:U.activo!==!1,prioridad:Number(U.prioridad)||0,mostrarEnCarrusel:U.mostrarEnCarrusel!==!1,limiteUsos:U.limiteUsos?Number(U.limiteUsos):null};try{k!=null&&k._id?(await qe.put(Ji(`${_e.ENDPOINTS.PROMOCIONES}/${k._id}`),De),I("success","Promoción actualizada exitosamente")):(await qe.post(Ji(_e.ENDPOINTS.PROMOCIONES),De),I("success","Promoción creada exitosamente")),Ne(),R()}catch(ge){I("error","Error guardando promoción: "+(((Y=(se=ge.response)==null?void 0:se.data)==null?void 0:Y.message)||ge.message))}},ce=async()=>{var U,fe;try{await qe.delete(Ji(`${_e.ENDPOINTS.PROMOCIONES}/${k._id}`)),I("success","Promoción eliminada"),Ne(),R()}catch(De){I("error","Error eliminando promoción: "+(((fe=(U=De.response)==null?void 0:U.data)==null?void 0:fe.message)||De.message))}},ae=c.map(U=>({value:U._id,label:U.nombre})),J=f.map(U=>({value:U._id,label:`${U.nombre} (${U.tipo==="lente"?"Lente":"Accesorio"})`}));console.log("Categoria options:",ae.length),console.log("Productos options:",J.length);const we=k?[{label:"ID",value:k._id},{label:"Nombre",value:k.nombre},{label:"Descripción",value:k.descripcion},{label:"Tipo Descuento",value:k.tipoDescuento},{label:"Valor",value:k.tipoDescuento==="porcentaje"?`${k.valorDescuento}%`:k.tipoDescuento==="monto"?`${k.valorDescuento}`:"2x1"},{label:"Aplica A",value:k.aplicaA},{label:"Categorías",value:Array.isArray(k.categoriasAplicables)?k.categoriasAplicables.map(U=>(U==null?void 0:U.nombre)||U).join(", "):"-"},{label:"Productos",value:Array.isArray(k.lentesAplicables)?k.lentesAplicables.map(U=>(U==null?void 0:U.nombre)||U).join(", "):"-"},{label:"Inicio",value:k.fechaInicio?new Date(k.fechaInicio).toLocaleDateString():"-"},{label:"Fin",value:k.fechaFin?new Date(k.fechaFin).toLocaleDateString():"-"},{label:"Código",value:k.codigoPromo},{label:"Prioridad",value:k.prioridad||0},{label:"En Carrusel",value:k.mostrarEnCarrusel?"Sí":"No"},{label:"Usos",value:k.usos||0},{label:"Límite Usos",value:k.limiteUsos||"Ilimitado"},{label:"Estado",value:X(k)}]:[];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(Ai,{title:"Gestión de Promociones",subtitle:"Crea, edita y administra las promociones de la óptica",icon:xs,buttonText:"Añadir Promoción",onButtonClick:Ke}),x&&r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md px-4",children:r.jsx(yr,{type:x.type,message:x.message,onClose:()=>b(null)})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Promociones"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:ze})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(xs,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Promociones Activas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:Le})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Os,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Promociones Programadas"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:Ee})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Yr,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"En Carrusel"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:Fe})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(ov,{className:"w-6 h-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Listado de Promociones"}),r.jsxs("button",{onClick:Ke,className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Nueva Promoción"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Oa,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar promoción...",value:e,onChange:U=>{t(U.target.value),P(0)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["todas","activa","expirada","programada","agotada"].map(U=>r.jsxs("button",{onClick:()=>{a(U),P(0)},className:`px-4 py-2 rounded-lg transition-colors capitalize ${n===U?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[U.charAt(0).toUpperCase()+U.slice(1),"s"]},U))})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Imagen"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Nombre"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Descripción"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Tipo"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Valor"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Vigencia"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Prioridad"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Usos"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:h?r.jsx("tr",{children:r.jsx("td",{className:"px-6 py-6 text-center",colSpan:10,children:"Cargando promociones..."})}):D.length>0?D.map(U=>{const fe=X(U);return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"relative",children:[U.imagenPromocion?r.jsx("img",{src:U.imagenPromocion,alt:U.nombre,className:"w-16 h-12 object-cover rounded-lg"}):r.jsx("div",{className:"w-16 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx(Yb,{className:"w-6 h-6 text-gray-400"})}),U.mostrarEnCarrusel&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-purple-500 rounded-full flex items-center justify-center",children:r.jsx(ov,{className:"w-2 h-2 text-white"})})]})}),r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:U.nombre}),r.jsx("td",{className:"px-6 py-4 text-gray-600 max-w-sm truncate",children:U.descripcion}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[xe(U.tipoDescuento),r.jsx("span",{className:"text-gray-800 font-medium",children:(U.tipoDescuento||"").toString().toUpperCase()})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-lg font-bold text-cyan-600",children:U.tipoDescuento==="porcentaje"?`${U.valorDescuento}%`:U.tipoDescuento==="monto"?`${U.valorDescuento}`:U.tipoDescuento==="2x1"?"2x1":"—"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"text-sm text-gray-800",children:[r.jsx("span",{className:"font-semibold",children:"Inicio:"})," ",U.fechaInicio?new Date(U.fechaInicio).toLocaleDateString():"—"]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[r.jsx("span",{className:"font-semibold",children:"Fin:"})," ",U.fechaFin?new Date(U.fechaFin).toLocaleDateString():"—"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-lg font-bold text-purple-600",children:U.prioridad||0})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:U.usos||0}),U.limiteUsos&&r.jsxs("span",{className:"text-xs text-gray-500",children:["/ ",U.limiteUsos]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ve(fe)}`,children:fe})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Ge(U),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Be(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>re(U),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]},U._id)}):r.jsx("tr",{children:r.jsxs("td",{colSpan:10,className:"p-8 text-center",children:[r.jsx(xs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron promociones"}),r.jsx("p",{className:"text-gray-500",children:e?"Intenta con otros términos de búsqueda":"Comienza creando tu primera promoción"})]})})})]})}),r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:_,onChange:U=>{z(Number(U.target.value)),P(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(U=>r.jsx("option",{value:U,children:U},U))}),r.jsx("span",{className:"text-gray-700",children:"por página"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:$,disabled:T===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:G,disabled:T===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Página ",T+1," de ",H]}),r.jsx("button",{onClick:te,disabled:T===H-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:Q,disabled:T===H-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]}),r.jsx(pr,{isOpen:j,onClose:Ne,onSubmit:ne,title:k?"Editar Promoción":"Nueva Promoción",formData:B,handleInputChange:He,errors:oe,submitLabel:k?"Guardar cambios":"Crear promoción",gridCols:2,size:"xl",fields:[{name:"nombre",label:"Nombre de la Promoción",type:"text",required:!0,colSpan:2},{name:"descripcion",label:"Descripción",type:"textarea",required:!0,colSpan:2},{name:"tipoDescuento",label:"Tipo de Descuento",type:"select",options:[{value:"porcentaje",label:"Porcentaje (%)"},{value:"monto",label:"Monto fijo ($)"},{value:"2x1",label:"2x1"}],required:!0},{name:"valorDescuento",label:"Valor del Descuento",type:"number",required:!0},{name:"aplicaA",label:"Aplicar Promoción A",type:"select",options:[{value:"todos",label:"Todos los productos"},{value:"categoria",label:"Categorías específicas"},{value:"lente",label:"Productos específicos"}],required:!0,colSpan:2},{name:"categoriasAplicables",label:"Categorías Aplicables",type:"multi-select",options:ae,hidden:B.aplicaA!=="categoria",colSpan:2},{name:"lentesAplicables",label:"Productos Aplicables",type:"multi-select",options:J,hidden:B.aplicaA!=="lente",colSpan:2},{name:"fechaInicio",label:"Fecha de Inicio",type:"date",required:!0},{name:"fechaFin",label:"Fecha de Fin",type:"date",required:!0},{name:"codigoPromo",label:"Código de Promoción",type:"text",required:!0,colSpan:2,placeholder:"Ej: DESCUENTO20, VERANO2024"},{name:"prioridad",label:"Prioridad (0-10)",type:"number",min:0,max:10,placeholder:"0 = Baja, 10 = Alta"},{name:"limiteUsos",label:"Límite de Usos",type:"number",min:1,placeholder:"Vacío = Ilimitado"},{name:"mostrarEnCarrusel",label:"Mostrar en Carrusel Principal",type:"boolean"},{name:"activo",label:"Promoción Activa",type:"boolean"}],children:r.jsxs("div",{className:"mt-6 border-t pt-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Imagen de la Promoción"}),r.jsx(rle,{currentImage:B==null?void 0:B.imagenPromocion,onImageChange:Ye,promocionName:B==null?void 0:B.nombre})]})}),r.jsx(_r,{isOpen:C,onClose:Ne,title:"Detalles de la Promoción",item:k,data:we,children:(k==null?void 0:k.imagenPromocion)&&r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Imagen de Promoción"}),r.jsx("img",{src:k.imagenPromocion,alt:k.nombre,className:"w-full max-w-md h-48 object-cover rounded-lg border"})]})}),r.jsx(Xr,{isOpen:S,onClose:Ne,onConfirm:ce,title:"Confirmar Eliminación",message:`¿Eliminar la promoción "${k==null?void 0:k.nombre}"? Esta acción no se puede deshacer y eliminará también la imagen asociada.`})]})},di="https://a-u-r-o-r-a.onrender.com/api",pO={clienteId:"",optometristaId:"",sucursalId:"",fecha:"",hora:"",estado:"Pendiente",motivoCita:"",tipoLente:"",graduacion:"",notasAdicionales:""},ile=()=>{const[e,t]=y.useState(""),[n,a]=y.useState(""),[s,o]=y.useState(!1),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[h,g]=y.useState(null),[x,b]=y.useState([]),[j,N]=y.useState([]),[S,A]=y.useState([]),[C,E]=y.useState([]),[k,O]=y.useState(pO),[T,P]=y.useState(!1),[_,z]=y.useState(null),[V,B]=y.useState({}),[W,oe]=y.useState(10),[K,I]=y.useState(0),[R,X]=y.useState(null),[Z,H]=y.useState(null),[D,$]=y.useState({open:!1,cita:null}),G=ie=>{if(!ie)return"N/A";const ke=ie.empleadoId;if(ke&&(ke.nombre||ke.apellido))return`${ke.nombre||""} ${ke.apellido||""}`.trim()||"N/A";const Ve=ie._id||ie.id||"";return Ve?`Optometrista ${String(Ve).slice(-6).toUpperCase()}`:"Optometrista"},te=ie=>{if(!ie)return"N/A";if(typeof ie=="object"){const st=G(ie);if(!/^Optometrista\s/i.test(st))return st;const lt=ie._id||ie.id;if(lt){const wt=S.find(me=>me._id===lt);if(wt)return G(wt)}return st}const ke=String(ie),Ve=S.find(st=>st._id===ke);return Ve?G(Ve):`Optometrista ${ke.slice(-6).toUpperCase()}`};y.useEffect(()=>{(async()=>{P(!0);try{const[ke,Ve,Ze,st]=await Promise.all([qe.get(`${di}/citas`),qe.get(`${di}/clientes`),qe.get(`${di}/optometrista`),qe.get(`${di}/sucursales`)]);b(Array.isArray(ke.data)?ke.data:[]),N(Ve.data||[]),A(Ze.data||[]),E(st.data||[])}catch{z("Error al cargar datos.")}finally{P(!1)}})()},[]);const Q=ie=>{const{name:ke,value:Ve}=ie.target;O(Ze=>({...Ze,[ke]:Ve}))},ve=ie=>{var ke,Ve,Ze;O({clienteId:((ke=ie.clienteId)==null?void 0:ke._id)||ie.clienteId||"",optometristaId:((Ve=ie.optometristaId)==null?void 0:Ve._id)||ie.optometristaId||"",sucursalId:((Ze=ie.sucursalId)==null?void 0:Ze._id)||ie.sucursalId||"",fecha:ie.fecha?ie.fecha.slice(0,10):"",hora:ie.hora||"",estado:ie.estado||"Pendiente",motivoCita:ie.motivoCita||"",tipoLente:ie.tipoLente||"",graduacion:ie.graduacion||"",notasAdicionales:ie.notasAdicionales||""}),g(ie),u(!0),m(!1)},xe=()=>{o(!1),u(!1),m(!1),g(null),O(pO)},ze=ie=>{X(ie),m(!0)},Le=j.map(ie=>({value:ie._id,label:`${ie.nombre} ${ie.apellido}`})),Ee=S.map(ie=>({value:ie._id,label:G(ie)})),Fe=C.map(ie=>({value:ie._id,label:ie.nombre})),re=[{name:"clienteId",label:"Cliente",type:"select",options:Le,placeholder:"Seleccione un cliente",required:!0,colSpan:2},{name:"optometristaId",label:"Optometrista",type:"select",options:Ee,placeholder:"Seleccione un optometrista",required:!0,colSpan:2},{name:"sucursalId",label:"Sucursal",type:"select",options:Fe,placeholder:"Seleccione una sucursal",required:!0,colSpan:2},{name:"fecha",label:"Fecha",type:"date",required:!0,colSpan:1},{name:"hora",label:"Hora",type:"text",placeholder:"Ej. 10:30",required:!0,colSpan:1},{name:"estado",label:"Estado",type:"select",options:[{value:"agendada",label:"Agendada"},{value:"pendiente",label:"Pendiente"},{value:"confirmada",label:"Confirmada"},{value:"cancelada",label:"Cancelada"},{value:"completada",label:"Completada"}],required:!0,colSpan:2},{name:"motivoCita",label:"Motivo de la cita",type:"text",placeholder:"Ej. Examen Visual",required:!0,colSpan:4},{name:"tipoLente",label:"Tipo de lente",type:"text",placeholder:"Ej. Monofocal",colSpan:2},{name:"graduacion",label:"Graduación",type:"text",placeholder:"Ej. -1.25",colSpan:2},{name:"notasAdicionales",label:"Notas adicionales",type:"textarea",placeholder:"Observaciones...",colSpan:4}],Be=()=>{const ie={};return re.forEach(ke=>{ke.required&&!k[ke.name]&&(ie[ke.name]="Este campo es obligatorio")}),k.tipoLente||(ie.tipoLente="Este campo es obligatorio"),k.graduacion||(ie.graduacion="Este campo es obligatorio"),B(ie),Object.keys(ie).length===0},Ge=async ie=>{if(ie.preventDefault(),!!Be()){P(!0);try{const ke={...k,fecha:k.fecha?new Date(k.fecha):void 0};h?(await qe.put(`${di}/citas/${h._id}`,ke),ge("Cita editada correctamente","success")):(await qe.post(`${di}/citas`,ke),ge("Cita creada correctamente","success"));const Ve=await qe.get(`${di}/citas`);b(Array.isArray(Ve.data)?Ve.data:[]),xe()}catch(ke){ke.response&&ke.response.data&&ke.response.data.message?(z("Error: "+ke.response.data.message),ge("Error: "+ke.response.data.message,"error")):(z("Error al guardar la cita."),ge("Error al guardar la cita.","error"))}finally{P(!1)}}},Ne=ie=>{$({open:!0,cita:ie})},He=async()=>{const ie=D.cita;P(!0);try{await qe.delete(`${di}/citas/${ie._id}`),b(x.filter(Ve=>Ve._id!==ie._id)),m(!1),$({open:!1,cita:null});const ke=ie.clienteId&&(ie.clienteId.nombre||ie.clienteId.apellido)?`${ie.clienteId.nombre||""} ${ie.clienteId.apellido||""}`.trim():"cliente";ge(`Cita de ${ke} eliminada permanentemente.`,"delete")}catch{z("Error al eliminar la cita."),ge("Error al eliminar la cita.","error")}finally{P(!1)}},Ye=x.filter(ie=>{const ke=(ie.cliente||"").toLowerCase(),Ve=(ie.servicio||"").toLowerCase(),Ze=ke.includes(e.toLowerCase())||Ve.includes(e.toLowerCase());let st=!0;if(n&&ie.fecha){const lt=new Date(ie.fecha),wt=lt.getFullYear(),me=String(lt.getMonth()+1).padStart(2,"0"),Oe=String(lt.getDate()).padStart(2,"0");st=`${wt}-${me}-${Oe}`===n}else n&&(st=!1);return Ze&&st}),F=Math.ceil(Ye.length/W),ne=Ye.slice(K*W,K*W+W),ce=()=>I(0),ae=()=>I(ie=>Math.max(0,ie-1)),J=()=>I(ie=>Math.min(F-1,ie+1)),we=()=>I(F-1),U=ie=>{switch(ie){case"Confirmada":return{color:"bg-green-100 text-green-800",icon:r.jsx(Os,{className:"w-4 h-4"})};case"Pendiente":return{color:"bg-yellow-100 text-yellow-800",icon:r.jsx(Va,{className:"w-4 h-4"})};case"Realizada":return{color:"bg-blue-100 text-blue-800",icon:r.jsx(ks,{className:"w-4 h-4"})};case"Cancelada":return{color:"bg-red-100 text-red-800",icon:r.jsx(BU,{className:"w-4 h-4"})};default:return{color:"bg-gray-100 text-gray-800",icon:r.jsx(Im,{className:"w-4 h-4"})}}},fe=x.filter(ie=>ie.fecha===new Date().toISOString().split("T")[0]).length,De=x.filter(ie=>ie.estado==="Pendiente").length,se=x.filter(ie=>ie.estado==="Confirmada").length,Y=ie=>{let ke;n?ke=new Date(n):ke=new Date,ke.setDate(ke.getDate()+ie),a(ke.toISOString().split("T")[0])},ge=(ie,ke="success")=>{H({message:ie,type:ke}),setTimeout(()=>H(null),3500)};return y.useEffect(()=>{f&&R&&ge("Visualizando cita de "+(R.clienteId?`${R.clienteId.nombre||""} ${R.clienteId.apellido||""}`.trim():"N/A"),"info")},[f,R]),r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[Z&&r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md",children:r.jsx(yr,{type:Z.type,message:Z.message})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Citas para Hoy"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:fe})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(Yr,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Pendientes"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:De})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(Va,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Confirmadas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:se})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Os,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestión de Citas"}),r.jsxs("button",{onClick:()=>o(!0),className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Agendar Cita"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Oa,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por cliente o servicio...",value:e,onChange:ie=>t(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Y(-1),className:"p-2 rounded-full hover:bg-cyan-100 transition-colors",title:"Día anterior",children:r.jsx(Fk,{className:"w-5 h-5 text-cyan-500"})}),r.jsx(Yr,{className:"w-5 h-5 text-gray-400 absolute left-10 top-3"}),r.jsx("input",{type:"date",value:n,onChange:ie=>a(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent min-w-[140px]",style:{minWidth:"140px"}}),r.jsx("button",{type:"button",onClick:()=>Y(1),className:"p-2 rounded-full hover:bg-cyan-100 transition-colors",title:"Día siguiente",children:r.jsx(Kb,{className:"w-5 h-5 text-cyan-500"})})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Cliente"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Servicio"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Optometrista"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Fecha y Hora"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Sucursal"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:ne.map(ie=>{const ke=U(ie.estado),Ve=ie.clienteId?`${ie.clienteId.nombre||""} ${ie.clienteId.apellido||""}`.trim():"",Ze=ie.sucursalId&&ie.sucursalId.nombre||"",st=te(ie.optometristaId),lt=ie.motivoCita||"";return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ks,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:Ve||"N/A"})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:lt||"N/A"}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:st}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Va,{className:"w-5 h-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:ie.fecha?new Date(ie.fecha).toLocaleDateString():""}),r.jsx("div",{className:"text-sm text-gray-500",children:ie.hora})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vi,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-gray-800",children:Ze||"N/A"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1.5 ${ke.color}`,children:[ke.icon,r.jsx("span",{children:ie.estado})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",onClick:()=>Ne(ie),children:r.jsx(Cn,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",onClick:()=>ze(ie),children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",onClick:()=>ve(ie),children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]},ie._id||ie.id)})})]})}),Ye.length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron citas"}),r.jsx("p",{className:"text-gray-500",children:e||n?"Intenta con otros filtros o busca un nuevo cliente.":"Comienza agendando una nueva cita"})]}),r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:W,onChange:ie=>{oe(Number(ie.target.value)),I(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(ie=>r.jsx("option",{value:ie,children:ie},ie))}),r.jsx("span",{className:"text-gray-700",children:"por página"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:ce,disabled:K===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:"<<"}),r.jsx("button",{onClick:ae,disabled:K===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Página ",K+1," de ",F]}),r.jsx("button",{onClick:J,disabled:K===F-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:">"}),r.jsx("button",{onClick:we,disabled:K===F-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:">>"})]})]})]}),r.jsx(pr,{isOpen:s||c,onClose:xe,onSubmit:Ge,title:h?"Editar Cita":"Agendar Cita",formData:k,handleInputChange:Q,errors:V,submitLabel:h?"Guardar cambios":"Agendar",fields:re,gridCols:4}),r.jsx(_r,{isOpen:f,onClose:()=>m(!1),title:"Detalle de Cita",item:R,data:[{label:"Cliente",value:R&&R.clienteId?`${R.clienteId.nombre||""} ${R.clienteId.apellido||""}`.trim():"N/A"},{label:"Optometrista",value:R?te(R.optometristaId):"N/A"},{label:"Sucursal",value:R&&R.sucursalId?R.sucursalId.nombre:"N/A"},{label:"Fecha",value:R&&R.fecha?new Date(R.fecha).toLocaleDateString():"N/A"},{label:"Hora",value:R&&R.hora?R.hora:"N/A"},{label:"Estado",value:R&&R.estado?R.estado:"N/A"},{label:"Motivo de la cita",value:R&&R.motivoCita?R.motivoCita:"N/A"},{label:"Tipo de lente",value:R&&R.tipoLente?R.tipoLente:"N/A"},{label:"Graduación",value:R&&R.graduacion?R.graduacion:"N/A"},{label:"Notas adicionales",value:R&&R.notasAdicionales?R.notasAdicionales:"N/A"}],actions:[{label:"Editar",onClick:()=>R&&ve(R),color:"green",icon:r.jsx(Wn,{className:"w-4 h-4 inline-block align-middle"})},{label:"Eliminar",onClick:()=>R&&Ne(R),color:"red",icon:r.jsx(Cn,{className:"w-4 h-4 inline-block align-middle"})}]}),r.jsx(Xr,{isOpen:D.open,onClose:()=>$({open:!1,cita:null}),onConfirm:He,title:"¿Estás seguro de eliminar la cita?",message:"Esta acción eliminará la cita de forma permanente."})]})},qr="https://a-u-r-o-r-a.onrender.com/api",gO=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split("T")[0]}catch{return""}},Eu={clienteId:"",padecimientos:{tipo:"",descripcion:"",fechaDeteccion:""},historialVisual:{fecha:"",diagnostico:"",receta:{ojoDerecho:{esfera:"",cilindro:"",eje:"",adicion:""},ojoIzquierdo:{esfera:"",cilindro:"",eje:"",adicion:""}}}},ole=()=>{var ne,ce,ae,J,we,U,fe,De,se,Y,ge,ie,ke,Ve,Ze,st,lt,wt,me,Oe,We,tt,it,Ot,At,bt,qt,Un,Zn,Xa,ga,Jt,Ht,an,ue,Ue,ut,rn;const[e,t]=y.useState(""),[n,a]=y.useState("todos"),[s,o]=y.useState(!1),[c,u]=y.useState(null),[f,m]=y.useState([]),[h,g]=y.useState([]),[x,b]=y.useState(Eu),[j,N]=y.useState(!1),[S,A]=y.useState(null),[C,E]=y.useState(null),[k,O]=y.useState(!1),[T,P]=y.useState(null),[_,z]=y.useState([]),[V,B]=y.useState([]),W=y.useMemo(()=>{const q=new Set;for(const ye of f){const Re=ye!=null&&ye.clienteId&&typeof ye.clienteId=="object"?ye.clienteId._id:ye==null?void 0:ye.clienteId;Re&&q.add(Re)}return q},[f]),[oe,K]=y.useState(!1),[I,R]=y.useState(null),[X,Z]=y.useState(null),[H,D]=y.useState(null),[$,G]=y.useState(!1),[te,Q]=y.useState(null),[ve,xe]=y.useState(!1),[ze,Le]=y.useState(null);y.useEffect(()=>{(async()=>{N(!0);try{const[ye,Re]=await Promise.all([qe.get(`${qr}/historialMedico`),qe.get(`${qr}/clientes`)]);m(ye.data||[]),g(Re.data||[])}catch{A("Error al cargar datos.")}finally{N(!1)}})()},[]);const Ee=q=>{const{name:ye,value:Re}=q.target;if(ye.startsWith("padecimientos.")){const Ie=ye.split(".")[1];b($e=>({...$e,padecimientos:{...$e.padecimientos,[Ie]:Re}}))}else if(ye.startsWith("historialVisual.receta.ojoDerecho.")){const Ie=ye.split(".")[3];b($e=>({...$e,historialVisual:{...$e.historialVisual,receta:{...$e.historialVisual.receta,ojoDerecho:{...$e.historialVisual.receta.ojoDerecho,[Ie]:Re},ojoIzquierdo:{...$e.historialVisual.receta.ojoIzquierdo}}}}))}else if(ye.startsWith("historialVisual.receta.ojoIzquierdo.")){const Ie=ye.split(".")[3];b($e=>({...$e,historialVisual:{...$e.historialVisual,receta:{...$e.historialVisual.receta,ojoDerecho:{...$e.historialVisual.receta.ojoDerecho},ojoIzquierdo:{...$e.historialVisual.receta.ojoIzquierdo,[Ie]:Re}}}}))}else if(ye.startsWith("historialVisual.")){const Ie=ye.split(".")[1];b($e=>({...$e,historialVisual:{...$e.historialVisual,[Ie]:Re}}))}else b(Ie=>({...Ie,[ye]:Re}))},Fe=async q=>{q.preventDefault(),N(!0),A(null);try{if(X&&X._id)await qe.put(`${qr}/historialMedico/${X._id}`,x),E({type:"success",message:"Historial médico actualizado exitosamente."});else{const Re=f.find(Ie=>{var $e;return((($e=Ie.clienteId)==null?void 0:$e._id)||Ie.clienteId)===x.clienteId});if(Re){Le(Re),xe(!0),N(!1);return}else await qe.post(`${qr}/historialMedico`,x),E({type:"success",message:"Historial médico creado exitosamente."})}o(!1),Z(null),b(Eu);const ye=await qe.get(`${qr}/historialMedico`);m(ye.data||[])}catch{A("Error al guardar historial médico.")}finally{N(!1)}},Ke=async()=>{if(!(ze!=null&&ze._id)){xe(!1);return}N(!0),A(null);try{await qe.put(`${qr}/historialMedico/${ze._id}`,x),E({type:"success",message:"Se sobrescribió el expediente existente del cliente."}),xe(!1),o(!1),Z(null),b(Eu);const q=await qe.get(`${qr}/historialMedico`);m(q.data||[])}catch{A("Error al sobrescribir el expediente.")}finally{N(!1)}},re=async q=>{P(q);const ye=f.filter(Ie=>Ie.clienteId&&Ie.clienteId._id===q._id);B(ye);let Re=[];for(const Ie of ye)try{const $e=await qe.get(`${qr}/recetas/historial/${Ie._id}`);Array.isArray($e.data)&&(Re=Re.concat($e.data.map(Xe=>({...Xe,historialId:Ie._id}))))}catch{}z(Re),O(!0)},Be=(q,ye)=>{R({...q,tipo:ye}),K(!0)},Ge=q=>{var ye,Re,Ie,$e,Xe,ht,nt,pt,oa,la,Ta,sn,$s,gc,Md,Pi,_i,Za,Io,xc,ts,zo,$o,Pd,yc,ca,vc,_d,Di,bc;O(!1),Z(q),o(!0),b({clienteId:((ye=q.clienteId)==null?void 0:ye._id)||"",padecimientos:{tipo:((Re=q.padecimientos)==null?void 0:Re.tipo)||"",descripcion:((Ie=q.padecimientos)==null?void 0:Ie.descripcion)||"",fechaDeteccion:gO(($e=q.padecimientos)==null?void 0:$e.fechaDeteccion)},historialVisual:{fecha:gO((Xe=q.historialVisual)==null?void 0:Xe.fecha),diagnostico:((ht=q.historialVisual)==null?void 0:ht.diagnostico)||"",receta:{ojoDerecho:{esfera:((oa=(pt=(nt=q.historialVisual)==null?void 0:nt.receta)==null?void 0:pt.ojoDerecho)==null?void 0:oa.esfera)||"",cilindro:((sn=(Ta=(la=q.historialVisual)==null?void 0:la.receta)==null?void 0:Ta.ojoDerecho)==null?void 0:sn.cilindro)||"",eje:((Md=(gc=($s=q.historialVisual)==null?void 0:$s.receta)==null?void 0:gc.ojoDerecho)==null?void 0:Md.eje)||"",adicion:((Za=(_i=(Pi=q.historialVisual)==null?void 0:Pi.receta)==null?void 0:_i.ojoDerecho)==null?void 0:Za.adicion)||""},ojoIzquierdo:{esfera:((ts=(xc=(Io=q.historialVisual)==null?void 0:Io.receta)==null?void 0:xc.ojoIzquierdo)==null?void 0:ts.esfera)||"",cilindro:((Pd=($o=(zo=q.historialVisual)==null?void 0:zo.receta)==null?void 0:$o.ojoIzquierdo)==null?void 0:Pd.cilindro)||"",eje:((vc=(ca=(yc=q.historialVisual)==null?void 0:yc.receta)==null?void 0:ca.ojoIzquierdo)==null?void 0:vc.eje)||"",adicion:((bc=(Di=(_d=q.historialVisual)==null?void 0:_d.receta)==null?void 0:Di.ojoIzquierdo)==null?void 0:bc.adicion)||""}}}})},Ne=q=>{O(!1),window.localStorage.setItem("editRecetaId",q._id),document.querySelector("#root");const ye=new CustomEvent("goToRecetasAndEdit");window.dispatchEvent(ye)},He=(q,ye)=>{Q({...q,tipo:ye}),G(!0)},Ye=async()=>{if(te)try{te.tipo==="historial"?(await qe.delete(`${qr}/historialMedico/${te._id}`),m(f.filter(q=>q._id!==te._id)),B(V.filter(q=>q._id!==te._id))):te.tipo==="receta"&&(await qe.delete(`${qr}/recetas/${te._id}`),z(_.filter(q=>q._id!==te._id))),G(!1),Q(null)}catch{E({type:"error",message:"Error al eliminar."})}},F=f.filter(q=>{const ye=q.clienteId;return ye&&`${ye.nombre} ${ye.apellido}`.toLowerCase().includes(e.toLowerCase())||e===""});return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[C&&r.jsx("div",{className:`p-4 rounded-lg ${C.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.message}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-6 flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Historial Médico"}),r.jsxs("button",{onClick:()=>{Z(null),b(Eu),o(!0)},className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Añadir Historial"})]})]}),r.jsx("div",{className:"p-6 bg-gray-50 border-b flex gap-4",children:r.jsx("input",{type:"text",placeholder:"Buscar por nombre de cliente...",value:e,onChange:q=>t(q.target.value),className:"w-full pl-3 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Padecimiento"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diagnóstico"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Detección"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.map(q=>{var ye,Re,Ie;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:q.clienteId?r.jsxs("button",{className:"text-cyan-600 underline hover:text-cyan-800 font-semibold",onClick:()=>re(q.clienteId),children:[q.clienteId.nombre," ",q.clienteId.apellido]}):"N/A"}),r.jsx("td",{className:"px-6 py-4",children:((ye=q.padecimientos)==null?void 0:ye.tipo)||"-"}),r.jsx("td",{className:"px-6 py-4",children:((Re=q.historialVisual)==null?void 0:Re.diagnostico)||"-"}),r.jsx("td",{className:"px-6 py-4",children:(Ie=q.padecimientos)!=null&&Ie.fechaDeteccion?new Date(q.padecimientos.fechaDeteccion).toLocaleDateString():"-"})]},q._id)})})]})})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("form",{onSubmit:Fe,className:"bg-white rounded-xl shadow-2xl w-full max-w-lg md:max-w-2xl p-4 md:p-8 space-y-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:X?"Editar Historial Médico":"Nuevo Historial Médico"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),r.jsxs("select",{name:"clienteId",value:x.clienteId,onChange:Ee,required:!0,disabled:!!X,className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"",children:"Seleccione un cliente"}),h.map(q=>r.jsxs("option",{value:q._id,children:[q.nombre," ",q.apellido,!X&&W.has(q._id)?" (ya tiene expediente)":""]},q._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Padecimiento *"}),r.jsx("input",{type:"text",name:"padecimientos.tipo",value:x.padecimientos.tipo,onChange:Ee,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descripción *"}),r.jsx("input",{type:"text",name:"padecimientos.descripcion",value:x.padecimientos.descripcion,onChange:Ee,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fecha de Detección *"}),r.jsx("input",{type:"date",name:"padecimientos.fechaDeteccion",value:x.padecimientos.fechaDeteccion,onChange:Ee,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fecha de Diagnóstico *"}),r.jsx("input",{type:"date",name:"historialVisual.fecha",value:x.historialVisual.fecha,onChange:Ee,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Diagnóstico *"}),r.jsx("input",{type:"text",name:"historialVisual.diagnostico",value:x.historialVisual.diagnostico,onChange:Ee,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Graduación Ojo Derecho (OD)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoDerecho.esfera",placeholder:"Esfera",value:x.historialVisual.receta.ojoDerecho.esfera,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoDerecho.cilindro",placeholder:"Cilindro",value:x.historialVisual.receta.ojoDerecho.cilindro,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"1",name:"historialVisual.receta.ojoDerecho.eje",placeholder:"Eje",value:x.historialVisual.receta.ojoDerecho.eje,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoDerecho.adicion",placeholder:"Adición",value:x.historialVisual.receta.ojoDerecho.adicion,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Graduación Ojo Izquierdo (OI)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoIzquierdo.esfera",placeholder:"Esfera",value:x.historialVisual.receta.ojoIzquierdo.esfera,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoIzquierdo.cilindro",placeholder:"Cilindro",value:x.historialVisual.receta.ojoIzquierdo.cilindro,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"1",name:"historialVisual.receta.ojoIzquierdo.eje",placeholder:"Eje",value:x.historialVisual.receta.ojoIzquierdo.eje,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoIzquierdo.adicion",placeholder:"Adición",value:x.historialVisual.receta.ojoIzquierdo.adicion,onChange:Ee,className:"w-full px-2 py-1 border rounded-lg"})]})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>{o(!1),b(Eu)},className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600",children:X?"Actualizar":"Guardar"})]}),S&&r.jsx("div",{className:"text-red-500 text-sm mt-2",children:S})]})}),k&&T&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold",children:[T.nombre," ",T.apellido]}),r.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-cyan-700 mb-2",children:"Historiales Médicos"}),r.jsxs("ul",{className:"space-y-2",children:[V.length===0&&r.jsx("li",{className:"text-gray-500",children:"Sin historiales médicos."}),V.map(q=>{var ye,Re;return r.jsxs("li",{className:"border rounded-lg p-2 bg-gray-50 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Diagnóstico: ",r.jsx("span",{className:"font-semibold",children:((ye=q.historialVisual)==null?void 0:ye.diagnostico)||"-"})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Fecha: ",(Re=q.historialVisual)!=null&&Re.fecha?new Date(q.historialVisual.fecha).toLocaleDateString():"-"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{title:"Ver",onClick:()=>Be(q,"historial"),className:"text-cyan-600 hover:text-cyan-800",children:r.jsx(Qt,{size:18})}),r.jsx("button",{title:"Editar",onClick:()=>Ge(q),className:"text-yellow-500 hover:text-yellow-700",children:r.jsx(Wn,{size:18})}),r.jsx("button",{title:"Eliminar",onClick:()=>He(q,"historial"),className:"text-red-500 hover:text-red-700",children:r.jsx(Cn,{size:18})})]})]},q._id)})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-cyan-700 mb-2",children:"Recetas"}),r.jsxs("ul",{className:"space-y-2",children:[_.length===0&&r.jsx("li",{className:"text-gray-500",children:"Sin recetas asociadas."}),_.map(q=>r.jsxs("li",{className:"border rounded-lg p-2 bg-gray-50 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Diagnóstico: ",r.jsx("span",{className:"font-semibold",children:q.diagnostico})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Fecha: ",q.fecha?new Date(q.fecha).toLocaleDateString():"-"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Vigencia: ",q.vigencia," meses"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{title:"Ver",onClick:()=>Be(q,"receta"),className:"text-cyan-600 hover:text-cyan-800",children:r.jsx(Qt,{size:18})}),r.jsx("button",{title:"Editar",onClick:()=>Ne(q),className:"text-yellow-500 hover:text-yellow-700",children:r.jsx(Wn,{size:18})}),r.jsx("button",{title:"Eliminar",onClick:()=>He(q,"receta"),className:"text-red-500 hover:text-red-700",children:r.jsx(Cn,{size:18})})]})]},q._id))]})]})]})}),oe&&I&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold",children:["Detalle de ",I.tipo==="historial"?"Historial Médico":"Receta"]}),r.jsx("button",{onClick:()=>K(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),I.tipo==="historial"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",I.clienteId?`${I.clienteId.nombre} ${I.clienteId.apellido}`:"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Tipo de Padecimiento:"})," ",((ne=I.padecimientos)==null?void 0:ne.tipo)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Descripción:"})," ",((ce=I.padecimientos)==null?void 0:ce.descripcion)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Fecha de Detección:"})," ",(ae=I.padecimientos)!=null&&ae.fechaDeteccion?new Date(I.padecimientos.fechaDeteccion).toLocaleDateString():"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Fecha de Diagnóstico:"})," ",(J=I.historialVisual)!=null&&J.fecha?new Date(I.historialVisual.fecha).toLocaleDateString():"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Diagnóstico:"})," ",((we=I.historialVisual)==null?void 0:we.diagnostico)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Receta:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Derecho (OD)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((De=(fe=(U=I.historialVisual)==null?void 0:U.receta)==null?void 0:fe.ojoDerecho)==null?void 0:De.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((ge=(Y=(se=I.historialVisual)==null?void 0:se.receta)==null?void 0:Y.ojoDerecho)==null?void 0:ge.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((Ve=(ke=(ie=I.historialVisual)==null?void 0:ie.receta)==null?void 0:ke.ojoDerecho)==null?void 0:Ve.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adición: ",((lt=(st=(Ze=I.historialVisual)==null?void 0:Ze.receta)==null?void 0:st.ojoDerecho)==null?void 0:lt.adicion)??"-"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Izquierdo (OI)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((Oe=(me=(wt=I.historialVisual)==null?void 0:wt.receta)==null?void 0:me.ojoIzquierdo)==null?void 0:Oe.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((it=(tt=(We=I.historialVisual)==null?void 0:We.receta)==null?void 0:tt.ojoIzquierdo)==null?void 0:it.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((bt=(At=(Ot=I.historialVisual)==null?void 0:Ot.receta)==null?void 0:At.ojoIzquierdo)==null?void 0:bt.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adición: ",((Zn=(Un=(qt=I.historialVisual)==null?void 0:qt.receta)==null?void 0:Un.ojoIzquierdo)==null?void 0:Zn.adicion)??"-"]})]})]})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Diagnóstico:"})," ",I.diagnostico]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Fecha:"})," ",I.fecha?new Date(I.fecha).toLocaleDateString():"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Vigencia:"})," ",I.vigencia," meses"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Optometrista:"})," ",(Xa=I.optometristaId)!=null&&Xa.empleadoId?`${I.optometristaId.empleadoId.nombre} ${I.optometristaId.empleadoId.apellido}`:"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",I.observaciones||"-"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Derecho (OD)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((ga=I.ojoDerecho)==null?void 0:ga.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((Jt=I.ojoDerecho)==null?void 0:Jt.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((Ht=I.ojoDerecho)==null?void 0:Ht.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adición: ",((an=I.ojoDerecho)==null?void 0:an.adicion)??"-"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Izquierdo (OI)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((ue=I.ojoIzquierdo)==null?void 0:ue.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((Ue=I.ojoIzquierdo)==null?void 0:Ue.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((ut=I.ojoIzquierdo)==null?void 0:ut.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adición: ",((rn=I.ojoIzquierdo)==null?void 0:rn.adicion)??"-"]})]})]})]})]})}),ve&&ze&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-2",children:"No se puede agregar otro expediente"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"El cliente seleccionado ya tiene un expediente existente. ¿Deseas sobrescribir los datos del expediente ya creado con la información actual del formulario?"}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>xe(!1),className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300",children:"Cancelar"}),r.jsx("button",{onClick:Ke,className:"px-4 py-2 rounded-lg bg-yellow-500 text-white hover:bg-yellow-600",children:"Sobrescribir"})]})]})}),$&&te&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-bold mb-4",children:["¿Seguro que deseas eliminar este ",te.tipo==="historial"?"historial médico":"receta","?"]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300",children:"Cancelar"}),r.jsx("button",{onClick:Ye,className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600",children:"Eliminar"})]})]})})]})},lle=()=>{const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,o]=y.useState(""),[c,u]=y.useState("todas"),[f,m]=y.useState(!0),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,A]=y.useState(null),[C,E]=y.useState({type:"",message:""}),[k,O]=y.useState(0),[T,P]=y.useState(5),[_,z]=y.useState({nombre:"",direccion:{calle:"",ciudad:"",departamento:""},telefono:"",correo:"",horariosAtencion:[],activo:!0}),[V,B]=y.useState({});y.useEffect(()=>{W()},[]),y.useEffect(()=>{Z()},[e,s,c]);const W=async()=>{try{m(!0);const ne=await(await fetch("https://a-u-r-o-r-a.onrender.com/api/sucursales")).json();Array.isArray(ne)?t(ne):ne.message&&R("error",ne.message)}catch(F){console.error("Error fetching sucursales:",F),R("error","Error al cargar las sucursales")}finally{m(!1)}},oe=async F=>{try{const ce=await(await fetch("https://a-u-r-o-r-a.onrender.com/api/sucursales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();return ce.message==="Sucursal guardada"?(R("success","Sucursal creada exitosamente"),W(),!0):(R("error",ce.message||"Error al crear la sucursal"),!1)}catch(ne){return console.error("Error creating sucursal:",ne),R("error","Error al crear la sucursal"),!1}},K=async(F,ne)=>{try{const ae=await(await fetch(`https://a-u-r-o-r-a.onrender.com/api/sucursales/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)})).json();return ae.message==="Sucursal actualizada"?(R("success","Sucursal actualizada exitosamente"),W(),!0):(R("error",ae.message||"Error al actualizar la sucursal"),!1)}catch(ce){return console.error("Error updating sucursal:",ce),R("error","Error al actualizar la sucursal"),!1}},I=async F=>{if(window.confirm("¿Está seguro de que desea eliminar esta sucursal?"))try{const ce=await(await fetch(`https://a-u-r-o-r-a.onrender.com/api/sucursales/${F}`,{method:"DELETE"})).json();ce.message==="Sucursal eliminada"?(R("delete","Sucursal eliminada exitosamente"),W()):R("error",ce.message||"Error al eliminar la sucursal")}catch(ne){console.error("Error deleting sucursal:",ne),R("error","Error al eliminar la sucursal")}},R=(F,ne)=>{E({type:F,message:ne})},X=()=>{E({type:"",message:""})},Z=()=>{let F=e.filter(ne=>{var we,U,fe;const ce=s.toLowerCase(),ae=ne.nombre.toLowerCase().includes(ce)||ne.correo.toLowerCase().includes(ce)||ne.telefono.includes(s)||((we=ne.direccion)==null?void 0:we.calle)&&ne.direccion.calle.toLowerCase().includes(ce)||((U=ne.direccion)==null?void 0:U.ciudad)&&ne.direccion.ciudad.toLowerCase().includes(ce)||((fe=ne.direccion)==null?void 0:fe.departamento)&&ne.direccion.departamento.toLowerCase().includes(ce),J=c==="todas"||c==="activa"&&ne.activo||c==="inactiva"&&!ne.activo||c==="reciente"&&new Date(ne.createdAt)>new Date(Date.now()-30*24*60*60*1e3);return ae&&J});a(F),O(0)},H=F=>{const{name:ne,value:ce,type:ae,checked:J}=F.target;if(ne.includes(".")){const[we,U]=ne.split(".");z(fe=>({...fe,[we]:{...fe[we],[U]:ae==="checkbox"?J:ce}}))}else z(we=>({...we,[ne]:ae==="checkbox"?J:ce}));V[ne]&&B(we=>({...we,[ne]:""}))},D=()=>{const F={};return _.nombre.trim()||(F.nombre="El nombre es obligatorio"),_.direccion.calle.trim()||(F["direccion.calle"]="La calle es obligatoria"),_.direccion.ciudad.trim()||(F["direccion.ciudad"]="La ciudad es obligatoria"),_.direccion.departamento.trim()||(F["direccion.departamento"]="El departamento es obligatorio"),_.telefono.trim()||(F.telefono="El teléfono es obligatorio"),_.correo.trim()?/\S+@\S+\.\S+/.test(_.correo)||(F.correo="El formato del correo no es válido"):F.correo="El correo es obligatorio",B(F),Object.keys(F).length===0},$=()=>{z({nombre:"",direccion:{calle:"",ciudad:"",departamento:""},telefono:"",correo:"",horariosAtencion:[],activo:!0}),B({})},G=async F=>{if(F.preventDefault(),!D())return;let ne=!1;S?ne=await K(S._id,_):ne=await oe(_),ne&&(g(!1),b(!1),$(),A(null))},te=()=>{$(),A(null),g(!0)},Q=F=>{var ne,ce,ae;A(F),z({nombre:F.nombre||"",direccion:{calle:((ne=F.direccion)==null?void 0:ne.calle)||"",ciudad:((ce=F.direccion)==null?void 0:ce.ciudad)||"",departamento:((ae=F.direccion)==null?void 0:ae.departamento)||""},telefono:F.telefono||"",correo:F.correo||"",horariosAtencion:F.horariosAtencion||[],activo:F.activo!==void 0?F.activo:!0}),b(!0)},ve=F=>{A(F),N(!0)},xe=Math.ceil(n.length/T),ze=n.slice(k*T,k*T+T),Le=()=>O(0),Ee=()=>O(F=>F>0?F-1:F),Fe=()=>O(F=>F<xe-1?F+1:F),Ke=()=>O(xe-1),re=F=>F?"bg-green-100 text-green-800":"bg-red-100 text-red-800",Be=F=>F?"Activa":"Inactiva",Ge=F=>{if(!F)return"No especificada";const{calle:ne,ciudad:ce,departamento:ae}=F;return`${ne||""}, ${ce||""}, ${ae||""}`.replace(/(^,\s|,\s$)/g,"")},Ne=e.length,He=e.filter(F=>F.activo).length,Ye=[{name:"nombre",label:"Nombre de la Sucursal",type:"text",required:!0,placeholder:"Ej: Sucursal Centro"},{name:"direccion.calle",label:"Calle",type:"text",required:!0,nested:!0,placeholder:"Ej: Avenida Principal #123"},{name:"direccion.ciudad",label:"Ciudad",type:"text",required:!0,nested:!0,placeholder:"Ej: San Salvador"},{name:"direccion.departamento",label:"Departamento",type:"text",required:!0,nested:!0,placeholder:"Ej: San Salvador"},{name:"telefono",label:"Teléfono",type:"text",required:!0,placeholder:"Ej: 2234-5678"},{name:"correo",label:"Correo Electrónico",type:"email",required:!0,placeholder:"Ej: sucursal@optica.com"},{name:"activo",label:"Estado",type:"boolean",required:!0}];return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-cyan-500"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[C.message&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx(yr,{type:C.type,message:C.message,onClose:X})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Sucursales"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:Ne})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(Pl,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Sucursales Activas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:He})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Os,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Sucursales Inactivas"}),r.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:Ne-He})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Pl,{className:"w-6 h-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Resultados"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:n.length})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Oa,{className:"w-6 h-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestión de Sucursales"}),r.jsxs("button",{onClick:te,className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),r.jsx("span",{children:"Añadir Sucursal"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Oa,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nombre, dirección, teléfono o correo...",value:s,onChange:F=>o(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:()=>u("todas"),className:`px-4 py-2 rounded-lg transition-colors ${c==="todas"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Todas"}),r.jsx("button",{onClick:()=>u("activa"),className:`px-4 py-2 rounded-lg transition-colors ${c==="activa"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Activas"}),r.jsx("button",{onClick:()=>u("inactiva"),className:`px-4 py-2 rounded-lg transition-colors ${c==="inactiva"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Inactivas"}),r.jsx("button",{onClick:()=>u("reciente"),className:`px-4 py-2 rounded-lg transition-colors ${c==="reciente"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Recientes"})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Nombre"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Dirección"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Contacto"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:ze.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.nombre}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Creada: ",new Date(F.createdAt).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 max-w-xs",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(vi,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{children:Ge(F.direccion)})]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Ci,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{children:F.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(rc,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{className:"truncate",children:F.correo})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${re(F.activo)}`,children:Be(F.activo)})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ve(F),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(F),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",children:r.jsx(Wn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>I(F._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Cn,{className:"w-4 h-4"})})]})})]},F._id))})]})}),n.length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Pl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron sucursales"}),r.jsx("p",{className:"text-gray-500",children:s||c!=="todas"?"Intenta con otros términos de búsqueda o filtros":"Comienza agregando tu primera sucursal"})]}),n.length>0&&r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:T,onChange:F=>{P(Number(F.target.value)),O(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(F=>r.jsx("option",{value:F,children:F},F))}),r.jsx("span",{className:"text-gray-700",children:"por página"})]}),r.jsxs("div",{className:"flex items-center gap-2 m-[25px]",children:[r.jsx("button",{onClick:Le,disabled:k===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:Ee,disabled:k===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Página ",k+1," de ",xe]}),r.jsx("button",{onClick:Fe,disabled:k===xe-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:Ke,disabled:k===xe-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]}),r.jsx(pr,{isOpen:h,onClose:()=>{g(!1),$()},onSubmit:G,title:"Agregar Nueva Sucursal",formData:_,handleInputChange:H,errors:V,fields:Ye,submitLabel:"Crear Sucursal",gridCols:2}),r.jsx(pr,{isOpen:x,onClose:()=>{b(!1),$(),A(null)},onSubmit:G,title:"Editar Sucursal",formData:_,handleInputChange:H,errors:V,fields:Ye,submitLabel:"Actualizar Sucursal",gridCols:2}),r.jsx(_r,{isOpen:j,onClose:()=>{N(!1),A(null)},title:"Detalles de la Sucursal",item:S,data:S?[{label:"Nombre",value:S.nombre},{label:"Dirección",value:Ge(S.direccion)},{label:"Teléfono",value:S.telefono},{label:"Correo",value:S.correo},{label:"Estado",value:Be(S.activo),color:re(S.activo)},{label:"Fecha de Creación",value:new Date(S.createdAt).toLocaleString()},{label:"Última Actualización",value:new Date(S.updatedAt).toLocaleString()}]:[]})]})},xO=[{label:"Todos",value:"todos"},{label:"Pendiente",value:"pendiente"},{label:"Procesada",value:"procesada"},{label:"Completada",value:"completada"},{label:"Cancelada",value:"cancelada"}],yO=e=>{const t=(e||"").toLowerCase();return t==="completada"||t==="procesada"?"bg-green-100 text-green-800":t==="pendiente"?"bg-yellow-100 text-yellow-800":t==="cancelada"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"},cle=()=>{var xe,ze,Le,Ee,Fe,Ke;const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState("todos"),[h,g]=y.useState({inicio:"",fin:""}),[x,b]=y.useState(null),[j,N]=y.useState(!1),[S,A]=y.useState(null),[C,E]=y.useState({estado:"",observaciones:""}),[k,O]=y.useState(5),T=(re,Be)=>{o({type:re,message:Be}),setTimeout(()=>o(null),4e3)},P=async()=>{try{a(!0);let re=dn(_e.ENDPOINTS.VENTAS);h.inicio&&h.fin&&(re=dn(`${_e.ENDPOINTS.VENTAS}/fecha/rango`,{fechaInicio:h.inicio,fechaFin:h.fin}));const Ge=await(await fetch(re,{method:"GET",headers:_e.FETCH_CONFIG.headers,credentials:_e.FETCH_CONFIG.credentials})).json(),Ne=Array.isArray(Ge)?Ge:Ge.data||[];t(Ne)}catch(re){console.error(re),T("error","Error al cargar ventas.")}finally{a(!1)}};y.useEffect(()=>{P()},[]);const _=y.useMemo(()=>{const re=c.trim().toLowerCase();return e.filter(Be=>{var ae,J,we,U,fe,De;const Ge=((J=(ae=Be==null?void 0:Be.facturaDatos)==null?void 0:ae.numeroFactura)==null?void 0:J.toString())||"",Ne=`${((we=Be==null?void 0:Be.facturaDatos)==null?void 0:we.nombreCliente)||""}`.toLowerCase(),He=`${((U=Be==null?void 0:Be.sucursalId)==null?void 0:U.nombre)||""}`.toLowerCase(),Ye=`${((fe=Be==null?void 0:Be.empleadoId)==null?void 0:fe.nombre)||""} ${((De=Be==null?void 0:Be.empleadoId)==null?void 0:De.apellido)||""}`.toLowerCase(),F=`${Ge} ${Ne} ${He} ${Ye}`.toLowerCase(),ne=!re||F.includes(re),ce=f==="todos"||((Be==null?void 0:Be.estado)||"").toLowerCase()===f;return ne&&ce})},[e,c,f]),{paginatedData:z,currentPage:V,totalPages:B,goToFirstPage:W,goToPreviousPage:oe,goToNextPage:K,goToLastPage:I,setPageSize:R}=X(_,k);function X(re,Be=10){const[Ge,Ne]=y.useState(0),[He,Ye]=y.useState(Be),F=Math.max(1,Math.ceil(((re==null?void 0:re.length)||0)/He)),ne=y.useMemo(()=>{const ce=Ge*He;return re.slice(ce,ce+He)},[re,Ge,He]);return y.useEffect(()=>{Ge>F-1&&Ne(0)},[re,F,Ge]),{paginatedData:ne,currentPage:Ge,totalPages:F,goToFirstPage:()=>Ne(0),goToPreviousPage:()=>Ne(ce=>Math.max(0,ce-1)),goToNextPage:()=>Ne(ce=>Math.min(F-1,ce+1)),goToLastPage:()=>Ne(Math.max(0,F-1)),setPageSize:ce=>{Ye(ce),Ne(0)}}}const Z=re=>{b(re),N(!0)},H=re=>{A(re),E({estado:(re==null?void 0:re.estado)||"",observaciones:(re==null?void 0:re.observaciones)||""})},D=()=>{A(null),E({estado:"",observaciones:""})},$=async()=>{if(S)try{const re=dn(`${_e.ENDPOINTS.VENTAS}/${S._id}`);if(!(await fetch(re,{method:"PUT",headers:_e.FETCH_CONFIG.headers,credentials:_e.FETCH_CONFIG.credentials,body:JSON.stringify({estado:C.estado,observaciones:C.observaciones})})).ok)throw new Error("No se pudo actualizar la venta");T("success","Venta actualizada"),D(),P()}catch(re){console.error(re),T("error","Error al actualizar la venta")}},G=()=>{h.inicio&&h.fin&&P()},te=()=>{g({inicio:"",fin:""}),P()},Q=[{header:"Factura",key:"numero"},{header:"Cliente",key:"cliente"},{header:"Sucursal",key:"sucursal"},{header:"Estado",key:"estado"},{header:"Total",key:"total"},{header:"Fecha",key:"fecha"},{header:"Acciones",key:"acciones"}],ve=re=>{var Ge,Ne,He,Ye;const Be=((Ge=re==null?void 0:re.facturaDatos)==null?void 0:Ge.total)??0;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:((Ne=re==null?void 0:re.facturaDatos)==null?void 0:Ne.numeroFactura)||"—"}),r.jsx("td",{className:"px-6 py-4 text-gray-700",children:((He=re==null?void 0:re.facturaDatos)==null?void 0:He.nombreCliente)||"—"}),r.jsx("td",{className:"px-6 py-4 text-gray-700",children:((Ye=re==null?void 0:re.sucursalId)==null?void 0:Ye.nombre)||"—"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${yO(re==null?void 0:re.estado)}`,children:(re==null?void 0:re.estado)||"—"})}),r.jsxs("td",{className:"px-6 py-4 text-gray-700",children:["$",Be.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(re==null?void 0:re.fecha).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Z(re),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(Qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>H(re),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar estado/observaciones",children:r.jsx(Wn,{className:"w-4 h-4"})})]})})]})};return r.jsxs("div",{className:"space-y-4 animate-fade-in",children:[r.jsx(yr,{alert:s}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Ai,{title:"Gestión de Ventas",buttonLabel:null,onButtonClick:null}),r.jsxs("div",{className:"px-3 pt-2 flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-full sm:w-72",children:[r.jsx(Oa,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{className:"ml-2 bg-transparent outline-none w-full text-sm",placeholder:"Buscar factura/cliente/sucursal",value:c,onChange:re=>u(re.target.value)})]}),r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-auto",children:[r.jsx(Hk,{className:"w-4 h-4 text-gray-400"}),r.jsx("select",{className:"ml-2 bg-transparent outline-none text-sm w-36",value:f,onChange:re=>m(re.target.value),children:xO.map(re=>r.jsx("option",{value:re.value,children:re.label},re.value))})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-40",children:[r.jsx(Yr,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{type:"date",className:"ml-2 bg-transparent outline-none text-sm w-full",value:h.inicio,onChange:re=>g(Be=>({...Be,inicio:re.target.value}))})]}),r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-40",children:[r.jsx(Yr,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{type:"date",className:"ml-2 bg-transparent outline-none text-sm w-full",value:h.fin,onChange:re=>g(Be=>({...Be,fin:re.target.value}))})]}),r.jsx("button",{onClick:G,className:"px-2 py-1 text-xs bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Aplicar"}),r.jsx("button",{onClick:te,className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Limpiar"})]})]}),r.jsx("div",{className:"mt-2",children:r.jsx(To,{columns:Q,data:z,renderRow:ve,isLoading:n,noDataMessage:"No se encontraron ventas",noDataSubMessage:c?"Intenta con otros términos de búsqueda":"Las ventas aparecerán aquí"})}),r.jsx(Ei,{currentPage:V,totalPages:B,goToFirstPage:W,goToPreviousPage:oe,goToNextPage:K,goToLastPage:I,pageSize:k,setPageSize:re=>{O(re),R(re)}})]}),x&&r.jsx(_r,{isOpen:j,onClose:()=>N(!1),title:"Detalles de la Venta",item:x,data:[{label:"Factura",value:((xe=x==null?void 0:x.facturaDatos)==null?void 0:xe.numeroFactura)||"—"},{label:"Cliente",value:((ze=x==null?void 0:x.facturaDatos)==null?void 0:ze.nombreCliente)||"—"},{label:"DUI Cliente",value:((Le=x==null?void 0:x.facturaDatos)==null?void 0:Le.duiCliente)||"—"},{label:"Sucursal",value:((Ee=x==null?void 0:x.sucursalId)==null?void 0:Ee.nombre)||"—"},{label:"Estado",value:(x==null?void 0:x.estado)||"—",color:yO(x==null?void 0:x.estado)},{label:"Subtotal",value:`$${(((Fe=x==null?void 0:x.facturaDatos)==null?void 0:Fe.subtotal)??0).toFixed(2)}`},{label:"Total",value:`$${(((Ke=x==null?void 0:x.facturaDatos)==null?void 0:Ke.total)??0).toFixed(2)}`},{label:"Fecha",value:new Date(x==null?void 0:x.fecha).toLocaleString()},{label:"Observaciones",value:(x==null?void 0:x.observaciones)||"—"}]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Editar Venta"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Estado"}),r.jsx("select",{className:"w-full border rounded-lg px-3 py-2",value:C.estado,onChange:re=>E(Be=>({...Be,estado:re.target.value})),children:xO.filter(re=>re.value!=="todos").map(re=>r.jsx("option",{value:re.value,children:re.label},re.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Observaciones"}),r.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2",rows:3,value:C.observaciones,onChange:re=>E(Be=>({...Be,observaciones:re.target.value}))})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[r.jsx("button",{onClick:D,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Cancelar"}),r.jsx("button",{onClick:$,className:"px-4 py-2 rounded-lg bg-cyan-600 text-white hover:bg-cyan-700",children:"Guardar"})]})]})]})})]})},vO=e=>new Date(e).toLocaleString(),ule=()=>{const{token:e}=zn()||{},[t,n]=y.useState([]),[a,s]=y.useState(!1),[o,c]=y.useState(""),[u,f]=y.useState(""),[m,h]=y.useState({entity:"",method:"",status:"",from:"",to:""}),[g,x]=y.useState(1),[b,j]=y.useState(50),[N,S]=y.useState(0),A=y.useRef(null),C=y.useMemo(()=>({"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}),[e]),E=async()=>{try{s(!0),c("");const z={q:u,...m,page:g,pageSize:b},V=dn(_e.ENDPOINTS.AUDITORIA,z),B=await fetch(V,{headers:C,credentials:"include"}),W=await B.json();if(!B.ok||W.success===!1)throw new Error(W.message||"Error obteniendo auditoría");n(Array.isArray(W.data)?W.data:[]),S(Number(W.total||0))}catch(z){c(z.message||"Error")}finally{s(!1)}};y.useEffect(()=>{E()},[g,b]);const k=()=>{x(1),E()},O=()=>{f(""),h({entity:"",method:"",status:"",from:"",to:""}),x(1),E()};y.useEffect(()=>{try{const z=e?`?token=${encodeURIComponent(e)}`:"",V=_e.BASE_URL+_e.ENDPOINTS.AUDITORIA+"/stream"+z,B=new EventSource(V,{withCredentials:!0});return A.current=B,B.onmessage=W=>{try{const oe=JSON.parse(W.data);Array.isArray(oe)&&oe.length&&n(K=>[...oe.reverse(),...K].slice(0,500))}catch{}},B.onerror=()=>{},()=>{B.close()}}catch{}},[]);const T=()=>{const z=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),V=URL.createObjectURL(z),B=document.createElement("a");B.href=V,B.download=`auditoria_${Date.now()}.json`,B.click(),URL.revokeObjectURL(V)},P=()=>{const z=["Fecha","Usuario","Rol/Cargo","Método","Status","Ruta","Entidad","Acción","Resumen"],V=t.map(I=>{var R,X,Z,H,D,$,G,te,Q;return[vO(I.timestamp||I.createdAt),((R=I.user)==null?void 0:R.nombre)||"",[(X=I.user)==null?void 0:X.rol,(Z=I.user)==null?void 0:Z.cargo].filter(Boolean).join(" / "),((H=I.request)==null?void 0:H.method)||"",((D=I.response)==null?void 0:D.status)||"",(($=I.request)==null?void 0:$.path)||"",((G=I.action)==null?void 0:G.entity)||"",((te=I.action)==null?void 0:te.type)||"",(((Q=I.action)==null?void 0:Q.summary)||"").replace(/\n|\r/g," ")]}),B=[z,...V].map(I=>I.map(R=>`"${String(R).replace(/"/g,'""')}"`).join(",")).join(`
`),W=new Blob([B],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(W),K=document.createElement("a");K.href=oe,K.download=`auditoria_${Date.now()}.csv`,K.click(),URL.revokeObjectURL(oe)},_=Math.max(1,Math.ceil(N/b));return r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-[220px]",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Búsqueda"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:u,onChange:z=>f(z.target.value),placeholder:"Texto, email, ruta...",className:"w-full border rounded px-3 py-2"}),r.jsxs("button",{onClick:k,className:"px-3 py-2 bg-cyan-600 text-white rounded inline-flex items-center gap-1",children:[r.jsx(Oa,{size:16}),"Buscar"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Entidad"}),r.jsx("input",{value:m.entity,onChange:z=>h(V=>({...V,entity:z.target.value})),placeholder:"empleados, ventas...",className:"w-full border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Método"}),r.jsxs("select",{value:m.method,onChange:z=>h(V=>({...V,method:z.target.value})),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{children:"GET"}),r.jsx("option",{children:"POST"}),r.jsx("option",{children:"PUT"}),r.jsx("option",{children:"PATCH"}),r.jsx("option",{children:"DELETE"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("input",{value:m.status,onChange:z=>h(V=>({...V,status:z.target.value})),placeholder:"200, 400...",className:"w-28 border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Desde"}),r.jsx("input",{type:"datetime-local",value:m.from,onChange:z=>h(V=>({...V,from:z.target.value})),className:"border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Hasta"}),r.jsx("input",{type:"datetime-local",value:m.to,onChange:z=>h(V=>({...V,to:z.target.value})),className:"border rounded px-3 py-2"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:O,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(Hk,{size:16}),"Reset"]}),r.jsxs("button",{onClick:E,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(Wk,{size:16}),"Refrescar"]})]}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsxs("button",{onClick:P,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(sv,{size:16}),"CSV"]}),r.jsxs("button",{onClick:T,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(sv,{size:16}),"JSON"]})]})]}),o&&r.jsx("div",{className:"text-red-600 text-sm",children:o}),r.jsx("div",{className:"overflow-auto border rounded",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left",children:"Fecha"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Usuario"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Rol/Cargo"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Método"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Status"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Ruta"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Entidad"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Acción"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Resumen"})]})}),r.jsx("tbody",{children:a?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-gray-500",children:"Cargando..."})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-gray-500",children:"Sin registros"})}):t.map((z,V)=>{var B,W,oe,K,I,R,X,Z,H,D,$,G;return r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:vO(z.timestamp||z.createdAt)}),r.jsxs("td",{className:"px-3 py-2",children:[r.jsx("div",{className:"font-medium",children:((B=z.user)==null?void 0:B.nombre)||"—"}),r.jsx("div",{className:"text-gray-500",children:((W=z.user)==null?void 0:W.email)||""})]}),r.jsx("td",{className:"px-3 py-2",children:[(oe=z.user)==null?void 0:oe.rol,(K=z.user)==null?void 0:K.cargo].filter(Boolean).join(" / ")}),r.jsx("td",{className:"px-3 py-2",children:(I=z.request)==null?void 0:I.method}),r.jsx("td",{className:"px-3 py-2",children:(R=z.response)==null?void 0:R.status}),r.jsx("td",{className:"px-3 py-2 max-w-[280px] truncate",title:(X=z.request)==null?void 0:X.path,children:(Z=z.request)==null?void 0:Z.path}),r.jsx("td",{className:"px-3 py-2",children:(H=z.action)==null?void 0:H.entity}),r.jsx("td",{className:"px-3 py-2",children:(D=z.action)==null?void 0:D.type}),r.jsx("td",{className:"px-3 py-2 max-w-[400px] truncate",title:($=z.action)==null?void 0:$.summary,children:(G=z.action)==null?void 0:G.summary})]},(z._id||"")+V)})})]})}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",N]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{disabled:g<=1,onClick:()=>x(z=>Math.max(1,z-1)),className:"px-3 py-2 border rounded",children:"Prev"}),r.jsxs("span",{className:"text-sm",children:[g," / ",_]}),r.jsx("button",{disabled:g>=_,onClick:()=>x(z=>Math.min(_,z+1)),className:"px-3 py-2 border rounded",children:"Next"}),r.jsx("select",{value:b,onChange:z=>{j(Number(z.target.value)),x(1)},className:"ml-2 border rounded px-2 py-2",children:[20,50,100,200].map(z=>r.jsxs("option",{value:z,children:[z,"/pág"]},z))})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(aT,{size:14})," Actualización en vivo vía SSE + recarga manual"]})]})})},dle=()=>{var B,W,oe,K;const[e,t]=y.useState("dashboard"),[n,a]=y.useState(!0),[s,o]=y.useState(!1),[c,u]=y.useState(0),{user:f}=zn();y.useEffect(()=>{const I=()=>t("recetas");window.addEventListener("goToRecetasAndEdit",I);const R=()=>{window.innerWidth>=1024&&o(!1)};return window.addEventListener("resize",R),()=>{window.removeEventListener("goToRecetasAndEdit",I),window.removeEventListener("resize",R)}},[]),y.useEffect(()=>{const I=()=>{const X=window.innerWidth||0;if(X<768){u(0);return}X>=1024?u(n?256:64):u(n?240:64)};I(),window.addEventListener("resize",I);const R=setTimeout(I,0);return()=>{window.removeEventListener("resize",I),clearTimeout(R)}},[n,s]);const m=[{id:"dashboard",icon:Kq,label:"Dashboard",section:"Principal",allowedRoles:["Administrador","Gerente","Empleado"]},{id:"clientes",icon:gd,label:"Clientes",section:"Personal",allowedRoles:["Administrador","Gerente","Vendedor","Recepcionista","Optometrista","Empleado"]},{id:"empleados",icon:ko,label:"Empleados",section:"Personal",allowedRoles:["Administrador","Gerente"]},{id:"optometristas",icon:Qt,label:"Optometristas",section:"Personal",allowedRoles:["Administrador","Gerente"]},{id:"lentes",icon:wo,label:"Lentes",section:"Productos",allowedRoles:["Administrador","Gerente","Técnico","Empleado"]},{id:"accesorios",icon:Jb,label:"Accesorios",section:"Productos",allowedRoles:["Administrador","Gerente","Técnico","Empleado"]},{id:"personalizados",icon:ma,label:"Personalizados",section:"Productos",allowedRoles:["Administrador","Gerente","Técnico","Vendedor","Empleado"]},{id:"categorias",icon:ia,label:"Categorías",section:"Productos",allowedRoles:["Administrador","Gerente"]},{id:"marcas",icon:Ph,label:"Marcas",section:"Productos",allowedRoles:["Administrador","Gerente"]},{id:"ventas",icon:Si,label:"Ventas",section:"Administración",allowedRoles:["Administrador","Gerente","Vendedor","Recepcionista","Empleado"]},{id:"citas",icon:Yr,label:"Citas",section:"Médico",allowedRoles:["Administrador","Gerente","Recepcionista","Optometrista"]},{id:"historial",icon:Vk,label:"Historial Médico",section:"Médico",allowedRoles:["Administrador","Gerente","Optometrista"]},{id:"recetas",icon:TF,label:"Recetas",section:"Médico",allowedRoles:["Administrador","Gerente","Optometrista"]},{id:"sucursales",icon:vi,label:"Sucursales",section:"Administración",allowedRoles:["Administrador","Gerente"]},{id:"promociones",icon:Yk,label:"Promociones",section:"Productos",allowedRoles:["Administrador","Gerente","Vendedor"]},{id:"auditoria",icon:Xk,label:"Auditoría",section:"Administración",allowedRoles:["Administrador"]}],h=I=>(I||"").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().trim(),g=I=>{const R=h(I);return R?R.startsWith("admin")?"administrador":R==="gerente"||R==="manager"?"gerente":R==="vendedor"||R==="ventas"||R==="seller"?"vendedor":R==="recepcionista"||R==="recepcion"?"recepcionista":R==="optometrista"||R==="optometra"||R==="optico"?"optometrista":R==="tecnico"||R==="técnico"||R==="tech"?"tecnico":R==="cliente"||R==="customer"?"cliente":R==="empleado"||R==="staff"||R==="user"?"empleado":R:""},x=(f==null?void 0:f.rol)||(f==null?void 0:f.role)||((f==null?void 0:f.userType)==="cliente"?"Cliente":"Empleado"),b=g(x),j=y.useMemo(()=>{var R,X,Z,H,D,$,G,te,Q,ve,xe,ze,Le,Ee,Fe,Ke,re,Be,Ge,Ne,He,Ye,F,ne;const I=[f==null?void 0:f.cargo,f==null?void 0:f.Cargo,f==null?void 0:f.puesto,f==null?void 0:f.Puesto,f==null?void 0:f.rolCargo,f==null?void 0:f.roleCargo,f==null?void 0:f.cargoNombre,f==null?void 0:f.cargo_name,f==null?void 0:f.position,f==null?void 0:f.Position,(R=f==null?void 0:f.cargo)==null?void 0:R.nombre,(X=f==null?void 0:f.cargo)==null?void 0:X.name,(Z=f==null?void 0:f.empleado)==null?void 0:Z.cargo,(H=f==null?void 0:f.empleado)==null?void 0:H.Cargo,(D=f==null?void 0:f.empleado)==null?void 0:D.puesto,($=f==null?void 0:f.empleado)==null?void 0:$.Puesto,(te=(G=f==null?void 0:f.empleado)==null?void 0:G.cargo)==null?void 0:te.nombre,(ve=(Q=f==null?void 0:f.empleado)==null?void 0:Q.cargo)==null?void 0:ve.name,(xe=f==null?void 0:f.profile)==null?void 0:xe.cargo,(ze=f==null?void 0:f.profile)==null?void 0:ze.puesto].filter(Boolean);if(I.length)return I[0];try{const ce=localStorage.getItem("aurora_user");if(ce){const ae=JSON.parse(ce),J=[ae==null?void 0:ae.cargo,ae==null?void 0:ae.Cargo,ae==null?void 0:ae.puesto,ae==null?void 0:ae.Puesto,ae==null?void 0:ae.rolCargo,ae==null?void 0:ae.roleCargo,ae==null?void 0:ae.cargoNombre,ae==null?void 0:ae.cargo_name,ae==null?void 0:ae.position,ae==null?void 0:ae.Position,(Le=ae==null?void 0:ae.cargo)==null?void 0:Le.nombre,(Ee=ae==null?void 0:ae.cargo)==null?void 0:Ee.name,(Fe=ae==null?void 0:ae.empleado)==null?void 0:Fe.cargo,(Ke=ae==null?void 0:ae.empleado)==null?void 0:Ke.Cargo,(re=ae==null?void 0:ae.empleado)==null?void 0:re.puesto,(Be=ae==null?void 0:ae.empleado)==null?void 0:Be.Puesto,(Ne=(Ge=ae==null?void 0:ae.empleado)==null?void 0:Ge.cargo)==null?void 0:Ne.nombre,(Ye=(He=ae==null?void 0:ae.empleado)==null?void 0:He.cargo)==null?void 0:Ye.name,(F=ae==null?void 0:ae.profile)==null?void 0:F.cargo,(ne=ae==null?void 0:ae.profile)==null?void 0:ne.puesto].filter(Boolean);if(J.length)return J[0]}}catch{}return null},[f]),N=g(j),S=An(),A=Kn.useMemo(()=>{try{return new URLSearchParams(S.search).get("role")}catch{return null}},[S.search]),C=Kn.useMemo(()=>{try{return new URLSearchParams(S.search).get("cargo")}catch{return null}},[S.search]),E=Kn.useMemo(()=>!A||!["Administrador","Gerente","Vendedor","Optometrista","Técnico","Recepcionista"].includes(A)?null:g(A)||null,[A]),k=Kn.useMemo(()=>!C||!["Administrador","Gerente","Vendedor","Optometrista","Técnico","Recepcionista"].includes(C)?null:g(C)||null,[C]),O=E||(b==="empleado"?k||N||"empleado":b),T=y.useMemo(()=>O==="administrador"?m:m.filter(I=>!I.allowedRoles||I.allowedRoles.length===0?!0:I.allowedRoles.some(R=>g(R)===O)),[m,O]);y.useEffect(()=>{E&&console.log("[RBAC] OVERRIDE activo (exacto) ->",A,"=>",E),k&&console.log("[RBAC] CARGO OVERRIDE activo (exacto) ->",C,"=>",k),console.log("[RBAC] roleRaw=",x,"canon=",b,"| cargoRaw=",j,"cargoCanon=",N,"effective=",O,"visible=",T.map(I=>I.id))},[x,b,j,N,O,T,E,k,A,C]);const P=y.useMemo(()=>T.length>0?T:m.filter(I=>I.id==="dashboard"),[T,m]);y.useEffect(()=>{var I;P.length!==0&&(P.some(R=>R.id===e)||t(((I=P[0])==null?void 0:I.id)||"dashboard"))},[P,e]),y.useEffect(()=>{console.log("[Dashboard] activeSection ->",e)},[e]);const _=y.useMemo(()=>P.map(I=>I.id),[P]),z=I=>{I&&(_.includes(I)?t(I):console.warn("[RBAC] Navegación bloqueada a sección no permitida:",I))},V=()=>{var I;switch(e){case"dashboard":return r.jsx(Noe,{onNavigate:z,visibleIds:_});case"clientes":return r.jsx(KV,{});case"empleados":return r.jsx(tH,{});case"optometristas":return r.jsx(rH,{});case"lentes":return r.jsx(Toe,{});case"accesorios":return r.jsx(Boe,{});case"personalizados":return r.jsx(qoe,{});case"categorias":return r.jsx(Hoe,{});case"marcas":return r.jsx(ale,{});case"ventas":return r.jsx(cle,{});case"citas":return r.jsx(ile,{});case"historial":return r.jsx(ole,{});case"recetas":return r.jsx(iH,{});case"sucursales":return r.jsx(lle,{});case"promociones":return r.jsx(sle,{});case"auditoria":return r.jsx(ule,{});default:return r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:(I=m.find(R=>R.id===e))==null?void 0:I.label}),r.jsxs("p",{className:"text-gray-600",children:["Todavia me falta esta sección XD. Pero imagina que es la interfaz ",e,"."]})]})}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx(IV,{sidebarOpen:n,setSidebarOpen:a,mobileMenuOpen:s,setMobileMenuOpen:o,menuItems:P,activeSection:e,setActiveSection:t}),r.jsxs("div",{className:"transition-all duration-300 relative z-10",style:{marginLeft:s?0:c},children:[r.jsxs("div",{className:"lg:hidden bg-white shadow-sm border-b border-gray-200 p-3 sm:p-4 flex items-center justify-between",children:[r.jsx("div",{}),r.jsx("h1",{className:"text-base sm:text-lg font-semibold text-cyan-600 truncate px-2",children:e==="dashboard"?"Panel de Administración":((B=P.find(I=>I.id===e))==null?void 0:B.label)||((W=m.find(I=>I.id===e))==null?void 0:W.label)}),r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center"})]}),r.jsx("header",{className:"hidden lg:block bg-white shadow-sm border-b border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-cyan-600",children:e==="dashboard"?"Panel de Administración":((oe=P.find(I=>I.id===e))==null?void 0:oe.label)||((K=m.find(I=>I.id===e))==null?void 0:K.label)})}),r.jsx("div",{className:"flex items-center space-x-4"})]})}),r.jsx("main",{className:"p-3 sm:p-4 lg:p-6",children:r.jsx("div",{className:"animate-fade-in",children:V()},e)})]}),r.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
      `})]})},Sl=({children:e,requiredRole:t=null,noRedirect:n=!1})=>{const{user:a}=zn();if(An(),!a)return n?e:r.jsx(gm,{to:"/",replace:!0});if(!t)return e;const s=a.rol||a.role||a.userType;return t==="Empleado"?s==="Cliente"?r.jsx(gm,{to:"/acceso-denegado",state:{message:"No tienes permisos para acceder a esta página. Solo el personal autorizado puede acceder al dashboard."},replace:!0}):e:t==="Cliente"&&s!=="Cliente"?r.jsx(gm,{to:"/acceso-denegado",state:{message:"No tienes permisos para acceder a esta página. Solo los clientes pueden acceder a las cotizaciones."},replace:!0}):e},fle=()=>{var E,k;const{user:e,setUser:t,logout:n}=zn(),a=es(),s=An(),[o,c]=y.useState(!1),[u,f]=y.useState({nombre:(e==null?void 0:e.nombre)||"",apellido:(e==null?void 0:e.apellido)||"",telefono:(e==null?void 0:e.telefono)||""}),[m,h]=y.useState(!1),[g,x]=y.useState(((E=s.state)==null?void 0:E.message)||null),[b,j]=y.useState(null);y.useEffect(()=>{e||(h(!0),setTimeout(()=>{a("/")},1800))},[e,a]),y.useEffect(()=>{if(g){const O=setTimeout(()=>{x(null)},5e3);return()=>clearTimeout(O)}},[g]);const N=()=>{n(),a("/")},S=()=>{try{window.history.length>2?a(-1):a("/")}catch{a("/")}};if(!e)return r.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-6 rounded shadow-md text-lg font-semibold",children:"Debes iniciar sesión para ver tu perfil."})});const A=O=>{f({...u,[O.target.name]:O.target.value})},C=O=>{O.preventDefault();const T={...e,nombre:u.nombre,apellido:u.apellido,telefono:u.telefono};t(T);try{localStorage.setItem("aurora_user",JSON.stringify(T))}catch{}c(!1),j("Cambios guardados correctamente."),setTimeout(()=>j(null),3e3)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600",children:r.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8 sm:py-10",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("button",{onClick:S,className:"inline-flex items-center gap-2 text-white/90 hover:text-white bg-white/10 hover:bg-white/15 px-3 py-2 rounded-md transition",children:[r.jsx("span",{className:"text-lg",children:"←"}),r.jsx("span",{className:"text-sm font-medium",children:"Volver"})]}),r.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-white/20 flex items-center justify-center text-white text-2xl font-bold",children:((k=e.nombre)==null?void 0:k.charAt(0))||"U"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h1",{className:"text-white text-2xl sm:text-3xl font-bold leading-tight",children:[e.nombre," ",e.apellido]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-white/90 text-sm sm:text-base",children:e.correo}),r.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ml-2 ${e.rol==="Cliente"?"bg-white/15 text-white":"bg-emerald-400/20 text-emerald-100"}`,children:e.rol})]})]}),r.jsx("button",{onClick:N,className:"hidden sm:inline-flex bg-white text-blue-600 font-medium px-4 py-2 rounded-md hover:bg-blue-50 transition",children:"Cerrar sesión"})]})})}),r.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 -mt-6 sm:-mt-8 pb-10",children:[g&&r.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 p-3 rounded",children:g}),b&&r.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 text-green-700 p-3 rounded",children:b}),r.jsx("div",{className:"grid grid-cols-1 gap-6",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Información Personal"}),!o&&r.jsx("button",{onClick:()=>c(!0),className:"text-blue-600 text-sm font-medium hover:underline",children:"Editar"})]}),o?r.jsxs("form",{onSubmit:C,className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-500",children:"Nombre"}),r.jsx("input",{type:"text",name:"nombre",value:u.nombre,onChange:A,className:"mt-1 w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-500",children:"Apellido"}),r.jsx("input",{type:"text",name:"apellido",value:u.apellido,onChange:A,className:"mt-1 w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-500",children:"Teléfono"}),r.jsx("input",{type:"tel",name:"telefono",value:u.telefono,onChange:A,className:"mt-1 w-full px-3 py-2 border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),r.jsxs("div",{className:"sm:col-span-3 flex flex-col sm:flex-row gap-2",children:[r.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition",children:"Guardar cambios"}),r.jsx("button",{type:"button",onClick:()=>c(!1),className:"bg-slate-100 text-slate-700 px-4 py-2 rounded-md hover:bg-slate-200 transition",children:"Cancelar"})]})]}):r.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-3 rounded-md border border-slate-100 bg-slate-50",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Nombre"}),r.jsx("p",{className:"text-slate-800 font-medium",children:e.nombre||"-"})]}),r.jsxs("div",{className:"p-3 rounded-md border border-slate-100 bg-slate-50",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Apellido"}),r.jsx("p",{className:"text-slate-800 font-medium",children:e.apellido||"-"})]}),r.jsxs("div",{className:"p-3 rounded-md border border-slate-100 bg-slate-50",children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Teléfono"}),r.jsx("p",{className:"text-slate-800 font-medium",children:e.telefono||"-"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-3",children:"Acciones rápidas"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:()=>a("/cotizaciones"),className:"p-4 rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-blue-50 text-left transition",children:[r.jsx("p",{className:"text-slate-800 font-medium",children:"Ver cotizaciones"}),r.jsx("p",{className:"text-slate-500 text-sm",children:"Gestionar tus cotizaciones"})]}),e.rol!=="Cliente"&&r.jsxs("button",{onClick:()=>a("/dashboard"),className:"p-4 rounded-lg border border-slate-200 hover:border-emerald-300 hover:bg-emerald-50 text-left transition",children:[r.jsx("p",{className:"text-slate-800 font-medium",children:"Dashboard Admin"}),r.jsx("p",{className:"text-slate-500 text-sm",children:"Ir al panel de administración"})]})]})]})]})})]})]})},Sa=({children:e})=>{const t={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},n={type:"spring",stiffness:200,damping:20,duration:.01};return r.jsx(yt.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:n,children:e})},mm=async(e,t={})=>{const n=c=>`${c}${e}`,a=async c=>{const u=await fetch(n(c),{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});return u.ok&&(_e.BASE_URL=c),u},s=_e.BASE_URL,o=s.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await a(s)}catch(c){const u=(c==null?void 0:c.message)||"";if(u.includes("Failed to fetch")||u.includes("NetworkError")||u.includes("ECONNREFUSED"))return await a(o);throw c}},mle=({onClose:e})=>{const[t,n]=y.useState(1),[a,s]=y.useState({email:"",code:"",newPassword:"",confirmPassword:""}),[o,c]=y.useState(!1),[u,f]=y.useState(!1),[m,h]=y.useState({type:"info",message:""}),g=b=>{s({...a,[b.target.name]:b.target.value})},x=async b=>{var N,S,A;b.preventDefault();const j=(a.email||"").trim().toLowerCase();if(t===1){c(!0);try{let C=await mm(`${_e.ENDPOINTS.CLIENTES}/forgot-password`,{method:"POST",body:JSON.stringify({correo:j})}),E=await C.json();if(!C.ok&&((N=E.message)!=null&&N.toLowerCase().includes("no existe")||(S=E.message)!=null&&S.toLowerCase().includes("correo"))&&(C=await mm(`${_e.ENDPOINTS.EMPLEADOS}/forgot-password`,{method:"POST",body:JSON.stringify({correo:j})}),E=await C.json()),!C.ok)throw new Error(E.message||"No pudimos enviar el código. Intenta de nuevo.");h({type:"success",message:"Te enviamos un código de verificación. Revisa tu bandeja de entrada o spam."}),n(2)}catch(C){h({type:"error",message:C.message||"Ocurrió un error. Intenta nuevamente."})}finally{c(!1)}}else if(t===2){if(a.newPassword!==a.confirmPassword){h({type:"warning",message:"Las contraseñas no coinciden."});return}c(!0);try{let C=await mm(`${_e.ENDPOINTS.CLIENTES}/reset-password`,{method:"POST",body:JSON.stringify({correo:j,code:a.code,newPassword:a.newPassword})}),E=await C.json();if(!C.ok&&((A=E.message)!=null&&A.toLowerCase().includes("correo"))&&(C=await mm(`${_e.ENDPOINTS.EMPLEADOS}/reset-password`,{method:"POST",body:JSON.stringify({correo:j,code:a.code,newPassword:a.newPassword})}),E=await C.json()),!C.ok)throw new Error(E.message||"No pudimos cambiar tu contraseña. Intenta nuevamente.");f(!0),h({type:"success",message:"¡Contraseña actualizada! Ya puedes iniciar sesión."}),setTimeout(()=>{e&&e()},2500)}catch(C){h({type:"error",message:C.message||"Ocurrió un error. Intenta nuevamente."})}finally{c(!1)}}};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 relative shadow-xl",children:[r.jsx("button",{onClick:e,className:"absolute top-2 right-2 w-10 h-10 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"})}),(m==null?void 0:m.message)&&r.jsx("div",{className:`mb-4 text-sm rounded-md px-3 py-2 ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":m.type==="error"?"bg-red-50 text-red-700 border border-red-200":m.type==="warning"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,role:"status","aria-live":"polite",children:m.message}),t===1&&!u&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"Olvidé mi contraseña"}),r.jsx("p",{className:"text-gray-600 text-center",children:"Ingresa tu correo electrónico y te enviaremos un código de verificación"}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"nombre@ejemplo.com",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed",disabled:o,children:o?"Enviando…":"Siguiente"})]})]}),t===2&&!u&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"Verificación"}),r.jsx("p",{className:"text-gray-600 text-center",children:"Ingresa el código de verificación que enviamos a tu correo y tu nueva contraseña"}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Código de verificación"}),r.jsx("input",{type:"text",name:"code",value:a.code,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"Ingresa el código",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),r.jsx("input",{type:"password",name:"newPassword",value:a.newPassword,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"********",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmar Contraseña"}),r.jsx("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"********",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed",disabled:o,children:o?"Cambiando…":"Cambiar Contraseña"})]})]}),u&&r.jsxs("div",{className:"space-y-4 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-green-600",children:"¡Contraseña cambiada!"}),r.jsx("p",{className:"text-gray-700",children:"Ahora puedes iniciar sesión con tu nueva contraseña."})]})]})})},bO=async(e,t={})=>{const n=c=>`${c}${e}`,a=async c=>{const u=await fetch(n(c),{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});return u.ok&&(_e.BASE_URL=c),u},s=_e.BASE_URL,o=s.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{const c=await a(s);return c.type==="opaque",c}catch(c){const u=(c==null?void 0:c.message)||"";if(u.includes("Failed to fetch")||u.includes("NetworkError")||u.includes("ECONNREFUSED"))return await a(o);throw c}},hle=({isOpen:e,onClose:t})=>{const n=es(),[a,s]=y.useState(!0),[o,c]=y.useState(!1),[u,f]=y.useState(!1),[m,h]=y.useState("cliente"),[g,x]=y.useState(!1),[b,j]=y.useState({nombre:"",apellido:"",dui:"",telefono:"",calle:"",ciudad:"",departamento:"",email:"",password:""}),{login:N}=zn(),[S,A]=y.useState(null),[C,E]=y.useState(null),[k,O]=y.useState(!1),[T,P]=y.useState(""),[_,z]=y.useState(null);y.useEffect(()=>{e?c(!0):setTimeout(()=>{c(!1)},300)},[e]);const V=oe=>{j({...b,[oe.target.name]:oe.target.value})},B=()=>{t(),n("/recuperar-password")},W=async oe=>{var K,I;if(oe.preventDefault(),A(null),E(null),a)try{const R=await N({correo:b.email.trim(),password:b.password});if(R.success){t();const X=(K=R.user)==null?void 0:K.rol;n(X==="Cliente"?"/":"/dashboard")}else A(R.message)}catch{A("Error de red o del servidor")}else try{const R=await bO(`${_e.ENDPOINTS.REGISTRO_CLIENTES}`,{method:"POST",body:JSON.stringify({nombre:b.nombre,apellido:b.apellido,edad:18,dui:b.dui,telefono:b.telefono,correo:b.email,direccion:{calle:b.calle,ciudad:b.ciudad,departamento:b.departamento},password:b.password})}),X=await R.json();if(!R.ok||(I=X.message)!=null&&I.toLowerCase().includes("error")){E(X.message||"Error al registrarse");return}X.devVerificationCode?(E("Registro en desarrollo: se generó un código de verificación automáticamente."),O(!0),P(X.devVerificationCode)):(E("Registro exitoso. Revisa tu correo para verificar tu cuenta."),O(!0))}catch{E("Error de red o del servidor")}};return e?u?r.jsx(mle,{onClose:()=>f(!1)}):r.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 transition-all duration-300 ${o?"bg-black/30 backdrop-blur-sm":"bg-transparent"}`,onMouseDown:oe=>{x(oe.target===oe.currentTarget)},onClick:oe=>{g&&oe.target===oe.currentTarget&&t(),x(!1)},children:r.jsxs("div",{className:`bg-white rounded-2xl w-full max-w-md p-6 relative shadow-xl overflow-y-auto max-h-[90vh] transform transition-all duration-300 ${o?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:oe=>oe.stopPropagation(),onMouseDown:oe=>oe.stopPropagation(),children:[r.jsx("button",{onClick:t,className:"absolute top-2 right-2 w-10 h-10 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200 group","aria-label":"Cerrar modal",children:r.jsx("svg",{className:"w-6 h-6 transform group-hover:rotate-90 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:a?"Iniciar Sesión":"Registrarse"})]}),r.jsxs("div",{className:"flex mb-6",children:[r.jsx("button",{className:`flex-1 py-2 transition-all duration-300 ${a?"text-[#0097c2] border-b-2 border-[#0097c2]":"text-gray-500 hover:text-[#0097c2]"}`,onClick:()=>s(!0),children:"Iniciar Sesión"}),r.jsx("button",{className:`flex-1 py-2 transition-all duration-300 ${a?"text-gray-500 hover:text-[#0097c2]":"text-[#0097c2] border-b-2 border-[#0097c2]"}`,onClick:()=>s(!1),children:"Registrarse"})]}),k?r.jsxs("form",{onSubmit:async oe=>{var K;oe.preventDefault(),z(null);try{const I=await bO(`${_e.ENDPOINTS.REGISTRO_CLIENTES}/verifyCodeEmail`,{method:"POST",body:JSON.stringify({verificationCodeRequest:T})}),R=await I.json();if(!I.ok||(K=R.message)!=null&&K.toLowerCase().includes("error")){z(R.message||"Error al verificar el código");return}z("¡Email verificado con éxito! Ahora puedes iniciar sesión."),setTimeout(()=>{O(!1),s(!0),E(null),z(null)},2e3)}catch{z("Error de red o del servidor")}},className:"space-y-4",children:[r.jsx("div",{className:"mb-2 p-2 bg-blue-100 text-blue-700 rounded text-center text-sm",children:"Ingresa el código de verificación que recibiste por correo."}),r.jsx("input",{type:"text",value:T,onChange:oe=>P(oe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"Código de verificación",required:!0}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300",children:"Verificar Email"}),_&&r.jsx("div",{className:`mt-2 p-2 rounded text-center text-sm ${_.toLowerCase().includes("éxito")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:_})]}):r.jsxs("form",{onSubmit:W,className:"space-y-4",children:[C&&!a&&r.jsx("div",{className:`mb-2 p-2 rounded text-center text-sm ${C.toLowerCase().includes("exitoso")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:C}),S&&r.jsx("div",{className:"mb-2 p-2 bg-red-100 text-red-700 rounded text-center text-sm",children:S}),r.jsxs("div",{className:`space-y-4 transition-all duration-300 ${a?"opacity-0 max-h-0 overflow-hidden":"opacity-100 max-h-[1000px]"}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),r.jsx("input",{type:"text",name:"nombre",value:b.nombre,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu nombre"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apellido"}),r.jsx("input",{type:"text",name:"apellido",value:b.apellido,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu apellido"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"DUI"}),r.jsx("input",{type:"text",name:"dui",value:b.dui,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"00000000-0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),r.jsx("input",{type:"tel",name:"telefono",value:b.telefono,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"0000-0000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Calle"}),r.jsx("input",{type:"text",name:"calle",value:b.calle,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu calle"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),r.jsx("input",{type:"text",name:"ciudad",value:b.ciudad,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu ciudad"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Departamento"}),r.jsx("input",{type:"text",name:"departamento",value:b.departamento,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu departamento"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),r.jsx("input",{type:"email",name:"email",value:b.email,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"nombre@ejemplo.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),r.jsx("input",{type:"password",name:"password",value:b.password,onChange:V,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"********"})]}),a&&r.jsx("div",{className:"text-right",children:r.jsx("button",{onClick:B,className:"text-sm text-[#0097c2] hover:underline transition-colors",children:"¿Olvidaste tu contraseña?"})}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300 transform hover:scale-[1.02]",children:a?"Iniciar Sesión":"Crear Cuenta"})]})]})}):null},Ca=()=>{const[e,t]=y.useState(!1),[n,a]=y.useState(!1),[s,o]=y.useState(!1),u=An().pathname==="/",{user:f}=zn(),{itemCount:m}=Gb()||{},h=()=>{o(!s)},g=()=>{o(!1),t(!1)},x=()=>{a(!0)};return r.jsxs(r.Fragment,{children:[u&&r.jsxs("div",{className:"bg-[#0097c2] text-white text-xs sm:text-sm py-1 sm:py-2 px-2 sm:px-4 flex flex-col md:flex-row justify-center items-center",children:[r.jsx("span",{children:"Envío gratis en compras mayores a $1000"}),r.jsx("a",{href:"/promociones",className:"ml-1 sm:ml-2 underline",children:"Ver más"})]}),u&&r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center bg-[#f5fafd] px-2 sm:px-4 lg:px-8 py-2 sm:py-3 border-b border-gray-200",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row items-center space-y-1 sm:space-y-2 lg:space-y-0 lg:space-x-3 xl:space-x-4",children:[r.jsxs("span",{className:"text-[#0097c2] font-semibold text-xs sm:text-sm flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h2.28a2 2 0 011.7.95l1.6 2.6a2 2 0 01-.45 2.7l-.7.7a16.001 16.001 0 006.6 6.6l.7-.7a2 2 0 012.7-.45l2.6 1.6a2 2 0 01.95 1.7V19a2 2 0 01-2 2h-1C7.82 21 3 16.18 3 10V9a2 2 0 012-2z"})}),r.jsx("span",{className:"hidden sm:inline",children:"009-555-5555"}),r.jsx("span",{className:"sm:hidden",children:"009-555-5555"})]}),r.jsxs("span",{className:"text-[#0097c2] font-semibold text-xs sm:text-sm flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 12H8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"})}),r.jsx("span",{className:"hidden xl:inline",children:"info@opticalainteligente.com"}),r.jsx("span",{className:"xl:hidden",children:"info@opticalainteligente.com"})]})]}),r.jsx("div",{className:"hidden xl:block text-[10px] sm:text-xs text-gray-500",children:"Lun-Vie: 8AM-6PM | Sáb: 9AM-3PM"})]}),r.jsxs("nav",{className:"bg-white py-2 sm:py-4 px-3 sm:px-6 shadow-md relative",children:[r.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-20 h-8 sm:w-24 sm:h-10 lg:w-27 lg:h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"})}),r.jsxs("ul",{className:"hidden xl:flex space-x-3 sm:space-x-4 lg:space-x-6 font-medium text-sm sm:text-base",children:[r.jsx("li",{children:r.jsx(Et,{to:"/",className:"hover:text-[#0097c2] h-full flex items-center",children:"Inicio"})}),r.jsxs("li",{className:"relative",children:[r.jsx("div",{className:"h-full flex items-center",children:r.jsxs(Et,{to:"/productos",className:"hover:text-[#0097c2] flex items-center gap-1",onMouseEnter:()=>t(!0),children:["Productos",r.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 transition-transform inline-block ml-1 ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),r.jsxs("div",{className:`absolute left-0 mt-0 w-40 sm:w-48 bg-white shadow-lg rounded-lg py-1 sm:py-2 z-50 ${e?"block":"hidden"}`,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[r.jsx(Et,{to:"/productos/lentes",className:"block px-3 sm:px-4 py-1.5 sm:py-2 hover:bg-gray-100 hover:text-[#0097c2] text-sm",children:"Lentes"}),r.jsx(Et,{to:"/productos/accesorios",className:"block px-3 sm:px-4 py-1.5 sm:py-2 hover:bg-gray-100 hover:text-[#0097c2] text-sm",children:"Accesorios"})]})]}),r.jsx("li",{children:r.jsx(Et,{to:"/cotizaciones",className:"hover:text-[#0097c2] h-full flex items-center",children:"Cotizaciones"})}),r.jsx("li",{children:r.jsx(Et,{to:"/servicios",className:"hover:text-[#0097c2] h-full flex items-center",children:"Servicios"})}),r.jsx("li",{children:r.jsx(Et,{to:"/agendar",className:"hover:text-[#0097c2] h-full flex items-center",children:"Agendar Citas"})}),r.jsx("li",{children:r.jsx(Et,{to:"/nosotros",className:"hover:text-[#0097c2] h-full flex items-center",children:"Nosotros"})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Et,{to:"/carrito",className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors hidden sm:inline-flex",children:[r.jsx(Zk,{className:"w-5 h-5 text-gray-700"}),m>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:m})]}),f?r.jsxs(r.Fragment,{children:[f.rol!=="Cliente"&&r.jsx(Et,{to:"/dashboard",className:"bg-cyan-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full shadow hover:bg-cyan-700 transition text-xs sm:text-sm",children:"Dashboard"}),r.jsx(Et,{to:"/perfil",className:"bg-[#0097c2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full shadow hover:bg-[#0077a2] transition text-xs sm:text-sm",children:"Perfil"})]}):r.jsx("button",{onClick:x,className:"bg-[#0097c2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full shadow hover:bg-[#0077a2] transition text-xs sm:text-sm",children:"Iniciar Sesión"}),r.jsx("button",{onClick:h,className:"xl:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s?r.jsx(hr,{className:"w-5 h-5 text-gray-600"}):r.jsx(Kk,{className:"w-5 h-5 text-gray-600"})})]})]}),s&&r.jsx("div",{className:"xl:hidden absolute top-full left-0 right-0 bg-white shadow-lg border-t border-gray-200 z-50",children:r.jsxs("div",{className:"px-4 py-2 space-y-1",children:[r.jsx(Et,{to:"/",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Inicio"}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"w-full text-left py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors flex items-center justify-between",children:["Productos",r.jsx("svg",{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&r.jsxs("div",{className:"ml-4 mt-1 space-y-1",children:[r.jsx(Et,{to:"/productos/lentes",onClick:g,className:"block py-2 px-3 text-gray-600 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors text-sm",children:"Lentes"}),r.jsx(Et,{to:"/productos/accesorios",onClick:g,className:"block py-2 px-3 text-gray-600 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors text-sm",children:"Accesorios"})]})]}),f&&r.jsx(Et,{to:"/cotizaciones",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Cotizaciones"}),r.jsx(Et,{to:"/servicios",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Servicios"}),r.jsx(Et,{to:"/agendar",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Agendar Citas"}),r.jsx(Et,{to:"/nosotros",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Nosotros"}),f&&f.rol!=="Cliente"&&r.jsx(Et,{to:"/dashboard",onClick:g,className:"block py-2 px-3 text-cyan-600 hover:text-cyan-700 hover:bg-cyan-50 rounded-lg transition-colors font-semibold",children:"Dashboard"}),!f&&r.jsx("button",{onClick:()=>{g(),x()},className:"w-full text-left py-2 px-3 text-[#0097c2] hover:text-[#0077a2] hover:bg-[#0097c2]/10 rounded-lg transition-colors font-semibold",children:"Iniciar Sesión"})]})})]}),r.jsx(hle,{isOpen:n,onClose:()=>a(!1)})]})},ple=({brands:e=[],loading:t=!1,error:n=null,visibleItems:a=5,currentSlide:s=0,onSlideChange:o})=>{const c=Array.isArray(e)?e.filter(A=>A.logo||A.image||A.imagen):[],u=!!o,[f,m]=y.useState(s),h=u?o:m,g=(A=160,C=120)=>{const E=`
      <svg width="${A}" height="${C}" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f3f4f6"/>
        <rect x="20%" y="20%" width="60%" height="60%" fill="#d1d5db" rx="4"/>
        <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="14" fill="#6b7280" text-anchor="middle">
          Logo
        </text>
      </svg>
    `;return`data:image/svg+xml;base64,${btoa(E)}`},x=c.length>0?[...c,...c,...c]:[],b=()=>{if(x.length===0)return[];const A=x.slice(f,f+a),C=A.length,E=Math.floor((C-1)/2);return A.map((k,O)=>{const T=Math.abs(O-E),P=Math.max(E,C-1-E),_=P>0?T/P:0,z=.8+(1-_)*.2,V=.6+(1-_)*.4,B=C>1?O/(C-1)*60+20:50;return{...k,scale:z,zIndex:100+C-T,opacity:V,leftPercent:B,globalIndex:f+O}})};y.useEffect(()=>{if(!u&&c.length>a){const A=setInterval(()=>{h(C=>C+1)},5e3);return()=>clearInterval(A)}},[u,c.length,a,h]);const j=()=>h(A=>A+1),N=()=>h(A=>Math.max(0,A-1));if(t)return r.jsx("section",{className:"w-full py-16 text-center",children:"Cargando marcas..."});if(n)return r.jsxs("section",{className:"w-full py-16 text-center text-red-500",children:["Error al cargar marcas: ",String(n)]});if(!c.length)return r.jsx("section",{className:"w-full py-16 text-center text-gray-500",children:"No hay marcas disponibles"});const S=b();return r.jsx("section",{className:"w-full relative overflow-hidden",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Nuestras Marcas"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Descubre la calidad de nuestras marcas asociadas"})]}),r.jsx("div",{className:"overflow-hidden relative w-full min-h-[400px] flex items-center justify-center",children:S.map(A=>r.jsxs("div",{className:"absolute transition-all duration-700 ease-in-out cursor-pointer",style:{transform:`translateX(-50%) scale(${A.scale})`,opacity:A.opacity,zIndex:A.zIndex,left:`${A.leftPercent}%`},children:[r.jsx("img",{src:A.logo||A.imagen||A.image||g(),alt:A.nombre||A.name||"Marca",className:"h-48 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300 hover:scale-125 block shadow-xl rounded-xl bg-white p-6 border border-gray-200",onError:C=>{C.currentTarget.dataset.fallbackSet||(C.currentTarget.src=g(),C.currentTarget.alt="Logo no disponible",C.currentTarget.dataset.fallbackSet="true")}}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("p",{className:"text-base font-semibold text-gray-700",children:A.nombre||A.name||"Marca"})})]},`${A._id||A.id||"brand"}-${A.globalIndex}`))}),c.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:N,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-3 shadow-lg hover:scale-110 transition",children:r.jsx(Fk,{className:"w-6 h-6 text-gray-700"})}),r.jsx("button",{onClick:j,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-3 shadow-lg hover:scale-110 transition",children:r.jsx(Kb,{className:"w-6 h-6 text-gray-700"})})]})]})})},gle=({product:e})=>{var a,s;const[t,n]=y.useState(!1);return r.jsx("div",{className:"flex-shrink-0 px-2",style:{width:`${100/3}%`},children:r.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden hover:shadow-sm transition-shadow",children:[r.jsx("div",{className:"aspect-square bg-gray-50 flex items-center justify-center",children:(a=e.imagenes)!=null&&a[0]&&!t?r.jsx("img",{src:e.imagenes[0],alt:e.nombre,className:"object-contain h-full w-full p-4",onError:()=>n(!0)}):r.jsx("span",{className:"text-gray-300",children:"Sin imagen"})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:e.nombre}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-gray-500 text-sm",children:["$",(s=e.precioActual)==null?void 0:s.toFixed(2)]}),e.enPromocion&&r.jsxs("span",{className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded",children:["-",Math.round(100-e.precioActual/e.precioBase*100),"%"]})]})]})]})})},xle=()=>{const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,o]=y.useState(0),c=3;y.useEffect(()=>{(async()=>{try{const g=await(await fetch("https://a-u-r-o-r-a.onrender.com/api/lentes/populares")).json();t(g)}catch(h){console.error("Error fetching products:",h)}finally{a(!1)}})()},[]);const u=()=>{o(m=>(m+1)%Math.ceil(e.length/c))},f=()=>{o(m=>(m-1+Math.ceil(e.length/c))%Math.ceil(e.length/c))};return n?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-pulse flex space-x-4",children:[...Array(c)].map((m,h)=>r.jsx("div",{className:"bg-gray-100 rounded-lg w-64 h-64"},h))})}):e.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No hay productos disponibles"}):r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[r.jsx("h2",{className:"text-2xl font-light text-center mb-8 text-gray-800",children:"Lentes Destacados"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"overflow-hidden",children:r.jsx("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${s*(100/c)}%)`,width:`${e.length/c*100}%`},children:e.map(m=>r.jsx(gle,{product:m},m._id))})}),r.jsx("button",{onClick:f,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white border border-gray-200 rounded-full p-2 shadow-sm -ml-4 hover:bg-gray-50 transition-colors","aria-label":"Anterior",children:r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),r.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white border border-gray-200 rounded-full p-2 shadow-sm -mr-4 hover:bg-gray-50 transition-colors","aria-label":"Siguiente",children:r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),r.jsx("div",{className:"flex justify-center mt-6 space-x-1",children:[...Array(Math.ceil(e.length/c))].map((m,h)=>r.jsx("button",{onClick:()=>o(h),className:`w-2 h-2 rounded-full transition-all ${s===h?"bg-gray-600":"bg-gray-200"}`,"aria-label":`Ir a slide ${h+1}`},h))})]})},yle=(e,t={})=>{const[n,a]=y.useState(null),[s,o]=y.useState(!0),[c,u]=y.useState(null);return y.useEffect(()=>{let f=!0;o(!0),u(null),a(null);const m={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include",...t};return fetch(e,m).then(h=>{if(!h.ok)throw new Error(`Error ${h.status}: ${h.statusText}`);return h.json()}).then(h=>{f&&a(h)}).catch(h=>{f&&u(h.message)}).finally(()=>{f&&o(!1)}),()=>{f=!1}},[e,JSON.stringify(t)]),{data:n,loading:s,error:c}},vle=(e,t)=>{const n=e.startsWith("/")?e:`/${e}`;return dn(n,t)},$u=(e,t,n)=>{const a=vle(e,t);return yle(a,n)},Cy="/A.U.R.O.R.A/assets/Lente1-DU31S7Wt.png",ble=()=>{const[e,t]=y.useState(0),n=5,{data:a,loading:s,error:o}=$u("promociones"),{data:c,loading:u,error:f}=$u("marcas"),{data:m,loading:h,error:g}=$u("lentes?popular=true"),[x,b]=y.useState(0),[j,N]=y.useState(!1),S=a||[],A=K=>{if(!K)return"";const I=K.nombre||K.titulo;if(I&&I.trim())return I;const R=K.tipoDescuento,X=K.valorDescuento;return R==="porcentaje"&&typeof X=="number"?`-${X}% en óptica`:R==="monto_fijo"&&typeof X=="number"?`Ahorra $${X}`:""},C=K=>K?K.descripcion&&K.descripcion.trim()?K.descripcion:K.aplicaA==="categoria"?"Válido en categorías seleccionadas":K.aplicaA==="lente"?"Aplicable a lentes seleccionados":"Promoción por tiempo limitado":"",E=K=>K&&(K.imagenPromocion||K.imagen||K.bannerUrl||K.imagenUrl)||null,k=Kn.useMemo(()=>{const K=new Date,I=Array.isArray(S)?S.slice():[],R=I.filter(Z=>{const H=Z!=null&&Z.fechaInicio?new Date(Z.fechaInicio):null,D=Z!=null&&Z.fechaFin?new Date(Z.fechaFin):null,$=(Z==null?void 0:Z.activo)!==!1,G=(!H||H<=K)&&(!D||D>=K);return $&&G});return(R.length>0?R:I).sort((Z,H)=>{const D=Z!=null&&Z.fechaInicio?new Date(Z.fechaInicio).getTime():0;return(H!=null&&H.fechaInicio?new Date(H.fechaInicio).getTime():0)-D})},[S]),O=k.length>0?k[x%k.length]:null;y.useEffect(()=>{x>0&&x>=k.length&&b(0)},[k.length]);const T=c||[],P=m||[],_=K=>{t(K)},z=()=>{j||(N(!0),b(K=>K===0?k.length-1:K-1),setTimeout(()=>N(!1),1e3))},V=()=>{j||(N(!0),b(K=>K===k.length-1?0:K+1),setTimeout(()=>N(!1),1e3))};y.useEffect(()=>{const K=setInterval(()=>{j||V()},5e3);return()=>clearInterval(K)},[j]),y.useEffect(()=>{const K=setInterval(()=>{t(I=>(I+1)%Math.ceil(P.length/3))},4e3);return()=>{clearInterval(K)}},[P.length]);const B={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},W={initial:{opacity:0},animate:{opacity:1},transition:{duration:.4}},oe={animate:{transition:{staggerChildren:.05}}};return r.jsx(Sa,{children:r.jsxs(yt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"bg-white min-h-screen flex flex-col font-['Lato']",children:[r.jsx(Ca,{}),r.jsx(yt.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"w-full relative py-0 px-0 overflow-hidden",children:r.jsx("div",{className:"relative w-full h-[500px] sm:h-[550px] md:h-[600px] lg:h-[650px] bg-white overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(yt.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-3 border-gray-300 border-t-[#0097c2] rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-600",children:"Cargando promociones..."})]})}):o?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50 text-center",children:r.jsxs("div",{children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-red-400",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),r.jsx("p",{className:"text-lg font-medium text-red-600",children:"Error al cargar promociones"})]})}):r.jsxs("div",{className:"relative h-full",children:[r.jsxs("div",{className:"grid lg:grid-cols-2 h-full",children:[r.jsx("div",{className:"flex flex-col justify-center p-8 md:p-12 lg:p-16 xl:p-20 bg-gray-50 lg:bg-transparent relative",children:r.jsx(Vu,{mode:"wait",children:k.length>0?r.jsxs(yt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.4,ease:"easeOut"},className:"space-y-6",children:[r.jsx(yt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold text-gray-900 leading-tight",children:A(O)}),r.jsx(yt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.3,duration:.5},className:"text-lg md:text-xl lg:text-2xl text-gray-600 font-light max-w-lg",children:C(O)})]},`content-${x}`):r.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-2",children:r.jsx("p",{className:"text-base text-gray-500",children:"Sin promociones activas por ahora."})},"content-empty")})}),r.jsxs("div",{className:"relative flex items-center justify-center p-8 md:p-12 lg:p-16 bg-gradient-to-br",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx(yt.div,{animate:{scale:[1,1.1,1],opacity:[.1,.2,.1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 right-20 w-32 h-32 bg-[#0097c2]/20 rounded-full blur-2xl"}),r.jsx(yt.div,{animate:{scale:[1.1,1,1.1],opacity:[.05,.15,.05]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-10 w-40 h-40 bg-[#0097c2]/15 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxwYXR0ZXJuIGlkPSJ3YXZlIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiPjxwYXRoIGQ9Ik0wIDUwIEMyMCAzMCA0MCAzMCA2MCA1MCBDODAgNzAgMTAwIDcwIDEwMCA1MCIgc3Ryb2tlPSIjMDA5N2MyIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjd2F2ZSkiLz48L3N2Zz4=')]"})})]}),r.jsx(Vu,{mode:"wait",children:k.length>0?r.jsx(yt.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-30},transition:{duration:.4,ease:"easeOut"},className:"relative z-10",children:r.jsx(yt.div,{className:"w-full h-full flex items-center justify-center",animate:{y:[0,-8,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:r.jsx("img",{src:E(O)||Cy,alt:A(O),className:"max-w-full max-h-full object-contain",onError:K=>{K.target.onerror=null,K.target.src=Cy}})})},`image-${x}`):r.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative z-10",children:r.jsx("img",{src:Cy,alt:"Lentes de la óptica",className:"w-80 h-80 md:w-96 md:h-96 lg:w-[450px] lg:h-[450px] xl:w-[500px] xl:h-[500px] object-contain"})},"image-empty")})]})]}),k.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(yt.button,{whileHover:{scale:1.1,backgroundColor:"#0083a8"},whileTap:{scale:.9},onClick:z,className:"absolute left-6 top-1/2 -translate-y-1/2 bg-[#0097c2] hover:bg-[#0083a8] text-white rounded-full p-3 transition-all duration-300 z-20","aria-label":"Anterior",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),r.jsx(yt.button,{whileHover:{scale:1.1,backgroundColor:"#0083a8"},whileTap:{scale:.9},onClick:V,className:"absolute right-6 top-1/2 -translate-y-1/2 bg-[#0097c2] hover:bg-[#0083a8] text-white rounded-full p-3 transition-all duration-300 z-20","aria-label":"Siguiente",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),r.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:k.map((K,I)=>r.jsx(yt.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>b(I),className:`w-2 h-2 rounded-full transition-all duration-300 ${I===x?"bg-[#0097c2] w-8":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Ir a promoción ${I+1}`},I))})]})]})})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(ple,{brands:T,loading:u,error:f,visibleItems:n}),r.jsx(xle,{items:P,loading:h,error:g,currentSlide:e,onSlideChange:_}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsxs(yt.section,{variants:W,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"relative w-full py-16",children:[r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-[#f8f9fa] to-white",children:[r.jsx("div",{className:"absolute -top-16 left-0 w-full h-32 bg-[#f8f9fa] rounded-t-[100px]"}),r.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[100%] h-32 bg-[#f8f9fa] rounded-b-[200px]"})]}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 pt-8",children:r.jsxs(yt.div,{variants:oe,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx(yt.div,{whileHover:{rotate:360},transition:{duration:.6},className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16s4-2.5 4-6a4 4 0 10-8 0c0 3.5 4 6 4 6z"})]})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Examen Visual Profesional"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Realizado por optometristas certificados con equipos de última generación."})]}),r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[r.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),r.jsx("path",{d:"M8 12l2 2 4-4"})]})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Garantía de calidad"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Todos nuestros productos cuentan con garantía contra defectos de fabricación."})]}),r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M3 12h18M9 6l-6 6 6 6"})})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Entrega rápida"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Recibe tus lentes en tiempo récord, con la graduación exacta que necesitas."})]}),r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M12 8v4l3 3"}),r.jsx("circle",{cx:"12",cy:"12",r:"10"})]})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Envío gratuito"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"En compras mayores a $1000, el envío va por nuestra cuenta."})]})]})})]}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(yt.section,{variants:W,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"max-w-6xl mx-auto px-4 mb-12",children:r.jsxs(yt.div,{variants:oe,className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-gradient-to-br from-[#0097c2] to-[#00b4e4] text-white rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-white/10 rounded-lg mr-3",children:r.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r.jsx("h3",{className:"font-semibold text-lg",children:"Sucursal Principal"})]}),r.jsx("p",{className:"mb-6 text-white/90",children:"Colonia Médica, Avenida Dr. Max Bloch #23, San Salvador."}),r.jsxs("div",{className:"mt-auto space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Lun-Vie: 8:00 AM - 5:00 PM"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"2222-2222"]}),r.jsxs("a",{href:"https://maps.google.com",className:"inline-flex items-center bg-white text-[#0097c2] px-4 py-2 rounded-xl font-semibold shadow hover:shadow-lg transition-all duration-300 group",target:"_blank",rel:"noopener noreferrer",children:[r.jsx("span",{children:"Ver en Google Maps"}),r.jsx("svg",{className:"w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-gradient-to-br from-[#0097c2] to-[#00b4e4] text-white rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-white/10 rounded-lg mr-3",children:r.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r.jsx("h3",{className:"font-semibold text-lg",children:"Sucursal Quezaltepeque"})]}),r.jsx("p",{className:"mb-6 text-white/90",children:"1ra Avenida Norte y 8va Calle Poniente, #22, Quezaltepeque, La Libertad."}),r.jsxs("div",{className:"mt-auto space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Lun-Vie: 8:00 AM - 5:00 PM"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"2222-2222"]}),r.jsxs("a",{href:"https://maps.google.com",className:"inline-flex items-center bg-white text-[#0097c2] px-4 py-2 rounded-xl font-semibold shadow hover:shadow-lg transition-all duration-300 group",target:"_blank",rel:"noopener noreferrer",children:[r.jsx("span",{children:"Ver en Google Maps"}),r.jsx("svg",{className:"w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})]})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(yt.section,{variants:W,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"max-w-6xl mx-auto px-4 mb-12",children:r.jsxs(yt.div,{variants:oe,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-white rounded-2xl shadow-md p-6",children:[r.jsx(yt.img,{whileHover:{scale:1.1,rotate:10},transition:{duration:.3},src:"https://i.pravatar.cc/56?img=1",alt:"Cliente 1",className:"w-14 h-14 rounded-full mb-2 object-cover"}),r.jsx("h3",{className:"font-semibold",children:"María González"}),r.jsx("span",{className:"text-xs text-gray-500 mb-2",children:"Cliente desde 2020"}),r.jsx("p",{className:"text-center text-gray-700 mb-2",children:"Excelente servicio y atención. Me encantaron mis nuevos lentes y el Examen Visual fue muy profesional. ¡Definitivamente regresaré!"}),r.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((K,I)=>r.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.385 2.46a1 1 0 00-.364 1.118l1.286 3.966c.3.922-.755 1.688-1.54 1.118l-3.385-2.46a1 1 0 00-1.176 0l-3.385 2.46c-.784.57-1.838-.196-1.54-1.118l1.286-3.966a1 1 0 00-.364-1.118L2.045 9.394c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.967z"})},I))})]}),r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-white rounded-2xl shadow-md p-6",children:[r.jsx("img",{src:"https://i.pravatar.cc/56?img=2",alt:"Cliente 2",className:"w-14 h-14 rounded-full mb-2 object-cover"}),r.jsx("h3",{className:"font-semibold",children:"Carlos Ramírez"}),r.jsx("span",{className:"text-xs text-gray-500 mb-2",children:"Cliente desde 2019"}),r.jsx("p",{className:"text-center text-gray-700 mb-2",children:"Encontré exactamente lo que buscaba a un precio accesible. El personal es muy amable y me ayudaron a elegir el armazón perfecto para mi rostro."}),r.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((K,I)=>r.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.385 2.46a1 1 0 00-.364 1.118l1.286 3.966c.3.922-.755 1.688-1.54 1.118l-3.385-2.46a1 1 0 00-1.176 0l-3.385 2.46c-.784.57-1.838-.196-1.54-1.118l1.286-3.966a1 1 0 00-.364-1.118L2.045 9.394c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.967z"})},I))})]}),r.jsxs(yt.div,{variants:B,whileHover:{y:-5},className:"bg-white rounded-2xl shadow-md p-6",children:[r.jsx("img",{src:"https://i.pravatar.cc/56?img=3",alt:"Cliente 3",className:"w-14 h-14 rounded-full mb-2 object-cover"}),r.jsx("h3",{className:"font-semibold",children:"Laura Sánchez"}),r.jsx("span",{className:"text-xs text-gray-500 mb-2",children:"Cliente desde 2021"}),r.jsx("p",{className:"text-center text-gray-700 mb-2",children:"La calidad de los lentes es excelente. El proceso de adaptación fue muy rápido y el seguimiento post-venta es de calidad realmente valiosa."}),r.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((K,I)=>r.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.385 2.46a1 1 0 00-.364 1.118l1.286 3.966c.3.922-.755 1.688-1.54 1.118l-3.385-2.46a1 1 0 00-1.176 0l-3.385 2.46c-.784.57-1.838-.196-1.54-1.118l1.286-3.966a1 1 0 00-.364-1.118L2.045 9.394c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.967z"})},I))})]})]})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10 text-xs sm:text-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 sm:gap-8 px-0 sm:px-4 py-8 sm:py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"Óptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Adaptación de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compañía"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Misión y Visión"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Óptica La Inteligente. Todos los derechos reservados."]})})})]})})]})})},jle=({type:e,searchTerm:t,filters:n})=>{const a=()=>{switch(e){case"lentes":return"lentes";case"accesorios":return"accesorios";default:return"productos"}},s=()=>{const o=[];return t&&(o.push("Intenta con términos de búsqueda más generales"),o.push("Verifica la ortografía de tu búsqueda")),(n==null?void 0:n.selectedCategory)!=="todos"&&o.push("Prueba con otras categorías"),(n==null?void 0:n.selectedMarca)!=="todos"&&o.push("Explora otras marcas disponibles"),((n==null?void 0:n.priceRange.min)>0||(n==null?void 0:n.priceRange.max)<1e4)&&o.push("Ajusta el rango de precios"),o.length===0&&(o.push("Pronto tendremos más opciones disponibles"),o.push("Contacta con nuestro equipo para consultas especiales")),o};return r.jsx("div",{className:"text-center py-16 px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:e==="lentes"?"👓":e==="accesorios"?"👜":"🛍️"}),r.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:["No se encontraron ",a()]}),r.jsx("p",{className:"text-gray-600 mb-6",children:t?`No encontramos ${a()} que coincidan con "${t}"`:`Actualmente no tenemos ${a()} disponibles con los filtros aplicados`}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"💡 Sugerencias:"}),r.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:s().map((o,c)=>r.jsxs("li",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"text-[#0097c2] mr-2",children:"•"}),o]},c))})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#0097c2] text-white px-6 py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-200",children:"🔄 Limpiar filtros"}),r.jsx(Et,{to:"/productos",className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 transition-colors duration-200",children:"👀 Ver todos los productos"})]}),r.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[r.jsx("p",{children:"¿Necesitas ayuda para encontrar lo que buscas?"}),r.jsx("p",{className:"mt-1",children:"Contacta con nuestro equipo de atención al cliente"})]})]})})},wle=({message:e="Cargando productos..."})=>r.jsx("div",{className:"text-center py-16 px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-[#0097c2] rounded-full animate-spin mx-auto"}),r.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-r-[#00b4e4] rounded-full animate-spin mx-auto",style:{animationDelay:"-0.5s"}})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Cargando productos"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] h-2 rounded-full animate-pulse",style:{width:"60%"}})}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{children:"Estamos preparando todo para ti..."}),r.jsx("p",{className:"mt-1",children:"Esto solo tomará un momento"})]}),r.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[r.jsx("div",{className:"text-2xl animate-bounce",style:{animationDelay:"0s"},children:"👓"}),r.jsx("div",{className:"text-2xl animate-bounce",style:{animationDelay:"0.2s"},children:"👜"}),r.jsx("div",{className:"text-2xl animate-bounce",style:{animationDelay:"0.4s"},children:"✨"})]})]})}),Nle=({error:e,onRetry:t})=>{const n=o=>o.includes("404")?"No se pudo encontrar la información solicitada":o.includes("500")?"Error interno del servidor. Por favor, intenta más tarde":o.includes("network")?"Error de conexión. Verifica tu conexión a internet":o.includes("timeout")?"La solicitud tardó demasiado. Por favor, intenta nuevamente":"Ocurrió un error inesperado. Por favor, intenta más tarde",a=o=>o.includes("404")?"🔍":o.includes("500")?"⚠️":o.includes("network")?"📡":o.includes("timeout")?"⏰":"❌",s=o=>{const c=[];return o.includes("404")?(c.push("Verifica que la URL sea correcta"),c.push("Intenta recargar la página")):o.includes("500")?(c.push("Espera unos minutos e intenta nuevamente"),c.push("Si el problema persiste, contacta al soporte")):o.includes("network")?(c.push("Verifica tu conexión a internet"),c.push("Intenta conectarte a otra red")):o.includes("timeout")?(c.push("Verifica tu conexión a internet"),c.push("Intenta en unos minutos")):(c.push("Recarga la página"),c.push("Contacta al soporte si el problema persiste")),c};return r.jsx("div",{className:"text-center py-16 px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:a(e)}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Ocurrió un error"}),r.jsx("p",{className:"text-gray-600 mb-6",children:n(e)}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-red-800 mb-3",children:"💡 ¿Qué puedes hacer?"}),r.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:s(e).map((o,c)=>r.jsxs("li",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"text-red-500 mr-2",children:"•"}),o]},c))})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t&&r.jsx("button",{onClick:t,className:"bg-[#0097c2] text-white px-6 py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-200",children:"🔄 Intentar nuevamente"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 transition-colors duration-200",children:"🔄 Recargar página"})]}),r.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[r.jsx("p",{children:"¿El problema persiste?"}),r.jsx("p",{className:"mt-1",children:"Contacta con nuestro equipo de soporte técnico"})]}),r.jsxs("details",{className:"mt-4 text-xs text-gray-400",children:[r.jsx("summary",{className:"cursor-pointer hover:text-gray-600",children:"Ver detalles técnicos"}),r.jsx("div",{className:"mt-2 p-2 bg-gray-100 rounded text-left",children:r.jsx("code",{className:"break-all",children:e})})]})]})})};class Sle extends Kn.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Algo salió mal"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Ha ocurrido un error inesperado. Por favor, intenta recargar la página."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-[#0097c2] text-white py-3 rounded-lg hover:bg-[#0077a2] transition-colors duration-200",children:"🔄 Recargar página"}),r.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-colors duration-200",children:"🔄 Intentar nuevamente"})]}),!1]})}):this.props.children}}const Ay=()=>{const[e,t]=y.useState(!1),[n,a]=y.useState("todos"),[s,o]=y.useState("todos"),[c,u]=y.useState("todos"),[f,m]=y.useState("todos"),[h,g]=y.useState({min:0,max:1e4}),[x,b]=y.useState(""),[j,N]=y.useState(""),[S,A]=y.useState("nombre"),[C,E]=y.useState("grid"),[k,O]=y.useState(null),[T,P]=y.useState(!1),{alertState:_,showSuccess:z,showError:V,hideAlert:B}=Y2(),[W,oe]=y.useState(!1),[K,I]=y.useState({nombre:"",descripcion:"",material:"",color:"",tipoLente:"",instruccionesAdicionales:""}),R=An(),X=es(),{addItem:Z}=Gb()||{},{user:H}=zn(),[D,$]=y.useState(12),[G,te]=y.useState(1),[Q,ve]=y.useState(1),{data:xe,loading:ze,error:Le,pagination:Ee}=Fr("lentes",{page:G,limit:D}),{data:Fe,loading:Ke,error:re,pagination:Be}=Fr("accesorios",{page:Q,limit:D});Fr("productosPersonalizados");const{data:Ge}=Fr("marcas"),{data:Ne}=Fr("categoria"),He=q=>{O(q),I(ye=>({...ye,nombre:(q==null?void 0:q.nombre)||"",descripcion:(q==null?void 0:q.descripcion)||"",material:(q==null?void 0:q.material)||"",color:(q==null?void 0:q.color)||"",tipoLente:(q==null?void 0:q.tipoLente)||""})),oe(!0)},Ye=q=>{const{name:ye,value:Re}=q.target;I(Ie=>({...Ie,[ye]:Re}))},F=async()=>{var q,ye;try{if(!(H!=null&&H.id)){V("Inicia sesión para solicitar un producto personalizado.");return}if(!(k!=null&&k._id)){V("Producto base no seleccionado");return}const Re=Number((k==null?void 0:k.precioActual)??(k==null?void 0:k.precioBase)??0),Ie=new Date(Date.now()+7*24*60*60*1e3).toISOString(),$e=new Date(Date.now()+30*24*60*60*1e3).toISOString(),Xe={clienteId:H.id,productoBaseId:k._id,nombre:K.nombre||k.nombre,descripcion:K.descripcion||k.descripcion||"Solicitud de personalización",categoria:((q=k==null?void 0:k.categoriaId)==null?void 0:q.nombre)||(k==null?void 0:k.categoria)||"Personalizado",marcaId:((ye=k==null?void 0:k.marcaId)==null?void 0:ye._id)||(k==null?void 0:k.marcaId)||null,material:K.material||(k==null?void 0:k.material)||"",color:K.color||(k==null?void 0:k.color)||"",tipoLente:K.tipoLente||(k==null?void 0:k.tipoLente)||"",precioCalculado:Re,detallesPersonalizacion:{instruccionesAdicionales:K.instruccionesAdicionales||""},estado:"pendiente",fechaSolicitud:new Date().toISOString(),fechaEntregaEstimada:Ie,cotizacion:{total:Re,validaHasta:$e,estado:"vigente"}},ht=dn(_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS),nt=await fetch(ht,{method:"POST",headers:{"Content-Type":"application/json"},credentials:_e.FETCH_CONFIG.credentials,body:JSON.stringify(Xe)}),pt=await nt.json();if(!nt.ok)throw new Error((pt==null?void 0:pt.message)||"No se pudo crear la solicitud");const oa=(pt==null?void 0:pt.data)||pt;await(Z==null?void 0:Z({_id:oa._id,nombre:`Personalizado: ${oa.nombre}`,precioActual:oa.precioCalculado},1)),oe(!1),z("Solicitud creada y agregada al carrito"),X("/carrito")}catch(Re){console.error("Error creando solicitud personalizada",Re),V(Re.message||"Error creando solicitud")}},ne=async(q,ye=1)=>{if(!H){V("Inicia sesión para agregar productos al carrito.");return}try{await(Z==null?void 0:Z(q,ye))}catch(Re){console.error("handleAddToCart",Re)}};y.useEffect(()=>{const q=setTimeout(()=>b(j),250);return()=>clearTimeout(q)},[j]);const ce=q=>Array.isArray(q)?q.filter(ye=>{if(!ye||typeof ye!="object")return!1;const Re=x.toLowerCase(),Ie=!x||ye.nombre&&ye.nombre.toLowerCase().includes(Re)||ye.descripcion&&ye.descripcion.toLowerCase().includes(Re)||ye.material&&ye.material.toLowerCase().includes(Re)||ye.color&&ye.color.toLowerCase().includes(Re)||ye.tipoLente&&ye.tipoLente.toLowerCase().includes(Re),$e=n==="todos"||ye.categoriaId&&ye.categoriaId.nombre===n||ye.categoria===n,Xe=s==="todos"||ye.marcaId&&ye.marcaId.nombre===s,ht=c==="todos"||ye.material&&ye.material===c,nt=f==="todos"||ye.color&&ye.color===f,pt=ye.precioActual||ye.precioBase||ye.precioCalculado||0,oa=pt>=h.min&&pt<=h.max;return Ie&&$e&&Xe&&ht&&nt&&oa}):(console.warn("filterProducts: products no es un array válido:",q),[]),ae=q=>{if(!Array.isArray(q))return console.warn("sortProducts: products no es un array válido:",q),[];const ye=[...q];switch(S){case"precio-asc":return ye.sort((Re,Ie)=>{const $e=Re&&Re.precioActual||Re&&Re.precioBase||0,Xe=Ie&&Ie.precioActual||Ie&&Ie.precioBase||0;return $e-Xe});case"precio-desc":return ye.sort((Re,Ie)=>{const $e=Re&&Re.precioActual||Re&&Re.precioBase||0;return(Ie&&Ie.precioActual||Ie&&Ie.precioBase||0)-$e});case"nombre":return ye.sort((Re,Ie)=>{const $e=Re&&Re.nombre||"",Xe=Ie&&Ie.nombre||"";return $e.localeCompare(Xe)});case"marca":return ye.sort((Re,Ie)=>{const $e=Re&&Re.marcaId&&Re.marcaId.nombre||"",Xe=Ie&&Ie.marcaId&&Ie.marcaId.nombre||"";return $e.localeCompare(Xe)});default:return ye}},J=()=>{switch(R.pathname){case"/productos/lentes":return{data:xe,loading:ze,error:Le,type:"lentes",pagination:Ee};case"/productos/accesorios":return{data:Fe,loading:Ke,error:re,type:"accesorios",pagination:Be};default:return{data:[...xe,...Fe],loading:ze||Ke,error:Le||re,type:"todos"}}},[we,U]=y.useState(1),[fe]=y.useState(12);y.useEffect(()=>{te(1),ve(1)},[R.pathname]),y.useEffect(()=>{U(1)},[x,n,s,c,f,h,S]);const De=()=>{b(""),N(""),a("todos"),o("todos"),u("todos"),m("todos"),g({min:0,max:1e4}),A("nombre"),U(1)},se=()=>{const q=[];return x&&q.push(`Búsqueda: "${x}"`),n!=="todos"&&q.push(`Categoría: ${n}`),s!=="todos"&&q.push(`Marca: ${s}`),c!=="todos"&&q.push(`Material: ${c}`),f!=="todos"&&q.push(`Color: ${f}`),(h.min>0||h.max<1e4)&&q.push(`Precio: $${h.min} - $${h.max}`),S!=="nombre"&&q.push(`Orden: ${S}`),q},[Y,ge]=y.useState([]),ie=q=>{if(q&&!Y.includes(q)){const ye=[q,...Y.filter(Re=>Re!==q)].slice(0,10);ge(ye)}},ke=()=>{try{localStorage.setItem("aurora-search-history",JSON.stringify(Y))}catch(q){console.error("Error saving search history:",q)}},Ve=()=>{try{const q=localStorage.getItem("aurora-search-history");q&&ge(JSON.parse(q))}catch(q){console.error("Error loading search history:",q)}},Ze=q=>{b(q),N(q),U(1)},st=()=>{ge([])};y.useEffect(()=>{x&&x.length>2&&ie(x)},[x]);const[lt,wt]=y.useState([]),[me,Oe]=y.useState([]),We=()=>{const q=J(),ye=q.data.map(Xe=>Xe.nombre).filter(Boolean),Re=q.data.map(Xe=>{var ht;return((ht=Xe.categoriaId)==null?void 0:ht.nombre)||Xe.categoria}).filter(Boolean),Ie=q.data.map(Xe=>{var ht;return(ht=Xe.marcaId)==null?void 0:ht.nombre}).filter(Boolean),$e=[...ye,...Re,...Ie];return[...new Set($e)].filter(Xe=>Xe.toLowerCase().includes(j.toLowerCase())).slice(0,5)},tt=()=>{const q=(Ne==null?void 0:Ne.map(ht=>ht.nombre))||[],ye=(Ge==null?void 0:Ge.map(ht=>ht.nombre))||[],Ie=J().data,$e=[...new Set(Ie.map(ht=>ht.material).filter(Boolean))],Xe=[...new Set(Ie.map(ht=>ht.color).filter(Boolean))];return{categories:q,brands:ye,materials:$e,colors:Xe}},it=(q,ye)=>{const Ie=J().data;switch(q){case"category":return Ie.filter($e=>{var Xe;return(((Xe=$e.categoriaId)==null?void 0:Xe.nombre)||$e.categoria)===ye}).length;case"brand":return Ie.filter($e=>{var Xe;return((Xe=$e.marcaId)==null?void 0:Xe.nombre)===ye}).length;case"material":return Ie.filter($e=>$e.material===ye).length;case"color":return Ie.filter($e=>$e.color===ye).length;default:return 0}},Ot=(q,ye)=>{const Ie=J().data;switch(q){case"category":return Ie.filter($e=>{var Xe;return(((Xe=$e.categoriaId)==null?void 0:Xe.nombre)||$e.categoria)===ye}).length;case"brand":return Ie.filter($e=>{var Xe;return((Xe=$e.marcaId)==null?void 0:Xe.nombre)===ye}).length;case"material":return Ie.filter($e=>$e.material===ye).length;case"color":return Ie.filter($e=>$e.color===ye).length;default:return 0}},At=()=>{const q={searchTerm:x,searchInput:j,selectedCategory:n,selectedMarca:s,selectedMaterial:c,selectedColor:f,priceRange:h,sortBy:S,viewMode:C};localStorage.setItem("aurora-product-filters",JSON.stringify(q))},bt=()=>{try{const q=localStorage.getItem("aurora-product-filters");if(q){const ye=JSON.parse(q),Re=ye.searchTerm||"";b(Re),N(Re),a(ye.selectedCategory||"todos"),o(ye.selectedMarca||"todos"),u(ye.selectedMaterial||"todos"),m(ye.selectedColor||"todos"),g(ye.priceRange||{min:0,max:1e4}),A(ye.sortBy||"nombre"),E(ye.viewMode||"grid")}}catch(q){console.error("Error loading filters:",q)}};y.useEffect(()=>{bt(),Ve()},[]),y.useEffect(()=>{At()},[x,n,s,c,f,h,S,C]),y.useEffect(()=>{ke()},[Y]);const qt=()=>{const ye=J().data,Re={priceRanges:[{label:"Económico ($0 - $100)",min:0,max:100,count:0},{label:"Medio ($101 - $300)",min:101,max:300,count:0},{label:"Premium ($301 - $500)",min:301,max:500,count:0},{label:"Lujo ($500+)",min:501,max:1e4,count:0}],discountRanges:[{label:"Sin descuento",min:0,max:0,count:0},{label:"Descuento bajo (1-20%)",min:1,max:20,count:0},{label:"Descuento medio (21-40%)",min:21,max:40,count:0},{label:"Descuento alto (40%+)",min:41,max:100,count:0}]};return Re.priceRanges.forEach(Ie=>{Ie.count=ye.filter($e=>{const Xe=$e.precioActual||$e.precioBase||$e.precioCalculado||0;return Xe>=Ie.min&&Xe<=Ie.max}).length}),Re.discountRanges.forEach(Ie=>{Ie.count=ye.filter($e=>{if(!$e.precioActual||!$e.precioBase)return Ie.min===0;const Xe=($e.precioBase-$e.precioActual)/$e.precioBase*100;return Xe>=Ie.min&&Xe<=Ie.max}).length}),Re},Un=(q,ye)=>{switch(q){case"priceRange":g({min:ye.min,max:ye.max});break}U(1)},Zn=q=>{try{const ye=JSON.parse(localStorage.getItem("aurora-recently-viewed")||"[]"),Re=[q,...ye.filter(Ie=>Ie!==q)].slice(0,10);localStorage.setItem("aurora-recently-viewed",JSON.stringify(Re))}catch(ye){console.error("Error saving recently viewed:",ye)}},Xa=q=>{O(q),P(!0),Zn(q._id)},ga=()=>{P(!1),O(null)},Jt=q=>new Intl.NumberFormat("es-SV",{style:"currency",currency:"USD"}).format(q),Ht=q=>{if(q&&q.imagenes&&q.imagenes.length>0){const ye=q.imagenes[0];return ye&&typeof ye=="string"&&ye.trim()!==""?ye:null}switch(J().type){case"lentes":return"/src/pages/public/img/Lente1.png";case"accesorios":return"/src/pages/public/img/Accesorio.png";default:return"/src/pages/public/img/Lente1.png"}},an=r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Filtros"}),r.jsx("button",{onClick:De,className:"text-sm text-[#0097c2] hover:text-[#0077a2] font-medium",children:"Limpiar filtros"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar productos"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Buscar por nombre, descripción, material...",value:j,onChange:q=>N(q.target.value),className:"w-full p-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]"}),j&&r.jsx("button",{onClick:()=>N(""),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:"×"})]}),j&&j.length>1&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Sugerencias: ",We().slice(0,3).join(", ")]}),Y.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Búsquedas recientes:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[Y.slice(0,5).map((q,ye)=>r.jsx("button",{onClick:()=>Ze(q),className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors",children:q},ye)),Y.length>5&&r.jsx("button",{onClick:st,className:"px-2 py-1 text-xs bg-red-100 text-red-600 rounded hover:bg-red-200 transition-colors",children:"Limpiar"})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca"}),r.jsxs("select",{value:s,onChange:q=>o(q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"todos",children:"Todas las marcas"}),tt().brands.map(q=>r.jsxs("option",{value:q,children:[q," (",Ot("brand",q),")"]},q))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material"}),r.jsxs("select",{value:c||"todos",onChange:q=>u(q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"todos",children:"Todos los materiales"}),tt().materials.map(q=>r.jsxs("option",{value:q,children:[q," (",Ot("material",q),")"]},q))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),r.jsxs("select",{value:f||"todos",onChange:q=>m(q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"todos",children:"Todos los colores"}),tt().colors.map(q=>r.jsxs("option",{value:q,children:[q," (",it("color",q),")"]},q))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rangos de precio"}),r.jsx("div",{className:"space-y-2",children:qt().priceRanges.map((q,ye)=>r.jsx("button",{onClick:()=>Un("priceRange",q),className:"w-full text-left p-2 text-xs bg-gray-50 hover:bg-gray-100 rounded border transition-colors",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:q.label}),r.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:q.count})]})},ye))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rango de precio: $",h.min," - $",h.max]}),r.jsxs("div",{className:"flex space-x-2 mb-2",children:[r.jsx("input",{type:"number",placeholder:"Min",value:h.min,onChange:q=>g({...h,min:Number(q.target.value)}),className:"w-1/2 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]"}),r.jsx("input",{type:"number",placeholder:"Max",value:h.max,onChange:q=>g({...h,max:Number(q.target.value)}),className:"w-1/2 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]"})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:r.jsx("div",{className:"h-2 bg-[#0097c2] rounded-full",style:{width:`${(h.max-h.min)/1e4*100}%`,marginLeft:`${h.min/1e4*100}%`}})})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordenar por"}),r.jsxs("select",{value:S,onChange:q=>A(q.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"nombre",children:"Nombre A-Z"}),r.jsx("option",{value:"precio-asc",children:"Precio: Menor a Mayor"}),r.jsx("option",{value:"precio-desc",children:"Precio: Mayor a Menor"}),r.jsx("option",{value:"marca",children:"Marca A-Z"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vista"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>E("grid"),className:`p-2 rounded transition-colors ${C==="grid"?"bg-[#0097c2] text-white":"bg-gray-200 hover:bg-gray-300"}`,title:"Vista de cuadrícula",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),r.jsx("button",{onClick:()=>E("list"),className:`p-2 rounded transition-colors ${C==="list"?"bg-[#0097c2] text-white":"bg-gray-200 hover:bg-gray-300"}`,title:"Vista de lista",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]}),se().length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Filtros activos:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:se().map((q,ye)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:q},ye))})]})]}),ue=({product:q,currentType:ye})=>{var Re,Ie;return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[r.jsxs("div",{className:"relative",children:[(()=>{const $e=Ht(q);return $e?r.jsx("img",{src:$e,alt:q.nombre,className:"w-full h-48 object-cover hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center text-gray-400 text-sm",children:"Sin imagen"})})(),q.enPromocion&&r.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"¡OFERTA!"})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-800",children:q.nombre}),r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:q.descripcion}),r.jsxs("div",{className:"mb-3",children:[((Re=q.marcaId)==null?void 0:Re.nombre)&&r.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs mr-2",children:q.marcaId.nombre}),((Ie=q.categoriaId)==null?void 0:Ie.nombre)&&r.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:q.categoriaId.nombre})]}),r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{children:[q.enPromocion&&q.precioBase&&r.jsx("span",{className:"text-gray-500 line-through text-sm",children:Jt(q.precioBase)}),r.jsx("div",{className:"text-lg font-bold text-[#0097c2]",children:Jt(q.precioActual||q.precioBase||0)})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>{ye==="personalizables"||q.categoria==="Personalizado"?He(q):ne(q,1)},className:"w-full bg-emerald-600 text-white py-2 rounded-full hover:bg-emerald-700 transition-colors duration-300",children:ye==="personalizables"||q.categoria==="Personalizado"?"Personalizar":"Agregar"}),r.jsx("button",{onClick:()=>Xa(q),className:"w-full bg-[#0097c2] text-white py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-300",children:"Ver detalles"})]})]}),W&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Solicitud de producto personalizado"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Nombre"}),r.jsx("input",{name:"nombre",value:K.nombre,onChange:Ye,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Tipo de lente"}),r.jsx("input",{name:"tipoLente",value:K.tipoLente,onChange:Ye,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Material"}),r.jsx("input",{name:"material",value:K.material,onChange:Ye,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Color"}),r.jsx("input",{name:"color",value:K.color,onChange:Ye,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Descripción"}),r.jsx("textarea",{name:"descripcion",value:K.descripcion,onChange:Ye,className:"w-full border rounded-lg px-3 py-2",rows:3})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Instrucciones adicionales"}),r.jsx("textarea",{name:"instruccionesAdicionales",value:K.instruccionesAdicionales,onChange:Ye,className:"w-full border rounded-lg px-3 py-2",rows:2})]})]}),r.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 rounded-lg border",children:"Cancelar"}),r.jsx("button",{onClick:F,className:"px-4 py-2 rounded-lg bg-[#0097c2] text-white",children:"Crear solicitud"})]})]})})]})},Ue=({product:q,currentType:ye})=>{var Re,Ie;return r.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[(()=>{const $e=Ht(q);return $e?r.jsx("img",{src:$e,alt:q.nombre,className:"w-24 h-24 object-cover rounded-lg"}):r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 text-xs",children:"Sin imagen"})})(),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:q.nombre}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:q.descripcion}),r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[((Re=q.marcaId)==null?void 0:Re.nombre)&&r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:q.marcaId.nombre}),((Ie=q.categoriaId)==null?void 0:Ie.nombre)&&r.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:q.categoriaId.nombre})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[q.enPromocion&&q.precioBase&&r.jsx("span",{className:"text-gray-500 line-through text-sm mr-2",children:Jt(q.precioBase)}),r.jsx("span",{className:"text-lg font-bold text-[#0097c2]",children:Jt(q.precioActual||q.precioBase||0)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{ye==="personalizables"||q.categoria==="Personalizado"?He(q):ne(q,1)},className:"bg-emerald-600 text-white px-4 py-2 rounded-full hover:bg-emerald-700 transition-colors duration-300",children:ye==="personalizables"||q.categoria==="Personalizado"?"Personalizar":"Agregar"}),r.jsx("button",{onClick:()=>Xa(q),className:"bg-[#0097c2] text-white px-4 py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-300",children:"Ver detalles"})]})]})]})]})})},ut=()=>{var q,ye;return k?r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:k.nombre}),r.jsx("button",{onClick:ga,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{children:(()=>{const Re=Ht(k);return Re?r.jsx("img",{src:Re,alt:k.nombre,className:"w-full h-64 object-cover rounded-lg"}):r.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:"Sin imagen"})})()}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:k.descripcion}),r.jsxs("div",{className:"space-y-3 mb-6",children:[((q=k.marcaId)==null?void 0:q.nombre)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Marca:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:k.marcaId.nombre})]}),((ye=k.categoriaId)==null?void 0:ye.nombre)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Categoría:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:k.categoriaId.nombre})]}),k.material&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Material:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:k.material})]}),k.color&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Color:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:k.color})]}),k.tipoLente&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Tipo de lente:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:k.tipoLente})]})]}),r.jsxs("div",{className:"mb-6",children:[k.enPromocion&&k.precioBase&&r.jsx("div",{className:"mb-2",children:r.jsxs("span",{className:"text-gray-500 line-through",children:["Precio original: ",Jt(k.precioBase)]})}),r.jsxs("div",{className:"text-2xl font-bold text-[#0097c2]",children:["Precio: ",Jt(k.precioActual||k.precioBase||0)]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{className:"bg-emerald-600 text-white px-4 py-2 rounded-full hover:bg-emerald-700 transition-colors duration-300",onClick:()=>{R.pathname==="/productos/personalizables"?(P(!1),X("/cotizaciones/crear",{state:{openPersonalizado:!0}})):(ne(k,1),P(!1))},children:R.pathname==="/productos/personalizables"?"Personalizar":"Agregar al carrito"}),r.jsx("button",{className:"bg-white border border-[#0097c2] text-[#0097c2] px-4 py-2 rounded-full hover:bg-[#e6f7fb] transition-colors duration-300",onClick:()=>He(k),children:"Solicitar a óptica"})]})]})]})]})})}):null},rn=()=>{const q=J(),ye=q.loading,Re=q.error,Ie=ce(q.data),$e=ae(Ie),Xe=q.pagination,ht=q.type,nt=()=>{switch(ht){case"lentes":return"Lentes";case"accesorios":return"Accesorios";case"personalizables":return"Productos Personalizables";default:return"Todos los Productos"}};return r.jsx("div",{className:"container mx-auto py-10 px-2 sm:px-4",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-1/4",children:an}),r.jsxs("div",{className:"lg:w-1/2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800",children:nt()}),r.jsxs("div",{className:"text-gray-600",children:[(Xe==null?void 0:Xe.total)??$e.length," producto",((Xe==null?void 0:Xe.total)??$e.length)!==1?"s":""," encontrado",((Xe==null?void 0:Xe.total)??$e.length)!==1?"s":""]})]}),ye?r.jsx(wle,{message:`Cargando ${nt().toLowerCase()}...`}):Re?r.jsx(Nle,{error:Re,onRetry:()=>window.location.reload()}):ht!=="personalizables"&&Ie.length===0?r.jsx(jle,{type:ht,searchTerm:x,filters:{selectedCategory:n,selectedMarca:s,priceRange:h}}):r.jsxs(r.Fragment,{children:[ht==="personalizables"?r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-dashed border-[#0097c2]",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-lg bg-[#0097c2] text-white flex items-center justify-center text-2xl",children:"✨"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Crea tu Producto Personalizado"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Elige base, materiales, color, tipo de lente y modificaciones del catálogo."})]}),r.jsx("button",{onClick:()=>X("/cotizaciones/crear",{state:{openPersonalizado:!0}}),className:"bg-emerald-600 text-white px-6 py-3 rounded-full hover:bg-emerald-700 transition-colors",children:"Personalizar ahora"})]})}):r.jsx("div",{className:C==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:$e.map(pt=>r.jsx("div",{children:C==="grid"?r.jsx(ue,{product:pt,currentType:ht}):r.jsx(Ue,{product:pt,currentType:ht})},pt._id))}),(ht==="lentes"||ht==="accesorios")&&(Xe==null?void 0:Xe.totalPages)>1&&r.jsx(Ei,{currentPage:(ht==="lentes"?G:Q)-1,totalPages:Xe.totalPages,goToFirstPage:()=>ht==="lentes"?te(1):ve(1),goToPreviousPage:()=>ht==="lentes"?te(pt=>Math.max(1,pt-1)):ve(pt=>Math.max(1,pt-1)),goToNextPage:()=>ht==="lentes"?te(pt=>Math.min(Xe.totalPages,pt+1)):ve(pt=>Math.min(Xe.totalPages,pt+1)),goToLastPage:()=>ht==="lentes"?te(Xe.totalPages):ve(Xe.totalPages),pageSize:D,setPageSize:pt=>{$(pt),ht==="lentes"?te(1):ve(1)}})]})]}),r.jsx("div",{className:"lg:w-1/4",children:r.jsx("div",{className:"sticky top-24",children:r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-[#0097c2]/30",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#0097c2] text-white flex items-center justify-center text-xl",children:"✨"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"¿Buscas algo único?"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Crea tu producto personalizado eligiendo base, materiales, color y más."}),r.jsx("button",{onClick:()=>X("/cotizaciones/crear",{state:{openPersonalizado:!0}}),className:"w-full bg-emerald-600 text-white px-4 py-2 rounded-full hover:bg-emerald-700 transition-colors",children:"Personalizar ahora"})]})]})})})})]})})};return r.jsx(Sle,{children:r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsx(W2,{children:r.jsx(K2,{type:_.type,message:_.message,show:_.show,onClose:B,duration:_.duration})}),rn(),T&&r.jsx(ut,{}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10 text-xs sm:text-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 sm:gap-8 px-0 sm:px-4 py-8 sm:py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"Óptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Adaptación de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compañía"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Misión y Visión"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Óptica La Inteligente. Todos los derechos reservados."]})})})]})})]})})},Cle=()=>{const{user:e}=zn(),[t,n]=y.useState(!1),{data:a,loading:s,error:o}=$u("cotizaciones"),[c,u]=y.useState(null),[f,m]=y.useState(null),[h,g]=y.useState({abierto:!1,id:null}),[x,b]=y.useState(null);if(y.useEffect(()=>{e||n(!0)},[e]),!e)return r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-6 rounded shadow-md text-lg font-semibold",children:"Debes iniciar sesión para ver cotizaciones."})}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 px-4 py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"Óptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Adaptación de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compañía"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Misión y Visión"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Óptica La Inteligente. Todos los Derechos Reservados."]})})})]})})]});const j=C=>{g({abierto:!0,id:C})},N=async()=>{const C=h.id;try{const E=await fetch(`https://a-u-r-o-r-a.onrender.com/api/cotizaciones/${C}`,{method:"DELETE"}),k=await E.json();E.ok?(m("Cotización eliminada exitosamente."),c?u(c.filter(O=>O._id!==C)):a&&u(a.filter(O=>O._id!==C))):m(k.message||"Error al eliminar la cotización.")}catch{m("Error al eliminar la cotización.")}g({abierto:!1,id:null}),setTimeout(()=>m(null),3e3)},S=()=>{g({abierto:!1,id:null})},A=async C=>{try{b(C);const E=dn(`${_e.ENDPOINTS.COTIZACIONES}/${C}/convertir-a-pedido`),k=await fetch(E,{method:"POST",credentials:_e.FETCH_CONFIG.credentials,headers:{"Content-Type":"application/json"}}),O=await k.json().catch(()=>({}));if(!k.ok)m((O==null?void 0:O.message)||"No se pudo convertir la cotización.");else{m("Cotización convertida en pedido correctamente.");const P=(c||a||[]).map(_=>_._id===C?{..._,estado:"convertida"}:_);u(P)}}catch{m("Error al convertir la cotización.")}finally{b(null),setTimeout(()=>m(null),3e3)}};return r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-8 font-['Lato']",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-gray-800",children:"Cotizaciones"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Buscar Cotización"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsx("input",{type:"text",placeholder:"Ingrese el número de cotización",className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all text-sm sm:text-base"}),r.jsx("button",{type:"submit",className:"bg-[#0097c2] text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-[#0077a2] transition-all shadow-sm text-sm sm:text-base",children:"Buscar"})]}),a&&a.length===0&&!s&&!o&&r.jsx("div",{className:"text-center text-gray-500 mt-4",children:"No hay cotizaciones disponibles actualmente."})]}),r.jsx("div",{className:"mb-8",children:r.jsx(Et,{to:"/cotizaciones/crear",className:"inline-block bg-[#0097c2] text-white px-6 py-2 rounded-lg hover:bg-[#0077a2] transition-all shadow-sm",children:"Nueva Cotización"})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[r.jsx("h2",{className:"text-xl font-semibold p-6 text-gray-800",children:"Listado de Cotizaciones"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-xs sm:text-sm md:text-base",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Número"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center py-4",children:"Cargando..."})}):o?r.jsx("tr",{children:r.jsxs("td",{colSpan:4,className:"text-center py-4 text-red-500",children:["Error: ",o]})}):a&&a.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center py-4",children:"No hay cotizaciones disponibles actualmente."})}):(c||a)&&(c||a).length>0?(c||a).map(C=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:C.numero||(C._id?`COT-${String(C._id).slice(-6).toUpperCase()}`:"-")}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:C.fecha?new Date(C.fecha).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:C.estado||"Pendiente"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs(Et,{to:`/cotizaciones/${C._id}`,className:"flex items-center text-[#0097c2] hover:text-[#0077a2] transition-colors",children:[r.jsxs("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),r.jsx("span",{children:"Ver"})]}),r.jsxs(Et,{to:`/cotizaciones/${C._id}?print=1`,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),r.jsx("span",{children:"Descargar"})]}),(!C.estado||C.estado!=="convertida")&&r.jsxs("button",{onClick:()=>A(C._id),disabled:x===C._id,className:`flex items-center ${x===C._id?"text-gray-400":"text-green-600 hover:text-green-800"} transition-colors`,children:[r.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),r.jsx("span",{children:x===C._id?"Convirtiendo...":"Convertir a pedido"})]}),r.jsxs("button",{onClick:()=>j(C._id),className:"flex items-center text-red-600 hover:text-red-800 transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),r.jsx("span",{children:"Eliminar"})]})]})})]},C._id)):null})]})})]})]}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10 text-xs sm:text-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 sm:gap-8 px-0 sm:px-4 py-8 sm:py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"Óptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Adaptación de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compañía"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Misión y Visión"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Óptica La Inteligente. Todos los Derechos Reservados."]})})})]})}),f&&r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-2 rounded shadow-lg z-50",children:f}),h.abierto&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Confirmar Eliminación"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"¿Estás seguro de que deseas eliminar esta cotización? Esta acción no se puede deshacer."}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:S,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})]})},Ale=()=>r.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] transition-all duration-300 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white p-12",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Examen Visual Profesional"}),r.jsx("p",{className:"text-white/90 mb-6",children:"Nuestro Examen Visual completo evalúa la salud de tus ojos y determina si necesitas corrección visual utilizando tecnología de vanguardia."})]})}),r.jsx("div",{className:"p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-[#0097c2]/5 rounded-lg mr-3",children:r.jsx(Os,{className:"w-6 h-6 text-[#0097c2]","aria-hidden":"true"})}),r.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:"Beneficios Incluidos"})]}),r.jsx("ul",{className:"space-y-3",children:["Evaluación completa de salud ocular","Medición precisa de graduación","Detección temprana de problemas","Asesoría personalizada","Recomendaciones específicas"].map((e,t)=>r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(Dh,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),e]},t))})]}),r.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-[#0097c2]/5 rounded-lg mr-3",children:r.jsx(Wb,{className:"w-6 h-6 text-[#0097c2]","aria-hidden":"true"})}),r.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:"Información del Servicio"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(Va,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Duración: 30 minutos aproximadamente"]}),r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(Os,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Resultados inmediatos"]}),r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(qU,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Seguimiento incluido"]})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-[#0097c2]/5 rounded-lg mr-3",children:r.jsx(Il,{className:"w-6 h-6 text-[#0097c2]","aria-hidden":"true"})}),r.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:"Proceso del Examen"})]}),r.jsx("ul",{className:"space-y-4",children:[{title:"Historia Clínica",desc:"Recopilación de información médica y antecedentes"},{title:"Evaluación Visual",desc:"Medición de agudeza visual a diferentes distancias"},{title:"Refracción",desc:"Determinación precisa de tu graduación"},{title:"Salud Ocular",desc:"Examen completo de la salud de tus ojos"}].map((e,t)=>r.jsxs("li",{className:"flex items-start group",children:[r.jsx("span",{className:"flex items-center justify-center bg-[#0097c2]/10 text-[#0097c2] rounded-full w-6 h-6 mt-1 mr-3 flex-shrink-0 font-semibold group-hover:bg-[#0097c2] group-hover:text-white transition-colors",children:t+1}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-800",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.desc})]})]},t))})]}),r.jsx(Et,{to:"/agendar",className:"block bg-[#0097c2] text-white text-center py-4 px-6 rounded-xl font-semibold hover:bg-[#0088b0] transition-colors",children:"Agendar Examen"})]})]})})]}),Ele="/A.U.R.O.R.A/assets/proceso-examen-C1l9lA0r.jpg",Ey=({icon:e,title:t,description:n,features:a,details:s})=>r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.16)] transition-all duration-300",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white p-4 rounded-xl w-16 h-16 flex items-center justify-center mx-auto mb-6",children:e}),r.jsx("h3",{className:"text-xl font-semibold text-center mb-4",children:t}),r.jsx("p",{className:"text-gray-600 text-center mb-6",children:n}),r.jsxs("div",{className:"space-y-6",children:[a&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("h4",{className:"font-medium mb-4 text-gray-800",children:[a.title,":"]}),r.jsx("ul",{className:"space-y-3",children:a.items.map((o,c)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-[#0097c2] mr-2",children:"•"}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[o.title,":"]}),r.jsx("br",{}),o.description]})]},c))})]}),s&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("h4",{className:"font-medium mb-4 text-gray-800",children:[s.title,":"]}),r.jsx("ul",{className:"space-y-2 text-gray-600",children:s.items.map((o,c)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"text-[#0097c2] mr-2",children:"•"}),o]},c))})]})]})]}),hm=({icon:e,title:t,description:n})=>r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.16)] transition-all duration-300 text-center",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white p-4 rounded-xl w-16 h-16 flex items-center justify-center mx-auto mb-6",children:e}),r.jsx("h3",{className:"font-semibold text-xl mb-4",children:t}),r.jsx("p",{className:"text-gray-600",children:n})]}),Ou=({title:e,description:t})=>r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all",children:[r.jsx("h3",{className:"font-semibold text-lg mb-3 text-[#0097c2]",children:e}),r.jsx("p",{className:"text-gray-600",children:t})]}),Ole=()=>r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsxs("div",{className:"font-['Lato'] bg-gray-50 px-2 sm:px-4",children:[r.jsx("br",{}),r.jsx("br",{}),r.jsx(Ale,{}),r.jsx("section",{className:"py-20 px-4",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Beneficios de Nuestro Examen Visual"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:[r.jsx(hm,{icon:r.jsx(Qt,{className:"w-8 h-8","aria-hidden":"true"}),title:"Detección temprana",description:"Identificamos problemas visuales antes de que se conviertan en condiciones graves."}),r.jsx(hm,{icon:r.jsx(Jk,{className:"w-8 h-8","aria-hidden":"true"}),title:"Precisión garantizada",description:"Utilizamos equipos de última generación para garantizar la precisión en la medición de tu graduación."}),r.jsx(hm,{icon:r.jsx(dV,{className:"w-8 h-8","aria-hidden":"true"}),title:"Rápido y eficiente",description:"Nuestro examen visual completo toma aproximadamente 30 minutos, respetando tu tiempo."}),r.jsx(hm,{icon:r.jsx(wU,{className:"w-8 h-8","aria-hidden":"true"}),title:"Seguimiento Personalizado",description:"Realizamos un seguimiento de tu salud visual y te recordamos cuándo es momento de tu próximo examen."})]})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nuestro Proceso"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(Ou,{title:"Historia Clínica",description:"Recopilamos información sobre tu historial médico, antecedentes familiares y hábitos visuales."}),r.jsx(Ou,{title:"Evaluación de agudeza visual",description:"Medimos tu capacidad para ver detalles a diferentes distancias con y sin corrección."}),r.jsx(Ou,{title:"Refracción",description:"Determinamos tu graduación exacta para corregir problemas como miopía, hipermetropía o astigmatismo."}),r.jsx(Ou,{title:"Evaluación de la salud ocular",description:"Examinamos la salud de tus ojos para detectar posibles condiciones como cataratas, glaucoma o retinopatías."}),r.jsx(Ou,{title:"Recomendaciones Personalizadas",description:"Te brindamos recomendaciones específicas para tu caso y te asesoramos en la elección de lentes si los necesitas."})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("img",{src:Ele,alt:"Proceso de examen visual",className:"rounded-2xl shadow-lg max-w-full w-full"})})]})]})}),r.jsx("section",{className:"py-20 px-4",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nuestros Servicios"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8",children:[r.jsx(Ey,{icon:r.jsx(Qk,{className:"w-8 h-8","aria-hidden":"true"}),title:"Examen Visual",description:"Evaluación integral de tu salud visual utilizando tecnología de vanguardia.",features:{title:"Incluye",items:[{title:"Evaluación completa",description:"Examen detallado de la salud ocular"},{title:"Medición precisa",description:"Determinación exacta de tu graduación usando equipos digitales"},{title:"Detección temprana",description:"Identificación de posibles problemas visuales y condiciones oculares"},{title:"Asesoría personalizada",description:"Recomendaciones específicas para tu caso"}]},details:{title:"Duración y Proceso",items:["Tiempo aproximado: 30 minutos","Resultados inmediatos","Seguimiento incluido"]}}),r.jsx(Ey,{icon:r.jsx(wo,{className:"w-8 h-8","aria-hidden":"true"}),title:"Adaptación de Lentes",description:"Servicio completo de adaptación y personalización de lentes, garantizando tu comodidad y satisfacción.",features:{title:"Servicios Incluidos",items:[{title:"Asesoría especializada",description:"Ayuda profesional en la selección de monturas según tu estilo y necesidades"},{title:"Mediciones precisas",description:"Toma de medidas exactas para lentes monofocales y progresivos"},{title:"Ajustes personalizados",description:"Adaptación perfecta de la montura a tu rostro"}]},details:{title:"Garantías",items:["30 días de garantía de adaptación","Ajustes gratuitos post-entrega","Seguimiento personalizado"]}}),r.jsx(Ey,{icon:r.jsx(nT,{className:"w-8 h-8","aria-hidden":"true"}),title:"Reparaciones",description:"Servicio técnico especializado para el mantenimiento y reparación de tus lentes.",features:{title:"Servicios Disponibles",items:[{title:"Mantenimiento General",description:"Ajustes, limpieza profunda y revisión completa"},{title:"Reparaciones Específicas",description:"Cambio de tornillos, plaquetas y soldadura especializada"},{title:"Servicios Express",description:"Reparaciones urgentes en el mismo día"}]},details:{title:"Ventajas",items:["Garantía en Reparaciones","Presupuesto Sin Compromiso","Servicio Rápido y Profesional"]}})]})]})}),r.jsx("section",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-4xl font-bold mb-6",children:"¡Agenda tu Examen Visual hoy mismo!"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"No esperes más para cuidar de tu salud visual. Nuestro equipo está listo para atenderte con profesionalismo y calidez."}),r.jsx(Et,{to:"/agendar",className:"inline-block bg-white text-[#0097c2] px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1",children:"Agendar Examen"})]})})]})]}),kle=()=>{const[e,t]=y.useState(1),[n,a]=y.useState(!1),[s,o]=y.useState({nombres:"",apellidos:"",telefono:"",email:"",motivo:"",sucursalId:"",optometristaId:"",fecha:"",hora:"",tipoLente:"",graduacion:"",notasAdicionales:"",contacto:"telefono"}),[c,u]=y.useState(!1),[f,m]=y.useState(null),[h,g]=y.useState(!1),[x,b]=y.useState([]),[j,N]=y.useState([]),{user:S}=(zn==null?void 0:zn())||{},[A,C]=y.useState({Lun:[],Mar:[],Mie:[],Jue:[],Vie:[],Sab:[],Dom:[]}),[E,k]=y.useState(["9:00","10:00","11:00","12:00","13:00"]),O=Z=>{var Q,ve,xe,ze;if(!Z)return"Optometrista";const H=Z.empleadoId,D=((ve=(Q=H==null?void 0:H.nombre)==null?void 0:Q.trim)==null?void 0:ve.call(Q))||"",$=((ze=(xe=H==null?void 0:H.apellido)==null?void 0:xe.trim)==null?void 0:ze.call(xe))||"",G=`${D} ${$}`.trim();return G||`Optometrista ${(Z._id||"").slice(-6).toUpperCase()||Z._id||""}`.trim()},T=Z=>{const H=new Date(Z),$=(H.getDay()+6)%7,G=new Date(H);return G.setDate(H.getDate()-$),G.setHours(0,0,0,0),G},[P,_]=y.useState(T(new Date)),z=["Lun","Mar","Mie","Jue","Vie","Sab","Dom"],V=()=>z.map((Z,H)=>{const D=new Date(P);return D.setDate(P.getDate()+H),D}),B=Z=>{if(!Z)return null;const[H,D]=String(Z).split(":").map($=>parseInt($,10));return Number.isNaN(H)||Number.isNaN(D)?null:H*60+D},W=Z=>{const H=Math.floor(Z/60),D=Z%60;return`${H}:${String(D).padStart(2,"0")}`},oe=(Z,H)=>{const D=B(Z),$=B(H);if(D==null||$==null||$<=D)return[];const G=[];for(let te=D;te<$;te+=60)G.push(W(te));return G},K=Z=>{if(Z==null)return null;const H={lun:"Lun",lunes:"Lun",mon:"Lun",monday:"Lun",mar:"Mar",martes:"Mar",tue:"Mar",tuesday:"Mar",mie:"Mie",miércoles:"Mie",miercoles:"Mie",wed:"Mie",wednesday:"Mie",jue:"Jue",jueves:"Jue",thu:"Jue",thursday:"Jue",vie:"Vie",viernes:"Vie",fri:"Vie",friday:"Vie",sab:"Sab",sábado:"Sab",sabado:"Sab",sat:"Sab",saturday:"Sab",dom:"Dom",domingo:"Dom",sun:"Dom",sunday:"Dom"};if(typeof Z=="number")return["Lun","Mar","Mie","Jue","Vie","Sab","Dom"][Math.max(1,Math.min(7,Z))-1]||null;const D=String(Z).trim().toLowerCase();return H[D]||null};y.useEffect(()=>{const Z={Lun:[],Mar:[],Mie:[],Jue:[],Vie:[],Sab:[],Dom:[]};if(!s.optometristaId){C(Z),k(["9:00","10:00","11:00","12:00","13:00"]);return}const H=j.find(te=>te._id===s.optometristaId);if(!H){C(Z),k(["9:00","10:00","11:00","12:00","13:00"]);return}const D={...Z};(H.disponibilidad||[]).forEach(te=>{const Q=K(te==null?void 0:te.dia);if(!Q||!D[Q])return;const ve=oe(te==null?void 0:te.horaInicio,te==null?void 0:te.horaFin);if(!ve.length)return;const xe=new Set([...D[Q]||[],...ve]);D[Q]=Array.from(xe).sort((ze,Le)=>B(ze)-B(Le))});const $=new Set;Object.values(D).forEach(te=>te.forEach(Q=>$.add(Q)));const G=Array.from($).sort((te,Q)=>B(te)-B(Q));C(D),k(G.length?G:["9:00","10:00","11:00","12:00","13:00"])},[s.optometristaId,j]),y.useEffect(()=>{(async()=>{try{const[H,D]=await Promise.all([fetch(dn(_e.ENDPOINTS.SUCURSALES),_e.FETCH_CONFIG),fetch(dn(_e.ENDPOINTS.OPTOMETRISTAS),_e.FETCH_CONFIG)]),[$,G]=await Promise.all([H.json(),D.json()]);b(Array.isArray($)?$:[]),N(Array.isArray(G)?G:[])}catch(H){console.error("Error cargando opciones",H)}})()},[]);const I=Z=>{const{name:H,value:D}=Z.target;o($=>({...$,[H]:D}))},R=async Z=>{if(Z.preventDefault(),e===3){u(!0),m(null),g(!1);try{const H=(S==null?void 0:S._id)||(S==null?void 0:S.id);if(!H)throw new Error("Inicia sesión para agendar tu cita.");const D=["sucursalId","optometristaId","fecha","hora","motivo","tipoLente","graduacion"];for(const te of D)if(!s[te])throw new Error("Completa todos los campos requeridos.");const $={clienteId:H,optometristaId:s.optometristaId,sucursalId:s.sucursalId,fecha:s.fecha?new Date(s.fecha):null,hora:s.hora,estado:"pendiente",motivoCita:s.motivo,tipoLente:s.tipoLente,graduacion:s.graduacion,notasAdicionales:s.notasAdicionales||""},G=await fetch(dn(_e.ENDPOINTS.CITAS),{method:"POST",headers:{"Content-Type":"application/json"},credentials:_e.FETCH_CONFIG.credentials,body:JSON.stringify($)});if(!G.ok){const te=await G.json().catch(()=>({}));throw new Error((te==null?void 0:te.message)||"Error al agendar la cita")}g(!0),o({nombres:"",apellidos:"",telefono:"",email:"",motivo:"",sucursalId:"",optometristaId:"",fecha:"",hora:"",tipoLente:"",graduacion:"",notasAdicionales:"",contacto:"telefono"}),t(1),a(!0),setTimeout(()=>{a(!1)},3e3)}catch(H){m(H.message)}finally{u(!1)}}else t(H=>Math.min(H+1,3))},X=()=>{switch(e){case 1:return r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("div",{children:r.jsx("input",{type:"text",name:"nombres",placeholder:"Nombres",value:s.nombres,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"apellidos",placeholder:"Apellidos",value:s.apellidos,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"tel",name:"telefono",placeholder:"Teléfono",value:s.telefono,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("input",{type:"text",name:"motivo",placeholder:"Motivo de cita (Ej. Examen visual)",value:s.motivo,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsxs("select",{name:"sucursalId",value:s.sucursalId,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0,children:[r.jsx("option",{value:"",children:"Seleccionar sucursal"}),x.map(Z=>r.jsx("option",{value:Z._id,children:Z.nombre},Z._id))]})}),r.jsx("div",{children:r.jsxs("select",{name:"optometristaId",value:s.optometristaId,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0,children:[r.jsx("option",{value:"",children:"Seleccionar optometrista"}),j.map(Z=>r.jsx("option",{value:Z._id,children:O(Z)},Z._id))]})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"tipoLente",placeholder:"Tipo de lente (Ej. Monofocal)",value:s.tipoLente,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"graduacion",placeholder:"Graduación (Ej. -1.25)",value:s.graduacion,onChange:I,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})})]});case 2:return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3",children:[r.jsx("h3",{className:"text-sm font-medium",children:"Selecciona una hora"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{const Z=new Date(P);Z.setDate(P.getDate()-7),_(Z)},className:"px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200",children:"◀ Semana anterior"}),r.jsx("button",{type:"button",onClick:()=>_(T(new Date)),className:"px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200",children:"Esta semana"}),r.jsx("button",{type:"button",onClick:()=>{const Z=new Date(P);Z.setDate(P.getDate()+7),_(Z)},className:"px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200",children:"Semana siguiente ▶"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(()=>{const Z=V(),H=Q=>`${String(Q.getDate()).padStart(2,"0")}/${String(Q.getMonth()+1).padStart(2,"0")}`,D=E,$=j.find(Q=>Q._id===s.optometristaId),G=$&&s.sucursalId&&!($.sucursalesAsignadas||[]).some(Q=>(Q._id||Q)===s.sucursalId),te=new Date;return r.jsxs(r.Fragment,{children:[G&&r.jsx("div",{className:"mb-3 text-xs sm:text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded p-2",children:"El optometrista seleccionado no atiende en la sucursal elegida. Cambia de sucursal u optometrista."}),r.jsxs("table",{className:"w-full text-xs sm:text-sm md:text-base",children:[r.jsx("thead",{children:r.jsx("tr",{children:z.map((Q,ve)=>r.jsx("th",{className:"py-2",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{children:Q}),r.jsx("span",{className:"text-[11px] text-gray-500",children:H(Z[ve])})]})},Q))})}),r.jsx("tbody",{children:D.map(Q=>r.jsx("tr",{children:z.map((ve,xe)=>{var Ye;const ze=Z[xe],Le=new Date(ze.getTime());Le.setHours(0,0,0,0);const Ee=Le.toISOString(),Fe=(Ye=A[ve])==null?void 0:Ye.includes(Q),[Ke,re]=Q.split(":").map(F=>parseInt(F,10)),Be=new Date(ze.getTime());Be.setHours(Ke||0,re||0,0,0);const Ge=Be.getTime()<te.getTime(),Ne=!Fe||Ge,He=!Ne&&s.hora===Q&&s.fecha&&new Date(s.fecha).toDateString()===Le.toDateString();return r.jsx("td",{className:"p-2 text-center",children:Ne?r.jsx("span",{className:"text-gray-400",children:"No disponible"}):r.jsx("button",{type:"button",onClick:()=>{I({target:{name:"hora",value:Q}}),I({target:{name:"fecha",value:Ee}})},className:`w-full py-2 rounded-lg transition-all ${He?"bg-[#0097c2] text-white":"bg-gray-50 hover:bg-gray-100"}`,children:Q})},`${ve}-${Q}`)})},Q))})]})]})})()}),Object.values(A).every(Z=>Z.length===0)&&r.jsx("div",{className:"text-center text-gray-500 mt-4",children:"No hay horarios disponibles actualmente."})]})});case 3:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Forma de Contacto"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",name:"contacto",value:"telefono",checked:s.contacto==="telefono",onChange:I,className:"text-[#0097c2] focus:ring-[#0097c2]"}),r.jsx("span",{children:"Número Telefónico"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",name:"contacto",value:"email",checked:s.contacto==="email",onChange:I,className:"text-[#0097c2] focus:ring-[#0097c2]"}),r.jsx("span",{children:"Correo Electrónico"})]})]})]});default:return null}};return r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-8 font-['Lato'] min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(Vu,{children:n&&r.jsx(yt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),r.jsx("span",{children:"Cita agendada exitosamente"})]})})}),r.jsxs(yt.div,{layout:!0,className:"bg-white rounded-xl shadow-sm p-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-gray-800 text-center",children:"Agendar Cita"}),r.jsx("div",{className:"flex items-center justify-center mb-12",children:[1,2,3].map(Z=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(yt.div,{animate:{backgroundColor:e>=Z?"#0097c2":"#e5e7eb",color:e>=Z?"#ffffff":"#6b7280"},className:"w-6 h-6 rounded-full flex items-center justify-center text-sm",children:Z}),Z<3&&r.jsx(yt.div,{animate:{backgroundColor:e>Z?"#0097c2":"#e5e7eb"},className:"w-16 h-0.5"})]},Z))}),r.jsxs(yt.form,{layout:!0,onSubmit:R,className:"space-y-6",children:[h&&r.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:"Cita agendada correctamente."}),f&&r.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:f}),r.jsx(Vu,{mode:"wait",children:r.jsx(yt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:X()},e)}),r.jsxs(yt.div,{layout:!0,className:"flex justify-end space-x-4",children:[e>1&&r.jsx("button",{type:"button",onClick:()=>t(Z=>Z-1),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Atrás"}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 rounded-full hover:bg-[#0077a2] transition text-sm sm:text-base",children:e===3?"Finalizar":"Siguiente"})]})]})]})]})}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 px-4 py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"Óptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Adaptación de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compañía"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Misión y Visión"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Óptica La Inteligente. Todos los derechos reservados."]})})})]})})]})},Tle=()=>r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsxs("div",{className:"font-['Lato'] bg-gray-50",children:[r.jsxs("section",{className:"bg-[#0097c2] text-white py-16 sm:py-24 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0097c2] to-[#00b4e4] opacity-90"}),r.jsx("div",{className:"container mx-auto px-2 sm:px-4 relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-3xl sm:text-5xl font-bold mb-4 sm:mb-6",children:"Óptica la Inteligente"}),r.jsx("p",{className:"text-base sm:text-xl opacity-90",children:"Cuidando tu visión desde hace más de una década"})]})})]}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nuestra Historia"}),r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:"Fundada en 2010, Nuestra Historia comenzó en un pequeño local en el centro de la ciudad. Con dedicación y trabajo duro, hemos crecido hasta convertirnos en una referencia en servicios ópticos de calidad."})})]})}),r.jsx("section",{className:"py-10 sm:py-16",children:r.jsx("div",{className:"container mx-auto px-2 sm:px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Misión"}),r.jsx("p",{className:"text-gray-600 leading-relaxed flex-grow",children:"Ofrecer soluciones visuales accesibles y de alta calidad a los salvadoreños, con atención cercana y asesoría experta, respaldados por la garantía y los valores de servicio, gratitud y empatía que han guiado a nuestra óptica desde sus inicios."})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Visión"}),r.jsx("p",{className:"text-gray-600 leading-relaxed flex-grow",children:"Ser una óptica líder a nivel nacional, reconocida por la excelencia de sus servicios y su compromiso con la salud visual de todos nuestros pacientes, sin perder jamás la solidaridad ni el espíritu familiar que nos define."})]})})]})})}),r.jsx("section",{className:"py-10 sm:py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-8 sm:mb-12",children:"Nuestros Valores"}),r.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:[{title:"Compromiso",description:"Dedicación total a la salud visual de nuestros pacientes.",icon:r.jsx("svg",{className:"w-12 h-12 text-[#0097c2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Calidad",description:"Excelencia en cada servicio y producto que ofrecemos.",icon:r.jsx("svg",{className:"w-12 h-12 text-[#0097c2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{title:"Empatía",description:"Comprensión y atención personalizada para cada paciente.",icon:r.jsx("svg",{className:"w-12 h-12 text-[#0097c2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}].map((e,t)=>r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:e.icon}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:e.title}),r.jsx("p",{className:"text-gray-600",children:e.description})]},t))})]})}),r.jsx("section",{className:"py-10 sm:py-16 bg-[#0097c2] text-white",children:r.jsx("div",{className:"container mx-auto px-2 sm:px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-8 text-center",children:[{number:"10+",label:"Años de Experiencia"},{number:"5000+",label:"Pacientes Atendidos"},{number:"2",label:"Sucursales"},{number:"100%",label:"Satisfacción"}].map((e,t)=>r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:e.number}),r.jsx("div",{className:"text-lg opacity-90",children:e.label})]},t))})})}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 px-4 py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"Óptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Adaptación de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compañía"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/A.U.R.O.R.A/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:"→"}),"Misión y Visión"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:["© ",new Date().getFullYear()," Óptica La Inteligente. Todos los derechos reservados."]})})})]})})]})]}),Mle=y.forwardRef(({amount:e,email:t,name:n,configuracion:a,datosAdicionales:s,headers:o={},onResult:c},u)=>{const[f,m]=y.useState({number:"4242424242424242",exp_month:"08",exp_year:"28",cvc:"123",card_holder:n||""}),[h,g]=y.useState(!1),[x,b]=y.useState(""),j=S=>{const{name:A,value:C}=S.target;m(E=>({...E,[A]:C}))};y.useEffect(()=>{if(!x){const S=(f.number||"").slice(-4)||"0000",A=`tok_dev_${Date.now()}_${S}`;b(A)}n&&f.card_holder!==n&&m(S=>({...S,card_holder:n}))},[n]);const N=async()=>{var S,A,C;if(!e||e<=0){c==null||c({ok:!1,error:"Monto inválido"});return}g(!0);try{const E=x,k={monto:Number(e),emailCliente:t||"",nombreCliente:f.card_holder||n||"",tokenTarjeta:E,configuracion:{emailsNotificacion:"",urlWebhook:"",telefonosNotificacion:"",notificarTransaccionCliente:!0,...a||{}},datosAdicionales:{...s||{}}};console.groupCollapsed("[Wompi] Payload enviado a /wompi/tokenless"),console.log(JSON.stringify(k,null,2)),console.groupEnd();const O=await fetch(dn("/wompi/tokenless"),{method:"POST",headers:{"Content-Type":"application/json",...o},credentials:"include",body:JSON.stringify(k)}),T=await O.json();if(console.groupCollapsed("[Wompi] Respuesta de /wompi/tokenless"),console.log(JSON.stringify(T,null,2)),console.groupEnd(),O.ok&&(T!=null&&T.success)){const P={ok:!0,transactionId:((S=T==null?void 0:T.data)==null?void 0:S.transactionId)||((A=T==null?void 0:T.data)==null?void 0:A.id)||((C=T==null?void 0:T.data)==null?void 0:C.Transaccion)||null};return c==null||c(P),P}else{const P={ok:!1,error:(T==null?void 0:T.error)||(T==null?void 0:T.message)||"Pago rechazado"};return c==null||c(P),P}}catch(E){console.error("Error en pago Wompi:",E);const k={ok:!1,error:E.message||"Error de red"};return c==null||c(k),k}finally{g(!1)}};return y.useImperativeHandle(u,()=>({pay:()=>N(),getToken:()=>x})),r.jsxs("div",{className:"space-y-3 bg-sky-50 border border-sky-100 rounded-xl p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"number",value:f.number,onChange:j,placeholder:"Número de tarjeta"}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"exp_month",value:f.exp_month,onChange:j,placeholder:"MM"}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"exp_year",value:f.exp_year,onChange:j,placeholder:"YY"}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"cvc",value:f.cvc,onChange:j,placeholder:"CVC"})]}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 w-full focus:ring-1 focus:ring-sky-300",name:"card_holder",value:f.card_holder,onChange:j,placeholder:"Titular"})]})}),Ple=()=>{const{cart:e,itemCount:t,total:n,removeItem:a,updateQty:s,clearCart:o,loading:c}=Gb(),{user:u,token:f}=zn(),[m,h]=y.useState(!1),[g,x]=y.useState(null),[b,j]=y.useState(null),[N,S]=y.useState([]),[A,C]=y.useState(null),E=y.useRef(null),k=new Date().toISOString().slice(0,10),[O,T]=y.useState({sucursalId:"",empleadoId:"",metodoPago:"efectivo",montoPagado:0,emailPago:"",telefonoCliente:"",nombreCliente:"",duiCliente:"",direccion:{calle:"",ciudad:"",departamento:""},observaciones:"",fecha:k,estado:"pendiente"}),P=y.useMemo(()=>Number(n||0),[n]),_=y.useMemo(()=>O.metodoPago==="tarjeta_credito"||O.metodoPago==="tarjeta_debito"||O.metodoPago==="transferencia",[O.metodoPago]);y.useEffect(()=>{T(H=>({...H,montoPagado:P,nombreCliente:H.nombreCliente||(u==null?void 0:u.nombre)||"",emailPago:H.emailPago||(u==null?void 0:u.correo)||""})),C(null),j(null)},[P,u==null?void 0:u.nombre,u==null?void 0:u.correo]),y.useEffect(()=>{(async()=>{try{if(!(u!=null&&u.id)||(u==null?void 0:u.rol)!=="Cliente")return;const D=await fetch(`${_e.BASE_URL}${_e.ENDPOINTS.CLIENTES}/${u.id}`,{credentials:"include"}),$=await D.json();if(!D.ok)return;const G=[$==null?void 0:$.nombre,$==null?void 0:$.apellido].filter(Boolean).join(" ").trim();T(te=>{var Q,ve,xe;return{...te,nombreCliente:te.nombreCliente||G||te.nombreCliente,emailPago:te.emailPago||($==null?void 0:$.correo)||te.emailPago,telefonoCliente:te.telefonoCliente||($==null?void 0:$.telefono)||($==null?void 0:$.telefono1)||($==null?void 0:$.telefonoPrincipal)||te.telefonoCliente||"",duiCliente:te.duiCliente||($==null?void 0:$.dui)||te.duiCliente,direccion:{calle:te.direccion.calle||((Q=$==null?void 0:$.direccion)==null?void 0:Q.calle)||"",ciudad:te.direccion.ciudad||((ve=$==null?void 0:$.direccion)==null?void 0:ve.ciudad)||"",departamento:te.direccion.departamento||((xe=$==null?void 0:$.direccion)==null?void 0:xe.departamento)||""}}})}catch{}})()},[u==null?void 0:u.id,u==null?void 0:u.rol]),y.useEffect(()=>{u!=null&&u.id&&(u!=null&&u.rol)&&u.rol!=="Cliente"&&T(H=>({...H,empleadoId:H.empleadoId||u.id}))},[u==null?void 0:u.id,u==null?void 0:u.rol]),y.useEffect(()=>{(async()=>{var D;try{const G=await(await fetch(`${_e.BASE_URL}${_e.ENDPOINTS.SUCURSALES}`,{credentials:"include"})).json(),te=Array.isArray(G)?G:(G==null?void 0:G.data)??[];S(te),!O.sucursalId&&((D=te[0])!=null&&D._id)&&T(Q=>({...Q,sucursalId:te[0]._id}))}catch{}})()},[]);const z=y.useMemo(()=>({"Content-Type":"application/json",...f?{Authorization:`Bearer ${f}`}:{}}),[f]),V=async H=>{var D;try{const $=await fetch(`${_e.BASE_URL}${_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${H}`,{credentials:"include"});if(!$.ok)return!1;const G=await $.json();return!!(G&&(G._id||(D=G==null?void 0:G.data)!=null&&D._id))}catch{return!1}},B=async H=>{if(H)try{const D=await Promise.all(((e==null?void 0:e.productos)||[]).map(G=>V(G.productoId))),$=((e==null?void 0:e.productos)||[]).filter((G,te)=>D[te]).map(G=>G.productoId);if($.length===0)return;await Promise.all($.map(async G=>{try{await fetch(`${_e.BASE_URL}${_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${G}/vinculos`,{method:"PATCH",headers:z,credentials:"include",body:JSON.stringify({pedidoId:H})})}catch{}}))}catch{}},W=(H,D)=>{const $=Math.max(1,Number(D)||1);s(H,$)},oe=H=>{const{name:D,value:$}=H.target;if(D.startsWith("direccion.")){const G=D.split(".")[1];T(te=>({...te,direccion:{...te.direccion,[G]:$}}))}else T(G=>({...G,[D]:$})),D==="metodoPago"&&(C(null),j(null),($==="tarjeta_credito"||$==="tarjeta_debito"||$==="transferencia")&&T(G=>({...G,montoPagado:P})))};y.useEffect(()=>{_&&Number(O.montoPagado)!==P&&T(H=>({...H,montoPagado:P}))},[_,P]);const K=async()=>{var G,te;if(x(null),j(null),!(e!=null&&e._id)){x("No hay carrito activo.");return}if(!O.sucursalId){x("Selecciona una sucursal.");return}if(!(u!=null&&u.id)){x("Debes iniciar sesión.");return}if(!O.metodoPago||!O.montoPagado){x("Completa los datos de pago.");return}if((O.metodoPago==="tarjeta_credito"||O.metodoPago==="tarjeta_debito"||O.metodoPago==="transferencia")&&!A){x("Primero realiza el pago con tarjeta/transferencia (Wompi).");return}if(!O.nombreCliente||!O.duiCliente||!O.direccion.calle||!O.direccion.ciudad||!O.direccion.departamento||!O.telefonoCliente){x("Completa los datos de facturación.");return}const D=Math.max(0,Number(O.montoPagado)-P),$={carritoId:e._id,empleadoId:O.empleadoId||void 0,sucursalId:O.sucursalId,fecha:O.fecha?new Date(O.fecha).toISOString():new Date().toISOString(),estado:O.estado||"pendiente",datosPago:{metodoPago:O.metodoPago,montoPagado:Number(O.montoPagado),montoTotal:P,cambio:D,numeroTransaccion:O.metodoPago==="efectivo"?void 0:A||`TX-${Date.now()}`},facturaDatos:{numeroFactura:`FAC-${Date.now()}`,clienteId:u.id,nombreCliente:O.nombreCliente,duiCliente:O.duiCliente,direccionCliente:{calle:O.direccion.calle,ciudad:O.direccion.ciudad,departamento:O.direccion.departamento},subtotal:P,total:P},observaciones:O.observaciones||void 0};h(!0);try{const Q=await fetch(`${_e.BASE_URL}${_e.ENDPOINTS.VENTAS}`,{method:"POST",headers:z,credentials:"include",body:JSON.stringify($)}),ve=await Q.json();if(Q.ok){const xe=(ve==null?void 0:ve.venta)||(ve==null?void 0:ve.data)||ve,ze=(xe==null?void 0:xe.pedidoId)||((G=xe==null?void 0:xe.pedido)==null?void 0:G._id)||(ve==null?void 0:ve.pedidoId)||((te=ve==null?void 0:ve.pedido)==null?void 0:te._id);ze&&await B(ze),j("Venta creada correctamente."),await o()}else x((ve==null?void 0:ve.message)||"Error creando la venta.")}catch{x("Error de red creando la venta.")}finally{h(!1)}},I=async()=>{const H=[];for(const G of(e==null?void 0:e.productos)||[]){const te=await V(G.productoId);H.push({productoId:te?void 0:G.productoId,tipo:te?"personalizado":"otro",nombre:G.nombre,categoria:te?"Personalizado":G.categoria||"Otros",cantidad:G.cantidad||1,precioUnitario:G.precio||0,customizaciones:[],subtotal:(G.precio||0)*(G.cantidad||1)})}const D=new Date,$=new Date(D);return $.setDate($.getDate()+30),{clienteId:u.id,correoCliente:O.emailPago||void 0,telefonoCliente:O.telefonoCliente,fecha:D.toISOString(),productos:H,total:H.reduce((G,te)=>G+(te.subtotal||0),0),validaHasta:$.toISOString(),estado:"pendiente",observaciones:O.observaciones||void 0}},R=async()=>{const H=await Promise.all(((e==null?void 0:e.productos)||[]).map(xe=>V(xe.productoId)));if(!H.some(Boolean))return null;const $=await I(),G=await fetch(`${_e.BASE_URL}${_e.ENDPOINTS.COTIZACIONES}`,{method:"POST",headers:z,credentials:"include",body:JSON.stringify($)}),te=await G.json();if(!G.ok)throw new Error((te==null?void 0:te.message)||"Error creando la cotización");const Q=(te==null?void 0:te.cotizacion)||(te==null?void 0:te.data)||te,ve=((e==null?void 0:e.productos)||[]).filter((xe,ze)=>H[ze]).map(xe=>xe.productoId);return await Promise.all(ve.map(async xe=>{try{await fetch(`${_e.BASE_URL}${_e.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${xe}/vinculos`,{method:"PATCH",headers:z,credentials:"include",body:JSON.stringify({estado:"en_proceso",cotizacionId:Q._id})})}catch{}})),Q},X=async()=>{x(null),j(null);try{if(h(!0),_){if(!E.current){x("Componente de pago no disponible."),h(!1);return}const H=await E.current.pay();if(!(H!=null&&H.ok)){x((H==null?void 0:H.error)||"Pago Wompi fallido."),h(!1);return}C(H.transactionId||null)}try{await R()}catch{}await K()}catch{x("Ocurrió un error procesando el pago.")}finally{h(!1)}},Z=H=>{var G,te,Q,ve,xe;let $=[H==null?void 0:H.imagen,H==null?void 0:H.imagenUrl,H==null?void 0:H.imageUrl,H==null?void 0:H.image,H==null?void 0:H.foto,H==null?void 0:H.thumbnail,H==null?void 0:H.thumb,(G=H==null?void 0:H.producto)==null?void 0:G.imagen,(te=H==null?void 0:H.producto)==null?void 0:te.imagenUrl,(Q=H==null?void 0:H.producto)==null?void 0:Q.imageUrl,(ve=H==null?void 0:H.producto)==null?void 0:ve.image,(xe=H==null?void 0:H.producto)==null?void 0:xe.foto].filter(Boolean).find(ze=>typeof ze=="string"&&ze.trim().length>0);if($){if($=$.trim(),$.startsWith("http://")||$.startsWith("https://")||$.startsWith("data:"))return $;const Le=(_e.BASE_URL||"").replace(/\/api$/,"");return $.startsWith("/")?`${Le}${$}`:`${Le}/${$.replace(/^\//,"")}`}return"data:image/svg+xml;utf8,"+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
        <defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#e5f3f8"/><stop offset="1" stop-color="#cfe9f1"/></linearGradient></defs>
        <rect width="64" height="64" fill="url(#g)"/>
        <circle cx="22" cy="26" r="8" fill="#9ac7d6"/>
        <path d="M8 50l14-14 9 8 10-12 15 18z" fill="#7fb6c9"/>
      </svg>`)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(Ca,{}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 tracking-tight",children:"Tu carrito"}),c&&r.jsx("div",{children:"Cargando carrito..."}),g&&r.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded mb-4",children:g}),b&&r.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded mb-4",children:b}),!c&&(!e||(e.productos||[]).length===0)&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:[r.jsx("p",{className:"mb-4",children:"Tu carrito está vacío."}),r.jsx(Et,{to:"/productos",className:"bg-[#0097c2] text-white px-4 py-2 rounded-full",children:"Seguir comprando"})]}),!c&&e&&(e.productos||[]).length>0&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsx("div",{className:"bg-white rounded-xl shadow",children:r.jsx("div",{className:"max-h-96 overflow-y-auto divide-y pr-1",children:(e.productos||[]).map(H=>r.jsxs("div",{className:"p-3 flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("img",{src:Z(H),alt:H.nombre,className:"w-14 h-14 rounded-md object-cover flex-shrink-0"}),r.jsx("div",{className:"min-w-0",children:r.jsx("div",{className:"font-medium text-gray-900 truncate",children:H.nombre})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"number",min:1,className:"w-20 border border-gray-200 rounded-lg px-2 py-1 focus:ring-1 focus:ring-sky-300",value:H.cantidad,onChange:D=>W(H.productoId,D.target.value)}),r.jsxs("div",{className:"w-24 text-right font-semibold text-gray-800",children:["$",(H.precio*H.cantidad).toFixed(2)]}),r.jsx("button",{onClick:()=>a(String(H.productoId)),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Eliminar"})]})]},String(H.productoId)))})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between bg-white p-4 rounded-xl shadow",children:[r.jsx("button",{onClick:o,className:"text-gray-600 hover:text-gray-800",children:"Vaciar carrito"}),r.jsxs("div",{className:"text-xl font-bold",children:["Total: $",Number(n||0).toFixed(2)]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow space-y-6 sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Datos de pago"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Método de pago"}),r.jsxs("select",{name:"metodoPago",value:O.metodoPago,onChange:oe,className:"w-full border rounded-lg px-3 py-2",children:[r.jsx("option",{value:"efectivo",children:"Efectivo"}),r.jsx("option",{value:"tarjeta_credito",children:"Tarjeta crédito"}),r.jsx("option",{value:"tarjeta_debito",children:"Tarjeta débito"}),r.jsx("option",{value:"transferencia",children:"Transferencia"}),r.jsx("option",{value:"cheque",children:"Cheque"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Monto pagado"}),r.jsx("input",{type:"number",name:"montoPagado",value:O.montoPagado,onChange:oe,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Email para recibo/pago"}),r.jsx("input",{type:"email",name:"emailPago",value:O.emailPago,onChange:oe,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Teléfono de contacto"}),r.jsx("input",{type:"tel",name:"telefonoCliente",value:O.telefonoCliente,onChange:oe,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-2 text-right text-sm text-gray-700",children:["Total a pagar: ",r.jsxs("span",{className:"font-semibold",children:["$",P.toFixed(2)]})]})]}),(O.metodoPago==="tarjeta_credito"||O.metodoPago==="tarjeta_debito"||O.metodoPago==="transferencia")&&r.jsx("div",{className:"border-t pt-4",children:r.jsx(Mle,{ref:E,amount:P,email:O.emailPago,name:O.nombreCliente,configuracion:{},datosAdicionales:{},headers:{},onResult:()=>{}})}),r.jsx("div",{className:"text-right",children:r.jsx("button",{className:"bg-[#0097c2] disabled:opacity-60 text-white px-6 py-3 rounded-full hover:bg-[#0077a2] w-full md:w-auto",onClick:X,disabled:m,children:m?"Procesando...":_?"Pagar y confirmar":"Confirmar compra"})})]})})]})]})]})};function P_({activos:e=!0}={}){const[t,n]=y.useState([]),[a,s]=y.useState(!1),[o,c]=y.useState(null);return y.useEffect(()=>{let u=!0;return(async()=>{s(!0),c(null);try{const m=dn(_e.ENDPOINTS.CATALOGO_MODIFICACIONES,e?{activos:"true"}:{}),g=await(await fetch(m,{..._e.FETCH_CONFIG,method:"GET"})).json();if(!u)return;n(Array.isArray(g)?g:g.data||[])}catch(m){if(!u)return;c($k(m,"catalogoModificaciones"))}finally{u&&s(!1)}})(),()=>{u=!1}},[e]),{mods:t,loading:a,error:o,reload:()=>{}}}function _le({open:e,onClose:t,initial:n=[],allowEditPrice:a=!0,onSave:s}){const{mods:o,loading:c,error:u}=P_({activos:!0}),[f,m]=y.useState(()=>n.map(j=>({...j})));Kn.useEffect(()=>{m(n.map(j=>({...j})))},[n,e]);const h=y.useMemo(()=>Object.fromEntries(f.map(j=>[j.codigo,j])),[f]),g=j=>{const N=h[j.codigo];m(N?S=>S.filter(A=>A.codigo!==j.codigo):S=>[...S,{codigo:j.codigo,nombre:j.nombre,descripcion:j.descripcion||"",precio:Number(j.precioBase||0),cantidad:1}])},x=(j,N,S)=>{m(A=>A.map(C=>C.codigo===j?{...C,[N]:S}:C))},b=f.reduce((j,N)=>j+Number(N.precio||0)*Number(N.cantidad||0),0);return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/0",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-3xl w-full mx-4 shadow-2xl border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Seleccionar Modificaciones"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),c&&r.jsx("div",{className:"p-4 text-center",children:"Cargando opciones..."}),u&&r.jsx("div",{className:"p-4 text-center text-red-500",children:u}),!c&&!u&&r.jsxs("div",{className:"max-h-80 overflow-auto divide-y divide-gray-100 border rounded-xl",children:[o.map(j=>{const N=!!h[j.codigo],S=h[j.codigo];return r.jsxs("div",{className:`flex items-center p-3 sm:p-4 ${N?"bg-blue-50":""}`,children:[r.jsx("input",{type:"checkbox",className:"mr-3",checked:N,onChange:()=>g(j)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-800",children:j.nombre}),r.jsx("div",{className:"text-sm text-gray-500",children:j.descripcion})]}),N&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"number",min:1,className:"w-20 px-2 py-1 border rounded-lg",value:S.cantidad,onChange:A=>x(j.codigo,"cantidad",Number(A.target.value)),title:"Cantidad"}),r.jsx("input",{type:"number",step:"0.01",min:0,className:"w-24 px-2 py-1 border rounded-lg",value:S.precio,onChange:A=>a&&x(j.codigo,"precio",Number(A.target.value)),disabled:!a,title:"Precio"})]})]},j.codigo)}),o.length===0&&r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay opciones disponibles."})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Total modificaciones: ",r.jsxs("span",{className:"font-semibold",children:["$",b.toFixed(2)]})]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),r.jsx("button",{onClick:()=>s&&s(f),className:"px-4 py-2 bg-[#0097c2] text-white rounded hover:bg-[#0077a2]",children:"Aplicar"})]})]})]})}):null}function Dle({open:e,onClose:t,onSave:n}){const{mods:a,loading:s,error:o}=P_({activos:!0}),[c,u]=y.useState([]);y.useEffect(()=>{u(e?[]:[])},[e]),y.useEffect(()=>{if(!e||!a||a.length===0||c.length>0)return;const C={material_lente:["MAT-CR39"],indice_refraccion:["IDX-150"],diseno_lente:["DSN-MONO"],montura:["MNT-ACET"]},E={material_lente:["CR-39","CR39"],indice_refraccion:["1.50","1,50"],diseno_lente:["Monofocal"],montura:["Acetato"]},k=P=>{const _=a.filter(B=>(B.categoria||"general")===P);if(_.length===0)return null;const z=_.find(B=>(C[P]||[]).includes(B.codigo));return z||_.find(B=>(E[P]||[]).some(W=>(B.nombre||"").toLowerCase().includes(W.toLowerCase())))||null},T=["material_lente","indice_refraccion","diseno_lente","montura"].map(P=>k(P)).filter(Boolean);T.length>0&&u(T.map(P=>({codigo:P.codigo,nombre:P.nombre,descripcion:P.descripcion||"",precio:Number(P.precioBase||0),cantidad:1,categoria:P.categoria||"general"})))},[e,a]);const f=y.useMemo(()=>Object.fromEntries(c.map(C=>[C.codigo,C])),[c]),m=["material_lente","indice_refraccion","diseno_lente","tratamiento","montura","general"],h=y.useMemo(()=>{const C={};return(a||[]).forEach(E=>{const k=E.categoria||"general";C[k]||(C[k]={items:[],seleccionUnica:!!E.seleccionUnica}),C[k].items.push(E),E.seleccionUnica&&(C[k].seleccionUnica=!0)}),C},[a]),g=C=>{const E=f[C.codigo],k=C.categoria||"general",O=h[k]||{seleccionUnica:!1};u(E?T=>T.filter(P=>P.codigo!==C.codigo):T=>{let P=[...T];return O.seleccionUnica&&(P=P.filter(_=>_.categoria!==k)),P.push({codigo:C.codigo,nombre:C.nombre,descripcion:C.descripcion||"",precio:Number(C.precioBase||0),cantidad:1,categoria:k}),P})},x=(C,E,k)=>{u(O=>O.map(T=>T.codigo===C?{...T,[E]:k}:T))},b=c.reduce((C,E)=>C+Number(E.precio||0)*Number(E.cantidad||0),0),j=y.useMemo(()=>{const C={};return c.forEach(E=>{C[E.categoria]=C[E.categoria]?[...C[E.categoria],E]:[E]}),C},[c]),S=["material_lente","indice_refraccion","diseno_lente","montura"].every(C=>(j[C]||[]).length===1),A=()=>{var _,z,V,B;console.log("[PersonalizadoBuilderModal] handleSave clicked, isValid=",S,"seleccion=",c);const C=((_=(j.material_lente||[])[0])==null?void 0:_.nombre)||"Material",E=((z=(j.indice_refraccion||[])[0])==null?void 0:z.nombre)||"Índice",k=((V=(j.diseno_lente||[])[0])==null?void 0:V.nombre)||"Diseño",O=((B=(j.montura||[])[0])==null?void 0:B.nombre)||"Montura",P={productoId:null,nombre:`Personalizado - ${O} - ${k} - ${C} - ${E}`,categoria:"Personalizados",cantidad:1,precioUnitario:b,tipo:"personalizado",especificaciones:{material:C,indice:E,diseno:k,montura:O,tratamientos:(j.tratamiento||[]).map(W=>W.nombre)},customizaciones:c};n?(console.log("[PersonalizadoBuilderModal] onSave dispatched with item=",P),n(P)):console.warn("[PersonalizadoBuilderModal] onSave prop is not provided")};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/0",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-4xl w-full mx-4 shadow-2xl border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Crear Producto Personalizado"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"font-medium mb-2",children:"Modificaciones (catálogo)"}),s&&r.jsx("div",{className:"p-3 text-center",children:"Cargando opciones..."}),o&&r.jsx("div",{className:"p-3 text-center text-red-500",children:o}),!s&&!o&&r.jsxs("div",{className:"max-h-[55vh] overflow-auto border rounded-xl divide-y divide-gray-100",children:[m.filter(C=>!!h[C]).map(C=>{const E=h[C];return r.jsxs("div",{children:[r.jsxs("div",{className:"px-4 py-3 bg-gray-50 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:[C==="material_lente"?"Material de la lente":C==="indice_refraccion"?"Índice de refracción":C==="tratamiento"?"Tratamientos y recubrimientos":C==="diseno_lente"?"Diseño de la lente":C==="montura"?"Montura":"General",E.seleccionUnica?" (selección única)":""]}),E.items.sort((k,O)=>(k.orden??0)-(O.orden??0)).map(k=>{const O=!!f[k.codigo],T=f[k.codigo];return r.jsxs("div",{className:`flex items-center p-3 sm:p-4 ${O?"bg-blue-50":""}`,children:[r.jsx("input",{type:E.seleccionUnica?"radio":"checkbox",name:`cat-${C}`,className:"mr-3",checked:O,onChange:()=>g(k)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-800",children:k.nombre}),r.jsx("div",{className:"text-xs text-gray-500",children:k.descripcion})]}),O&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"number",min:1,className:"w-20 px-2 py-1 border rounded-lg",value:T.cantidad,onChange:P=>x(k.codigo,"cantidad",Number(P.target.value)),title:"Cantidad"}),r.jsx("input",{type:"number",step:"0.01",min:0,className:"w-24 px-2 py-1 border rounded-lg",value:T.precio,onChange:P=>x(k.codigo,"precio",Number(P.target.value)),title:"Precio"})]})]},k.codigo)})]},C)}),(a||[]).length===0&&r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay modificaciones configuradas."})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Total personalizado: ",r.jsxs("span",{className:"font-semibold",children:["$",b.toFixed(2)]})]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),r.jsx("button",{onClick:A,disabled:!S,className:`px-4 py-2 rounded text-white ${S?"bg-[#0097c2] hover:bg-[#0077a2]":"bg-gray-300 cursor-not-allowed"}`,children:"Agregar"})]})]}),!S&&r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:'Selecciona: Material, Índice, Diseño y Montura (una opción en cada categoría) para habilitar "Agregar".'})]})}):null}const Rle=({user:e=null,productos:t=[],clienteInfo:n={},loading:a=!1,error:s=null,success:o=!1,fechaCreacion:c=new Date,fechaValidez:u=new Date,onCrearCotizacion:f=null,onAgregarProducto:m=null,onEliminarProducto:h=null,onActualizarProducto:g=null,onUpdateClienteInfo:x=null,onCancel:b=null,cotizacionData:j={}})=>{var H;const N=An(),[S,A]=y.useState(!1),[C,E]=y.useState(null),[k,O]=y.useState(!1),T=D=>{E(D),A(!0)},P=()=>{O(!0)},_=D=>{if(!m)return O(!1);m(D),O(!1)};Kn.useEffect(()=>{N.state&&N.state.openPersonalizado&&O(!0)},[N.state]);const z=()=>{A(!1),E(null)},V=D=>{if(C==null)return z();if(g){const $=t[C]||{},G={...$,tipo:$.tipo||"aro",customizaciones:D.map(te=>({codigo:te.codigo,nombre:te.nombre,descripcion:te.descripcion||"",precio:Number(te.precio||0),cantidad:Number(te.cantidad||1)}))};g(C,G)}z()},B=D=>{const $=Number(D.precioUnitario??D.precio??0),G=(D.cantidad||0)*$,te=Array.isArray(D.customizaciones)?D.customizaciones.reduce((Q,ve)=>Q+Number(ve.precio||0)*Number(ve.cantidad||0),0):0;return G+te},W=t.reduce((D,$)=>D+B($),0),oe=W*.13,K=W+oe,I=!!(n!=null&&n.correoCliente)&&!!(n!=null&&n.telefonoCliente)&&t.length>0,R=async D=>{D.preventDefault(),I&&f&&f(j)},X=(D,$)=>{x&&x({...n,[D]:$})},Z=D=>{h&&h(D)};return r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsxs("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Crear Cotización"}),o&&r.jsx("div",{className:"mb-4 p-4 bg-green-50 text-green-700 rounded border border-green-200",children:"Cotización creada correctamente."}),s&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 text-red-700 rounded border border-red-200",children:s}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Fecha de creación"}),r.jsx("p",{className:"font-semibold text-gray-800",children:c.toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Válida hasta"}),r.jsx("p",{className:"font-semibold text-gray-800",children:u.toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Estado"}),r.jsx("p",{className:"font-semibold text-yellow-600",children:"Pendiente"})]})]})}),r.jsxs("form",{onSubmit:R,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:"Información de Contacto"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Correo Electrónico"}),r.jsx("input",{type:"email",value:n.correoCliente||"",onChange:D=>X("correoCliente",D.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Teléfono"}),r.jsx("input",{type:"tel",value:n.telefonoCliente||"",onChange:D=>X("telefonoCliente",D.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})]})]})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:"Productos"}),r.jsx("div",{className:"flex gap-3 mb-6",children:r.jsx("button",{type:"button",className:"bg-emerald-600 text-white px-6 py-2 rounded-lg shadow-sm hover:bg-emerald-700 transition-all",onClick:P,children:"Crear Producto Personalizado"})}),r.jsx("div",{className:"overflow-hidden rounded-xl shadow-sm",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Producto"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Cantidad"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Precio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Subtotal"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay productos agregados actualmente."})}):t.map((D,$)=>r.jsxs("tr",{children:[r.jsxs("td",{children:[r.jsx("div",{className:"font-medium",children:D.nombre||D.producto}),Array.isArray(D.customizaciones)&&D.customizaciones.length>0&&r.jsx("div",{className:"mt-1 text-xs text-gray-600 space-y-1",children:D.customizaciones.map((G,te)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{children:["• ",G.nombre," x",G.cantidad]}),r.jsxs("span",{children:["$",(Number(G.precio||0)*Number(G.cantidad||0)).toFixed(2)]})]},te))})]}),r.jsx("td",{children:D.cantidad}),r.jsxs("td",{children:["$",Number(D.precioUnitario??D.precio??0).toFixed(2)]}),r.jsxs("td",{children:["$",B(D).toFixed(2)]}),r.jsxs("td",{children:[r.jsx("button",{type:"button",onClick:()=>Z($),className:"text-red-500 hover:underline",children:"Eliminar"}),r.jsx("button",{type:"button",onClick:()=>T($),className:"ml-3 text-[#0097c2] hover:underline",children:D.tipo==="aro"?"Personalizar Aro":"Agregar Modificaciones"})]})]},$))})]})})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:"Resumen"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",W.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"IVA (13%)"}),r.jsxs("span",{children:["$",oe.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800 pt-3",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["$",K.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",onClick:()=>b&&b(),children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:a||!I,className:"bg-[#0097c2] text-white px-6 py-2 rounded-lg shadow-sm hover:bg-[#0077a2] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creando...":"Crear Cotización"})]})]}),r.jsx(_le,{open:S,onClose:z,initial:C!=null&&((H=t[C])==null?void 0:H.customizaciones)||[],onSave:V}),r.jsx(Dle,{open:k,onClose:()=>O(!1),onSave:_})]})]})},Lle=()=>{const{user:e}=zn(),t=es(),{alertState:n,showSuccess:a,showError:s,hideAlert:o}=Y2(),[c,u]=y.useState([]),[f,m]=y.useState({correoCliente:(e==null?void 0:e.correo)||(e==null?void 0:e.email)||"",telefonoCliente:(e==null?void 0:e.telefono)||""}),[h,g]=y.useState(!1),[x,b]=y.useState(null),[j,N]=y.useState(!1),S=new Date,A=new Date(Date.now()+30*24*60*60*1e3);y.useEffect(()=>{m({correoCliente:(e==null?void 0:e.correo)||(e==null?void 0:e.email)||"",telefonoCliente:(e==null?void 0:e.telefono)||""})},[e]);const C=async _=>{g(!0),b(null),N(!1);try{const z=dn(_e.ENDPOINTS.COTIZACIONES),V=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!V.ok){const B=await V.json();throw new Error(B.message||"Error al crear la cotización")}N(!0),a("Cotización creada correctamente",3e3),u([]),m({correoCliente:"",telefonoCliente:""}),setTimeout(()=>t("/cotizaciones"),300)}catch(z){b(z.message),s(z.message||"Error al crear la cotización",4e3)}finally{g(!1)}},E=_=>{u([...c,_]),a("Producto agregado a la cotización",2e3)},k=_=>{u(c.filter((z,V)=>V!==_))},O=(_,z)=>{u(V=>V.map((B,W)=>W===_?z:B))},T=_=>{m(_)},P={clienteId:(e==null?void 0:e.id)||(e==null?void 0:e.clienteId),correoCliente:f.correoCliente,telefonoCliente:f.telefonoCliente,productos:c.map(_=>({productoId:_.productoId,nombre:_.nombre,categoria:_.categoria,cantidad:_.cantidad,precioUnitario:_.precioUnitario??_.precio,tipo:_.tipo||"aro",customizaciones:Array.isArray(_.customizaciones)?_.customizaciones.map(z=>({codigo:z.codigo,nombre:z.nombre,descripcion:z.descripcion||"",precio:Number(z.precio||0),cantidad:Number(z.cantidad||1)})):[]})),fecha:S.toISOString(),validaHasta:A.toISOString(),estado:"pendiente"};return r.jsxs(r.Fragment,{children:[r.jsx(W2,{children:r.jsx(K2,{type:n.type,message:n.message,show:n.show,onClose:o,duration:n.duration})}),r.jsx(Rle,{user:e,productos:c,clienteInfo:f,loading:h,error:x,success:j,fechaCreacion:S,fechaValidez:A,onCrearCotizacion:C,onAgregarProducto:E,onEliminarProducto:k,onActualizarProducto:O,onUpdateClienteInfo:T,cotizacionData:P,onCancel:()=>t("/cotizaciones")})]})},Ile=({cotizacion:e=null,loading:t=!1,error:n=null,onConvertirACompra:a=null})=>{const{id:s}=kO(),[o,c]=y.useState(!1),u=()=>{c(!0)},f=()=>{a&&a(s),c(!1)},m=h=>{const g={Pendiente:"bg-yellow-100 text-yellow-700",convertida:"bg-green-100 text-green-700",Cancelado:"bg-red-100 text-red-700"};return g[h]||g.Pendiente};return t?r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsx("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:r.jsx("div",{className:"p-8 text-center",children:"Cargando cotización..."})})]}):n?r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsx("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:r.jsxs("div",{className:"p-8 text-center text-red-500",children:["Error: ",n]})})]}):e?r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsxs("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Cotización ",e.numero||(e._id?`COT-${String(e._id).slice(-6).toUpperCase()}`:e.id)]}),r.jsxs("div",{className:"flex space-x-4",children:[(!e.estado||e.estado!=="convertida")&&r.jsxs("button",{onClick:u,className:"flex items-center bg-[#0097c2] text-white px-4 py-2 rounded-lg hover:bg-[#0077a2] transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Convertir a pedido"]}),r.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",onClick:()=>window.print(),children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Imprimir"]}),r.jsxs(Et,{to:"/cotizaciones",className:"flex items-center text-[#0097c2] hover:text-[#0077a2] transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver"]})]})]}),o&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Confirmar conversión"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"¿Estás seguro de que deseas convertir esta cotización en un pedido? Esta acción no se puede deshacer."}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:f,className:"px-4 py-2 bg-[#0097c2] text-white rounded-lg hover:bg-[#0077a2] transition-colors",children:"Confirmar"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Información de la Cotización"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Fecha:"})," ",e.fecha?new Date(e.fecha).toLocaleString():"-"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Estado:"}),r.jsx("span",{className:`ml-2 px-3 py-1 text-xs font-medium rounded-full ${m(e.estado)}`,children:e.estado==="convertida"?"Pedido":e.estado||"Pendiente"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Información del Cliente"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",e.correoCliente||"-"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",e.telefonoCliente||"-"]})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold p-6",children:"Detalle de Productos"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Producto"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Descripción"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cantidad"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Precio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Subtotal"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:Array.isArray(e.productos)&&e.productos.length>0?e.productos.map((h,g)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:h.nombre}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Array.isArray(h.customizaciones)&&h.customizaciones.length>0?h.customizaciones.map((x,b)=>`• ${x.nombre} x${x.cantidad}`).join(" | "):"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:h.cantidad}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:["$",Number(h.precioUnitario||0).toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:["$",Number(h.subtotal||(h.cantidad||0)*(h.precioUnitario||0)).toFixed(2)]})]},g)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay productos en esta cotización actualmente."})})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"w-full max-w-xs",children:r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"font-bold text-lg",children:["$",Number(e.total||0).toFixed(2)]})]})})})})]})]}):r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsx("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:r.jsx("div",{className:"p-8 text-center",children:"No se encontró la cotización."})})]})},zle=()=>{const{id:e}=kO(),[t,n]=y.useState({type:"",message:""}),a=An(),{data:s,loading:o,error:c}=$u(`cotizaciones/${e}`),u=async f=>{try{const m=dn(`${_e.ENDPOINTS.COTIZACIONES}/${f}/convertir-a-pedido`),h=await fetch(m,{method:"POST",credentials:_e.FETCH_CONFIG.credentials,headers:{"Content-Type":"application/json"}}),g=await h.json().catch(()=>({}));if(!h.ok){n({type:"error",message:(g==null?void 0:g.message)||"No se pudo convertir la cotización."});return}n({type:"success",message:"Cotización convertida en pedido correctamente."}),window.location.reload()}catch(m){n({type:"error",message:"Error al convertir la cotización."}),console.error("Error al convertir la cotización:",m)}};return y.useEffect(()=>{const f=new URLSearchParams(a.search);!o&&s&&f.get("print")==="1"&&setTimeout(()=>window.print(),250)},[a.search,o,s]),r.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[t.message&&r.jsx("div",{className:`mb-4 text-sm rounded-md px-3 py-2 ${t.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,role:"status","aria-live":"polite",children:t.message}),r.jsx(Ile,{cotizacion:s,loading:o,error:c,onConvertirACompra:u})]})},pm=async(e,t={})=>{const n=c=>`${c}${e}`,a=async c=>{const u=await fetch(n(c),{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});return u.ok&&(_e.BASE_URL=c),u},s=_e.BASE_URL,o=s.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await a(s)}catch(c){const u=(c==null?void 0:c.message)||"";if(u.includes("Failed to fetch")||u.includes("NetworkError")||u.includes("ECONNREFUSED"))return await a(o);throw c}},$le=()=>{const[e,t]=y.useState(1),n=es(),[a,s]=y.useState(!1),[o,c]=y.useState({email:"",code:"",newPassword:"",confirmPassword:""}),[u,f]=y.useState(!1),[m,h]=y.useState({type:"info",message:""}),g=j=>{c({...o,[j.target.name]:j.target.value})},x=async j=>{var S,A;j.preventDefault();const N=(o.email||"").trim().toLowerCase();if(e===1){f(!0);try{let C=await pm(`${_e.ENDPOINTS.CLIENTES}/forgot-password`,{method:"POST",body:JSON.stringify({correo:N})}),E=await C.json();if(!C.ok&&((S=E.message)!=null&&S.toLowerCase().includes("no existe"))&&(C=await pm(`${_e.ENDPOINTS.EMPLEADOS}/forgot-password`,{method:"POST",body:JSON.stringify({correo:N})}),E=await C.json()),!C.ok)throw new Error(E.message||"No pudimos enviar el código. Intenta nuevamente.");h({type:"success",message:"Te enviamos un código de verificación. Revisa tu bandeja de entrada o spam."}),t(2)}catch(C){h({type:"error",message:C.message||"Ocurrió un error. Intenta nuevamente."})}finally{f(!1)}}else if(e===2){if(o.newPassword!==o.confirmPassword){h({type:"warning",message:"Las contraseñas no coinciden."});return}f(!0);try{let C=await pm(`${_e.ENDPOINTS.CLIENTES}/reset-password`,{method:"POST",body:JSON.stringify({correo:N,code:o.code,newPassword:o.newPassword})}),E=await C.json();if(!C.ok&&((A=E.message)!=null&&A.toLowerCase().includes("correo"))&&(C=await pm(`${_e.ENDPOINTS.EMPLEADOS}/reset-password`,{method:"POST",body:JSON.stringify({correo:N,code:o.code,newPassword:o.newPassword})}),E=await C.json()),!C.ok)throw new Error(E.message||"No pudimos cambiar tu contraseña. Intenta nuevamente.");s(!0),h({type:"success",message:"¡Contraseña actualizada! Redirigiendo…"}),setTimeout(()=>{n("/")},3e3)}catch(C){h({type:"error",message:C.message||"Ocurrió un error. Intenta nuevamente."})}finally{f(!1)}}},b=()=>{n("/")};return a?r.jsx(Sa,{children:r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("svg",{className:"w-16 h-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(m==null?void 0:m.message)&&r.jsx("div",{className:`mb-6 text-sm rounded-md px-3 py-2 ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":m.type==="error"?"bg-red-50 text-red-700 border border-red-200":m.type==="warning"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,role:"status","aria-live":"polite",children:m.message}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"¡Contraseña cambiada con éxito!"}),r.jsx("p",{className:"text-gray-600",children:"Serás redirigido al inicio de sesión en unos segundos…"})]})})}):r.jsxs(Sa,{children:[r.jsx(Ca,{}),r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"Óptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:e===1?"Recuperar Contraseña":"Nueva Contraseña"})]}),(m==null?void 0:m.message)&&r.jsx("div",{className:`mb-6 text-sm rounded-md px-3 py-2 ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":m.type==="error"?"bg-red-50 text-red-700 border border-red-200":m.type==="warning"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,role:"status","aria-live":"polite",children:m.message}),e===1&&r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrónico"}),r.jsx("input",{type:"email",name:"email",value:o.email,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"nombre@ejemplo.com",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-3 rounded-xl font-medium hover:bg-[#0088b0] transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed",disabled:u,children:u?"Enviando...":"Enviar Código"}),r.jsx("button",{type:"button",onClick:b,className:"w-full text-[#0097c2] py-2 font-medium hover:underline",children:"Volver al inicio de sesión"})]}),e===2&&r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código de verificación"}),r.jsx("input",{type:"text",name:"code",value:o.code,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"Ingresa el código de 6 dígitos",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contraseña"}),r.jsx("input",{type:"password",name:"newPassword",value:o.newPassword,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"********",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contraseña"}),r.jsx("input",{type:"password",name:"confirmPassword",value:o.confirmPassword,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"********",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-3 rounded-xl font-medium hover:bg-[#0088b0] transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-60 disabled:cursor-not-allowed",disabled:u,children:u?"Cambiando...":"Cambiar Contraseña"})]})]})})})]})},Ble=()=>{const e=An();return r.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center p-8",children:[r.jsx("h1",{className:"text-6xl font-extrabold text-cyan-600",children:"404"}),r.jsx("p",{className:"mt-4 text-2xl font-semibold text-gray-800",children:"Página no encontrada"}),r.jsxs("p",{className:"mt-2 text-gray-500",children:["No existe la ruta: ",r.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:e.pathname})]}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx(Et,{to:"/",className:"px-4 py-2 rounded bg-cyan-600 text-white hover:bg-cyan-700",children:"Ir al inicio"}),r.jsx(Et,{to:"/productos",className:"px-4 py-2 rounded bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Ver productos"})]})]})},Ule=()=>{var n;const t=((n=An().state)==null?void 0:n.message)||"No tienes permisos para acceder a esta página.";return r.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center p-8",children:[r.jsx("h1",{className:"text-5xl font-extrabold text-red-600",children:"Acceso denegado"}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Error 404"}),r.jsx("p",{className:"mt-4 text-lg text-gray-700",children:t}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx(Et,{to:"/",className:"px-4 py-2 rounded bg-cyan-600 text-white hover:bg-cyan-700",children:"Ir al inicio"}),r.jsx(Et,{to:"/perfil",className:"px-4 py-2 rounded bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Ir a mi perfil"})]})]})};function qle(){const e=An(),{loading:t}=zn();return t?r.jsx(RB,{message:"Verificando autenticación..."}):r.jsx(Vu,{mode:"wait",children:r.jsxs(z8,{location:e,children:[r.jsx(Rn,{path:"/",element:r.jsx(ble,{})}),r.jsx(Rn,{path:"/productos",element:r.jsx(Ay,{})}),r.jsx(Rn,{path:"/servicios",element:r.jsx(Ole,{})}),r.jsx(Rn,{path:"/agendar",element:r.jsx(kle,{})}),r.jsx(Rn,{path:"/nosotros",element:r.jsx(Tle,{})}),r.jsx(Rn,{path:"/recuperar-password",element:r.jsx($le,{})}),r.jsx(Rn,{path:"/productos/lentes",element:r.jsx(Ay,{})}),r.jsx(Rn,{path:"/productos/accesorios",element:r.jsx(Ay,{})}),r.jsx(Rn,{path:"/productos/personalizables",element:r.jsx(gm,{to:"/productos",replace:!0})}),r.jsx(Rn,{path:"/cotizaciones",element:r.jsx(Sl,{requiredRole:"Cliente",noRedirect:!0,children:r.jsx(Cle,{})})}),r.jsx(Rn,{path:"/carrito",element:r.jsx(Sl,{requiredRole:"Cliente",noRedirect:!0,children:r.jsx(Ple,{})})}),r.jsx(Rn,{path:"/cotizaciones/crear",element:r.jsx(Sl,{requiredRole:"Cliente",children:r.jsx(Lle,{})})}),r.jsx(Rn,{path:"/cotizaciones/:id",element:r.jsx(Sl,{requiredRole:"Cliente",children:r.jsx(zle,{})})}),r.jsx(Rn,{path:"/dashboard",element:r.jsx(Sl,{requiredRole:"Empleado",children:r.jsx(dle,{})})}),r.jsx(Rn,{path:"/perfil",element:r.jsx(Sl,{children:r.jsx(fle,{})})}),r.jsx(Rn,{path:"/acceso-denegado",element:r.jsx(Ule,{})}),r.jsx(Rn,{path:"*",element:r.jsx(Ble,{})})]},e.pathname)})}function Fle(){return r.jsx(_B,{children:r.jsx(DB,{children:r.jsx(lL,{basename:"/A.U.R.O.R.A",children:r.jsx(qle,{})})})})}KR.createRoot(document.getElementById("root")).render(r.jsx(y.StrictMode,{children:r.jsx(Fle,{})}));
