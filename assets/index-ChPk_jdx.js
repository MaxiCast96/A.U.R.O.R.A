var k8=Object.defineProperty;var M8=(e,t,n)=>t in e?k8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ag=(e,t,n)=>M8(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rg={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function P8(){if(hS)return Wc;hS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:c,ref:s!==void 0?s:null,props:l}}return Wc.Fragment=t,Wc.jsx=n,Wc.jsxs=n,Wc}var pS;function _8(){return pS||(pS=1,rg.exports=P8()),rg.exports}var r=_8(),sg={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function D8(){if(gS)return pt;gS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(D,q,G){this.props=D,this.context=q,this.refs=N,this.updater=G||b}S.prototype.isReactComponent={},S.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},S.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function C(){}C.prototype=S.prototype;function A(D,q,G){this.props=D,this.context=q,this.refs=N,this.updater=G||b}var E=A.prototype=new C;E.constructor=A,j(E,S.prototype),E.isPureReactComponent=!0;var T=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function P(D,q,G,J,W,pe){return G=pe.ref,{$$typeof:e,type:D,key:q,ref:G!==void 0?G:null,props:pe}}function _(D,q){return P(D.type,q,void 0,void 0,void 0,D.props)}function L(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function U(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(G){return q[G]})}var V=/\/+/g;function K(D,q){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):q.toString(36)}function le(){}function ee(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(le,le):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ne(D,q,G,J,W){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var ge=!1;if(D===null)ge=!0;else switch(pe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(D.$$typeof){case e:case t:ge=!0;break;case h:return ge=D._init,ne(ge(D._payload),q,G,J,W)}}if(ge)return W=W(D),ge=J===""?"."+K(D,0):J,T(W)?(G="",ge!=null&&(G=ge.replace(V,"$&/")+"/"),ne(W,q,G,"",function(Ne){return Ne})):W!=null&&(L(W)&&(W=_(W,G+(W.key==null||D&&D.key===W.key?"":(""+W.key).replace(V,"$&/")+"/")+ge)),q.push(W)),1;ge=0;var $e=J===""?".":J+":";if(T(D))for(var be=0;be<D.length;be++)J=D[be],pe=$e+K(J,be),ge+=ne(J,q,G,pe,W);else if(be=x(D),typeof be=="function")for(D=be.call(D),be=0;!(J=D.next()).done;)J=J.value,pe=$e+K(J,be++),ge+=ne(J,q,G,pe,W);else if(pe==="object"){if(typeof D.then=="function")return ne(ee(D),q,G,J,W);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function B(D,q,G){if(D==null)return D;var J=[],W=0;return ne(D,J,"","",function(pe){return q.call(G,pe,W++)}),J}function re(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(G){(D._status===0||D._status===-1)&&(D._status=1,D._result=G)},function(G){(D._status===0||D._status===-1)&&(D._status=2,D._result=G)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var Q=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function H(){}return pt.Children={map:B,forEach:function(D,q,G){B(D,function(){q.apply(this,arguments)},G)},count:function(D){var q=0;return B(D,function(){q++}),q},toArray:function(D){return B(D,function(q){return q})||[]},only:function(D){if(!L(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},pt.Component=S,pt.Fragment=n,pt.Profiler=s,pt.PureComponent=A,pt.StrictMode=a,pt.Suspense=f,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,pt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return O.H.useMemoCache(D)}},pt.cache=function(D){return function(){return D.apply(null,arguments)}},pt.cloneElement=function(D,q,G){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=j({},D.props),W=D.key,pe=void 0;if(q!=null)for(ge in q.ref!==void 0&&(pe=void 0),q.key!==void 0&&(W=""+q.key),q)!k.call(q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&q.ref===void 0||(J[ge]=q[ge]);var ge=arguments.length-2;if(ge===1)J.children=G;else if(1<ge){for(var $e=Array(ge),be=0;be<ge;be++)$e[be]=arguments[be+2];J.children=$e}return P(D.type,W,void 0,void 0,pe,J)},pt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},pt.createElement=function(D,q,G){var J,W={},pe=null;if(q!=null)for(J in q.key!==void 0&&(pe=""+q.key),q)k.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(W[J]=q[J]);var ge=arguments.length-2;if(ge===1)W.children=G;else if(1<ge){for(var $e=Array(ge),be=0;be<ge;be++)$e[be]=arguments[be+2];W.children=$e}if(D&&D.defaultProps)for(J in ge=D.defaultProps,ge)W[J]===void 0&&(W[J]=ge[J]);return P(D,pe,void 0,void 0,null,W)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(D){return{$$typeof:d,render:D}},pt.isValidElement=L,pt.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:re}},pt.memo=function(D,q){return{$$typeof:m,type:D,compare:q===void 0?null:q}},pt.startTransition=function(D){var q=O.T,G={};O.T=G;try{var J=D(),W=O.S;W!==null&&W(G,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(H,Q)}catch(pe){Q(pe)}finally{O.T=q}},pt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},pt.use=function(D){return O.H.use(D)},pt.useActionState=function(D,q,G){return O.H.useActionState(D,q,G)},pt.useCallback=function(D,q){return O.H.useCallback(D,q)},pt.useContext=function(D){return O.H.useContext(D)},pt.useDebugValue=function(){},pt.useDeferredValue=function(D,q){return O.H.useDeferredValue(D,q)},pt.useEffect=function(D,q,G){var J=O.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,q)},pt.useId=function(){return O.H.useId()},pt.useImperativeHandle=function(D,q,G){return O.H.useImperativeHandle(D,q,G)},pt.useInsertionEffect=function(D,q){return O.H.useInsertionEffect(D,q)},pt.useLayoutEffect=function(D,q){return O.H.useLayoutEffect(D,q)},pt.useMemo=function(D,q){return O.H.useMemo(D,q)},pt.useOptimistic=function(D,q){return O.H.useOptimistic(D,q)},pt.useReducer=function(D,q,G){return O.H.useReducer(D,q,G)},pt.useRef=function(D){return O.H.useRef(D)},pt.useState=function(D){return O.H.useState(D)},pt.useSyncExternalStore=function(D,q,G){return O.H.useSyncExternalStore(D,q,G)},pt.useTransition=function(){return O.H.useTransition()},pt.version="19.1.1",pt}var xS;function Dl(){return xS||(xS=1,sg.exports=D8()),sg.exports}var y=Dl();const Fn=Fr(y);var ig={exports:{}},Xc={},og={exports:{}},lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function R8(){return yS||(yS=1,function(e){function t(B,re){var Q=B.length;B.push(re);e:for(;0<Q;){var H=Q-1>>>1,D=B[H];if(0<s(D,re))B[H]=re,B[Q]=D,Q=H;else break e}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var re=B[0],Q=B.pop();if(Q!==re){B[0]=Q;e:for(var H=0,D=B.length,q=D>>>1;H<q;){var G=2*(H+1)-1,J=B[G],W=G+1,pe=B[W];if(0>s(J,Q))W<D&&0>s(pe,J)?(B[H]=pe,B[W]=Q,H=W):(B[H]=J,B[G]=Q,H=G);else if(W<D&&0>s(pe,Q))B[H]=pe,B[W]=Q,H=W;else break e}}return re}function s(B,re){var Q=B.sortIndex-re.sortIndex;return Q!==0?Q:B.id-re.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,g=null,x=3,b=!1,j=!1,N=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var re=n(m);re!==null;){if(re.callback===null)a(m);else if(re.startTime<=B)a(m),re.sortIndex=re.expirationTime,t(f,re);else break;re=n(m)}}function O(B){if(N=!1,T(B),!j)if(n(f)!==null)j=!0,k||(k=!0,K());else{var re=n(m);re!==null&&ne(O,re.startTime-B)}}var k=!1,P=-1,_=5,L=-1;function U(){return S?!0:!(e.unstable_now()-L<_)}function V(){if(S=!1,k){var B=e.unstable_now();L=B;var re=!0;try{e:{j=!1,N&&(N=!1,A(P),P=-1),b=!0;var Q=x;try{t:{for(T(B),g=n(f);g!==null&&!(g.expirationTime>B&&U());){var H=g.callback;if(typeof H=="function"){g.callback=null,x=g.priorityLevel;var D=H(g.expirationTime<=B);if(B=e.unstable_now(),typeof D=="function"){g.callback=D,T(B),re=!0;break t}g===n(f)&&a(f),T(B)}else a(f);g=n(f)}if(g!==null)re=!0;else{var q=n(m);q!==null&&ne(O,q.startTime-B),re=!1}}break e}finally{g=null,x=Q,b=!1}re=void 0}}finally{re?K():k=!1}}}var K;if(typeof E=="function")K=function(){E(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ee=le.port2;le.port1.onmessage=V,K=function(){ee.postMessage(null)}}else K=function(){C(V,0)};function ne(B,re){P=C(function(){B(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var re=3;break;default:re=x}var Q=x;x=re;try{return B()}finally{x=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(B,re){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=x;x=B;try{return re()}finally{x=Q}},e.unstable_scheduleCallback=function(B,re,Q){var H=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?H+Q:H):Q=H,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Q+D,B={id:h++,callback:re,priorityLevel:B,startTime:Q,expirationTime:D,sortIndex:-1},Q>H?(B.sortIndex=Q,t(m,B),n(f)===null&&B===n(m)&&(N?(A(P),P=-1):N=!0,ne(O,Q-H))):(B.sortIndex=D,t(f,B),j||b||(j=!0,k||(k=!0,K()))),B},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(B){var re=x;return function(){var Q=x;x=re;try{return B.apply(this,arguments)}finally{x=Q}}}}(lg)),lg}var vS;function L8(){return vS||(vS=1,og.exports=R8()),og.exports}var cg={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function I8(){if(bS)return Wn;bS=1;var e=Dl();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Wn.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Wn.flushSync=function(f){var m=c.T,h=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=h,a.d.f()}},Wn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},Wn.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Wn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:b}):h==="script"&&a.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Wn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},Wn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,g=d(h,m.crossOrigin);a.d.L(f,h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Wn.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},Wn.requestFormReset=function(f){a.d.r(f)},Wn.unstable_batchedUpdates=function(f,m){return f(m)},Wn.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wn.version="19.1.1",Wn}var jS;function lO(){if(jS)return cg.exports;jS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cg.exports=I8(),cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS;function z8(){if(wS)return Xc;wS=1;var e=L8(),t=Dl(),n=lO();function a(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(a(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(a(188));return o!==i?null:i}for(var u=i,p=o;;){var v=u.return;if(v===null)break;var w=v.alternate;if(w===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===u)return d(v),i;if(w===p)return d(v),o;w=w.sibling}throw Error(a(188))}if(u.return!==p.return)u=v,p=w;else{for(var M=!1,I=v.child;I;){if(I===u){M=!0,u=v,p=w;break}if(I===p){M=!0,p=v,u=w;break}I=I.sibling}if(!M){for(I=w.child;I;){if(I===u){M=!0,u=w,p=v;break}if(I===p){M=!0,p=w,u=v;break}I=I.sibling}if(!M)throw Error(a(189))}}if(u.alternate!==p)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var le=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===le?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case k:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case E:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case T:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:ee(i.type)||"Memo";case _:o=i._payload,i=i._init;try{return ee(i(o))}catch{}}return null}var ne=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},H=[],D=-1;function q(i){return{current:i}}function G(i){0>D||(i.current=H[D],H[D]=null,D--)}function J(i,o){D++,H[D]=i.current,i.current=o}var W=q(null),pe=q(null),ge=q(null),$e=q(null);function be(i,o){switch(J(ge,o),J(pe,i),J(W,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?UN(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=UN(o),i=VN(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}G(W),J(W,i)}function Ne(){G(W),G(pe),G(ge)}function De(i){i.memoizedState!==null&&J($e,i);var o=W.current,u=VN(o,i.type);o!==u&&(J(pe,i),J(W,u))}function Ie(i){pe.current===i&&(G(W),G(pe)),$e.current===i&&(G($e),Fc._currentValue=Q)}var te=Object.prototype.hasOwnProperty,_e=e.unstable_scheduleCallback,Me=e.unstable_cancelCallback,qe=e.unstable_shouldYield,Ke=e.unstable_requestPaint,Be=e.unstable_now,F=e.unstable_getCurrentPriorityLevel,$=e.unstable_ImmediatePriority,Z=e.unstable_UserBlockingPriority,Y=e.unstable_NormalPriority,R=e.unstable_LowPriority,se=e.unstable_IdlePriority,xe=e.log,Oe=e.unstable_setDisableYieldValue,Ue=null,He=null;function Je(i){if(typeof xe=="function"&&Oe(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Ue,i)}catch{}}var ut=Math.clz32?Math.clz32:Ae,z=Math.log,ae=Math.LN2;function Ae(i){return i>>>=0,i===0?32:31-(z(i)/ae|0)|0}var Re=256,Ve=4194304;function st(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ct(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var v=0,w=i.suspendedLanes,M=i.pingedLanes;i=i.warmLanes;var I=p&134217727;return I!==0?(p=I&~w,p!==0?v=st(p):(M&=I,M!==0?v=st(M):u||(u=I&~i,u!==0&&(v=st(u))))):(I=p&~w,I!==0?v=st(I):M!==0?v=st(M):u||(u=p&~i,u!==0&&(v=st(u)))),v===0?0:o!==0&&o!==v&&(o&w)===0&&(w=v&-v,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:v}function at(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Nt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var i=Re;return Re<<=1,(Re&4194048)===0&&(Re=256),i}function _t(){var i=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),i}function dn(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function mt(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ba(i,o,u,p,v,w){var M=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var I=i.entanglements,X=i.expirationTimes,fe=i.hiddenUpdates;for(u=M&~u;0<u;){var Se=31-ut(u),Ee=1<<Se;I[Se]=0,X[Se]=-1;var me=fe[Se];if(me!==null)for(fe[Se]=null,Se=0;Se<me.length;Se++){var he=me[Se];he!==null&&(he.lane&=-536870913)}u&=~Ee}p!==0&&Ba(i,p,0),w!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=w&~(M&~o))}function Ba(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-ut(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&4194090}function ja(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-ut(u),v=1<<p;v&o|i[p]&o&&(i[p]|=o),u&=~v}}function jt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ue(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Te(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:lS(i.type))}function dt(i,o){var u=re.p;try{return re.p=i,o()}finally{re.p=u}}var ht=Math.random().toString(36).slice(2),Pe="__reactFiber$"+ht,Qe="__reactProps$"+ht,wt="__reactContainer$"+ht,Mt="__reactEvents$"+ht,Pt="__reactListeners$"+ht,dr="__reactHandles$"+ht,oe="__reactResources$"+ht,we="__reactMarker$"+ht;function ze(i){delete i[Pe],delete i[Qe],delete i[Mt],delete i[Pt],delete i[dr]}function Fe(i){var o=i[Pe];if(o)return o;for(var u=i.parentNode;u;){if(o=u[wt]||u[Pe]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=KN(i);i!==null;){if(u=i[Pe])return u;i=KN(i)}return o}i=u,u=i.parentNode}return null}function Ye(i){if(i=i[Pe]||i[wt]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Ge(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(a(33))}function et(i){var o=i[oe];return o||(o=i[oe]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Dt(i){i[we]=!0}var Ht=new Set,Ms={};function ji(i,o){So(i,o),So(i+"Capture",o)}function So(i,o){for(Ms[i]=o,i=0;i<o.length;i++)Ht.add(o[i])}var w_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_2={},D2={};function N_(i){return te.call(D2,i)?!0:te.call(_2,i)?!1:w_.test(i)?D2[i]=!0:(_2[i]=!0,!1)}function md(i,o,u){if(N_(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function hd(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Hr(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}var Zh,R2;function Co(i){if(Zh===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Zh=o&&o[1]||"",R2=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zh+i+R2}var Qh=!1;function Jh(i,o){if(!i||Qh)return"";Qh=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(he){var me=he}Reflect.construct(i,[],Ee)}else{try{Ee.call()}catch(he){me=he}i.call(Ee.prototype)}}else{try{throw Error()}catch(he){me=he}(Ee=i())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(he){if(he&&me&&typeof he.stack=="string")return[he.stack,me.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),M=w[0],I=w[1];if(M&&I){var X=M.split(`
`),fe=I.split(`
`);for(v=p=0;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;for(;v<fe.length&&!fe[v].includes("DetermineComponentFrameRoot");)v++;if(p===X.length||v===fe.length)for(p=X.length-1,v=fe.length-1;1<=p&&0<=v&&X[p]!==fe[v];)v--;for(;1<=p&&0<=v;p--,v--)if(X[p]!==fe[v]){if(p!==1||v!==1)do if(p--,v--,0>v||X[p]!==fe[v]){var Se=`
`+X[p].replace(" at new "," at ");return i.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",i.displayName)),Se}while(1<=p&&0<=v);break}}}finally{Qh=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Co(u):""}function S_(i){switch(i.tag){case 26:case 27:case 5:return Co(i.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 15:return Jh(i.type,!1);case 11:return Jh(i.type.render,!1);case 1:return Jh(i.type,!0);case 31:return Co("Activity");default:return""}}function L2(i){try{var o="";do o+=S_(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function qa(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function I2(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function C_(i){var o=I2(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,w=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(M){p=""+M,w.call(this,M)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(M){p=""+M},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function pd(i){i._valueTracker||(i._valueTracker=C_(i))}function z2(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=I2(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function gd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var A_=/[\n"\\]/g;function Ua(i){return i.replace(A_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ep(i,o,u,p,v,w,M,I){i.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.type=M:i.removeAttribute("type"),o!=null?M==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+qa(o)):i.value!==""+qa(o)&&(i.value=""+qa(o)):M!=="submit"&&M!=="reset"||i.removeAttribute("value"),o!=null?tp(i,M,qa(o)):u!=null?tp(i,M,qa(u)):p!=null&&i.removeAttribute("value"),v==null&&w!=null&&(i.defaultChecked=!!w),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+qa(I):i.removeAttribute("name")}function $2(i,o,u,p,v,w,M,I){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null))return;u=u!=null?""+qa(u):"",o=o!=null?""+qa(o):u,I||o===i.value||(i.value=o),i.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=I?i.checked:!!p,i.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(i.name=M)}function tp(i,o,u){o==="number"&&gd(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ao(i,o,u,p){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&p&&(i[u].defaultSelected=!0)}else{for(u=""+qa(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function B2(i,o,u){if(o!=null&&(o=""+qa(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+qa(u):""}function q2(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(a(92));if(ne(p)){if(1<p.length)throw Error(a(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=qa(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p)}function Eo(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var E_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U2(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||E_.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function V2(i,o,u){if(o!=null&&typeof o!="object")throw Error(a(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&u[v]!==p&&U2(i,v,p)}else for(var w in o)o.hasOwnProperty(w)&&U2(i,w,o[w])}function np(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xd(i){return T_.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ap=null;function rp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Oo=null,To=null;function F2(i){var o=Ye(i);if(o&&(i=o.stateNode)){var u=i[Qe]||null;e:switch(i=o.stateNode,o.type){case"input":if(ep(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ua(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var v=p[Qe]||null;if(!v)throw Error(a(90));ep(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&z2(p)}break e;case"textarea":B2(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ao(i,!!u.multiple,o,!1)}}}var sp=!1;function H2(i,o,u){if(sp)return i(o,u);sp=!0;try{var p=i(o);return p}finally{if(sp=!1,(Oo!==null||To!==null)&&(nf(),Oo&&(o=Oo,i=To,To=Oo=null,F2(o),i)))for(o=0;o<i.length;o++)F2(i[o])}}function ac(i,o){var u=i.stateNode;if(u===null)return null;var p=u[Qe]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,o,typeof u));return u}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=!1;if(Gr)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){ip=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{ip=!1}var Ps=null,op=null,yd=null;function G2(){if(yd)return yd;var i,o=op,u=o.length,p,v="value"in Ps?Ps.value:Ps.textContent,w=v.length;for(i=0;i<u&&o[i]===v[i];i++);var M=u-i;for(p=1;p<=M&&o[u-p]===v[w-p];p++);return yd=v.slice(i,1<p?1-p:void 0)}function vd(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function bd(){return!0}function K2(){return!1}function la(i){function o(u,p,v,w,M){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(u=i[I],this[I]=u?u(w):w[I]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?bd:K2,this.isPropagationStopped=K2,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),o}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jd=la(wi),sc=h({},wi,{view:0,detail:0}),k_=la(sc),lp,cp,ic,wd=h({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ic&&(ic&&i.type==="mousemove"?(lp=i.screenX-ic.screenX,cp=i.screenY-ic.screenY):cp=lp=0,ic=i),lp)},movementY:function(i){return"movementY"in i?i.movementY:cp}}),Y2=la(wd),M_=h({},wd,{dataTransfer:0}),P_=la(M_),__=h({},sc,{relatedTarget:0}),up=la(__),D_=h({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),R_=la(D_),L_=h({},wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),I_=la(L_),z_=h({},wi,{data:0}),W2=la(z_),$_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=q_[i])?!!o[i]:!1}function dp(){return U_}var V_=h({},sc,{key:function(i){if(i.key){var o=$_[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=vd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?B_[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(i){return i.type==="keypress"?vd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),F_=la(V_),H_=h({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X2=la(H_),G_=h({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),K_=la(G_),Y_=h({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),W_=la(Y_),X_=h({},wd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=la(X_),Q_=h({},wi,{newState:0,oldState:0}),J_=la(Q_),eD=[9,13,27,32],fp=Gr&&"CompositionEvent"in window,oc=null;Gr&&"documentMode"in document&&(oc=document.documentMode);var tD=Gr&&"TextEvent"in window&&!oc,Z2=Gr&&(!fp||oc&&8<oc&&11>=oc),Q2=" ",J2=!1;function ej(i,o){switch(i){case"keyup":return eD.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tj(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function nD(i,o){switch(i){case"compositionend":return tj(o);case"keypress":return o.which!==32?null:(J2=!0,Q2);case"textInput":return i=o.data,i===Q2&&J2?null:i;default:return null}}function aD(i,o){if(ko)return i==="compositionend"||!fp&&ej(i,o)?(i=G2(),yd=op=Ps=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Z2&&o.locale!=="ko"?null:o.data;default:return null}}var rD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nj(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!rD[i.type]:o==="textarea"}function aj(i,o,u,p){Oo?To?To.push(p):To=[p]:Oo=p,o=cf(o,"onChange"),0<o.length&&(u=new jd("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var lc=null,cc=null;function sD(i){IN(i,0)}function Nd(i){var o=Ge(i);if(z2(o))return i}function rj(i,o){if(i==="change")return o}var sj=!1;if(Gr){var mp;if(Gr){var hp="oninput"in document;if(!hp){var ij=document.createElement("div");ij.setAttribute("oninput","return;"),hp=typeof ij.oninput=="function"}mp=hp}else mp=!1;sj=mp&&(!document.documentMode||9<document.documentMode)}function oj(){lc&&(lc.detachEvent("onpropertychange",lj),cc=lc=null)}function lj(i){if(i.propertyName==="value"&&Nd(cc)){var o=[];aj(o,cc,i,rp(i)),H2(sD,o)}}function iD(i,o,u){i==="focusin"?(oj(),lc=o,cc=u,lc.attachEvent("onpropertychange",lj)):i==="focusout"&&oj()}function oD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nd(cc)}function lD(i,o){if(i==="click")return Nd(o)}function cD(i,o){if(i==="input"||i==="change")return Nd(o)}function uD(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var wa=typeof Object.is=="function"?Object.is:uD;function uc(i,o){if(wa(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!te.call(o,v)||!wa(i[v],o[v]))return!1}return!0}function cj(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uj(i,o){var u=cj(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=cj(u)}}function dj(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?dj(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function fj(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=gd(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=gd(i.document)}return o}function pp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var dD=Gr&&"documentMode"in document&&11>=document.documentMode,Mo=null,gp=null,dc=null,xp=!1;function mj(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xp||Mo==null||Mo!==gd(p)||(p=Mo,"selectionStart"in p&&pp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),dc&&uc(dc,p)||(dc=p,p=cf(gp,"onSelect"),0<p.length&&(o=new jd("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=Mo)))}function Ni(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Po={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},yp={},hj={};Gr&&(hj=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Si(i){if(yp[i])return yp[i];if(!Po[i])return i;var o=Po[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in hj)return yp[i]=o[u];return i}var pj=Si("animationend"),gj=Si("animationiteration"),xj=Si("animationstart"),fD=Si("transitionrun"),mD=Si("transitionstart"),hD=Si("transitioncancel"),yj=Si("transitionend"),vj=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vp.push("scrollEnd");function fr(i,o){vj.set(i,o),ji(o,[i])}var bj=new WeakMap;function Va(i,o){if(typeof i=="object"&&i!==null){var u=bj.get(i);return u!==void 0?u:(o={value:i,source:o,stack:L2(o)},bj.set(i,o),o)}return{value:i,source:o,stack:L2(o)}}var Fa=[],_o=0,bp=0;function Sd(){for(var i=_o,o=bp=_o=0;o<i;){var u=Fa[o];Fa[o++]=null;var p=Fa[o];Fa[o++]=null;var v=Fa[o];Fa[o++]=null;var w=Fa[o];if(Fa[o++]=null,p!==null&&v!==null){var M=p.pending;M===null?v.next=v:(v.next=M.next,M.next=v),p.pending=v}w!==0&&jj(u,v,w)}}function Cd(i,o,u,p){Fa[_o++]=i,Fa[_o++]=o,Fa[_o++]=u,Fa[_o++]=p,bp|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function jp(i,o,u,p){return Cd(i,o,u,p),Ad(i)}function Do(i,o){return Cd(i,null,null,o),Ad(i)}function jj(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var v=!1,w=i.return;w!==null;)w.childLanes|=u,p=w.alternate,p!==null&&(p.childLanes|=u),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(v=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,v&&o!==null&&(v=31-ut(u),i=w.hiddenUpdates,p=i[v],p===null?i[v]=[o]:p.push(o),o.lane=u|536870912),w):null}function Ad(i){if(50<Lc)throw Lc=0,E0=null,Error(a(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ro={};function pD(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(i,o,u,p){return new pD(i,o,u,p)}function wp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Kr(i,o){var u=i.alternate;return u===null?(u=Na(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function wj(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Ed(i,o,u,p,v,w){var M=0;if(p=i,typeof i=="function")wp(i)&&(M=1);else if(typeof i=="string")M=x8(i,u,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=Na(31,u,o,v),i.elementType=L,i.lanes=w,i;case j:return Ci(u.children,v,w,o);case N:M=8,v|=24;break;case S:return i=Na(12,u,o,v|2),i.elementType=S,i.lanes=w,i;case O:return i=Na(13,u,o,v),i.elementType=O,i.lanes=w,i;case k:return i=Na(19,u,o,v),i.elementType=k,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case E:M=10;break e;case A:M=9;break e;case T:M=11;break e;case P:M=14;break e;case _:M=16,p=null;break e}M=29,u=Error(a(130,i===null?"null":typeof i,"")),p=null}return o=Na(M,u,o,v),o.elementType=i,o.type=p,o.lanes=w,o}function Ci(i,o,u,p){return i=Na(7,i,p,o),i.lanes=u,i}function Np(i,o,u){return i=Na(6,i,null,o),i.lanes=u,i}function Sp(i,o,u){return o=Na(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Lo=[],Io=0,Od=null,Td=0,Ha=[],Ga=0,Ai=null,Yr=1,Wr="";function Ei(i,o){Lo[Io++]=Td,Lo[Io++]=Od,Od=i,Td=o}function Nj(i,o,u){Ha[Ga++]=Yr,Ha[Ga++]=Wr,Ha[Ga++]=Ai,Ai=i;var p=Yr;i=Wr;var v=32-ut(p)-1;p&=~(1<<v),u+=1;var w=32-ut(o)+v;if(30<w){var M=v-v%5;w=(p&(1<<M)-1).toString(32),p>>=M,v-=M,Yr=1<<32-ut(o)+v|u<<v|p,Wr=w+i}else Yr=1<<w|u<<v|p,Wr=i}function Cp(i){i.return!==null&&(Ei(i,1),Nj(i,1,0))}function Ap(i){for(;i===Od;)Od=Lo[--Io],Lo[Io]=null,Td=Lo[--Io],Lo[Io]=null;for(;i===Ai;)Ai=Ha[--Ga],Ha[Ga]=null,Wr=Ha[--Ga],Ha[Ga]=null,Yr=Ha[--Ga],Ha[Ga]=null}var aa=null,rn=null,kt=!1,Oi=null,Tr=!1,Ep=Error(a(519));function Ti(i){var o=Error(a(418,""));throw hc(Va(o,i)),Ep}function Sj(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[Pe]=i,o[Qe]=p,u){case"dialog":bt("cancel",o),bt("close",o);break;case"iframe":case"object":case"embed":bt("load",o);break;case"video":case"audio":for(u=0;u<zc.length;u++)bt(zc[u],o);break;case"source":bt("error",o);break;case"img":case"image":case"link":bt("error",o),bt("load",o);break;case"details":bt("toggle",o);break;case"input":bt("invalid",o),$2(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),pd(o);break;case"select":bt("invalid",o);break;case"textarea":bt("invalid",o),q2(o,p.value,p.defaultValue,p.children),pd(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||qN(o.textContent,u)?(p.popover!=null&&(bt("beforetoggle",o),bt("toggle",o)),p.onScroll!=null&&bt("scroll",o),p.onScrollEnd!=null&&bt("scrollend",o),p.onClick!=null&&(o.onclick=uf),o=!0):o=!1,o||Ti(i)}function Cj(i){for(aa=i.return;aa;)switch(aa.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:aa=aa.return}}function fc(i){if(i!==aa)return!1;if(!kt)return Cj(i),kt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||V0(i.type,i.memoizedProps)),u=!u),u&&rn&&Ti(i),Cj(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){rn=hr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}rn=null}}else o===27?(o=rn,Ys(i.type)?(i=K0,K0=null,rn=i):rn=o):rn=aa?hr(i.stateNode.nextSibling):null;return!0}function mc(){rn=aa=null,kt=!1}function Aj(){var i=Oi;return i!==null&&(da===null?da=i:da.push.apply(da,i),Oi=null),i}function hc(i){Oi===null?Oi=[i]:Oi.push(i)}var Op=q(null),ki=null,Xr=null;function _s(i,o,u){J(Op,o._currentValue),o._currentValue=u}function Zr(i){i._currentValue=Op.current,G(Op)}function Tp(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function kp(i,o,u,p){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var w=v.dependencies;if(w!==null){var M=v.child;w=w.firstContext;e:for(;w!==null;){var I=w;w=v;for(var X=0;X<o.length;X++)if(I.context===o[X]){w.lanes|=u,I=w.alternate,I!==null&&(I.lanes|=u),Tp(w.return,u,i),p||(M=null);break e}w=I.next}}else if(v.tag===18){if(M=v.return,M===null)throw Error(a(341));M.lanes|=u,w=M.alternate,w!==null&&(w.lanes|=u),Tp(M,u,i),M=null}else M=v.child;if(M!==null)M.return=v;else for(M=v;M!==null;){if(M===i){M=null;break}if(v=M.sibling,v!==null){v.return=M.return,M=v;break}M=M.return}v=M}}function pc(i,o,u,p){i=null;for(var v=o,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var M=v.alternate;if(M===null)throw Error(a(387));if(M=M.memoizedProps,M!==null){var I=v.type;wa(v.pendingProps.value,M.value)||(i!==null?i.push(I):i=[I])}}else if(v===$e.current){if(M=v.alternate,M===null)throw Error(a(387));M.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Fc):i=[Fc])}v=v.return}i!==null&&kp(o,i,u,p),o.flags|=262144}function kd(i){for(i=i.firstContext;i!==null;){if(!wa(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Mi(i){ki=i,Xr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yn(i){return Ej(ki,i)}function Md(i,o){return ki===null&&Mi(i),Ej(i,o)}function Ej(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Xr===null){if(i===null)throw Error(a(308));Xr=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Xr=Xr.next=o;return u}var gD=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},xD=e.unstable_scheduleCallback,yD=e.unstable_NormalPriority,Sn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new gD,data:new Map,refCount:0}}function gc(i){i.refCount--,i.refCount===0&&xD(yD,function(){i.controller.abort()})}var xc=null,Pp=0,zo=0,$o=null;function vD(i,o){if(xc===null){var u=xc=[];Pp=0,zo=D0(),$o={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Pp++,o.then(Oj,Oj),o}function Oj(){if(--Pp===0&&xc!==null){$o!==null&&($o.status="fulfilled");var i=xc;xc=null,zo=0,$o=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function bD(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),p}var Tj=B.S;B.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&vD(i,o),Tj!==null&&Tj(i,o)};var Pi=q(null);function _p(){var i=Pi.current;return i!==null?i:Yt.pooledCache}function Pd(i,o){o===null?J(Pi,Pi.current):J(Pi,o.pool)}function kj(){var i=_p();return i===null?null:{parent:Sn._currentValue,pool:i}}var yc=Error(a(460)),Mj=Error(a(474)),_d=Error(a(542)),Dp={then:function(){}};function Pj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dd(){}function _j(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Dd,Dd),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Rj(i),i;default:if(typeof o.status=="string")o.then(Dd,Dd);else{if(i=Yt,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Rj(i),i}throw vc=o,yc}}var vc=null;function Dj(){if(vc===null)throw Error(a(459));var i=vc;return vc=null,i}function Rj(i){if(i===yc||i===_d)throw Error(a(483))}var Ds=!1;function Rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ls(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Rt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Ad(i),jj(i,null,u),o}return Cd(i,p,o,u),Ad(i)}function bc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,ja(i,u)}}function Ip(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?v=w=M:w=w.next=M,u=u.next}while(u!==null);w===null?v=w=o:w=w.next=o}else v=w=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var zp=!1;function jc(){if(zp){var i=$o;if(i!==null)throw i}}function wc(i,o,u,p){zp=!1;var v=i.updateQueue;Ds=!1;var w=v.firstBaseUpdate,M=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var X=I,fe=X.next;X.next=null,M===null?w=fe:M.next=fe,M=X;var Se=i.alternate;Se!==null&&(Se=Se.updateQueue,I=Se.lastBaseUpdate,I!==M&&(I===null?Se.firstBaseUpdate=fe:I.next=fe,Se.lastBaseUpdate=X))}if(w!==null){var Ee=v.baseState;M=0,Se=fe=X=null,I=w;do{var me=I.lane&-536870913,he=me!==I.lane;if(he?(St&me)===me:(p&me)===me){me!==0&&me===zo&&(zp=!0),Se!==null&&(Se=Se.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ot=i,rt=I;me=o;var Ut=u;switch(rt.tag){case 1:if(ot=rt.payload,typeof ot=="function"){Ee=ot.call(Ut,Ee,me);break e}Ee=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=rt.payload,me=typeof ot=="function"?ot.call(Ut,Ee,me):ot,me==null)break e;Ee=h({},Ee,me);break e;case 2:Ds=!0}}me=I.callback,me!==null&&(i.flags|=64,he&&(i.flags|=8192),he=v.callbacks,he===null?v.callbacks=[me]:he.push(me))}else he={lane:me,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Se===null?(fe=Se=he,X=Ee):Se=Se.next=he,M|=me;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;he=I,I=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);Se===null&&(X=Ee),v.baseState=X,v.firstBaseUpdate=fe,v.lastBaseUpdate=Se,w===null&&(v.shared.lanes=0),Fs|=M,i.lanes=M,i.memoizedState=Ee}}function Lj(i,o){if(typeof i!="function")throw Error(a(191,i));i.call(o)}function Ij(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Lj(u[i],o)}var Bo=q(null),Rd=q(0);function zj(i,o){i=rs,J(Rd,i),J(Bo,o),rs=i|o.baseLanes}function $p(){J(Rd,rs),J(Bo,Bo.current)}function Bp(){rs=Rd.current,G(Bo),G(Rd)}var Is=0,xt=null,Bt=null,yn=null,Ld=!1,qo=!1,_i=!1,Id=0,Nc=0,Uo=null,jD=0;function fn(){throw Error(a(321))}function qp(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!wa(i[u],o[u]))return!1;return!0}function Up(i,o,u,p,v,w){return Is=w,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?jw:ww,_i=!1,w=u(p,v),_i=!1,qo&&(w=Bj(o,u,p,v)),$j(i),w}function $j(i){B.H=Vd;var o=Bt!==null&&Bt.next!==null;if(Is=0,yn=Bt=xt=null,Ld=!1,Nc=0,Uo=null,o)throw Error(a(300));i===null||kn||(i=i.dependencies,i!==null&&kd(i)&&(kn=!0))}function Bj(i,o,u,p){xt=i;var v=0;do{if(qo&&(Uo=null),Nc=0,qo=!1,25<=v)throw Error(a(301));if(v+=1,yn=Bt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=OD,w=o(u,p)}while(qo);return w}function wD(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?Sc(o):o,i=i.useState()[0],(Bt!==null?Bt.memoizedState:null)!==i&&(xt.flags|=1024),o}function Vp(){var i=Id!==0;return Id=0,i}function Fp(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Hp(i){if(Ld){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ld=!1}Is=0,yn=Bt=xt=null,qo=!1,Nc=Id=0,Uo=null}function ca(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?xt.memoizedState=yn=i:yn=yn.next=i,yn}function vn(){if(Bt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Bt.next;var o=yn===null?xt.memoizedState:yn.next;if(o!==null)yn=o,Bt=i;else{if(i===null)throw xt.alternate===null?Error(a(467)):Error(a(310));Bt=i,i={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},yn===null?xt.memoizedState=yn=i:yn=yn.next=i}return yn}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(i){var o=Nc;return Nc+=1,Uo===null&&(Uo=[]),i=_j(Uo,i,o),o=xt,(yn===null?o.memoizedState:yn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?jw:ww),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sc(i);if(i.$$typeof===E)return Yn(i)}throw Error(a(438,String(i)))}function Kp(i){var o=null,u=xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=xt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Gp(),xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=U;return o.index++,u}function Qr(i,o){return typeof o=="function"?o(i):o}function $d(i){var o=vn();return Yp(o,Bt,i)}function Yp(i,o,u){var p=i.queue;if(p===null)throw Error(a(311));p.lastRenderedReducer=u;var v=i.baseQueue,w=p.pending;if(w!==null){if(v!==null){var M=v.next;v.next=w.next,w.next=M}o.baseQueue=v=w,p.pending=null}if(w=i.baseState,v===null)i.memoizedState=w;else{o=v.next;var I=M=null,X=null,fe=o,Se=!1;do{var Ee=fe.lane&-536870913;if(Ee!==fe.lane?(St&Ee)===Ee:(Is&Ee)===Ee){var me=fe.revertLane;if(me===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ee===zo&&(Se=!0);else if((Is&me)===me){fe=fe.next,me===zo&&(Se=!0);continue}else Ee={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},X===null?(I=X=Ee,M=w):X=X.next=Ee,xt.lanes|=me,Fs|=me;Ee=fe.action,_i&&u(w,Ee),w=fe.hasEagerState?fe.eagerState:u(w,Ee)}else me={lane:Ee,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},X===null?(I=X=me,M=w):X=X.next=me,xt.lanes|=Ee,Fs|=Ee;fe=fe.next}while(fe!==null&&fe!==o);if(X===null?M=w:X.next=I,!wa(w,i.memoizedState)&&(kn=!0,Se&&(u=$o,u!==null)))throw u;i.memoizedState=w,i.baseState=M,i.baseQueue=X,p.lastRenderedState=w}return v===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Wp(i){var o=vn(),u=o.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var p=u.dispatch,v=u.pending,w=o.memoizedState;if(v!==null){u.pending=null;var M=v=v.next;do w=i(w,M.action),M=M.next;while(M!==v);wa(w,o.memoizedState)||(kn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,p]}function qj(i,o,u){var p=xt,v=vn(),w=kt;if(w){if(u===void 0)throw Error(a(407));u=u()}else u=o();var M=!wa((Bt||v).memoizedState,u);M&&(v.memoizedState=u,kn=!0),v=v.queue;var I=Fj.bind(null,p,v,i);if(Cc(2048,8,I,[i]),v.getSnapshot!==o||M||yn!==null&&yn.memoizedState.tag&1){if(p.flags|=2048,Vo(9,Bd(),Vj.bind(null,p,v,u,o),null),Yt===null)throw Error(a(349));w||(Is&124)!==0||Uj(p,o,u)}return u}function Uj(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=xt.updateQueue,o===null?(o=Gp(),xt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Vj(i,o,u,p){o.value=u,o.getSnapshot=p,Hj(o)&&Gj(i)}function Fj(i,o,u){return u(function(){Hj(o)&&Gj(i)})}function Hj(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!wa(i,u)}catch{return!0}}function Gj(i){var o=Do(i,2);o!==null&&Oa(o,i,2)}function Xp(i){var o=ca();if(typeof i=="function"){var u=i;if(i=u(),_i){Je(!0);try{u()}finally{Je(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:i},o}function Kj(i,o,u,p){return i.baseState=u,Yp(i,Bt,typeof p=="function"?p:Qr)}function ND(i,o,u,p,v){if(Ud(i))throw Error(a(485));if(i=o.action,i!==null){var w={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};B.T!==null?u(!0):w.isTransition=!1,p(w),u=o.pending,u===null?(w.next=o.pending=w,Yj(o,w)):(w.next=u.next,o.pending=u.next=w)}}function Yj(i,o){var u=o.action,p=o.payload,v=i.state;if(o.isTransition){var w=B.T,M={};B.T=M;try{var I=u(v,p),X=B.S;X!==null&&X(M,I),Wj(i,o,I)}catch(fe){Zp(i,o,fe)}finally{B.T=w}}else try{w=u(v,p),Wj(i,o,w)}catch(fe){Zp(i,o,fe)}}function Wj(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Xj(i,o,p)},function(p){return Zp(i,o,p)}):Xj(i,o,u)}function Xj(i,o,u){o.status="fulfilled",o.value=u,Zj(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,Yj(i,u)))}function Zp(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,Zj(o),o=o.next;while(o!==p)}i.action=null}function Zj(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Qj(i,o){return o}function Jj(i,o){if(kt){var u=Yt.formState;if(u!==null){e:{var p=xt;if(kt){if(rn){t:{for(var v=rn,w=Tr;v.nodeType!==8;){if(!w){v=null;break t}if(v=hr(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){rn=hr(v.nextSibling),p=v.data==="F!";break e}}Ti(p)}p=!1}p&&(o=u[0])}}return u=ca(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qj,lastRenderedState:o},u.queue=p,u=yw.bind(null,xt,p),p.dispatch=u,p=Xp(!1),w=n0.bind(null,xt,!1,p.queue),p=ca(),v={state:o,dispatch:null,action:i,pending:null},p.queue=v,u=ND.bind(null,xt,v,w,u),v.dispatch=u,p.memoizedState=i,[o,u,!1]}function ew(i){var o=vn();return tw(o,Bt,i)}function tw(i,o,u){if(o=Yp(i,o,Qj)[0],i=$d(Qr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Sc(o)}catch(M){throw M===yc?_d:M}else p=o;o=vn();var v=o.queue,w=v.dispatch;return u!==o.memoizedState&&(xt.flags|=2048,Vo(9,Bd(),SD.bind(null,v,u),null)),[p,w,i]}function SD(i,o){i.action=o}function nw(i){var o=vn(),u=Bt;if(u!==null)return tw(o,u,i);vn(),o=o.memoizedState,u=vn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function Vo(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=xt.updateQueue,o===null&&(o=Gp(),xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function Bd(){return{destroy:void 0,resource:void 0}}function aw(){return vn().memoizedState}function qd(i,o,u,p){var v=ca();p=p===void 0?null:p,xt.flags|=i,v.memoizedState=Vo(1|o,Bd(),u,p)}function Cc(i,o,u,p){var v=vn();p=p===void 0?null:p;var w=v.memoizedState.inst;Bt!==null&&p!==null&&qp(p,Bt.memoizedState.deps)?v.memoizedState=Vo(o,w,u,p):(xt.flags|=i,v.memoizedState=Vo(1|o,w,u,p))}function rw(i,o){qd(8390656,8,i,o)}function sw(i,o){Cc(2048,8,i,o)}function iw(i,o){return Cc(4,2,i,o)}function ow(i,o){return Cc(4,4,i,o)}function lw(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function cw(i,o,u){u=u!=null?u.concat([i]):null,Cc(4,4,lw.bind(null,o,i),u)}function Qp(){}function uw(i,o){var u=vn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&qp(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function dw(i,o){var u=vn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&qp(o,p[1]))return p[0];if(p=i(),_i){Je(!0);try{i()}finally{Je(!1)}}return u.memoizedState=[p,o],p}function Jp(i,o,u){return u===void 0||(Is&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=hN(),xt.lanes|=i,Fs|=i,u)}function fw(i,o,u,p){return wa(u,o)?u:Bo.current!==null?(i=Jp(i,u,p),wa(i,o)||(kn=!0),i):(Is&42)===0?(kn=!0,i.memoizedState=u):(i=hN(),xt.lanes|=i,Fs|=i,o)}function mw(i,o,u,p,v){var w=re.p;re.p=w!==0&&8>w?w:8;var M=B.T,I={};B.T=I,n0(i,!1,o,u);try{var X=v(),fe=B.S;if(fe!==null&&fe(I,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Se=bD(X,p);Ac(i,o,Se,Ea(i))}else Ac(i,o,p,Ea(i))}catch(Ee){Ac(i,o,{then:function(){},status:"rejected",reason:Ee},Ea())}finally{re.p=w,B.T=M}}function CD(){}function e0(i,o,u,p){if(i.tag!==5)throw Error(a(476));var v=hw(i).queue;mw(i,v,o,Q,u===null?CD:function(){return pw(i),u(p)})}function hw(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:Q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function pw(i){var o=hw(i).next.queue;Ac(i,o,{},Ea())}function t0(){return Yn(Fc)}function gw(){return vn().memoizedState}function xw(){return vn().memoizedState}function AD(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Ea();i=Rs(u);var p=Ls(o,i,u);p!==null&&(Oa(p,o,u),bc(p,o,u)),o={cache:Mp()},i.payload=o;return}o=o.return}}function ED(i,o,u){var p=Ea();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ud(i)?vw(o,u):(u=jp(i,o,u,p),u!==null&&(Oa(u,i,p),bw(u,o,p)))}function yw(i,o,u){var p=Ea();Ac(i,o,u,p)}function Ac(i,o,u,p){var v={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ud(i))vw(o,v);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var M=o.lastRenderedState,I=w(M,u);if(v.hasEagerState=!0,v.eagerState=I,wa(I,M))return Cd(i,o,v,0),Yt===null&&Sd(),!1}catch{}finally{}if(u=jp(i,o,v,p),u!==null)return Oa(u,i,p),bw(u,o,p),!0}return!1}function n0(i,o,u,p){if(p={lane:2,revertLane:D0(),action:p,hasEagerState:!1,eagerState:null,next:null},Ud(i)){if(o)throw Error(a(479))}else o=jp(i,u,p,2),o!==null&&Oa(o,i,2)}function Ud(i){var o=i.alternate;return i===xt||o!==null&&o===xt}function vw(i,o){qo=Ld=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function bw(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,ja(i,u)}}var Vd={readContext:Yn,use:zd,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn},jw={readContext:Yn,use:zd,useCallback:function(i,o){return ca().memoizedState=[i,o===void 0?null:o],i},useContext:Yn,useEffect:rw,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,qd(4194308,4,lw.bind(null,o,i),u)},useLayoutEffect:function(i,o){return qd(4194308,4,i,o)},useInsertionEffect:function(i,o){qd(4,2,i,o)},useMemo:function(i,o){var u=ca();o=o===void 0?null:o;var p=i();if(_i){Je(!0);try{i()}finally{Je(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=ca();if(u!==void 0){var v=u(o);if(_i){Je(!0);try{u(o)}finally{Je(!1)}}}else v=o;return p.memoizedState=p.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},p.queue=i,i=i.dispatch=ED.bind(null,xt,i),[p.memoizedState,i]},useRef:function(i){var o=ca();return i={current:i},o.memoizedState=i},useState:function(i){i=Xp(i);var o=i.queue,u=yw.bind(null,xt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Qp,useDeferredValue:function(i,o){var u=ca();return Jp(u,i,o)},useTransition:function(){var i=Xp(!1);return i=mw.bind(null,xt,i.queue,!0,!1),ca().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=xt,v=ca();if(kt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=o(),Yt===null)throw Error(a(349));(St&124)!==0||Uj(p,o,u)}v.memoizedState=u;var w={value:u,getSnapshot:o};return v.queue=w,rw(Fj.bind(null,p,w,i),[i]),p.flags|=2048,Vo(9,Bd(),Vj.bind(null,p,w,u,o),null),u},useId:function(){var i=ca(),o=Yt.identifierPrefix;if(kt){var u=Wr,p=Yr;u=(p&~(1<<32-ut(p)-1)).toString(32)+u,o=""+o+"R"+u,u=Id++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=jD++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:t0,useFormState:Jj,useActionState:Jj,useOptimistic:function(i){var o=ca();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=n0.bind(null,xt,!0,u),u.dispatch=o,[i,o]},useMemoCache:Kp,useCacheRefresh:function(){return ca().memoizedState=AD.bind(null,xt)}},ww={readContext:Yn,use:zd,useCallback:uw,useContext:Yn,useEffect:sw,useImperativeHandle:cw,useInsertionEffect:iw,useLayoutEffect:ow,useMemo:dw,useReducer:$d,useRef:aw,useState:function(){return $d(Qr)},useDebugValue:Qp,useDeferredValue:function(i,o){var u=vn();return fw(u,Bt.memoizedState,i,o)},useTransition:function(){var i=$d(Qr)[0],o=vn().memoizedState;return[typeof i=="boolean"?i:Sc(i),o]},useSyncExternalStore:qj,useId:gw,useHostTransitionStatus:t0,useFormState:ew,useActionState:ew,useOptimistic:function(i,o){var u=vn();return Kj(u,Bt,i,o)},useMemoCache:Kp,useCacheRefresh:xw},OD={readContext:Yn,use:zd,useCallback:uw,useContext:Yn,useEffect:sw,useImperativeHandle:cw,useInsertionEffect:iw,useLayoutEffect:ow,useMemo:dw,useReducer:Wp,useRef:aw,useState:function(){return Wp(Qr)},useDebugValue:Qp,useDeferredValue:function(i,o){var u=vn();return Bt===null?Jp(u,i,o):fw(u,Bt.memoizedState,i,o)},useTransition:function(){var i=Wp(Qr)[0],o=vn().memoizedState;return[typeof i=="boolean"?i:Sc(i),o]},useSyncExternalStore:qj,useId:gw,useHostTransitionStatus:t0,useFormState:nw,useActionState:nw,useOptimistic:function(i,o){var u=vn();return Bt!==null?Kj(u,Bt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:xw},Fo=null,Ec=0;function Fd(i){var o=Ec;return Ec+=1,Fo===null&&(Fo=[]),_j(Fo,i,o)}function Oc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Hd(i,o){throw o.$$typeof===g?Error(a(525)):(i=Object.prototype.toString.call(o),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Nw(i){var o=i._init;return o(i._payload)}function Sw(i){function o(ce,ie){if(i){var de=ce.deletions;de===null?(ce.deletions=[ie],ce.flags|=16):de.push(ie)}}function u(ce,ie){if(!i)return null;for(;ie!==null;)o(ce,ie),ie=ie.sibling;return null}function p(ce){for(var ie=new Map;ce!==null;)ce.key!==null?ie.set(ce.key,ce):ie.set(ce.index,ce),ce=ce.sibling;return ie}function v(ce,ie){return ce=Kr(ce,ie),ce.index=0,ce.sibling=null,ce}function w(ce,ie,de){return ce.index=de,i?(de=ce.alternate,de!==null?(de=de.index,de<ie?(ce.flags|=67108866,ie):de):(ce.flags|=67108866,ie)):(ce.flags|=1048576,ie)}function M(ce){return i&&ce.alternate===null&&(ce.flags|=67108866),ce}function I(ce,ie,de,Ce){return ie===null||ie.tag!==6?(ie=Np(de,ce.mode,Ce),ie.return=ce,ie):(ie=v(ie,de),ie.return=ce,ie)}function X(ce,ie,de,Ce){var Ze=de.type;return Ze===j?Se(ce,ie,de.props.children,Ce,de.key):ie!==null&&(ie.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&Nw(Ze)===ie.type)?(ie=v(ie,de.props),Oc(ie,de),ie.return=ce,ie):(ie=Ed(de.type,de.key,de.props,null,ce.mode,Ce),Oc(ie,de),ie.return=ce,ie)}function fe(ce,ie,de,Ce){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=Sp(de,ce.mode,Ce),ie.return=ce,ie):(ie=v(ie,de.children||[]),ie.return=ce,ie)}function Se(ce,ie,de,Ce,Ze){return ie===null||ie.tag!==7?(ie=Ci(de,ce.mode,Ce,Ze),ie.return=ce,ie):(ie=v(ie,de),ie.return=ce,ie)}function Ee(ce,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Np(""+ie,ce.mode,de),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return de=Ed(ie.type,ie.key,ie.props,null,ce.mode,de),Oc(de,ie),de.return=ce,de;case b:return ie=Sp(ie,ce.mode,de),ie.return=ce,ie;case _:var Ce=ie._init;return ie=Ce(ie._payload),Ee(ce,ie,de)}if(ne(ie)||K(ie))return ie=Ci(ie,ce.mode,de,null),ie.return=ce,ie;if(typeof ie.then=="function")return Ee(ce,Fd(ie),de);if(ie.$$typeof===E)return Ee(ce,Md(ce,ie),de);Hd(ce,ie)}return null}function me(ce,ie,de,Ce){var Ze=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Ze!==null?null:I(ce,ie,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return de.key===Ze?X(ce,ie,de,Ce):null;case b:return de.key===Ze?fe(ce,ie,de,Ce):null;case _:return Ze=de._init,de=Ze(de._payload),me(ce,ie,de,Ce)}if(ne(de)||K(de))return Ze!==null?null:Se(ce,ie,de,Ce,null);if(typeof de.then=="function")return me(ce,ie,Fd(de),Ce);if(de.$$typeof===E)return me(ce,ie,Md(ce,de),Ce);Hd(ce,de)}return null}function he(ce,ie,de,Ce,Ze){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return ce=ce.get(de)||null,I(ie,ce,""+Ce,Ze);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case x:return ce=ce.get(Ce.key===null?de:Ce.key)||null,X(ie,ce,Ce,Ze);case b:return ce=ce.get(Ce.key===null?de:Ce.key)||null,fe(ie,ce,Ce,Ze);case _:var yt=Ce._init;return Ce=yt(Ce._payload),he(ce,ie,de,Ce,Ze)}if(ne(Ce)||K(Ce))return ce=ce.get(de)||null,Se(ie,ce,Ce,Ze,null);if(typeof Ce.then=="function")return he(ce,ie,de,Fd(Ce),Ze);if(Ce.$$typeof===E)return he(ce,ie,de,Md(ie,Ce),Ze);Hd(ie,Ce)}return null}function ot(ce,ie,de,Ce){for(var Ze=null,yt=null,tt=ie,it=ie=0,Pn=null;tt!==null&&it<de.length;it++){tt.index>it?(Pn=tt,tt=null):Pn=tt.sibling;var Et=me(ce,tt,de[it],Ce);if(Et===null){tt===null&&(tt=Pn);break}i&&tt&&Et.alternate===null&&o(ce,tt),ie=w(Et,ie,it),yt===null?Ze=Et:yt.sibling=Et,yt=Et,tt=Pn}if(it===de.length)return u(ce,tt),kt&&Ei(ce,it),Ze;if(tt===null){for(;it<de.length;it++)tt=Ee(ce,de[it],Ce),tt!==null&&(ie=w(tt,ie,it),yt===null?Ze=tt:yt.sibling=tt,yt=tt);return kt&&Ei(ce,it),Ze}for(tt=p(tt);it<de.length;it++)Pn=he(tt,ce,it,de[it],Ce),Pn!==null&&(i&&Pn.alternate!==null&&tt.delete(Pn.key===null?it:Pn.key),ie=w(Pn,ie,it),yt===null?Ze=Pn:yt.sibling=Pn,yt=Pn);return i&&tt.forEach(function(Js){return o(ce,Js)}),kt&&Ei(ce,it),Ze}function rt(ce,ie,de,Ce){if(de==null)throw Error(a(151));for(var Ze=null,yt=null,tt=ie,it=ie=0,Pn=null,Et=de.next();tt!==null&&!Et.done;it++,Et=de.next()){tt.index>it?(Pn=tt,tt=null):Pn=tt.sibling;var Js=me(ce,tt,Et.value,Ce);if(Js===null){tt===null&&(tt=Pn);break}i&&tt&&Js.alternate===null&&o(ce,tt),ie=w(Js,ie,it),yt===null?Ze=Js:yt.sibling=Js,yt=Js,tt=Pn}if(Et.done)return u(ce,tt),kt&&Ei(ce,it),Ze;if(tt===null){for(;!Et.done;it++,Et=de.next())Et=Ee(ce,Et.value,Ce),Et!==null&&(ie=w(Et,ie,it),yt===null?Ze=Et:yt.sibling=Et,yt=Et);return kt&&Ei(ce,it),Ze}for(tt=p(tt);!Et.done;it++,Et=de.next())Et=he(tt,ce,it,Et.value,Ce),Et!==null&&(i&&Et.alternate!==null&&tt.delete(Et.key===null?it:Et.key),ie=w(Et,ie,it),yt===null?Ze=Et:yt.sibling=Et,yt=Et);return i&&tt.forEach(function(T8){return o(ce,T8)}),kt&&Ei(ce,it),Ze}function Ut(ce,ie,de,Ce){if(typeof de=="object"&&de!==null&&de.type===j&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case x:e:{for(var Ze=de.key;ie!==null;){if(ie.key===Ze){if(Ze=de.type,Ze===j){if(ie.tag===7){u(ce,ie.sibling),Ce=v(ie,de.props.children),Ce.return=ce,ce=Ce;break e}}else if(ie.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===_&&Nw(Ze)===ie.type){u(ce,ie.sibling),Ce=v(ie,de.props),Oc(Ce,de),Ce.return=ce,ce=Ce;break e}u(ce,ie);break}else o(ce,ie);ie=ie.sibling}de.type===j?(Ce=Ci(de.props.children,ce.mode,Ce,de.key),Ce.return=ce,ce=Ce):(Ce=Ed(de.type,de.key,de.props,null,ce.mode,Ce),Oc(Ce,de),Ce.return=ce,ce=Ce)}return M(ce);case b:e:{for(Ze=de.key;ie!==null;){if(ie.key===Ze)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){u(ce,ie.sibling),Ce=v(ie,de.children||[]),Ce.return=ce,ce=Ce;break e}else{u(ce,ie);break}else o(ce,ie);ie=ie.sibling}Ce=Sp(de,ce.mode,Ce),Ce.return=ce,ce=Ce}return M(ce);case _:return Ze=de._init,de=Ze(de._payload),Ut(ce,ie,de,Ce)}if(ne(de))return ot(ce,ie,de,Ce);if(K(de)){if(Ze=K(de),typeof Ze!="function")throw Error(a(150));return de=Ze.call(de),rt(ce,ie,de,Ce)}if(typeof de.then=="function")return Ut(ce,ie,Fd(de),Ce);if(de.$$typeof===E)return Ut(ce,ie,Md(ce,de),Ce);Hd(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,ie!==null&&ie.tag===6?(u(ce,ie.sibling),Ce=v(ie,de),Ce.return=ce,ce=Ce):(u(ce,ie),Ce=Np(de,ce.mode,Ce),Ce.return=ce,ce=Ce),M(ce)):u(ce,ie)}return function(ce,ie,de,Ce){try{Ec=0;var Ze=Ut(ce,ie,de,Ce);return Fo=null,Ze}catch(tt){if(tt===yc||tt===_d)throw tt;var yt=Na(29,tt,null,ce.mode);return yt.lanes=Ce,yt.return=ce,yt}finally{}}}var Ho=Sw(!0),Cw=Sw(!1),Ka=q(null),kr=null;function zs(i){var o=i.alternate;J(Cn,Cn.current&1),J(Ka,i),kr===null&&(o===null||Bo.current!==null||o.memoizedState!==null)&&(kr=i)}function Aw(i){if(i.tag===22){if(J(Cn,Cn.current),J(Ka,i),kr===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(kr=i)}}else $s()}function $s(){J(Cn,Cn.current),J(Ka,Ka.current)}function Jr(i){G(Ka),kr===i&&(kr=null),G(Cn)}var Cn=q(0);function Gd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||G0(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function a0(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var r0={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Ea(),v=Rs(p);v.payload=o,u!=null&&(v.callback=u),o=Ls(i,v,p),o!==null&&(Oa(o,i,p),bc(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Ea(),v=Rs(p);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Ls(i,v,p),o!==null&&(Oa(o,i,p),bc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Ea(),p=Rs(u);p.tag=2,o!=null&&(p.callback=o),o=Ls(i,p,u),o!==null&&(Oa(o,i,u),bc(o,i,u))}};function Ew(i,o,u,p,v,w,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,M):o.prototype&&o.prototype.isPureReactComponent?!uc(u,p)||!uc(v,w):!0}function Ow(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&r0.enqueueReplaceState(o,o.state,null)}function Di(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}var Kd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Tw(i){Kd(i)}function kw(i){console.error(i)}function Mw(i){Kd(i)}function Yd(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Pw(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function s0(i,o,u){return u=Rs(u),u.tag=3,u.payload={element:null},u.callback=function(){Yd(i,o)},u}function _w(i){return i=Rs(i),i.tag=3,i}function Dw(i,o,u,p){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var w=p.value;i.payload=function(){return v(w)},i.callback=function(){Pw(o,u,p)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(i.callback=function(){Pw(o,u,p),typeof v!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function TD(i,o,u,p,v){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&pc(o,u,v,!0),u=Ka.current,u!==null){switch(u.tag){case 13:return kr===null?T0():u.alternate===null&&sn===0&&(sn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,p===Dp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),M0(i,p,v)),!1;case 22:return u.flags|=65536,p===Dp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),M0(i,p,v)),!1}throw Error(a(435,u.tag))}return M0(i,p,v),T0(),!1}if(kt)return o=Ka.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==Ep&&(i=Error(a(422),{cause:p}),hc(Va(i,u)))):(p!==Ep&&(o=Error(a(423),{cause:p}),hc(Va(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,p=Va(p,u),v=s0(i.stateNode,p,v),Ip(i,v),sn!==4&&(sn=2)),!1;var w=Error(a(520),{cause:p});if(w=Va(w,u),Rc===null?Rc=[w]:Rc.push(w),sn!==4&&(sn=2),o===null)return!0;p=Va(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=s0(u.stateNode,p,i),Ip(u,i),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hs===null||!Hs.has(w))))return u.flags|=65536,v&=-v,u.lanes|=v,v=_w(v),Dw(v,i,u,p),Ip(u,v),!1}u=u.return}while(u!==null);return!1}var Rw=Error(a(461)),kn=!1;function zn(i,o,u,p){o.child=i===null?Cw(o,null,u,p):Ho(o,i.child,u,p)}function Lw(i,o,u,p,v){u=u.render;var w=o.ref;if("ref"in p){var M={};for(var I in p)I!=="ref"&&(M[I]=p[I])}else M=p;return Mi(o),p=Up(i,o,u,M,w,v),I=Vp(),i!==null&&!kn?(Fp(i,o,v),es(i,o,v)):(kt&&I&&Cp(o),o.flags|=1,zn(i,o,p,v),o.child)}function Iw(i,o,u,p,v){if(i===null){var w=u.type;return typeof w=="function"&&!wp(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,zw(i,o,w,p,v)):(i=Ed(u.type,null,p,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!m0(i,v)){var M=w.memoizedProps;if(u=u.compare,u=u!==null?u:uc,u(M,p)&&i.ref===o.ref)return es(i,o,v)}return o.flags|=1,i=Kr(w,p),i.ref=o.ref,i.return=o,o.child=i}function zw(i,o,u,p,v){if(i!==null){var w=i.memoizedProps;if(uc(w,p)&&i.ref===o.ref)if(kn=!1,o.pendingProps=p=w,m0(i,v))(i.flags&131072)!==0&&(kn=!0);else return o.lanes=i.lanes,es(i,o,v)}return i0(i,o,u,p,v)}function $w(i,o,u){var p=o.pendingProps,v=p.children,w=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=w!==null?w.baseLanes|u:u,i!==null){for(v=o.child=i.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;o.childLanes=w&~p}else o.childLanes=0,o.child=null;return Bw(i,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Pd(o,w!==null?w.cachePool:null),w!==null?zj(o,w):$p(),Aw(o);else return o.lanes=o.childLanes=536870912,Bw(i,o,w!==null?w.baseLanes|u:u,u)}else w!==null?(Pd(o,w.cachePool),zj(o,w),$s(),o.memoizedState=null):(i!==null&&Pd(o,null),$p(),$s());return zn(i,o,v,u),o.child}function Bw(i,o,u,p){var v=_p();return v=v===null?null:{parent:Sn._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},i!==null&&Pd(o,null),$p(),Aw(o),i!==null&&pc(i,o,p,!0),null}function Wd(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function i0(i,o,u,p,v){return Mi(o),u=Up(i,o,u,p,void 0,v),p=Vp(),i!==null&&!kn?(Fp(i,o,v),es(i,o,v)):(kt&&p&&Cp(o),o.flags|=1,zn(i,o,u,v),o.child)}function qw(i,o,u,p,v,w){return Mi(o),o.updateQueue=null,u=Bj(o,p,u,v),$j(i),p=Vp(),i!==null&&!kn?(Fp(i,o,w),es(i,o,w)):(kt&&p&&Cp(o),o.flags|=1,zn(i,o,u,w),o.child)}function Uw(i,o,u,p,v){if(Mi(o),o.stateNode===null){var w=Ro,M=u.contextType;typeof M=="object"&&M!==null&&(w=Yn(M)),w=new u(p,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=r0,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=p,w.state=o.memoizedState,w.refs={},Rp(o),M=u.contextType,w.context=typeof M=="object"&&M!==null?Yn(M):Ro,w.state=o.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(a0(o,u,M,p),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&r0.enqueueReplaceState(w,w.state,null),wc(o,p,w,v),jc(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){w=o.stateNode;var I=o.memoizedProps,X=Di(u,I);w.props=X;var fe=w.context,Se=u.contextType;M=Ro,typeof Se=="object"&&Se!==null&&(M=Yn(Se));var Ee=u.getDerivedStateFromProps;Se=typeof Ee=="function"||typeof w.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,Se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I||fe!==M)&&Ow(o,w,p,M),Ds=!1;var me=o.memoizedState;w.state=me,wc(o,p,w,v),jc(),fe=o.memoizedState,I||me!==fe||Ds?(typeof Ee=="function"&&(a0(o,u,Ee,p),fe=o.memoizedState),(X=Ds||Ew(o,u,X,p,me,fe,M))?(Se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=fe),w.props=p,w.state=fe,w.context=M,p=X):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{w=o.stateNode,Lp(i,o),M=o.memoizedProps,Se=Di(u,M),w.props=Se,Ee=o.pendingProps,me=w.context,fe=u.contextType,X=Ro,typeof fe=="object"&&fe!==null&&(X=Yn(fe)),I=u.getDerivedStateFromProps,(fe=typeof I=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==Ee||me!==X)&&Ow(o,w,p,X),Ds=!1,me=o.memoizedState,w.state=me,wc(o,p,w,v),jc();var he=o.memoizedState;M!==Ee||me!==he||Ds||i!==null&&i.dependencies!==null&&kd(i.dependencies)?(typeof I=="function"&&(a0(o,u,I,p),he=o.memoizedState),(Se=Ds||Ew(o,u,Se,p,me,he,X)||i!==null&&i.dependencies!==null&&kd(i.dependencies))?(fe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,he,X),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,he,X)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=he),w.props=p,w.state=he,w.context=X,p=Se):(typeof w.componentDidUpdate!="function"||M===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),p=!1)}return w=p,Wd(i,o),p=(o.flags&128)!==0,w||p?(w=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&p?(o.child=Ho(o,i.child,null,v),o.child=Ho(o,null,u,v)):zn(i,o,u,v),o.memoizedState=w.state,i=o.child):i=es(i,o,v),i}function Vw(i,o,u,p){return mc(),o.flags|=256,zn(i,o,u,p),o.child}var o0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l0(i){return{baseLanes:i,cachePool:kj()}}function c0(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Ya),i}function Fw(i,o,u){var p=o.pendingProps,v=!1,w=(o.flags&128)!==0,M;if((M=w)||(M=i!==null&&i.memoizedState===null?!1:(Cn.current&2)!==0),M&&(v=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,i===null){if(kt){if(v?zs(o):$s(),kt){var I=rn,X;if(X=I){e:{for(X=I,I=Tr;X.nodeType!==8;){if(!I){I=null;break e}if(X=hr(X.nextSibling),X===null){I=null;break e}}I=X}I!==null?(o.memoizedState={dehydrated:I,treeContext:Ai!==null?{id:Yr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},X=Na(18,null,null,0),X.stateNode=I,X.return=o,o.child=X,aa=o,rn=null,X=!0):X=!1}X||Ti(o)}if(I=o.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return G0(I)?o.lanes=32:o.lanes=536870912,null;Jr(o)}return I=p.children,p=p.fallback,v?($s(),v=o.mode,I=Xd({mode:"hidden",children:I},v),p=Ci(p,v,u,null),I.return=o,p.return=o,I.sibling=p,o.child=I,v=o.child,v.memoizedState=l0(u),v.childLanes=c0(i,M,u),o.memoizedState=o0,p):(zs(o),u0(o,I))}if(X=i.memoizedState,X!==null&&(I=X.dehydrated,I!==null)){if(w)o.flags&256?(zs(o),o.flags&=-257,o=d0(i,o,u)):o.memoizedState!==null?($s(),o.child=i.child,o.flags|=128,o=null):($s(),v=p.fallback,I=o.mode,p=Xd({mode:"visible",children:p.children},I),v=Ci(v,I,u,null),v.flags|=2,p.return=o,v.return=o,p.sibling=v,o.child=p,Ho(o,i.child,null,u),p=o.child,p.memoizedState=l0(u),p.childLanes=c0(i,M,u),o.memoizedState=o0,o=v);else if(zs(o),G0(I)){if(M=I.nextSibling&&I.nextSibling.dataset,M)var fe=M.dgst;M=fe,p=Error(a(419)),p.stack="",p.digest=M,hc({value:p,source:null,stack:null}),o=d0(i,o,u)}else if(kn||pc(i,o,u,!1),M=(u&i.childLanes)!==0,kn||M){if(M=Yt,M!==null&&(p=u&-u,p=(p&42)!==0?1:jt(p),p=(p&(M.suspendedLanes|u))!==0?0:p,p!==0&&p!==X.retryLane))throw X.retryLane=p,Do(i,p),Oa(M,i,p),Rw;I.data==="$?"||T0(),o=d0(i,o,u)}else I.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=X.treeContext,rn=hr(I.nextSibling),aa=o,kt=!0,Oi=null,Tr=!1,i!==null&&(Ha[Ga++]=Yr,Ha[Ga++]=Wr,Ha[Ga++]=Ai,Yr=i.id,Wr=i.overflow,Ai=o),o=u0(o,p.children),o.flags|=4096);return o}return v?($s(),v=p.fallback,I=o.mode,X=i.child,fe=X.sibling,p=Kr(X,{mode:"hidden",children:p.children}),p.subtreeFlags=X.subtreeFlags&65011712,fe!==null?v=Kr(fe,v):(v=Ci(v,I,u,null),v.flags|=2),v.return=o,p.return=o,p.sibling=v,o.child=p,p=v,v=o.child,I=i.child.memoizedState,I===null?I=l0(u):(X=I.cachePool,X!==null?(fe=Sn._currentValue,X=X.parent!==fe?{parent:fe,pool:fe}:X):X=kj(),I={baseLanes:I.baseLanes|u,cachePool:X}),v.memoizedState=I,v.childLanes=c0(i,M,u),o.memoizedState=o0,p):(zs(o),u=i.child,i=u.sibling,u=Kr(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(M=o.deletions,M===null?(o.deletions=[i],o.flags|=16):M.push(i)),o.child=u,o.memoizedState=null,u)}function u0(i,o){return o=Xd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Xd(i,o){return i=Na(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function d0(i,o,u){return Ho(o,i.child,null,u),i=u0(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Hw(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Tp(i.return,o,u)}function f0(i,o,u,p,v){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=v)}function Gw(i,o,u){var p=o.pendingProps,v=p.revealOrder,w=p.tail;if(zn(i,o,p.children,u),p=Cn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hw(i,u,o);else if(i.tag===19)Hw(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(J(Cn,p),v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&Gd(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),f0(o,!1,v,u,w);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Gd(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}f0(o,!0,u,null,w);break;case"together":f0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function es(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Fs|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(pc(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(a(153));if(o.child!==null){for(i=o.child,u=Kr(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Kr(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function m0(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&kd(i)))}function kD(i,o,u){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),_s(o,Sn,i.memoizedState.cache),mc();break;case 27:case 5:De(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:_s(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(zs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Fw(i,o,u):(zs(o),i=es(i,o,u),i!==null?i.sibling:null);zs(o);break;case 19:var v=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(pc(i,o,u,!1),p=(u&o.childLanes)!==0),v){if(p)return Gw(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),J(Cn,Cn.current),p)break;return null;case 22:case 23:return o.lanes=0,$w(i,o,u);case 24:_s(o,Sn,i.memoizedState.cache)}return es(i,o,u)}function Kw(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)kn=!0;else{if(!m0(i,u)&&(o.flags&128)===0)return kn=!1,kD(i,o,u);kn=(i.flags&131072)!==0}else kn=!1,kt&&(o.flags&1048576)!==0&&Nj(o,Td,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,v=p._init;if(p=v(p._payload),o.type=p,typeof p=="function")wp(p)?(i=Di(p,i),o.tag=1,o=Uw(null,o,p,i,u)):(o.tag=0,o=i0(null,o,p,i,u));else{if(p!=null){if(v=p.$$typeof,v===T){o.tag=11,o=Lw(null,o,p,i,u);break e}else if(v===P){o.tag=14,o=Iw(null,o,p,i,u);break e}}throw o=ee(p)||p,Error(a(306,o,""))}}return o;case 0:return i0(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,v=Di(p,o.pendingProps),Uw(i,o,p,v,u);case 3:e:{if(be(o,o.stateNode.containerInfo),i===null)throw Error(a(387));p=o.pendingProps;var w=o.memoizedState;v=w.element,Lp(i,o),wc(o,p,null,u);var M=o.memoizedState;if(p=M.cache,_s(o,Sn,p),p!==w.cache&&kp(o,[Sn],u,!0),jc(),p=M.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Vw(i,o,p,u);break e}else if(p!==v){v=Va(Error(a(424)),o),hc(v),o=Vw(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rn=hr(i.firstChild),aa=o,kt=!0,Oi=null,Tr=!0,u=Cw(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(mc(),p===v){o=es(i,o,u);break e}zn(i,o,p,u)}o=o.child}return o;case 26:return Wd(i,o),i===null?(u=ZN(o.type,null,o.pendingProps,null))?o.memoizedState=u:kt||(u=o.type,i=o.pendingProps,p=df(ge.current).createElement(u),p[Pe]=o,p[Qe]=i,Bn(p,u,i),Dt(p),o.stateNode=p):o.memoizedState=ZN(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return De(o),i===null&&kt&&(p=o.stateNode=YN(o.type,o.pendingProps,ge.current),aa=o,Tr=!0,v=rn,Ys(o.type)?(K0=v,rn=hr(p.firstChild)):rn=v),zn(i,o,o.pendingProps.children,u),Wd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&kt&&((v=p=rn)&&(p=r8(p,o.type,o.pendingProps,Tr),p!==null?(o.stateNode=p,aa=o,rn=hr(p.firstChild),Tr=!1,v=!0):v=!1),v||Ti(o)),De(o),v=o.type,w=o.pendingProps,M=i!==null?i.memoizedProps:null,p=w.children,V0(v,w)?p=null:M!==null&&V0(v,M)&&(o.flags|=32),o.memoizedState!==null&&(v=Up(i,o,wD,null,null,u),Fc._currentValue=v),Wd(i,o),zn(i,o,p,u),o.child;case 6:return i===null&&kt&&((i=u=rn)&&(u=s8(u,o.pendingProps,Tr),u!==null?(o.stateNode=u,aa=o,rn=null,i=!0):i=!1),i||Ti(o)),null;case 13:return Fw(i,o,u);case 4:return be(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ho(o,null,p,u):zn(i,o,p,u),o.child;case 11:return Lw(i,o,o.type,o.pendingProps,u);case 7:return zn(i,o,o.pendingProps,u),o.child;case 8:return zn(i,o,o.pendingProps.children,u),o.child;case 12:return zn(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,_s(o,o.type,p.value),zn(i,o,p.children,u),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Mi(o),v=Yn(v),p=p(v),o.flags|=1,zn(i,o,p,u),o.child;case 14:return Iw(i,o,o.type,o.pendingProps,u);case 15:return zw(i,o,o.type,o.pendingProps,u);case 19:return Gw(i,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},i===null?(u=Xd(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Kr(i.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return $w(i,o,u);case 24:return Mi(o),p=Yn(Sn),i===null?(v=_p(),v===null&&(v=Yt,w=Mp(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=u),v=w),o.memoizedState={parent:p,cache:v},Rp(o),_s(o,Sn,v)):((i.lanes&u)!==0&&(Lp(i,o),wc(o,null,null,u),jc()),v=i.memoizedState,w=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),_s(o,Sn,p)):(p=w.cache,_s(o,Sn,p),p!==v.cache&&kp(o,[Sn],u,!0))),zn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(a(156,o.tag))}function ts(i){i.flags|=4}function Yw(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nS(o)){if(o=Ka.current,o!==null&&((St&4194048)===St?kr!==null:(St&62914560)!==St&&(St&536870912)===0||o!==kr))throw vc=Dp,Mj;i.flags|=8192}}function Zd(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?_t():536870912,i.lanes|=o,Wo|=o)}function Tc(i,o){if(!kt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function en(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function MD(i,o,u){var p=o.pendingProps;switch(Ap(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return en(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Zr(Sn),Ne(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(fc(o)?ts(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Aj())),en(o),null;case 26:return u=o.memoizedState,i===null?(ts(o),u!==null?(en(o),Yw(o,u)):(en(o),o.flags&=-16777217)):u?u!==i.memoizedState?(ts(o),en(o),Yw(o,u)):(en(o),o.flags&=-16777217):(i.memoizedProps!==p&&ts(o),en(o),o.flags&=-16777217),null;case 27:Ie(o),u=ge.current;var v=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ts(o);else{if(!p){if(o.stateNode===null)throw Error(a(166));return en(o),null}i=W.current,fc(o)?Sj(o):(i=YN(v,p,u),o.stateNode=i,ts(o))}return en(o),null;case 5:if(Ie(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ts(o);else{if(!p){if(o.stateNode===null)throw Error(a(166));return en(o),null}if(i=W.current,fc(o))Sj(o);else{switch(v=df(ge.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?v.createElement(u,{is:p.is}):v.createElement(u)}}i[Pe]=o,i[Qe]=p;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=i;e:switch(Bn(i,u,p),u){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ts(o)}}return en(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&ts(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(a(166));if(i=ge.current,fc(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,v=aa,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}i[Pe]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||qN(i.nodeValue,u)),i||Ti(o)}else i=df(i).createTextNode(p),i[Pe]=o,o.stateNode=i}return en(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=fc(o),p!==null&&p.dehydrated!==null){if(i===null){if(!v)throw Error(a(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));v[Pe]=o}else mc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),v=!1}else v=Aj(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Jr(o),o):(Jr(o),null)}if(Jr(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,i=i!==null&&i.memoizedState!==null,u){p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var w=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==v&&(p.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),Zd(o,o.updateQueue),en(o),null;case 4:return Ne(),i===null&&z0(o.stateNode.containerInfo),en(o),null;case 10:return Zr(o.type),en(o),null;case 19:if(G(Cn),v=o.memoizedState,v===null)return en(o),null;if(p=(o.flags&128)!==0,w=v.rendering,w===null)if(p)Tc(v,!1);else{if(sn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Gd(i),w!==null){for(o.flags|=128,Tc(v,!1),i=w.updateQueue,o.updateQueue=i,Zd(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)wj(u,i),u=u.sibling;return J(Cn,Cn.current&1|2),o.child}i=i.sibling}v.tail!==null&&Be()>ef&&(o.flags|=128,p=!0,Tc(v,!1),o.lanes=4194304)}else{if(!p)if(i=Gd(w),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,Zd(o,i),Tc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!kt)return en(o),null}else 2*Be()-v.renderingStartTime>ef&&u!==536870912&&(o.flags|=128,p=!0,Tc(v,!1),o.lanes=4194304);v.isBackwards?(w.sibling=o.child,o.child=w):(i=v.last,i!==null?i.sibling=w:o.child=w,v.last=w)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Be(),o.sibling=null,i=Cn.current,J(Cn,p?i&1|2:i&1),o):(en(o),null);case 22:case 23:return Jr(o),Bp(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),u=o.updateQueue,u!==null&&Zd(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&G(Pi),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Zr(Sn),en(o),null;case 25:return null;case 30:return null}throw Error(a(156,o.tag))}function PD(i,o){switch(Ap(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Zr(Sn),Ne(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ie(o),null;case 13:if(Jr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(a(340));mc()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return G(Cn),null;case 4:return Ne(),null;case 10:return Zr(o.type),null;case 22:case 23:return Jr(o),Bp(),i!==null&&G(Pi),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Zr(Sn),null;case 25:return null;default:return null}}function Ww(i,o){switch(Ap(o),o.tag){case 3:Zr(Sn),Ne();break;case 26:case 27:case 5:Ie(o);break;case 4:Ne();break;case 13:Jr(o);break;case 19:G(Cn);break;case 10:Zr(o.type);break;case 22:case 23:Jr(o),Bp(),i!==null&&G(Pi);break;case 24:Zr(Sn)}}function kc(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&i)===i){p=void 0;var w=u.create,M=u.inst;p=w(),M.destroy=p}u=u.next}while(u!==v)}}catch(I){Gt(o,o.return,I)}}function Bs(i,o,u){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var w=v.next;p=w;do{if((p.tag&i)===i){var M=p.inst,I=M.destroy;if(I!==void 0){M.destroy=void 0,v=o;var X=u,fe=I;try{fe()}catch(Se){Gt(v,X,Se)}}}p=p.next}while(p!==w)}}catch(Se){Gt(o,o.return,Se)}}function Xw(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{Ij(o,u)}catch(p){Gt(i,i.return,p)}}}function Zw(i,o,u){u.props=Di(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){Gt(i,o,p)}}function Mc(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(v){Gt(i,o,v)}}function Mr(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(v){Gt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Gt(i,o,v)}else u.current=null}function Qw(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(v){Gt(i,i.return,v)}}function h0(i,o,u){try{var p=i.stateNode;JD(p,i.type,u,o),p[Qe]=o}catch(v){Gt(i,i.return,v)}}function Jw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function p0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Jw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function g0(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=uf));else if(p!==4&&(p===27&&Ys(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(g0(i,o,u),i=i.sibling;i!==null;)g0(i,o,u),i=i.sibling}function Qd(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&Ys(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Qd(i,o,u),i=i.sibling;i!==null;)Qd(i,o,u),i=i.sibling}function eN(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Bn(o,p,u),o[Pe]=i,o[Qe]=u}catch(w){Gt(i,i.return,w)}}var ns=!1,mn=!1,x0=!1,tN=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function _D(i,o){if(i=i.containerInfo,q0=xf,i=fj(i),pp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var M=0,I=-1,X=-1,fe=0,Se=0,Ee=i,me=null;t:for(;;){for(var he;Ee!==u||v!==0&&Ee.nodeType!==3||(I=M+v),Ee!==w||p!==0&&Ee.nodeType!==3||(X=M+p),Ee.nodeType===3&&(M+=Ee.nodeValue.length),(he=Ee.firstChild)!==null;)me=Ee,Ee=he;for(;;){if(Ee===i)break t;if(me===u&&++fe===v&&(I=M),me===w&&++Se===p&&(X=M),(he=Ee.nextSibling)!==null)break;Ee=me,me=Ee.parentNode}Ee=he}u=I===-1||X===-1?null:{start:I,end:X}}else u=null}u=u||{start:0,end:0}}else u=null;for(U0={focusedElem:i,selectionRange:u},xf=!1,Mn=o;Mn!==null;)if(o=Mn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Mn=i;else for(;Mn!==null;){switch(o=Mn,w=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,u=o,v=w.memoizedProps,w=w.memoizedState,p=u.stateNode;try{var ot=Di(u.type,v,u.elementType===u.type);i=p.getSnapshotBeforeUpdate(ot,w),p.__reactInternalSnapshotBeforeUpdate=i}catch(rt){Gt(u,u.return,rt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)H0(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":H0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=o.sibling,i!==null){i.return=o.return,Mn=i;break}Mn=o.return}}function nN(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:qs(i,u),p&4&&kc(5,u);break;case 1:if(qs(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(M){Gt(u,u.return,M)}else{var v=Di(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(M){Gt(u,u.return,M)}}p&64&&Xw(u),p&512&&Mc(u,u.return);break;case 3:if(qs(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Ij(i,o)}catch(M){Gt(u,u.return,M)}}break;case 27:o===null&&p&4&&eN(u);case 26:case 5:qs(i,u),o===null&&p&4&&Qw(u),p&512&&Mc(u,u.return);break;case 12:qs(i,u);break;case 13:qs(i,u),p&4&&sN(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=UD.bind(null,u),i8(i,u))));break;case 22:if(p=u.memoizedState!==null||ns,!p){o=o!==null&&o.memoizedState!==null||mn,v=ns;var w=mn;ns=p,(mn=o)&&!w?Us(i,u,(u.subtreeFlags&8772)!==0):qs(i,u),ns=v,mn=w}break;case 30:break;default:qs(i,u)}}function aN(i){var o=i.alternate;o!==null&&(i.alternate=null,aN(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&ze(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,ua=!1;function as(i,o,u){for(u=u.child;u!==null;)rN(i,o,u),u=u.sibling}function rN(i,o,u){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Ue,u)}catch{}switch(u.tag){case 26:mn||Mr(u,o),as(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:mn||Mr(u,o);var p=Zt,v=ua;Ys(u.type)&&(Zt=u.stateNode,ua=!1),as(i,o,u),Bc(u.stateNode),Zt=p,ua=v;break;case 5:mn||Mr(u,o);case 6:if(p=Zt,v=ua,Zt=null,as(i,o,u),Zt=p,ua=v,Zt!==null)if(ua)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(u.stateNode)}catch(w){Gt(u,o,w)}else try{Zt.removeChild(u.stateNode)}catch(w){Gt(u,o,w)}break;case 18:Zt!==null&&(ua?(i=Zt,GN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Yc(i)):GN(Zt,u.stateNode));break;case 4:p=Zt,v=ua,Zt=u.stateNode.containerInfo,ua=!0,as(i,o,u),Zt=p,ua=v;break;case 0:case 11:case 14:case 15:mn||Bs(2,u,o),mn||Bs(4,u,o),as(i,o,u);break;case 1:mn||(Mr(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&Zw(u,o,p)),as(i,o,u);break;case 21:as(i,o,u);break;case 22:mn=(p=mn)||u.memoizedState!==null,as(i,o,u),mn=p;break;default:as(i,o,u)}}function sN(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yc(i)}catch(u){Gt(o,o.return,u)}}function DD(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new tN),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new tN),o;default:throw Error(a(435,i.tag))}}function y0(i,o){var u=DD(i);o.forEach(function(p){var v=VD.bind(null,i,p);u.has(p)||(u.add(p),p.then(v,v))})}function Sa(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p],w=i,M=o,I=M;e:for(;I!==null;){switch(I.tag){case 27:if(Ys(I.type)){Zt=I.stateNode,ua=!1;break e}break;case 5:Zt=I.stateNode,ua=!1;break e;case 3:case 4:Zt=I.stateNode.containerInfo,ua=!0;break e}I=I.return}if(Zt===null)throw Error(a(160));rN(w,M,v),Zt=null,ua=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)iN(o,i),o=o.sibling}var mr=null;function iN(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sa(o,i),Ca(i),p&4&&(Bs(3,i,i.return),kc(3,i),Bs(5,i,i.return));break;case 1:Sa(o,i),Ca(i),p&512&&(mn||u===null||Mr(u,u.return)),p&64&&ns&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var v=mr;if(Sa(o,i),Ca(i),p&512&&(mn||u===null||Mr(u,u.return)),p&4){var w=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":w=v.getElementsByTagName("title")[0],(!w||w[we]||w[Pe]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(p),v.head.insertBefore(w,v.querySelector("head > title"))),Bn(w,p,u),w[Pe]=i,Dt(w),p=w;break e;case"link":var M=eS("link","href",v).get(p+(u.href||""));if(M){for(var I=0;I<M.length;I++)if(w=M[I],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(I,1);break t}}w=v.createElement(p),Bn(w,p,u),v.head.appendChild(w);break;case"meta":if(M=eS("meta","content",v).get(p+(u.content||""))){for(I=0;I<M.length;I++)if(w=M[I],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(I,1);break t}}w=v.createElement(p),Bn(w,p,u),v.head.appendChild(w);break;default:throw Error(a(468,p))}w[Pe]=i,Dt(w),p=w}i.stateNode=p}else tS(v,i.type,i.stateNode);else i.stateNode=JN(v,p,i.memoizedProps);else w!==p?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,p===null?tS(v,i.type,i.stateNode):JN(v,p,i.memoizedProps)):p===null&&i.stateNode!==null&&h0(i,i.memoizedProps,u.memoizedProps)}break;case 27:Sa(o,i),Ca(i),p&512&&(mn||u===null||Mr(u,u.return)),u!==null&&p&4&&h0(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Sa(o,i),Ca(i),p&512&&(mn||u===null||Mr(u,u.return)),i.flags&32){v=i.stateNode;try{Eo(v,"")}catch(he){Gt(i,i.return,he)}}p&4&&i.stateNode!=null&&(v=i.memoizedProps,h0(i,v,u!==null?u.memoizedProps:v)),p&1024&&(x0=!0);break;case 6:if(Sa(o,i),Ca(i),p&4){if(i.stateNode===null)throw Error(a(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(he){Gt(i,i.return,he)}}break;case 3:if(hf=null,v=mr,mr=ff(o.containerInfo),Sa(o,i),mr=v,Ca(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Yc(o.containerInfo)}catch(he){Gt(i,i.return,he)}x0&&(x0=!1,oN(i));break;case 4:p=mr,mr=ff(i.stateNode.containerInfo),Sa(o,i),Ca(i),mr=p;break;case 12:Sa(o,i),Ca(i);break;case 13:Sa(o,i),Ca(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(S0=Be()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,y0(i,p)));break;case 22:v=i.memoizedState!==null;var X=u!==null&&u.memoizedState!==null,fe=ns,Se=mn;if(ns=fe||v,mn=Se||X,Sa(o,i),mn=Se,ns=fe,Ca(i),p&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||X||ns||mn||Ri(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){X=u=o;try{if(w=X.stateNode,v)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{I=X.stateNode;var Ee=X.memoizedProps.style,me=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;I.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(he){Gt(X,X.return,he)}}}else if(o.tag===6){if(u===null){X=o;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(he){Gt(X,X.return,he)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,y0(i,u))));break;case 19:Sa(o,i),Ca(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,y0(i,p)));break;case 30:break;case 21:break;default:Sa(o,i),Ca(i)}}function Ca(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(Jw(p)){u=p;break}p=p.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var v=u.stateNode,w=p0(i);Qd(i,w,v);break;case 5:var M=u.stateNode;u.flags&32&&(Eo(M,""),u.flags&=-33);var I=p0(i);Qd(i,I,M);break;case 3:case 4:var X=u.stateNode.containerInfo,fe=p0(i);g0(i,fe,X);break;default:throw Error(a(161))}}catch(Se){Gt(i,i.return,Se)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function oN(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;oN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function qs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)nN(i,o.alternate,o),o=o.sibling}function Ri(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Bs(4,o,o.return),Ri(o);break;case 1:Mr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Zw(o,o.return,u),Ri(o);break;case 27:Bc(o.stateNode);case 26:case 5:Mr(o,o.return),Ri(o);break;case 22:o.memoizedState===null&&Ri(o);break;case 30:Ri(o);break;default:Ri(o)}i=i.sibling}}function Us(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=i,w=o,M=w.flags;switch(w.tag){case 0:case 11:case 15:Us(v,w,u),kc(4,w);break;case 1:if(Us(v,w,u),p=w,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(fe){Gt(p,p.return,fe)}if(p=w,v=p.updateQueue,v!==null){var I=p.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)Lj(X[v],I)}catch(fe){Gt(p,p.return,fe)}}u&&M&64&&Xw(w),Mc(w,w.return);break;case 27:eN(w);case 26:case 5:Us(v,w,u),u&&p===null&&M&4&&Qw(w),Mc(w,w.return);break;case 12:Us(v,w,u);break;case 13:Us(v,w,u),u&&M&4&&sN(v,w);break;case 22:w.memoizedState===null&&Us(v,w,u),Mc(w,w.return);break;case 30:break;default:Us(v,w,u)}o=o.sibling}}function v0(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&gc(u))}function b0(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&gc(i))}function Pr(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)lN(i,o,u,p),o=o.sibling}function lN(i,o,u,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Pr(i,o,u,p),v&2048&&kc(9,o);break;case 1:Pr(i,o,u,p);break;case 3:Pr(i,o,u,p),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&gc(i)));break;case 12:if(v&2048){Pr(i,o,u,p),i=o.stateNode;try{var w=o.memoizedProps,M=w.id,I=w.onPostCommit;typeof I=="function"&&I(M,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){Gt(o,o.return,X)}}else Pr(i,o,u,p);break;case 13:Pr(i,o,u,p);break;case 23:break;case 22:w=o.stateNode,M=o.alternate,o.memoizedState!==null?w._visibility&2?Pr(i,o,u,p):Pc(i,o):w._visibility&2?Pr(i,o,u,p):(w._visibility|=2,Go(i,o,u,p,(o.subtreeFlags&10256)!==0)),v&2048&&v0(M,o);break;case 24:Pr(i,o,u,p),v&2048&&b0(o.alternate,o);break;default:Pr(i,o,u,p)}}function Go(i,o,u,p,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var w=i,M=o,I=u,X=p,fe=M.flags;switch(M.tag){case 0:case 11:case 15:Go(w,M,I,X,v),kc(8,M);break;case 23:break;case 22:var Se=M.stateNode;M.memoizedState!==null?Se._visibility&2?Go(w,M,I,X,v):Pc(w,M):(Se._visibility|=2,Go(w,M,I,X,v)),v&&fe&2048&&v0(M.alternate,M);break;case 24:Go(w,M,I,X,v),v&&fe&2048&&b0(M.alternate,M);break;default:Go(w,M,I,X,v)}o=o.sibling}}function Pc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,v=p.flags;switch(p.tag){case 22:Pc(u,p),v&2048&&v0(p.alternate,p);break;case 24:Pc(u,p),v&2048&&b0(p.alternate,p);break;default:Pc(u,p)}o=o.sibling}}var _c=8192;function Ko(i){if(i.subtreeFlags&_c)for(i=i.child;i!==null;)cN(i),i=i.sibling}function cN(i){switch(i.tag){case 26:Ko(i),i.flags&_c&&i.memoizedState!==null&&v8(mr,i.memoizedState,i.memoizedProps);break;case 5:Ko(i);break;case 3:case 4:var o=mr;mr=ff(i.stateNode.containerInfo),Ko(i),mr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=_c,_c=16777216,Ko(i),_c=o):Ko(i));break;default:Ko(i)}}function uN(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Dc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Mn=p,fN(p,i)}uN(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dN(i),i=i.sibling}function dN(i){switch(i.tag){case 0:case 11:case 15:Dc(i),i.flags&2048&&Bs(9,i,i.return);break;case 3:Dc(i);break;case 12:Dc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Jd(i)):Dc(i);break;default:Dc(i)}}function Jd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Mn=p,fN(p,i)}uN(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Bs(8,o,o.return),Jd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Jd(o));break;default:Jd(o)}i=i.sibling}}function fN(i,o){for(;Mn!==null;){var u=Mn;switch(u.tag){case 0:case 11:case 15:Bs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:gc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Mn=p;else e:for(u=i;Mn!==null;){p=Mn;var v=p.sibling,w=p.return;if(aN(p),p===u){Mn=null;break e}if(v!==null){v.return=w,Mn=v;break e}Mn=w}}}var RD={getCacheForType:function(i){var o=Yn(Sn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},LD=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Yt=null,vt=null,St=0,Lt=0,Aa=null,Vs=!1,Yo=!1,j0=!1,rs=0,sn=0,Fs=0,Li=0,w0=0,Ya=0,Wo=0,Rc=null,da=null,N0=!1,S0=0,ef=1/0,tf=null,Hs=null,$n=0,Gs=null,Xo=null,Zo=0,C0=0,A0=null,mN=null,Lc=0,E0=null;function Ea(){if((Rt&2)!==0&&St!==0)return St&-St;if(B.T!==null){var i=zo;return i!==0?i:D0()}return Te()}function hN(){Ya===0&&(Ya=(St&536870912)===0||kt?Tt():536870912);var i=Ka.current;return i!==null&&(i.flags|=32),Ya}function Oa(i,o,u){(i===Yt&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)&&(Qo(i,0),Ks(i,St,Ya,!1)),mt(i,u),((Rt&2)===0||i!==Yt)&&(i===Yt&&((Rt&2)===0&&(Li|=u),sn===4&&Ks(i,St,Ya,!1)),_r(i))}function pN(i,o,u){if((Rt&6)!==0)throw Error(a(327));var p=!u&&(o&124)===0&&(o&i.expiredLanes)===0||at(i,o),v=p?$D(i,o):k0(i,o,!0),w=p;do{if(v===0){Yo&&!p&&Ks(i,o,0,!1);break}else{if(u=i.current.alternate,w&&!ID(u)){v=k0(i,o,!1),w=!1;continue}if(v===2){if(w=o,i.errorRecoveryDisabledLanes&w)var M=0;else M=i.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var I=i;v=Rc;var X=I.current.memoizedState.isDehydrated;if(X&&(Qo(I,M).flags|=256),M=k0(I,M,!1),M!==2){if(j0&&!X){I.errorRecoveryDisabledLanes|=w,Li|=w,v=4;break e}w=da,da=v,w!==null&&(da===null?da=w:da.push.apply(da,w))}v=M}if(w=!1,v!==2)continue}}if(v===1){Qo(i,0),Ks(i,o,0,!0);break}e:{switch(p=i,w=v,w){case 0:case 1:throw Error(a(345));case 4:if((o&4194048)!==o)break;case 6:Ks(p,o,Ya,!Vs);break e;case 2:da=null;break;case 3:case 5:break;default:throw Error(a(329))}if((o&62914560)===o&&(v=S0+300-Be(),10<v)){if(Ks(p,o,Ya,!Vs),ct(p,0,!0)!==0)break e;p.timeoutHandle=FN(gN.bind(null,p,u,da,tf,N0,o,Ya,Li,Wo,Vs,w,2,-0,0),v);break e}gN(p,u,da,tf,N0,o,Ya,Li,Wo,Vs,w,0,-0,0)}}break}while(!0);_r(i)}function gN(i,o,u,p,v,w,M,I,X,fe,Se,Ee,me,he){if(i.timeoutHandle=-1,Ee=o.subtreeFlags,(Ee&8192||(Ee&16785408)===16785408)&&(Vc={stylesheets:null,count:0,unsuspend:y8},cN(o),Ee=b8(),Ee!==null)){i.cancelPendingCommit=Ee(NN.bind(null,i,o,w,u,p,v,M,I,X,Se,1,me,he)),Ks(i,w,M,!fe);return}NN(i,o,w,u,p,v,M,I,X)}function ID(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var v=u[p],w=v.getSnapshot;v=v.value;try{if(!wa(w(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ks(i,o,u,p){o&=~w0,o&=~Li,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var v=o;0<v;){var w=31-ut(v),M=1<<w;p[w]=-1,v&=~M}u!==0&&Ba(i,u,o)}function nf(){return(Rt&6)===0?(Ic(0),!1):!0}function O0(){if(vt!==null){if(Lt===0)var i=vt.return;else i=vt,Xr=ki=null,Hp(i),Fo=null,Ec=0,i=vt;for(;i!==null;)Ww(i.alternate,i),i=i.return;vt=null}}function Qo(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,t8(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),O0(),Yt=i,vt=u=Kr(i.current,null),St=o,Lt=0,Aa=null,Vs=!1,Yo=at(i,o),j0=!1,Wo=Ya=w0=Li=Fs=sn=0,da=Rc=null,N0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var v=31-ut(p),w=1<<v;o|=i[v],p&=~w}return rs=o,Sd(),u}function xN(i,o){xt=null,B.H=Vd,o===yc||o===_d?(o=Dj(),Lt=3):o===Mj?(o=Dj(),Lt=4):Lt=o===Rw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Aa=o,vt===null&&(sn=1,Yd(i,Va(o,i.current)))}function yN(){var i=B.H;return B.H=Vd,i===null?Vd:i}function vN(){var i=B.A;return B.A=RD,i}function T0(){sn=4,Vs||(St&4194048)!==St&&Ka.current!==null||(Yo=!0),(Fs&134217727)===0&&(Li&134217727)===0||Yt===null||Ks(Yt,St,Ya,!1)}function k0(i,o,u){var p=Rt;Rt|=2;var v=yN(),w=vN();(Yt!==i||St!==o)&&(tf=null,Qo(i,o)),o=!1;var M=sn;e:do try{if(Lt!==0&&vt!==null){var I=vt,X=Aa;switch(Lt){case 8:O0(),M=6;break e;case 3:case 2:case 9:case 6:Ka.current===null&&(o=!0);var fe=Lt;if(Lt=0,Aa=null,Jo(i,I,X,fe),u&&Yo){M=0;break e}break;default:fe=Lt,Lt=0,Aa=null,Jo(i,I,X,fe)}}zD(),M=sn;break}catch(Se){xN(i,Se)}while(!0);return o&&i.shellSuspendCounter++,Xr=ki=null,Rt=p,B.H=v,B.A=w,vt===null&&(Yt=null,St=0,Sd()),M}function zD(){for(;vt!==null;)bN(vt)}function $D(i,o){var u=Rt;Rt|=2;var p=yN(),v=vN();Yt!==i||St!==o?(tf=null,ef=Be()+500,Qo(i,o)):Yo=at(i,o);e:do try{if(Lt!==0&&vt!==null){o=vt;var w=Aa;t:switch(Lt){case 1:Lt=0,Aa=null,Jo(i,o,w,1);break;case 2:case 9:if(Pj(w)){Lt=0,Aa=null,jN(o);break}o=function(){Lt!==2&&Lt!==9||Yt!==i||(Lt=7),_r(i)},w.then(o,o);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Pj(w)?(Lt=0,Aa=null,jN(o)):(Lt=0,Aa=null,Jo(i,o,w,7));break;case 5:var M=null;switch(vt.tag){case 26:M=vt.memoizedState;case 5:case 27:var I=vt;if(!M||nS(M)){Lt=0,Aa=null;var X=I.sibling;if(X!==null)vt=X;else{var fe=I.return;fe!==null?(vt=fe,af(fe)):vt=null}break t}}Lt=0,Aa=null,Jo(i,o,w,5);break;case 6:Lt=0,Aa=null,Jo(i,o,w,6);break;case 8:O0(),sn=6;break e;default:throw Error(a(462))}}BD();break}catch(Se){xN(i,Se)}while(!0);return Xr=ki=null,B.H=p,B.A=v,Rt=u,vt!==null?0:(Yt=null,St=0,Sd(),sn)}function BD(){for(;vt!==null&&!qe();)bN(vt)}function bN(i){var o=Kw(i.alternate,i,rs);i.memoizedProps=i.pendingProps,o===null?af(i):vt=o}function jN(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=qw(u,o,o.pendingProps,o.type,void 0,St);break;case 11:o=qw(u,o,o.pendingProps,o.type.render,o.ref,St);break;case 5:Hp(o);default:Ww(u,o),o=vt=wj(o,rs),o=Kw(u,o,rs)}i.memoizedProps=i.pendingProps,o===null?af(i):vt=o}function Jo(i,o,u,p){Xr=ki=null,Hp(o),Fo=null,Ec=0;var v=o.return;try{if(TD(i,v,o,u,St)){sn=1,Yd(i,Va(u,i.current)),vt=null;return}}catch(w){if(v!==null)throw vt=v,w;sn=1,Yd(i,Va(u,i.current)),vt=null;return}o.flags&32768?(kt||p===1?i=!0:Yo||(St&536870912)!==0?i=!1:(Vs=i=!0,(p===2||p===9||p===3||p===6)&&(p=Ka.current,p!==null&&p.tag===13&&(p.flags|=16384))),wN(o,i)):af(o)}function af(i){var o=i;do{if((o.flags&32768)!==0){wN(o,Vs);return}i=o.return;var u=MD(o.alternate,o,rs);if(u!==null){vt=u;return}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);sn===0&&(sn=5)}function wN(i,o){do{var u=PD(i.alternate,i);if(u!==null){u.flags&=32767,vt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){vt=i;return}vt=i=u}while(i!==null);sn=6,vt=null}function NN(i,o,u,p,v,w,M,I,X){i.cancelPendingCommit=null;do rf();while($n!==0);if((Rt&6)!==0)throw Error(a(327));if(o!==null){if(o===i.current)throw Error(a(177));if(w=o.lanes|o.childLanes,w|=bp,ba(i,u,w,M,I,X),i===Yt&&(vt=Yt=null,St=0),Xo=o,Gs=i,Zo=u,C0=w,A0=v,mN=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FD(Y,function(){return ON(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,v=re.p,re.p=2,M=Rt,Rt|=4;try{_D(i,o,u)}finally{Rt=M,re.p=v,B.T=p}}$n=1,SN(),CN(),AN()}}function SN(){if($n===1){$n=0;var i=Gs,o=Xo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var p=re.p;re.p=2;var v=Rt;Rt|=4;try{iN(o,i);var w=U0,M=fj(i.containerInfo),I=w.focusedElem,X=w.selectionRange;if(M!==I&&I&&I.ownerDocument&&dj(I.ownerDocument.documentElement,I)){if(X!==null&&pp(I)){var fe=X.start,Se=X.end;if(Se===void 0&&(Se=fe),"selectionStart"in I)I.selectionStart=fe,I.selectionEnd=Math.min(Se,I.value.length);else{var Ee=I.ownerDocument||document,me=Ee&&Ee.defaultView||window;if(me.getSelection){var he=me.getSelection(),ot=I.textContent.length,rt=Math.min(X.start,ot),Ut=X.end===void 0?rt:Math.min(X.end,ot);!he.extend&&rt>Ut&&(M=Ut,Ut=rt,rt=M);var ce=uj(I,rt),ie=uj(I,Ut);if(ce&&ie&&(he.rangeCount!==1||he.anchorNode!==ce.node||he.anchorOffset!==ce.offset||he.focusNode!==ie.node||he.focusOffset!==ie.offset)){var de=Ee.createRange();de.setStart(ce.node,ce.offset),he.removeAllRanges(),rt>Ut?(he.addRange(de),he.extend(ie.node,ie.offset)):(de.setEnd(ie.node,ie.offset),he.addRange(de))}}}}for(Ee=[],he=I;he=he.parentNode;)he.nodeType===1&&Ee.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<Ee.length;I++){var Ce=Ee[I];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}xf=!!q0,U0=q0=null}finally{Rt=v,re.p=p,B.T=u}}i.current=o,$n=2}}function CN(){if($n===2){$n=0;var i=Gs,o=Xo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var p=re.p;re.p=2;var v=Rt;Rt|=4;try{nN(i,o.alternate,o)}finally{Rt=v,re.p=p,B.T=u}}$n=3}}function AN(){if($n===4||$n===3){$n=0,Ke();var i=Gs,o=Xo,u=Zo,p=mN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?$n=5:($n=0,Xo=Gs=null,EN(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Hs=null),ue(u),o=o.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Ue,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=B.T,v=re.p,re.p=2,B.T=null;try{for(var w=i.onRecoverableError,M=0;M<p.length;M++){var I=p[M];w(I.value,{componentStack:I.stack})}}finally{B.T=o,re.p=v}}(Zo&3)!==0&&rf(),_r(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?i===E0?Lc++:(Lc=0,E0=i):Lc=0,Ic(0)}}function EN(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,gc(o)))}function rf(i){return SN(),CN(),AN(),ON()}function ON(){if($n!==5)return!1;var i=Gs,o=C0;C0=0;var u=ue(Zo),p=B.T,v=re.p;try{re.p=32>u?32:u,B.T=null,u=A0,A0=null;var w=Gs,M=Zo;if($n=0,Xo=Gs=null,Zo=0,(Rt&6)!==0)throw Error(a(331));var I=Rt;if(Rt|=4,dN(w.current),lN(w,w.current,M,u),Rt=I,Ic(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Ue,w)}catch{}return!0}finally{re.p=v,B.T=p,EN(i,o)}}function TN(i,o,u){o=Va(u,o),o=s0(i.stateNode,o,2),i=Ls(i,o,2),i!==null&&(mt(i,2),_r(i))}function Gt(i,o,u){if(i.tag===3)TN(i,i,u);else for(;o!==null;){if(o.tag===3){TN(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hs===null||!Hs.has(p))){i=Va(u,i),u=_w(2),p=Ls(o,u,2),p!==null&&(Dw(u,p,o,i),mt(p,2),_r(p));break}}o=o.return}}function M0(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new LD;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(j0=!0,v.add(u),i=qD.bind(null,i,o,u),o.then(i,i))}function qD(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Yt===i&&(St&u)===u&&(sn===4||sn===3&&(St&62914560)===St&&300>Be()-S0?(Rt&2)===0&&Qo(i,0):w0|=u,Wo===St&&(Wo=0)),_r(i)}function kN(i,o){o===0&&(o=_t()),i=Do(i,o),i!==null&&(mt(i,o),_r(i))}function UD(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),kN(i,u)}function VD(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(a(314))}p!==null&&p.delete(o),kN(i,u)}function FD(i,o){return _e(i,o)}var sf=null,el=null,P0=!1,of=!1,_0=!1,Ii=0;function _r(i){i!==el&&i.next===null&&(el===null?sf=el=i:el=el.next=i),of=!0,P0||(P0=!0,GD())}function Ic(i,o){if(!_0&&of){_0=!0;do for(var u=!1,p=sf;p!==null;){if(i!==0){var v=p.pendingLanes;if(v===0)var w=0;else{var M=p.suspendedLanes,I=p.pingedLanes;w=(1<<31-ut(42|i)+1)-1,w&=v&~(M&~I),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,DN(p,w))}else w=St,w=ct(p,p===Yt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||at(p,w)||(u=!0,DN(p,w));p=p.next}while(u);_0=!1}}function HD(){MN()}function MN(){of=P0=!1;var i=0;Ii!==0&&(e8()&&(i=Ii),Ii=0);for(var o=Be(),u=null,p=sf;p!==null;){var v=p.next,w=PN(p,o);w===0?(p.next=null,u===null?sf=v:u.next=v,v===null&&(el=u)):(u=p,(i!==0||(w&3)!==0)&&(of=!0)),p=v}Ic(i)}function PN(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var M=31-ut(w),I=1<<M,X=v[M];X===-1?((I&u)===0||(I&p)!==0)&&(v[M]=Nt(I,o)):X<=o&&(i.expiredLanes|=I),w&=~I}if(o=Yt,u=St,u=ct(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Me(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||at(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&Me(p),ue(u)){case 2:case 8:u=Z;break;case 32:u=Y;break;case 268435456:u=se;break;default:u=Y}return p=_N.bind(null,i),u=_e(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&Me(p),i.callbackPriority=2,i.callbackNode=null,2}function _N(i,o){if($n!==0&&$n!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(rf()&&i.callbackNode!==u)return null;var p=St;return p=ct(i,i===Yt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(pN(i,p,o),PN(i,Be()),i.callbackNode!=null&&i.callbackNode===u?_N.bind(null,i):null)}function DN(i,o){if(rf())return null;pN(i,o,!0)}function GD(){n8(function(){(Rt&6)!==0?_e($,HD):MN()})}function D0(){return Ii===0&&(Ii=Tt()),Ii}function RN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xd(""+i)}function LN(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function KD(i,o,u,p,v){if(o==="submit"&&u&&u.stateNode===v){var w=RN((v[Qe]||null).action),M=p.submitter;M&&(o=(o=M[Qe]||null)?RN(o.formAction):M.getAttribute("formAction"),o!==null&&(w=o,M=null));var I=new jd("action","action",null,p,v);i.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ii!==0){var X=M?LN(v,M):new FormData(v);e0(u,{pending:!0,data:X,method:v.method,action:w},null,X)}}else typeof w=="function"&&(I.preventDefault(),X=M?LN(v,M):new FormData(v),e0(u,{pending:!0,data:X,method:v.method,action:w},w,X))},currentTarget:v}]})}}for(var R0=0;R0<vp.length;R0++){var L0=vp[R0],YD=L0.toLowerCase(),WD=L0[0].toUpperCase()+L0.slice(1);fr(YD,"on"+WD)}fr(pj,"onAnimationEnd"),fr(gj,"onAnimationIteration"),fr(xj,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(fD,"onTransitionRun"),fr(mD,"onTransitionStart"),fr(hD,"onTransitionCancel"),fr(yj,"onTransitionEnd"),So("onMouseEnter",["mouseout","mouseover"]),So("onMouseLeave",["mouseout","mouseover"]),So("onPointerEnter",["pointerout","pointerover"]),So("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zc));function IN(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],v=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var M=p.length-1;0<=M;M--){var I=p[M],X=I.instance,fe=I.currentTarget;if(I=I.listener,X!==w&&v.isPropagationStopped())break e;w=I,v.currentTarget=fe;try{w(v)}catch(Se){Kd(Se)}v.currentTarget=null,w=X}else for(M=0;M<p.length;M++){if(I=p[M],X=I.instance,fe=I.currentTarget,I=I.listener,X!==w&&v.isPropagationStopped())break e;w=I,v.currentTarget=fe;try{w(v)}catch(Se){Kd(Se)}v.currentTarget=null,w=X}}}}function bt(i,o){var u=o[Mt];u===void 0&&(u=o[Mt]=new Set);var p=i+"__bubble";u.has(p)||(zN(o,i,2,!1),u.add(p))}function I0(i,o,u){var p=0;o&&(p|=4),zN(u,i,p,o)}var lf="_reactListening"+Math.random().toString(36).slice(2);function z0(i){if(!i[lf]){i[lf]=!0,Ht.forEach(function(u){u!=="selectionchange"&&(XD.has(u)||I0(u,!1,i),I0(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[lf]||(o[lf]=!0,I0("selectionchange",!1,o))}}function zN(i,o,u,p){switch(lS(o)){case 2:var v=N8;break;case 8:v=S8;break;default:v=Q0}u=v.bind(null,o,u,i),v=void 0,!ip||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function $0(i,o,u,p,v){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var I=p.stateNode.containerInfo;if(I===v)break;if(M===4)for(M=p.return;M!==null;){var X=M.tag;if((X===3||X===4)&&M.stateNode.containerInfo===v)return;M=M.return}for(;I!==null;){if(M=Fe(I),M===null)return;if(X=M.tag,X===5||X===6||X===26||X===27){p=w=M;continue e}I=I.parentNode}}p=p.return}H2(function(){var fe=w,Se=rp(u),Ee=[];e:{var me=vj.get(i);if(me!==void 0){var he=jd,ot=i;switch(i){case"keypress":if(vd(u)===0)break e;case"keydown":case"keyup":he=F_;break;case"focusin":ot="focus",he=up;break;case"focusout":ot="blur",he=up;break;case"beforeblur":case"afterblur":he=up;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=P_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=K_;break;case pj:case gj:case xj:he=R_;break;case yj:he=W_;break;case"scroll":case"scrollend":he=k_;break;case"wheel":he=Z_;break;case"copy":case"cut":case"paste":he=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=X2;break;case"toggle":case"beforetoggle":he=J_}var rt=(o&4)!==0,Ut=!rt&&(i==="scroll"||i==="scrollend"),ce=rt?me!==null?me+"Capture":null:me;rt=[];for(var ie=fe,de;ie!==null;){var Ce=ie;if(de=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||de===null||ce===null||(Ce=ac(ie,ce),Ce!=null&&rt.push($c(ie,Ce,de))),Ut)break;ie=ie.return}0<rt.length&&(me=new he(me,ot,null,u,Se),Ee.push({event:me,listeners:rt}))}}if((o&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",he=i==="mouseout"||i==="pointerout",me&&u!==ap&&(ot=u.relatedTarget||u.fromElement)&&(Fe(ot)||ot[wt]))break e;if((he||me)&&(me=Se.window===Se?Se:(me=Se.ownerDocument)?me.defaultView||me.parentWindow:window,he?(ot=u.relatedTarget||u.toElement,he=fe,ot=ot?Fe(ot):null,ot!==null&&(Ut=l(ot),rt=ot.tag,ot!==Ut||rt!==5&&rt!==27&&rt!==6)&&(ot=null)):(he=null,ot=fe),he!==ot)){if(rt=Y2,Ce="onMouseLeave",ce="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(rt=X2,Ce="onPointerLeave",ce="onPointerEnter",ie="pointer"),Ut=he==null?me:Ge(he),de=ot==null?me:Ge(ot),me=new rt(Ce,ie+"leave",he,u,Se),me.target=Ut,me.relatedTarget=de,Ce=null,Fe(Se)===fe&&(rt=new rt(ce,ie+"enter",ot,u,Se),rt.target=de,rt.relatedTarget=Ut,Ce=rt),Ut=Ce,he&&ot)t:{for(rt=he,ce=ot,ie=0,de=rt;de;de=tl(de))ie++;for(de=0,Ce=ce;Ce;Ce=tl(Ce))de++;for(;0<ie-de;)rt=tl(rt),ie--;for(;0<de-ie;)ce=tl(ce),de--;for(;ie--;){if(rt===ce||ce!==null&&rt===ce.alternate)break t;rt=tl(rt),ce=tl(ce)}rt=null}else rt=null;he!==null&&$N(Ee,me,he,rt,!1),ot!==null&&Ut!==null&&$N(Ee,Ut,ot,rt,!0)}}e:{if(me=fe?Ge(fe):window,he=me.nodeName&&me.nodeName.toLowerCase(),he==="select"||he==="input"&&me.type==="file")var Ze=rj;else if(nj(me))if(sj)Ze=cD;else{Ze=oD;var yt=iD}else he=me.nodeName,!he||he.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?fe&&np(fe.elementType)&&(Ze=rj):Ze=lD;if(Ze&&(Ze=Ze(i,fe))){aj(Ee,Ze,u,Se);break e}yt&&yt(i,me,fe),i==="focusout"&&fe&&me.type==="number"&&fe.memoizedProps.value!=null&&tp(me,"number",me.value)}switch(yt=fe?Ge(fe):window,i){case"focusin":(nj(yt)||yt.contentEditable==="true")&&(Mo=yt,gp=fe,dc=null);break;case"focusout":dc=gp=Mo=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,mj(Ee,u,Se);break;case"selectionchange":if(dD)break;case"keydown":case"keyup":mj(Ee,u,Se)}var tt;if(fp)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else ko?ej(i,u)&&(it="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(it="onCompositionStart");it&&(Z2&&u.locale!=="ko"&&(ko||it!=="onCompositionStart"?it==="onCompositionEnd"&&ko&&(tt=G2()):(Ps=Se,op="value"in Ps?Ps.value:Ps.textContent,ko=!0)),yt=cf(fe,it),0<yt.length&&(it=new W2(it,i,null,u,Se),Ee.push({event:it,listeners:yt}),tt?it.data=tt:(tt=tj(u),tt!==null&&(it.data=tt)))),(tt=tD?nD(i,u):aD(i,u))&&(it=cf(fe,"onBeforeInput"),0<it.length&&(yt=new W2("onBeforeInput","beforeinput",null,u,Se),Ee.push({event:yt,listeners:it}),yt.data=tt)),KD(Ee,i,fe,u,Se)}IN(Ee,o)})}function $c(i,o,u){return{instance:i,listener:o,currentTarget:u}}function cf(i,o){for(var u=o+"Capture",p=[];i!==null;){var v=i,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=ac(i,u),v!=null&&p.unshift($c(i,v,w)),v=ac(i,o),v!=null&&p.push($c(i,v,w))),i.tag===3)return p;i=i.return}return[]}function tl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $N(i,o,u,p,v){for(var w=o._reactName,M=[];u!==null&&u!==p;){var I=u,X=I.alternate,fe=I.stateNode;if(I=I.tag,X!==null&&X===p)break;I!==5&&I!==26&&I!==27||fe===null||(X=fe,v?(fe=ac(u,w),fe!=null&&M.unshift($c(u,fe,X))):v||(fe=ac(u,w),fe!=null&&M.push($c(u,fe,X)))),u=u.return}M.length!==0&&i.push({event:o,listeners:M})}var ZD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function BN(i){return(typeof i=="string"?i:""+i).replace(ZD,`
`).replace(QD,"")}function qN(i,o){return o=BN(o),BN(i)===o}function uf(){}function qt(i,o,u,p,v,w){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Eo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Eo(i,""+p);break;case"className":hd(i,"class",p);break;case"tabIndex":hd(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":hd(i,u,p);break;case"style":V2(i,p,w);break;case"data":if(o!=="object"){hd(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=xd(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&qt(i,o,"name",v.name,v,null),qt(i,o,"formEncType",v.formEncType,v,null),qt(i,o,"formMethod",v.formMethod,v,null),qt(i,o,"formTarget",v.formTarget,v,null)):(qt(i,o,"encType",v.encType,v,null),qt(i,o,"method",v.method,v,null),qt(i,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=xd(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=uf);break;case"onScroll":p!=null&&bt("scroll",i);break;case"onScrollEnd":p!=null&&bt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=xd(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":bt("beforetoggle",i),bt("toggle",i),md(i,"popover",p);break;case"xlinkActuate":Hr(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Hr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Hr(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Hr(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Hr(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Hr(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Hr(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Hr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Hr(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":md(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=O_.get(u)||u,md(i,u,p))}}function B0(i,o,u,p,v,w){switch(u){case"style":V2(i,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(a(61));if(u=p.__html,u!=null){if(v.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof p=="string"?Eo(i,p):(typeof p=="number"||typeof p=="bigint")&&Eo(i,""+p);break;case"onScroll":p!=null&&bt("scroll",i);break;case"onScrollEnd":p!=null&&bt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=uf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),w=i[Qe]||null,w=w!=null?w[u]:null,typeof w=="function"&&i.removeEventListener(o,w,v),typeof p=="function")){typeof w!="function"&&w!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,v);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):md(i,u,p)}}}function Bn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",i),bt("load",i);var p=!1,v=!1,w;for(w in u)if(u.hasOwnProperty(w)){var M=u[w];if(M!=null)switch(w){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:qt(i,o,w,M,u,null)}}v&&qt(i,o,"srcSet",u.srcSet,u,null),p&&qt(i,o,"src",u.src,u,null);return;case"input":bt("invalid",i);var I=w=M=v=null,X=null,fe=null;for(p in u)if(u.hasOwnProperty(p)){var Se=u[p];if(Se!=null)switch(p){case"name":v=Se;break;case"type":M=Se;break;case"checked":X=Se;break;case"defaultChecked":fe=Se;break;case"value":w=Se;break;case"defaultValue":I=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,o));break;default:qt(i,o,p,Se,u,null)}}$2(i,w,I,X,fe,M,v,!1),pd(i);return;case"select":bt("invalid",i),p=M=w=null;for(v in u)if(u.hasOwnProperty(v)&&(I=u[v],I!=null))switch(v){case"value":w=I;break;case"defaultValue":M=I;break;case"multiple":p=I;default:qt(i,o,v,I,u,null)}o=w,u=M,i.multiple=!!p,o!=null?Ao(i,!!p,o,!1):u!=null&&Ao(i,!!p,u,!0);return;case"textarea":bt("invalid",i),w=v=p=null;for(M in u)if(u.hasOwnProperty(M)&&(I=u[M],I!=null))switch(M){case"value":p=I;break;case"defaultValue":v=I;break;case"children":w=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:qt(i,o,M,I,u,null)}q2(i,p,v,w),pd(i);return;case"option":for(X in u)if(u.hasOwnProperty(X)&&(p=u[X],p!=null))switch(X){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:qt(i,o,X,p,u,null)}return;case"dialog":bt("beforetoggle",i),bt("toggle",i),bt("cancel",i),bt("close",i);break;case"iframe":case"object":bt("load",i);break;case"video":case"audio":for(p=0;p<zc.length;p++)bt(zc[p],i);break;case"image":bt("error",i),bt("load",i);break;case"details":bt("toggle",i);break;case"embed":case"source":case"link":bt("error",i),bt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in u)if(u.hasOwnProperty(fe)&&(p=u[fe],p!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,o));default:qt(i,o,fe,p,u,null)}return;default:if(np(o)){for(Se in u)u.hasOwnProperty(Se)&&(p=u[Se],p!==void 0&&B0(i,o,Se,p,u,void 0));return}}for(I in u)u.hasOwnProperty(I)&&(p=u[I],p!=null&&qt(i,o,I,p,u,null))}function JD(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,M=null,I=null,X=null,fe=null,Se=null;for(he in u){var Ee=u[he];if(u.hasOwnProperty(he)&&Ee!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":X=Ee;default:p.hasOwnProperty(he)||qt(i,o,he,null,p,Ee)}}for(var me in p){var he=p[me];if(Ee=u[me],p.hasOwnProperty(me)&&(he!=null||Ee!=null))switch(me){case"type":w=he;break;case"name":v=he;break;case"checked":fe=he;break;case"defaultChecked":Se=he;break;case"value":M=he;break;case"defaultValue":I=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,o));break;default:he!==Ee&&qt(i,o,me,he,p,Ee)}}ep(i,M,I,X,fe,Se,w,v);return;case"select":he=M=I=me=null;for(w in u)if(X=u[w],u.hasOwnProperty(w)&&X!=null)switch(w){case"value":break;case"multiple":he=X;default:p.hasOwnProperty(w)||qt(i,o,w,null,p,X)}for(v in p)if(w=p[v],X=u[v],p.hasOwnProperty(v)&&(w!=null||X!=null))switch(v){case"value":me=w;break;case"defaultValue":I=w;break;case"multiple":M=w;default:w!==X&&qt(i,o,v,w,p,X)}o=I,u=M,p=he,me!=null?Ao(i,!!u,me,!1):!!p!=!!u&&(o!=null?Ao(i,!!u,o,!0):Ao(i,!!u,u?[]:"",!1));return;case"textarea":he=me=null;for(I in u)if(v=u[I],u.hasOwnProperty(I)&&v!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:qt(i,o,I,null,p,v)}for(M in p)if(v=p[M],w=u[M],p.hasOwnProperty(M)&&(v!=null||w!=null))switch(M){case"value":me=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:v!==w&&qt(i,o,M,v,p,w)}B2(i,me,he);return;case"option":for(var ot in u)if(me=u[ot],u.hasOwnProperty(ot)&&me!=null&&!p.hasOwnProperty(ot))switch(ot){case"selected":i.selected=!1;break;default:qt(i,o,ot,null,p,me)}for(X in p)if(me=p[X],he=u[X],p.hasOwnProperty(X)&&me!==he&&(me!=null||he!=null))switch(X){case"selected":i.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:qt(i,o,X,me,p,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in u)me=u[rt],u.hasOwnProperty(rt)&&me!=null&&!p.hasOwnProperty(rt)&&qt(i,o,rt,null,p,me);for(fe in p)if(me=p[fe],he=u[fe],p.hasOwnProperty(fe)&&me!==he&&(me!=null||he!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,o));break;default:qt(i,o,fe,me,p,he)}return;default:if(np(o)){for(var Ut in u)me=u[Ut],u.hasOwnProperty(Ut)&&me!==void 0&&!p.hasOwnProperty(Ut)&&B0(i,o,Ut,void 0,p,me);for(Se in p)me=p[Se],he=u[Se],!p.hasOwnProperty(Se)||me===he||me===void 0&&he===void 0||B0(i,o,Se,me,p,he);return}}for(var ce in u)me=u[ce],u.hasOwnProperty(ce)&&me!=null&&!p.hasOwnProperty(ce)&&qt(i,o,ce,null,p,me);for(Ee in p)me=p[Ee],he=u[Ee],!p.hasOwnProperty(Ee)||me===he||me==null&&he==null||qt(i,o,Ee,me,p,he)}var q0=null,U0=null;function df(i){return i.nodeType===9?i:i.ownerDocument}function UN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VN(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function V0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var F0=null;function e8(){var i=window.event;return i&&i.type==="popstate"?i===F0?!1:(F0=i,!0):(F0=null,!1)}var FN=typeof setTimeout=="function"?setTimeout:void 0,t8=typeof clearTimeout=="function"?clearTimeout:void 0,HN=typeof Promise=="function"?Promise:void 0,n8=typeof queueMicrotask=="function"?queueMicrotask:typeof HN<"u"?function(i){return HN.resolve(null).then(i).catch(a8)}:FN;function a8(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function GN(i,o){var u=o,p=0,v=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(0<p&&8>p){u=p;var M=i.ownerDocument;if(u&1&&Bc(M.documentElement),u&2&&Bc(M.body),u&4)for(u=M.head,Bc(u),M=u.firstChild;M;){var I=M.nextSibling,X=M.nodeName;M[we]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&M.rel.toLowerCase()==="stylesheet"||u.removeChild(M),M=I}}if(v===0){i.removeChild(w),Yc(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:p=u.charCodeAt(0)-48;else p=0;u=w}while(u);Yc(o)}function H0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":H0(u),ze(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function r8(i,o,u,p){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[we])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=hr(i.nextSibling),i===null)break}return null}function s8(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=hr(i.nextSibling),i===null))return null;return i}function G0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function i8(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function hr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var K0=null;function KN(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function YN(i,o,u){switch(o=df(u),i){case"html":if(i=o.documentElement,!i)throw Error(a(452));return i;case"head":if(i=o.head,!i)throw Error(a(453));return i;case"body":if(i=o.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function Bc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);ze(i)}var Wa=new Map,WN=new Set;function ff(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ss=re.d;re.d={f:o8,r:l8,D:c8,C:u8,L:d8,m:f8,X:h8,S:m8,M:p8};function o8(){var i=ss.f(),o=nf();return i||o}function l8(i){var o=Ye(i);o!==null&&o.tag===5&&o.type==="form"?pw(o):ss.r(i)}var nl=typeof document>"u"?null:document;function XN(i,o,u){var p=nl;if(p&&typeof o=="string"&&o){var v=Ua(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),WN.has(v)||(WN.add(v),i={rel:i,crossOrigin:u,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),Bn(o,"link",i),Dt(o),p.head.appendChild(o)))}}function c8(i){ss.D(i),XN("dns-prefetch",i,null)}function u8(i,o){ss.C(i,o),XN("preconnect",i,o)}function d8(i,o,u){ss.L(i,o,u);var p=nl;if(p&&i&&o){var v='link[rel="preload"][as="'+Ua(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Ua(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Ua(u.imageSizes)+'"]')):v+='[href="'+Ua(i)+'"]';var w=v;switch(o){case"style":w=al(i);break;case"script":w=rl(i)}Wa.has(w)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Wa.set(w,i),p.querySelector(v)!==null||o==="style"&&p.querySelector(qc(w))||o==="script"&&p.querySelector(Uc(w))||(o=p.createElement("link"),Bn(o,"link",i),Dt(o),p.head.appendChild(o)))}}function f8(i,o){ss.m(i,o);var u=nl;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Ua(p)+'"][href="'+Ua(i)+'"]',w=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=rl(i)}if(!Wa.has(w)&&(i=h({rel:"modulepreload",href:i},o),Wa.set(w,i),u.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uc(w)))return}p=u.createElement("link"),Bn(p,"link",i),Dt(p),u.head.appendChild(p)}}}function m8(i,o,u){ss.S(i,o,u);var p=nl;if(p&&i){var v=et(p).hoistableStyles,w=al(i);o=o||"default";var M=v.get(w);if(!M){var I={loading:0,preload:null};if(M=p.querySelector(qc(w)))I.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Wa.get(w))&&Y0(i,u);var X=M=p.createElement("link");Dt(X),Bn(X,"link",i),X._p=new Promise(function(fe,Se){X.onload=fe,X.onerror=Se}),X.addEventListener("load",function(){I.loading|=1}),X.addEventListener("error",function(){I.loading|=2}),I.loading|=4,mf(M,o,p)}M={type:"stylesheet",instance:M,count:1,state:I},v.set(w,M)}}}function h8(i,o){ss.X(i,o);var u=nl;if(u&&i){var p=et(u).hoistableScripts,v=rl(i),w=p.get(v);w||(w=u.querySelector(Uc(v)),w||(i=h({src:i,async:!0},o),(o=Wa.get(v))&&W0(i,o),w=u.createElement("script"),Dt(w),Bn(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function p8(i,o){ss.M(i,o);var u=nl;if(u&&i){var p=et(u).hoistableScripts,v=rl(i),w=p.get(v);w||(w=u.querySelector(Uc(v)),w||(i=h({src:i,async:!0,type:"module"},o),(o=Wa.get(v))&&W0(i,o),w=u.createElement("script"),Dt(w),Bn(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(v,w))}}function ZN(i,o,u,p){var v=(v=ge.current)?ff(v):null;if(!v)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=al(u.href),u=et(v).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=al(u.href);var w=et(v).hoistableStyles,M=w.get(i);if(M||(v=v.ownerDocument||v,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,M),(w=v.querySelector(qc(i)))&&!w._p&&(M.instance=w,M.state.loading=5),Wa.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Wa.set(i,u),w||g8(v,i,u,M.state))),o&&p===null)throw Error(a(528,""));return M}if(o&&p!==null)throw Error(a(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=rl(u),u=et(v).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function al(i){return'href="'+Ua(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function QN(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function g8(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Bn(o,"link",u),Dt(o),i.head.appendChild(o))}function rl(i){return'[src="'+Ua(i)+'"]'}function Uc(i){return"script[async]"+i}function JN(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Ua(u.href)+'"]');if(p)return o.instance=p,Dt(p),p;var v=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Dt(p),Bn(p,"style",v),mf(p,u.precedence,i),o.instance=p;case"stylesheet":v=al(u.href);var w=i.querySelector(qc(v));if(w)return o.state.loading|=4,o.instance=w,Dt(w),w;p=QN(u),(v=Wa.get(v))&&Y0(p,v),w=(i.ownerDocument||i).createElement("link"),Dt(w);var M=w;return M._p=new Promise(function(I,X){M.onload=I,M.onerror=X}),Bn(w,"link",p),o.state.loading|=4,mf(w,u.precedence,i),o.instance=w;case"script":return w=rl(u.src),(v=i.querySelector(Uc(w)))?(o.instance=v,Dt(v),v):(p=u,(v=Wa.get(w))&&(p=h({},u),W0(p,v)),i=i.ownerDocument||i,v=i.createElement("script"),Dt(v),Bn(v,"link",p),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(a(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,mf(p,u.precedence,i));return o.instance}function mf(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,w=v,M=0;M<p.length;M++){var I=p[M];if(I.dataset.precedence===o)w=I;else if(w!==v)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Y0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function W0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var hf=null;function eS(i,o,u){if(hf===null){var p=new Map,v=hf=new Map;v.set(u,p)}else v=hf,p=v.get(u),p||(p=new Map,v.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var w=u[v];if(!(w[we]||w[Pe]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(o)||"";M=i+M;var I=p.get(M);I?I.push(w):p.set(M,[w])}}return p}function tS(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function x8(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function nS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Vc=null;function y8(){}function v8(i,o,u){if(Vc===null)throw Error(a(475));var p=Vc;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=al(u.href),w=i.querySelector(qc(v));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=pf.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=w,Dt(w);return}w=i.ownerDocument||i,u=QN(u),(v=Wa.get(v))&&Y0(u,v),w=w.createElement("link"),Dt(w);var M=w;M._p=new Promise(function(I,X){M.onload=I,M.onerror=X}),Bn(w,"link",u),o.instance=w}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=pf.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function b8(){if(Vc===null)throw Error(a(475));var i=Vc;return i.stylesheets&&i.count===0&&X0(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&X0(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function pf(){if(this.count--,this.count===0){if(this.stylesheets)X0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gf=null;function X0(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gf=new Map,o.forEach(j8,i),gf=null,pf.call(i))}function j8(i,o){if(!(o.state.loading&4)){var u=gf.get(i);if(u)var p=u.get(null);else{u=new Map,gf.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var M=v[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),p=M)}p&&u.set(null,p)}v=o.instance,M=v.getAttribute("data-precedence"),w=u.get(M)||p,w===p&&u.set(null,v),u.set(M,v),this.count++,p=pf.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),w?w.parentNode.insertBefore(v,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Fc={$$typeof:E,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function w8(i,o,u,p,v,w,M,I){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dn(0),this.hiddenUpdates=dn(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function aS(i,o,u,p,v,w,M,I,X,fe,Se,Ee){return i=new w8(i,o,u,M,I,X,fe,Ee),o=1,w===!0&&(o|=24),w=Na(3,null,null,o),i.current=w,w.stateNode=i,o=Mp(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:p,isDehydrated:u,cache:o},Rp(w),i}function rS(i){return i?(i=Ro,i):Ro}function sS(i,o,u,p,v,w){v=rS(v),p.context===null?p.context=v:p.pendingContext=v,p=Rs(o),p.payload={element:u},w=w===void 0?null:w,w!==null&&(p.callback=w),u=Ls(i,p,o),u!==null&&(Oa(u,i,o),bc(u,i,o))}function iS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Z0(i,o){iS(i,o),(i=i.alternate)&&iS(i,o)}function oS(i){if(i.tag===13){var o=Do(i,67108864);o!==null&&Oa(o,i,67108864),Z0(i,67108864)}}var xf=!0;function N8(i,o,u,p){var v=B.T;B.T=null;var w=re.p;try{re.p=2,Q0(i,o,u,p)}finally{re.p=w,B.T=v}}function S8(i,o,u,p){var v=B.T;B.T=null;var w=re.p;try{re.p=8,Q0(i,o,u,p)}finally{re.p=w,B.T=v}}function Q0(i,o,u,p){if(xf){var v=J0(p);if(v===null)$0(i,o,p,yf,u),cS(i,p);else if(A8(v,i,o,u,p))p.stopPropagation();else if(cS(i,p),o&4&&-1<C8.indexOf(i)){for(;v!==null;){var w=Ye(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=st(w.pendingLanes);if(M!==0){var I=w;for(I.pendingLanes|=2,I.entangledLanes|=2;M;){var X=1<<31-ut(M);I.entanglements[1]|=X,M&=~X}_r(w),(Rt&6)===0&&(ef=Be()+500,Ic(0))}}break;case 13:I=Do(w,2),I!==null&&Oa(I,w,2),nf(),Z0(w,2)}if(w=J0(p),w===null&&$0(i,o,p,yf,u),w===v)break;v=w}v!==null&&p.stopPropagation()}else $0(i,o,p,null,u)}}function J0(i){return i=rp(i),eg(i)}var yf=null;function eg(i){if(yf=null,i=Fe(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return yf=i,null}function lS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(F()){case $:return 2;case Z:return 8;case Y:case R:return 32;case se:return 268435456;default:return 32}default:return 32}}var tg=!1,Ws=null,Xs=null,Zs=null,Hc=new Map,Gc=new Map,Qs=[],C8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cS(i,o){switch(i){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Hc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(o.pointerId)}}function Kc(i,o,u,p,v,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[v]},o!==null&&(o=Ye(o),o!==null&&oS(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function A8(i,o,u,p,v){switch(o){case"focusin":return Ws=Kc(Ws,i,o,u,p,v),!0;case"dragenter":return Xs=Kc(Xs,i,o,u,p,v),!0;case"mouseover":return Zs=Kc(Zs,i,o,u,p,v),!0;case"pointerover":var w=v.pointerId;return Hc.set(w,Kc(Hc.get(w)||null,i,o,u,p,v)),!0;case"gotpointercapture":return w=v.pointerId,Gc.set(w,Kc(Gc.get(w)||null,i,o,u,p,v)),!0}return!1}function uS(i){var o=Fe(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,dt(i.priority,function(){if(u.tag===13){var p=Ea();p=jt(p);var v=Do(u,p);v!==null&&Oa(v,u,p),Z0(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=J0(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);ap=p,u.target.dispatchEvent(p),ap=null}else return o=Ye(u),o!==null&&oS(o),i.blockedOn=u,!1;o.shift()}return!0}function dS(i,o,u){vf(i)&&u.delete(o)}function E8(){tg=!1,Ws!==null&&vf(Ws)&&(Ws=null),Xs!==null&&vf(Xs)&&(Xs=null),Zs!==null&&vf(Zs)&&(Zs=null),Hc.forEach(dS),Gc.forEach(dS)}function bf(i,o){i.blockedOn===o&&(i.blockedOn=null,tg||(tg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,E8)))}var jf=null;function fS(i){jf!==i&&(jf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jf===i&&(jf=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],v=i[o+2];if(typeof p!="function"){if(eg(p||u)===null)continue;break}var w=Ye(u);w!==null&&(i.splice(o,3),o-=3,e0(w,{pending:!0,data:v,method:u.method,action:p},p,v))}}))}function Yc(i){function o(X){return bf(X,i)}Ws!==null&&bf(Ws,i),Xs!==null&&bf(Xs,i),Zs!==null&&bf(Zs,i),Hc.forEach(o),Gc.forEach(o);for(var u=0;u<Qs.length;u++){var p=Qs[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Qs.length&&(u=Qs[0],u.blockedOn===null);)uS(u),u.blockedOn===null&&Qs.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var v=u[p],w=u[p+1],M=v[Qe]||null;if(typeof w=="function")M||fS(u);else if(M){var I=null;if(w&&w.hasAttribute("formAction")){if(v=w,M=w[Qe]||null)I=M.formAction;else if(eg(v)!==null)continue}else I=M.action;typeof I=="function"?u[p+1]=I:(u.splice(p,3),p-=3),fS(u)}}}function ng(i){this._internalRoot=i}wf.prototype.render=ng.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(a(409));var u=o.current,p=Ea();sS(u,p,i,o,null,null)},wf.prototype.unmount=ng.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;sS(i.current,2,null,i,null,null),nf(),o[wt]=null}};function wf(i){this._internalRoot=i}wf.prototype.unstable_scheduleHydration=function(i){if(i){var o=Te();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Qs.length&&o!==0&&o<Qs[u].priority;u++);Qs.splice(u,0,i),u===0&&uS(i)}};var mS=t.version;if(mS!=="19.1.1")throw Error(a(527,mS,"19.1.1"));re.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var O8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{Ue=Nf.inject(O8),He=Nf}catch{}}return Xc.createRoot=function(i,o){if(!s(i))throw Error(a(299));var u=!1,p="",v=Tw,w=kw,M=Mw,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks)),o=aS(i,1,!1,null,null,u,p,v,w,M,I,null),i[wt]=o.current,z0(i),new ng(o)},Xc.hydrateRoot=function(i,o,u){if(!s(i))throw Error(a(299));var p=!1,v="",w=Tw,M=kw,I=Mw,X=null,fe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(I=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks),u.formState!==void 0&&(fe=u.formState)),o=aS(i,1,!0,o,u??null,p,v,w,M,I,X,fe),o.context=rS(null),u=o.current,p=Ea(),p=jt(p),v=Rs(p),v.callback=null,Ls(u,v,p),u=p,o.current.lanes=u,mt(o,u),_r(o),i[wt]=o.current,z0(i),new wf(o)},Xc.version="19.1.1",Xc}var NS;function $8(){if(NS)return ig.exports;NS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ig.exports=z8(),ig.exports}var B8=$8(),Zc={},SS;function q8(){if(SS)return Zc;SS=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.parse=c,Zc.serialize=m;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,b){const j=new l,N=x.length;if(N<2)return j;const S=(b==null?void 0:b.decode)||h;let C=0;do{const A=x.indexOf("=",C);if(A===-1)break;const E=x.indexOf(";",C),T=E===-1?N:E;if(A>T){C=x.lastIndexOf(";",A-1)+1;continue}const O=d(x,C,A),k=f(x,A,O),P=x.slice(O,k);if(j[P]===void 0){let _=d(x,A+1,T),L=f(x,T,_);const U=S(x.slice(_,L));j[P]=U}C=T+1}while(C<N);return j}function d(x,b,j){do{const N=x.charCodeAt(b);if(N!==32&&N!==9)return b}while(++b<j);return j}function f(x,b,j){for(;b>j;){const N=x.charCodeAt(--b);if(N!==32&&N!==9)return b+1}return j}function m(x,b,j){const N=(j==null?void 0:j.encode)||encodeURIComponent;if(!e.test(x))throw new TypeError(`argument name is invalid: ${x}`);const S=N(b);if(!t.test(S))throw new TypeError(`argument val is invalid: ${b}`);let C=x+"="+S;if(!j)return C;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);C+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);C+="; Domain="+j.domain}if(j.path){if(!a.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);C+="; Path="+j.path}if(j.expires){if(!g(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);C+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(C+="; HttpOnly"),j.secure&&(C+="; Secure"),j.partitioned&&(C+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return C}function h(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function g(x){return s.call(x)==="[object Date]"}return Zc}q8();var CS="popstate";function U8(e={}){function t(a,s){let{pathname:l,search:c,hash:d}=a.location;return fy("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:wu(s)}return F8(t,n,null,e)}function Jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V8(){return Math.random().toString(36).substring(2,10)}function AS(e,t){return{usr:e.state,key:e.key,idx:t}}function fy(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Rl(t):t,state:n,key:t&&t.key||a||V8()}}function wu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Rl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function F8(e,t,n,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function g(){d="POP";let S=h(),C=S==null?null:S-m;m=S,f&&f({action:d,location:N.location,delta:C})}function x(S,C){d="PUSH";let A=fy(N.location,S,C);m=h()+1;let E=AS(A,m),T=N.createHref(A);try{c.pushState(E,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(T)}l&&f&&f({action:d,location:N.location,delta:1})}function b(S,C){d="REPLACE";let A=fy(N.location,S,C);m=h();let E=AS(A,m),T=N.createHref(A);c.replaceState(E,"",T),l&&f&&f({action:d,location:N.location,delta:0})}function j(S){return H8(S)}let N={get action(){return d},get location(){return e(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(CS,g),f=S,()=>{s.removeEventListener(CS,g),f=null}},createHref(S){return t(s,S)},createURL:j,encodeLocation(S){let C=j(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:b,go(S){return c.go(S)}};return N}function H8(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jt(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:wu(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function cO(e,t,n="/"){return G8(e,t,n,!1)}function G8(e,t,n,a){let s=typeof t=="string"?Rl(t):t,l=hs(s.pathname||"/",n);if(l==null)return null;let c=uO(e);K8(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=rR(l);d=nR(c[f],m,a)}return d}function uO(e,t=[],n=[],a=""){let s=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(Jt(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length));let m=ds([a,f.relativePath]),h=n.concat(f);l.children&&l.children.length>0&&(Jt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),uO(l.children,t,h,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:eR(m,l.index),routesMeta:h})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let f of dO(l.path))s(l,c,f)}),t}function dO(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=dO(a.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),s&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function K8(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tR(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Y8=/^:[\w-]+$/,W8=3,X8=2,Z8=1,Q8=10,J8=-2,ES=e=>e==="*";function eR(e,t){let n=e.split("/"),a=n.length;return n.some(ES)&&(a+=J8),t&&(a+=X8),n.filter(s=>!ES(s)).reduce((s,l)=>s+(Y8.test(l)?W8:l===""?Z8:Q8),a)}function tR(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function nR(e,t,n=!1){let{routesMeta:a}=e,s={},l="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],m=d===a.length-1,h=l==="/"?t:t.slice(l.length)||"/",g=um({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),x=f.route;if(!g&&m&&n&&!a[a.length-1].route.index&&(g=um({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:ds([l,g.pathname]),pathnameBase:lR(ds([l,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(l=ds([l,g.pathnameBase]))}return c}function um(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=aR(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((m,{paramName:h,isOptional:g},x)=>{if(h==="*"){let j=d[x]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[x];return g&&!b?m[h]=void 0:m[h]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function aR(e,t=!1,n=!0){vr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function rR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function sR(e,t="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Rl(e):e;return{pathname:n?n.startsWith("/")?n:iR(n,t):t,search:cR(a),hash:uR(s)}}function iR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ug(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bv(e){let t=oR(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function qv(e,t,n,a=!1){let s;typeof e=="string"?s=Rl(e):(s={...e},Jt(!s.pathname||!s.pathname.includes("?"),ug("?","pathname","search",s)),Jt(!s.pathname||!s.pathname.includes("#"),ug("#","pathname","hash",s)),Jt(!s.search||!s.search.includes("#"),ug("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!a&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}d=g>=0?t[g]:"/"}let f=sR(s,d),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var ds=e=>e.join("/").replace(/\/\/+/g,"/"),lR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var fO=["POST","PUT","PATCH","DELETE"];new Set(fO);var fR=["GET",...fO];new Set(fR);var Ll=y.createContext(null);Ll.displayName="DataRouter";var th=y.createContext(null);th.displayName="DataRouterState";var mO=y.createContext({isTransitioning:!1});mO.displayName="ViewTransition";var mR=y.createContext(new Map);mR.displayName="Fetchers";var hR=y.createContext(null);hR.displayName="Await";var wr=y.createContext(null);wr.displayName="Navigation";var Fu=y.createContext(null);Fu.displayName="Location";var Nr=y.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Uv=y.createContext(null);Uv.displayName="RouteError";function pR(e,{relative:t}={}){Jt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=y.useContext(wr),{hash:s,pathname:l,search:c}=Hu(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:ds([n,l])),a.createHref({pathname:d,search:c,hash:s})}function Il(){return y.useContext(Fu)!=null}function En(){return Jt(Il(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Fu).location}var hO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pO(e){y.useContext(wr).static||y.useLayoutEffect(e)}function Ss(){let{isDataRoute:e}=y.useContext(Nr);return e?OR():gR()}function gR(){Jt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Ll),{basename:t,navigator:n}=y.useContext(wr),{matches:a}=y.useContext(Nr),{pathname:s}=En(),l=JSON.stringify(Bv(a)),c=y.useRef(!1);return pO(()=>{c.current=!0}),y.useCallback((f,m={})=>{if(vr(c.current,hO),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=qv(f,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ds([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,s,e])}y.createContext(null);function gO(){let{matches:e}=y.useContext(Nr),t=e[e.length-1];return t?t.params:{}}function Hu(e,{relative:t}={}){let{matches:n}=y.useContext(Nr),{pathname:a}=En(),s=JSON.stringify(Bv(n));return y.useMemo(()=>qv(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function xR(e,t){return xO(e,t)}function xO(e,t,n,a){var C;Jt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(wr),{matches:l}=y.useContext(Nr),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let A=h&&h.path||"";yO(f,!h||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let g=En(),x;if(t){let A=typeof t=="string"?Rl(t):t;Jt(m==="/"||((C=A.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=g;let b=x.pathname||"/",j=b;if(m!=="/"){let A=m.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=cO(e,{pathname:j});vr(h||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),vr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=wR(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},d,A.params),pathname:ds([m,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:ds([m,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,n,a);return t&&S?y.createElement(Fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function yR(){let e=ER(),t=dR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,c)}var vR=y.createElement(yR,null),bR=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(Nr.Provider,{value:this.props.routeContext},y.createElement(Uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jR({routeContext:e,match:t,children:n}){let a=y.useContext(Ll);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Nr.Provider,{value:e},n)}function wR(e,t=[],n=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Jt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:g}=n,x=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let g,x=!1,b=null,j=null;n&&(g=l&&m.route.id?l[m.route.id]:void 0,b=m.route.errorElement||vR,c&&(d<0&&h===0?(yO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,j=null):d===h&&(x=!0,j=m.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,h+1)),S=()=>{let C;return g?C=b:x?C=j:m.route.Component?C=y.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,y.createElement(jR,{match:m,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?y.createElement(bR,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}function Vv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NR(e){let t=y.useContext(Ll);return Jt(t,Vv(e)),t}function SR(e){let t=y.useContext(th);return Jt(t,Vv(e)),t}function CR(e){let t=y.useContext(Nr);return Jt(t,Vv(e)),t}function Fv(e){let t=CR(e),n=t.matches[t.matches.length-1];return Jt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function AR(){return Fv("useRouteId")}function ER(){var a;let e=y.useContext(Uv),t=SR("useRouteError"),n=Fv("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function OR(){let{router:e}=NR("useNavigate"),t=Fv("useNavigate"),n=y.useRef(!1);return pO(()=>{n.current=!0}),y.useCallback(async(s,l={})=>{vr(n.current,hO),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var OS={};function yO(e,t,n){!t&&!OS[e]&&(OS[e]=!0,vr(!1,n))}y.memo(TR);function TR({routes:e,future:t,state:n}){return xO(e,void 0,n,t)}function Jf({to:e,replace:t,state:n,relative:a}){Jt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=y.useContext(wr);vr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=y.useContext(Nr),{pathname:c}=En(),d=Ss(),f=qv(e,Bv(l),c,a==="path"),m=JSON.stringify(f);return y.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:a})},[d,m,a,t,n]),null}function qn(e){Jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kR({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:s,static:l=!1}){Jt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=Rl(n));let{pathname:f="/",search:m="",hash:h="",state:g=null,key:x="default"}=n,b=y.useMemo(()=>{let j=hs(f,c);return j==null?null:{location:{pathname:j,search:m,hash:h,state:g,key:x},navigationType:a}},[c,f,m,h,g,x,a]);return vr(b!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:y.createElement(wr.Provider,{value:d},y.createElement(Fu.Provider,{children:t,value:b}))}function MR({children:e,location:t}){return xR(my(e),t)}function my(e,t=[]){let n=[];return y.Children.forEach(e,(a,s)=>{if(!y.isValidElement(a))return;let l=[...t,s];if(a.type===y.Fragment){n.push.apply(n,my(a.props.children,l));return}Jt(a.type===qn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=my(a.props.children,l)),n.push(c)}),n}var em="get",tm="application/x-www-form-urlencoded";function nh(e){return e!=null&&typeof e.tagName=="string"}function PR(e){return nh(e)&&e.tagName.toLowerCase()==="button"}function _R(e){return nh(e)&&e.tagName.toLowerCase()==="form"}function DR(e){return nh(e)&&e.tagName.toLowerCase()==="input"}function RR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LR(e,t){return e.button===0&&(!t||t==="_self")&&!RR(e)}var Sf=null;function IR(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var zR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(e){return e!=null&&!zR.has(e)?(vr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tm}"`),null):e}function $R(e,t){let n,a,s,l,c;if(_R(e)){let d=e.getAttribute("action");a=d?hs(d,t):null,n=e.getAttribute("method")||em,s=dg(e.getAttribute("enctype"))||tm,l=new FormData(e)}else if(PR(e)||DR(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(a=f?hs(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||em,s=dg(e.getAttribute("formenctype"))||dg(d.getAttribute("enctype"))||tm,l=new FormData(d,e),!IR()){let{name:m,type:h,value:g}=e;if(h==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,g)}}else{if(nh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=em,a=null,s=tm,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:l,body:c}}function Hv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function BR(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function UR(e,t,n){let a=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await BR(l,n);return c.links?c.links():[]}return[]}));return GR(a.flat(1).filter(qR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function TS(e,t,n,a,s,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var h;return n[m].pathname!==f.pathname||((h=n[m].route.path)==null?void 0:h.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var g;let h=a.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function VR(e,t,{includeHydrateFallback:n}={}){return FR(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function FR(e){return[...new Set(e)]}function HR(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function GR(e,t){let n=new Set;return new Set(t),e.reduce((a,s)=>{let l=JSON.stringify(HR(s));return n.has(l)||(n.add(l),a.push({key:l,link:s})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KR=new Set([100,101,204,205]);function YR(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&hs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vO(){let e=y.useContext(Ll);return Hv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function WR(){let e=y.useContext(th);return Hv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gv=y.createContext(void 0);Gv.displayName="FrameworkContext";function bO(){let e=y.useContext(Gv);return Hv(e,"You must render this element inside a <HydratedRouter> element"),e}function XR(e,t){let n=y.useContext(Gv),[a,s]=y.useState(!1),[l,c]=y.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:g}=t,x=y.useRef(null);y.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=C=>{C.forEach(A=>{c(A.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return x.current&&S.observe(x.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(a){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[a]);let b=()=>{s(!0)},j=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,x,{}]:[l,x,{onFocus:Qc(d,b),onBlur:Qc(f,j),onMouseEnter:Qc(m,b),onMouseLeave:Qc(h,j),onTouchStart:Qc(g,b)}]:[!1,x,{}]}function Qc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ZR({page:e,...t}){let{router:n}=vO(),a=y.useMemo(()=>cO(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?y.createElement(JR,{page:e,matches:a,...t}):null}function QR(e){let{manifest:t,routeModules:n}=bO(),[a,s]=y.useState([]);return y.useEffect(()=>{let l=!1;return UR(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),a}function JR({page:e,matches:t,...n}){let a=En(),{manifest:s,routeModules:l}=bO(),{basename:c}=vO(),{loaderData:d,matches:f}=WR(),m=y.useMemo(()=>TS(e,t,f,s,a,"data"),[e,t,f,s,a]),h=y.useMemo(()=>TS(e,t,f,s,a,"assets"),[e,t,f,s,a]),g=y.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,N=!1;if(t.forEach(C=>{var E;let A=s.routes[C.route.id];!A||!A.hasLoader||(!m.some(T=>T.route.id===C.route.id)&&C.route.id in d&&((E=l[C.route.id])!=null&&E.shouldRevalidate)||A.hasClientLoader?N=!0:j.add(C.route.id))}),j.size===0)return[];let S=YR(e,c);return N&&j.size>0&&S.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[c,d,a,s,m,t,e,l]),x=y.useMemo(()=>VR(h,s),[h,s]),b=QR(h);return y.createElement(y.Fragment,null,g.map(j=>y.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>y.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:N})=>y.createElement("link",{key:j,...N})))}function eL(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var jO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jO&&(window.__reactRouterVersion="7.6.3")}catch{}function tL({basename:e,children:t,window:n}){let a=y.useRef();a.current==null&&(a.current=U8({window:n,v5Compat:!0}));let s=a.current,[l,c]=y.useState({action:s.action,location:s.location}),d=y.useCallback(f=>{y.startTransition(()=>c(f))},[c]);return y.useLayoutEffect(()=>s.listen(d),[s,d]),y.createElement(kR,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var wO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=y.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:h,viewTransition:g,...x},b){let{basename:j}=y.useContext(wr),N=typeof m=="string"&&wO.test(m),S,C=!1;if(typeof m=="string"&&N&&(S=m,jO))try{let L=new URL(window.location.href),U=m.startsWith("//")?new URL(L.protocol+m):new URL(m),V=hs(U.pathname,j);U.origin===L.origin&&V!=null?m=V+U.search+U.hash:C=!0}catch{vr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=pR(m,{relative:s}),[E,T,O]=XR(a,x),k=sL(m,{replace:c,state:d,target:f,preventScrollReset:h,relative:s,viewTransition:g});function P(L){t&&t(L),L.defaultPrevented||k(L)}let _=y.createElement("a",{...x,...O,href:S||A,onClick:C||l?t:P,ref:eL(b,T),target:f,"data-discover":!N&&n==="render"?"true":void 0});return E&&!N?y.createElement(y.Fragment,null,_,y.createElement(ZR,{page:A})):_});Ct.displayName="Link";var nL=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:f,...m},h){let g=Hu(c,{relative:m.relative}),x=En(),b=y.useContext(th),{navigator:j,basename:N}=y.useContext(wr),S=b!=null&&uL(g)&&d===!0,C=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,A=x.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(A=A.toLowerCase(),E=E?E.toLowerCase():null,C=C.toLowerCase()),E&&N&&(E=hs(E,N)||E);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let O=A===C||!s&&A.startsWith(C)&&A.charAt(T)==="/",k=E!=null&&(E===C||!s&&E.startsWith(C)&&E.charAt(C.length)==="/"),P={isActive:O,isPending:k,isTransitioning:S},_=O?t:void 0,L;typeof a=="function"?L=a(P):L=[a,O?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(P):l;return y.createElement(Ct,{...m,"aria-current":_,className:L,ref:h,style:U,to:c,viewTransition:d},typeof f=="function"?f(P):f)});nL.displayName="NavLink";var aL=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:s,state:l,method:c=em,action:d,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:g,...x},b)=>{let j=lL(),N=cL(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&wO.test(d),A=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,O=(T==null?void 0:T.getAttribute("formmethod"))||c;j(T||E.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:s,state:l,relative:m,preventScrollReset:h,viewTransition:g})};return y.createElement("form",{ref:b,method:S,action:N,onSubmit:a?f:A,...x,"data-discover":!C&&e==="render"?"true":void 0})});aL.displayName="Form";function rL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NO(e){let t=y.useContext(Ll);return Jt(t,rL(e)),t}function sL(e,{target:t,replace:n,state:a,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Ss(),f=En(),m=Hu(e,{relative:l});return y.useCallback(h=>{if(LR(h,t)){h.preventDefault();let g=n!==void 0?n:wu(f)===wu(m);d(e,{replace:g,state:a,preventScrollReset:s,relative:l,viewTransition:c})}},[f,d,m,n,a,t,e,s,l,c])}var iL=0,oL=()=>`__${String(++iL)}__`;function lL(){let{router:e}=NO("useSubmit"),{basename:t}=y.useContext(wr),n=AR();return y.useCallback(async(a,s={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=$R(a,t);if(s.navigate===!1){let h=s.fetcherKey||oL();await e.fetch(h,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function cL(e,{relative:t}={}){let{basename:n}=y.useContext(wr),a=y.useContext(Nr);Jt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...Hu(e||".",{relative:t})},c=En();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let h=d.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ds([n,l.pathname])),wu(l)}function uL(e,t={}){let n=y.useContext(mO);Jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=NO("useViewTransitionState"),s=Hu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=hs(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=hs(n.nextLocation.pathname,a)||n.nextLocation.pathname;return um(s.pathname,c)!=null||um(s.pathname,l)!=null}[...KR];var hy=lO();const Kv=y.createContext({});function Yv(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wv=typeof window<"u",SO=Wv?y.useLayoutEffect:y.useEffect,ah=y.createContext(null);function Xv(e,t){e.indexOf(t)===-1&&e.push(t)}function Zv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ps=(e,t,n)=>n>t?t:n<e?e:n;let Qv=()=>{};const gs={},CO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function AO(e){return typeof e=="object"&&e!==null}const EO=e=>/^0[^.\s]+$/u.test(e);function Jv(e){let t;return()=>(t===void 0&&(t=e()),t)}const ar=e=>e,dL=(e,t)=>n=>t(e(n)),Gu=(...e)=>e.reduce(dL),Nu=(e,t,n)=>{const a=t-e;return a===0?1:(n-e)/a};class eb{constructor(){this.subscriptions=[]}add(t){return Xv(this.subscriptions,t),()=>Zv(this.subscriptions,t)}notify(t,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,a);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ir=e=>e*1e3,zr=e=>e/1e3;function OO(e,t){return t?e*(1e3/t):0}const TO=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fL=1e-7,mL=12;function hL(e,t,n,a,s){let l,c,d=0;do c=t+(n-t)/2,l=TO(c,a,s)-e,l>0?n=c:t=c;while(Math.abs(l)>fL&&++d<mL);return c}function Ku(e,t,n,a){if(e===t&&n===a)return ar;const s=l=>hL(l,0,1,e,n);return l=>l===0||l===1?l:TO(s(l),t,a)}const kO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,MO=e=>t=>1-e(1-t),PO=Ku(.33,1.53,.69,.99),tb=MO(PO),_O=kO(tb),DO=e=>(e*=2)<1?.5*tb(e):.5*(2-Math.pow(2,-10*(e-1))),nb=e=>1-Math.sin(Math.acos(e)),RO=MO(nb),LO=kO(nb),pL=Ku(.42,0,1,1),gL=Ku(0,0,.58,1),IO=Ku(.42,0,.58,1),xL=e=>Array.isArray(e)&&typeof e[0]!="number",zO=e=>Array.isArray(e)&&typeof e[0]=="number",yL={linear:ar,easeIn:pL,easeInOut:IO,easeOut:gL,circIn:nb,circInOut:LO,circOut:RO,backIn:tb,backInOut:_O,backOut:PO,anticipate:DO},vL=e=>typeof e=="string",kS=e=>{if(zO(e)){Qv(e.length===4);const[t,n,a,s]=e;return Ku(t,n,a,s)}else if(vL(e))return yL[e];return e},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],MS={value:null};function bL(e,t){let n=new Set,a=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function m(g){c.has(g)&&(h.schedule(g),e()),f++,g(d)}const h={schedule:(g,x=!1,b=!1)=>{const N=b&&s?n:a;return x&&c.add(g),N.has(g)||N.add(g),g},cancel:g=>{a.delete(g),c.delete(g)},process:g=>{if(d=g,s){l=!0;return}s=!0,[n,a]=[a,n],n.forEach(m),t&&MS.value&&MS.value.frameloop[t].push(f),f=0,n.clear(),s=!1,l&&(l=!1,h.process(g))}};return h}const jL=40;function $O(e,t){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Cf.reduce((E,T)=>(E[T]=bL(l,t?T:void 0),E),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:h,update:g,preRender:x,render:b,postRender:j}=c,N=()=>{const E=gs.useManualTiming?s.timestamp:performance.now();n=!1,gs.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(E-s.timestamp,jL),1)),s.timestamp=E,s.isProcessing=!0,d.process(s),f.process(s),m.process(s),h.process(s),g.process(s),x.process(s),b.process(s),j.process(s),s.isProcessing=!1,n&&t&&(a=!1,e(N))},S=()=>{n=!0,a=!0,s.isProcessing||e(N)};return{schedule:Cf.reduce((E,T)=>{const O=c[T];return E[T]=(k,P=!1,_=!1)=>(n||S(),O.schedule(k,P,_)),E},{}),cancel:E=>{for(let T=0;T<Cf.length;T++)c[Cf[T]].cancel(E)},state:s,steps:c}}const{schedule:nn,cancel:ci,state:Vn,steps:fg}=$O(typeof requestAnimationFrame<"u"?requestAnimationFrame:ar,!0);let nm;function wL(){nm=void 0}const ma={now:()=>(nm===void 0&&ma.set(Vn.isProcessing||gs.useManualTiming?Vn.timestamp:performance.now()),nm),set:e=>{nm=e,queueMicrotask(wL)}},BO=e=>t=>typeof t=="string"&&t.startsWith(e),ab=BO("--"),NL=BO("var(--"),rb=e=>NL(e)?SL.test(e.split("/*")[0].trim()):!1,SL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Su={...zl,transform:e=>ps(0,1,e)},Af={...zl,default:1},hu=e=>Math.round(e*1e5)/1e5,sb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CL(e){return e==null}const AL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ib=(e,t)=>n=>!!(typeof n=="string"&&AL.test(n)&&n.startsWith(e)||t&&!CL(n)&&Object.prototype.hasOwnProperty.call(n,t)),qO=(e,t,n)=>a=>{if(typeof a!="string")return a;const[s,l,c,d]=a.match(sb);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},EL=e=>ps(0,255,e),mg={...zl,transform:e=>Math.round(EL(e))},Hi={test:ib("rgb","red"),parse:qO("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:a=1})=>"rgba("+mg.transform(e)+", "+mg.transform(t)+", "+mg.transform(n)+", "+hu(Su.transform(a))+")"};function OL(e){let t="",n="",a="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const py={test:ib("#"),parse:OL,transform:Hi.transform},Yu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ri=Yu("deg"),$r=Yu("%"),lt=Yu("px"),TL=Yu("vh"),kL=Yu("vw"),PS={...$r,parse:e=>$r.parse(e)/100,transform:e=>$r.transform(e*100)},dl={test:ib("hsl","hue"),parse:qO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:a=1})=>"hsla("+Math.round(e)+", "+$r.transform(hu(t))+", "+$r.transform(hu(n))+", "+hu(Su.transform(a))+")"},Xn={test:e=>Hi.test(e)||py.test(e)||dl.test(e),parse:e=>Hi.test(e)?Hi.parse(e):dl.test(e)?dl.parse(e):py.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hi.transform(e):dl.transform(e)},ML=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PL(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(sb))==null?void 0:t.length)||0)+(((n=e.match(ML))==null?void 0:n.length)||0)>0}const UO="number",VO="color",_L="var",DL="var(",_S="${}",RL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cu(e){const t=e.toString(),n=[],a={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(RL,f=>(Xn.test(f)?(a.color.push(l),s.push(VO),n.push(Xn.parse(f))):f.startsWith(DL)?(a.var.push(l),s.push(_L),n.push(f)):(a.number.push(l),s.push(UO),n.push(parseFloat(f))),++l,_S)).split(_S);return{values:n,split:d,indexes:a,types:s}}function FO(e){return Cu(e).values}function HO(e){const{split:t,types:n}=Cu(e),a=t.length;return s=>{let l="";for(let c=0;c<a;c++)if(l+=t[c],s[c]!==void 0){const d=n[c];d===UO?l+=hu(s[c]):d===VO?l+=Xn.transform(s[c]):l+=s[c]}return l}}const LL=e=>typeof e=="number"?0:e;function IL(e){const t=FO(e);return HO(e)(t.map(LL))}const ui={test:PL,parse:FO,createTransformer:HO,getAnimatableNone:IL};function hg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zL({hue:e,saturation:t,lightness:n,alpha:a}){e/=360,t/=100,n/=100;let s=0,l=0,c=0;if(!t)s=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=hg(f,d,e+1/3),l=hg(f,d,e),c=hg(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}function dm(e,t){return n=>n>0?t:e}const tn=(e,t,n)=>e+(t-e)*n,pg=(e,t,n)=>{const a=e*e,s=n*(t*t-a)+a;return s<0?0:Math.sqrt(s)},$L=[py,Hi,dl],BL=e=>$L.find(t=>t.test(e));function DS(e){const t=BL(e);if(!t)return!1;let n=t.parse(e);return t===dl&&(n=zL(n)),n}const RS=(e,t)=>{const n=DS(e),a=DS(t);if(!n||!a)return dm(e,t);const s={...n};return l=>(s.red=pg(n.red,a.red,l),s.green=pg(n.green,a.green,l),s.blue=pg(n.blue,a.blue,l),s.alpha=tn(n.alpha,a.alpha,l),Hi.transform(s))},gy=new Set(["none","hidden"]);function qL(e,t){return gy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function UL(e,t){return n=>tn(e,t,n)}function ob(e){return typeof e=="number"?UL:typeof e=="string"?rb(e)?dm:Xn.test(e)?RS:HL:Array.isArray(e)?GO:typeof e=="object"?Xn.test(e)?RS:VL:dm}function GO(e,t){const n=[...e],a=n.length,s=e.map((l,c)=>ob(l)(l,t[c]));return l=>{for(let c=0;c<a;c++)n[c]=s[c](l);return n}}function VL(e,t){const n={...e,...t},a={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(a[s]=ob(e[s])(e[s],t[s]));return s=>{for(const l in a)n[l]=a[l](s);return n}}function FL(e,t){const n=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][a[l]],d=e.values[c]??0;n[s]=d,a[l]++}return n}const HL=(e,t)=>{const n=ui.createTransformer(t),a=Cu(e),s=Cu(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?gy.has(e)&&!s.values.length||gy.has(t)&&!a.values.length?qL(e,t):Gu(GO(FL(a,s),s.values),n):dm(e,t)};function KO(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?tn(e,t,n):ob(e)(e,t)}const GL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>nn.update(t,n),stop:()=>ci(t),now:()=>Vn.isProcessing?Vn.timestamp:ma.now()}},YO=(e,t,n=10)=>{let a="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)a+=e(l/(s-1))+", ";return`linear(${a.substring(0,a.length-2)})`},fm=2e4;function lb(e){let t=0;const n=50;let a=e.next(t);for(;!a.done&&t<fm;)t+=n,a=e.next(t);return t>=fm?1/0:t}function KL(e,t=100,n){const a=n({...e,keyframes:[0,t]}),s=Math.min(lb(a),fm);return{type:"keyframes",ease:l=>a.next(s*l).value/t,duration:zr(s)}}const YL=5;function WO(e,t,n){const a=Math.max(t-YL,0);return OO(n-e(a),t-a)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gg=.001;function WL({duration:e=on.duration,bounce:t=on.bounce,velocity:n=on.velocity,mass:a=on.mass}){let s,l,c=1-t;c=ps(on.minDamping,on.maxDamping,c),e=ps(on.minDuration,on.maxDuration,zr(e)),c<1?(s=m=>{const h=m*c,g=h*e,x=h-n,b=xy(m,c),j=Math.exp(-g);return gg-x/b*j},l=m=>{const g=m*c*e,x=g*n+n,b=Math.pow(c,2)*Math.pow(m,2)*e,j=Math.exp(-g),N=xy(Math.pow(m,2),c);return(-s(m)+gg>0?-1:1)*((x-b)*j)/N}):(s=m=>{const h=Math.exp(-m*e),g=(m-n)*e+1;return-gg+h*g},l=m=>{const h=Math.exp(-m*e),g=(n-m)*(e*e);return h*g});const d=5/e,f=ZL(s,l,d);if(e=Ir(e),isNaN(f))return{stiffness:on.stiffness,damping:on.damping,duration:e};{const m=Math.pow(f,2)*a;return{stiffness:m,damping:c*2*Math.sqrt(a*m),duration:e}}}const XL=12;function ZL(e,t,n){let a=n;for(let s=1;s<XL;s++)a=a-e(a)/t(a);return a}function xy(e,t){return e*Math.sqrt(1-t*t)}const QL=["duration","bounce"],JL=["stiffness","damping","mass"];function LS(e,t){return t.some(n=>e[n]!==void 0)}function e7(e){let t={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...e};if(!LS(e,JL)&&LS(e,QL))if(e.visualDuration){const n=e.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,l=2*ps(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:on.mass,stiffness:s,damping:l}}else{const n=WL(e);t={...t,...n,mass:on.mass},t.isResolvedFromDuration=!0}return t}function mm(e=on.visualDuration,t=on.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:h,duration:g,velocity:x,isResolvedFromDuration:b}=e7({...n,velocity:-zr(n.velocity||0)}),j=x||0,N=m/(2*Math.sqrt(f*h)),S=c-l,C=zr(Math.sqrt(f/h)),A=Math.abs(S)<5;a||(a=A?on.restSpeed.granular:on.restSpeed.default),s||(s=A?on.restDelta.granular:on.restDelta.default);let E;if(N<1){const O=xy(C,N);E=k=>{const P=Math.exp(-N*C*k);return c-P*((j+N*C*S)/O*Math.sin(O*k)+S*Math.cos(O*k))}}else if(N===1)E=O=>c-Math.exp(-C*O)*(S+(j+C*S)*O);else{const O=C*Math.sqrt(N*N-1);E=k=>{const P=Math.exp(-N*C*k),_=Math.min(O*k,300);return c-P*((j+N*C*S)*Math.sinh(_)+O*S*Math.cosh(_))/O}}const T={calculatedDuration:b&&g||null,next:O=>{const k=E(O);if(b)d.done=O>=g;else{let P=O===0?j:0;N<1&&(P=O===0?Ir(j):WO(E,O,k));const _=Math.abs(P)<=a,L=Math.abs(c-k)<=s;d.done=_&&L}return d.value=d.done?c:k,d},toString:()=>{const O=Math.min(lb(T),fm),k=YO(P=>T.next(O*P).value,O,30);return O+"ms "+k},toTransition:()=>{}};return T}mm.applyToOptions=e=>{const t=KL(e,100,mm);return e.ease=t.ease,e.duration=Ir(t.duration),e.type="keyframes",e};function yy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:h}){const g=e[0],x={done:!1,value:g},b=_=>d!==void 0&&_<d||f!==void 0&&_>f,j=_=>d===void 0?f:f===void 0||Math.abs(d-_)<Math.abs(f-_)?d:f;let N=n*t;const S=g+N,C=c===void 0?S:c(S);C!==S&&(N=C-g);const A=_=>-N*Math.exp(-_/a),E=_=>C+A(_),T=_=>{const L=A(_),U=E(_);x.done=Math.abs(L)<=m,x.value=x.done?C:U};let O,k;const P=_=>{b(x.value)&&(O=_,k=mm({keyframes:[x.value,j(x.value)],velocity:WO(E,_,x.value),damping:s,stiffness:l,restDelta:m,restSpeed:h}))};return P(0),{calculatedDuration:null,next:_=>{let L=!1;return!k&&O===void 0&&(L=!0,T(_),P(_)),O!==void 0&&_>=O?k.next(_-O):(!L&&T(_),x)}}}function t7(e,t,n){const a=[],s=n||gs.mix||KO,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||ar:t;d=Gu(f,d)}a.push(d)}return a}function n7(e,t,{clamp:n=!0,ease:a,mixer:s}={}){const l=e.length;if(Qv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=t7(t,a,s),f=d.length,m=h=>{if(c&&h<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(h<e[g+1]);g++);const x=Nu(e[g],e[g+1],h);return d[g](x)};return n?h=>m(ps(e[0],e[l-1],h)):m}function a7(e,t){const n=e[e.length-1];for(let a=1;a<=t;a++){const s=Nu(0,t,a);e.push(tn(n,1,s))}}function r7(e){const t=[0];return a7(t,e.length-1),t}function s7(e,t){return e.map(n=>n*t)}function i7(e,t){return e.map(()=>t||IO).splice(0,e.length-1)}function pu({duration:e=300,keyframes:t,times:n,ease:a="easeInOut"}){const s=xL(a)?a.map(kS):kS(a),l={done:!1,value:t[0]},c=s7(n&&n.length===t.length?n:r7(t),e),d=n7(c,t,{ease:Array.isArray(s)?s:i7(t,s)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const o7=e=>e!==null;function cb(e,{repeat:t,repeatType:n="loop"},a,s=1){const l=e.filter(o7),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||a===void 0?l[d]:a}const l7={decay:yy,inertia:yy,tween:pu,keyframes:pu,spring:mm};function XO(e){typeof e.type=="string"&&(e.type=l7[e.type])}class ub{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const c7=e=>e/100;class db extends ub{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:n}=this.options;n&&n.updatedAt!==ma.now()&&this.tick(ma.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;XO(t);const{type:n=pu,repeat:a=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||pu;f!==pu&&typeof d[0]!="number"&&(this.mixKeyframes=Gu(c7,KO(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=lb(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:a,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:h,repeat:g,repeatType:x,repeatDelay:b,type:j,onUpdate:N,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,T=a;if(g){const _=Math.min(this.currentTime,s)/d;let L=Math.floor(_),U=_%1;!U&&_>=1&&(U=1),U===1&&L--,L=Math.min(L,g+1),!!(L%2)&&(x==="reverse"?(U=1-U,b&&(U-=b/d)):x==="mirror"&&(T=c)),E=ps(0,1,U)*d}const O=A?{done:!1,value:h[0]}:T.next(E);l&&(O.value=l(O.value));let{done:k}=O;!A&&f!==null&&(k=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&j!==yy&&(O.value=cb(h,this.options,S,this.speed)),N&&N(O.value),P&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return zr(this.calculatedDuration)}get time(){return zr(this.currentTime)}set time(t){var n;t=Ir(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ma.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=zr(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=GL,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ma.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function u7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gi=e=>e*180/Math.PI,vy=e=>{const t=Gi(Math.atan2(e[1],e[0]));return by(t)},d7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vy,rotateZ:vy,skewX:e=>Gi(Math.atan(e[1])),skewY:e=>Gi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},by=e=>(e=e%360,e<0&&(e+=360),e),IS=vy,zS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),$S=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),f7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zS,scaleY:$S,scale:e=>(zS(e)+$S(e))/2,rotateX:e=>by(Gi(Math.atan2(e[6],e[5]))),rotateY:e=>by(Gi(Math.atan2(-e[2],e[0]))),rotateZ:IS,rotate:IS,skewX:e=>Gi(Math.atan(e[4])),skewY:e=>Gi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jy(e){return e.includes("scale")?1:0}function wy(e,t){if(!e||e==="none")return jy(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(n)a=f7,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=d7,s=d}if(!s)return jy(t);const l=a[t],c=s[1].split(",").map(h7);return typeof l=="function"?l(c):c[l]}const m7=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return wy(n,t)};function h7(e){return parseFloat(e.trim())}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bl=new Set($l),BS=e=>e===zl||e===lt,p7=new Set(["x","y","z"]),g7=$l.filter(e=>!p7.has(e));function x7(e){const t=[];return g7.forEach(n=>{const a=e.getValue(n);a!==void 0&&(t.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),t}const Ji={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>wy(t,"x"),y:(e,{transform:t})=>wy(t,"y")};Ji.translateX=Ji.x;Ji.translateY=Ji.y;const eo=new Set;let Ny=!1,Sy=!1,Cy=!1;function ZO(){if(Sy){const e=Array.from(eo).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),n=new Map;t.forEach(a=>{const s=x7(a);s.length&&(n.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([l,c])=>{var d;(d=a.getValue(l))==null||d.set(c)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Sy=!1,Ny=!1,eo.forEach(e=>e.complete(Cy)),eo.clear()}function QO(){eo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sy=!0)})}function y7(){Cy=!0,QO(),ZO(),Cy=!1}class fb{constructor(t,n,a,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=a,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),Ny||(Ny=!0,nn.read(QO),nn.resolveKeyframes(ZO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:a,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(a&&n){const d=a.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}u7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const v7=e=>e.startsWith("--");function b7(e,t,n){v7(t)?e.style.setProperty(t,n):e.style[t]=n}const j7=Jv(()=>window.ScrollTimeline!==void 0),w7={};function N7(e,t){const n=Jv(e);return()=>w7[t]??n()}const JO=N7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),du=([e,t,n,a])=>`cubic-bezier(${e}, ${t}, ${n}, ${a})`,qS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function eT(e,t){if(e)return typeof e=="function"?JO()?YO(e,t):"ease-out":zO(e)?du(e):Array.isArray(e)?e.map(n=>eT(n,t)||qS.easeOut):qS[e]}function S7(e,t,n,{delay:a=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const h={[t]:n};f&&(h.offset=f);const g=eT(d,s);Array.isArray(g)&&(h.easing=g);const x={delay:a,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),e.animate(h,x)}function tT(e){return typeof e=="function"&&"applyToOptions"in e}function C7({type:e,...t}){return tT(e)&&JO()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class A7 extends ub{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:a,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Qv(typeof t.type!="string");const m=C7(t);this.animation=S7(n,a,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=cb(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(h):b7(n,a,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,a;const t=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return zr(Number(t))}get time(){return zr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ir(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&j7()?(this.animation.timeline=t,ar):n(this)}}const nT={anticipate:DO,backInOut:_O,circInOut:LO};function E7(e){return e in nT}function O7(e){typeof e.ease=="string"&&E7(e.ease)&&(e.ease=nT[e.ease])}const US=10;class T7 extends A7{constructor(t){O7(t),XO(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:a,onComplete:s,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new db({...c,autoplay:!1}),f=Ir(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-US).value,d.sample(f).value,US),d.stop()}}const VS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ui.test(e)||e==="0")&&!e.startsWith("url("));function k7(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function M7(e,t,n,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=VS(s,t),d=VS(l,t);return!c||!d?!1:k7(e)||(n==="spring"||tT(n))&&a}function mb(e){return AO(e)&&"offsetHeight"in e}const P7=new Set(["opacity","clipPath","filter","transform"]),_7=Jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function D7(e){var m;const{motionValue:t,name:n,repeatDelay:a,repeatType:s,damping:l,type:c}=e;if(!mb((m=t==null?void 0:t.owner)==null?void 0:m.current))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return _7()&&n&&P7.has(n)&&(n!=="transform"||!f)&&!d&&!a&&s!=="mirror"&&l!==0&&c!=="inertia"}const R7=40;class L7 extends ub{constructor({autoplay:t=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:h,...g}){var j;super(),this.stop=()=>{var N,S;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=ma.now();const x={autoplay:t,delay:n,type:a,repeat:s,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:h,...g},b=(h==null?void 0:h.KeyframeResolver)||fb;this.keyframeResolver=new b(d,(N,S,C)=>this.onKeyframesResolved(N,S,x,!C),f,m,h),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,n,a,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:h}=a;this.resolvedAt=ma.now(),M7(t,l,c,d)||((gs.instantAnimations||!f)&&(h==null||h(cb(t,a,n))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>R7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:t},b=!m&&D7(x)?new T7({...x,element:x.motionValue.owner.current}):new db(x);b.finished.then(()=>this.notifyFinished()).catch(ar),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),y7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const I7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z7(e){const t=I7.exec(e);if(!t)return[,];const[,n,a,s]=t;return[`--${n??a}`,s]}function aT(e,t,n=1){const[a,s]=z7(e);if(!a)return;const l=window.getComputedStyle(t).getPropertyValue(a);if(l){const c=l.trim();return CO(c)?parseFloat(c):c}return rb(s)?aT(s,t,n+1):s}function hb(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const rT=new Set(["width","height","top","left","right","bottom",...$l]),$7={test:e=>e==="auto",parse:e=>e},sT=e=>t=>t.test(e),iT=[zl,lt,$r,ri,kL,TL,$7],FS=e=>iT.find(sT(e));function B7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||EO(e):!0}const q7=new Set(["brightness","contrast","saturate","opacity"]);function U7(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=n.match(sb)||[];if(!a)return e;const s=n.replace(a,"");let l=q7.has(t)?1:0;return a!==n&&(l*=100),t+"("+l+s+")"}const V7=/\b([a-z-]*)\(.*?\)/gu,Ay={...ui,getAnimatableNone:e=>{const t=e.match(V7);return t?t.map(U7).join(" "):e}},HS={...zl,transform:Math.round},F7={rotate:ri,rotateX:ri,rotateY:ri,rotateZ:ri,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:ri,skewX:ri,skewY:ri,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Su,originX:PS,originY:PS,originZ:lt},pb={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt,...F7,zIndex:HS,fillOpacity:Su,strokeOpacity:Su,numOctaves:HS},H7={...pb,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:Ay,WebkitFilter:Ay},oT=e=>H7[e];function lT(e,t){let n=oT(e);return n!==Ay&&(n=ui),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const G7=new Set(["auto","none","0"]);function K7(e,t,n){let a=0,s;for(;a<e.length&&!s;){const l=e[a];typeof l=="string"&&!G7.has(l)&&Cu(l).values.length&&(s=e[a]),a++}if(s&&n)for(const l of t)e[l]=lT(n,s)}class Y7 extends fb{constructor(t,n,a,s,l){super(t,n,a,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),rb(m))){const h=aT(m,n.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!rT.has(a)||t.length!==2)return;const[s,l]=t,c=FS(s),d=FS(l);if(c!==d)if(BS(c)&&BS(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Ji[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||B7(t[s]))&&a.push(s);a.length&&K7(t,a,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ji[a](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=a.length-1,c=a[l];a[l]=Ji[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function W7(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const s=(n==null?void 0:n[e])??a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const cT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,GS=30,X7=e=>!isNaN(parseFloat(e));class Z7{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,s=!0)=>{var c,d;const l=ma.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();s&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ma.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=X7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new eb);const a=this.events[t].add(n);return t==="change"?()=>{a(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ma.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GS);return OO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(e,t){return new Z7(e,t)}const{schedule:gb}=$O(queueMicrotask,!1),gr={x:!1,y:!1};function uT(){return gr.x||gr.y}function Q7(e){return e==="x"||e==="y"?gr[e]?null:(gr[e]=!0,()=>{gr[e]=!1}):gr.x||gr.y?null:(gr.x=gr.y=!0,()=>{gr.x=gr.y=!1})}function dT(e,t){const n=W7(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[n,s,()=>a.abort()]}function KS(e){return!(e.pointerType==="touch"||uT())}function J7(e,t,n={}){const[a,s,l]=dT(e,n),c=d=>{if(!KS(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const h=g=>{KS(g)&&(m(g),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,s)};return a.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const fT=(e,t)=>t?e===t?!0:fT(e,t.parentElement):!1,xb=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,eI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tI(e){return eI.has(e.tagName)||e.tabIndex!==-1}const am=new WeakSet;function YS(e){return t=>{t.key==="Enter"&&e(t)}}function xg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nI=(e,t)=>{const n=e.currentTarget;if(!n)return;const a=YS(()=>{if(am.has(n))return;xg(n,"down");const s=YS(()=>{xg(n,"up")}),l=()=>xg(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",a,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),t)};function WS(e){return xb(e)&&!uT()}function aI(e,t,n={}){const[a,s,l]=dT(e,n),c=d=>{const f=d.currentTarget;if(!WS(d))return;am.add(f);const m=t(f,d),h=(b,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),am.has(f)&&am.delete(f),WS(b)&&typeof m=="function"&&m(b,{success:j})},g=b=>{h(b,f===window||f===document||n.useGlobalTarget||fT(f,b.target))},x=b=>{h(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",x,s)};return a.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),mb(d)&&(d.addEventListener("focus",m=>nI(m,s)),!tI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function mT(e){return AO(e)&&"ownerSVGElement"in e}function rI(e){return mT(e)&&e.tagName==="svg"}const ta=e=>!!(e&&e.getVelocity),sI=[...iT,Xn,ui],iI=e=>sI.find(sT(e)),yb=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class oI extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const a=n.offsetParent,s=mb(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lI({children:e,isPresent:t,anchorX:n}){const a=y.useId(),s=y.useRef(null),l=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=y.useContext(yb);return y.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:h,right:g}=l.current;if(t||!s.current||!d||!f)return;const x=n==="left"?`left: ${h}`:`right: ${g}`;s.current.dataset.motionPopId=a;const b=document.createElement("style");return c&&(b.nonce=c),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(b)&&document.head.removeChild(b)}},[t]),r.jsx(oI,{isPresent:t,childRef:s,sizeRef:l,children:y.cloneElement(e,{ref:s})})}const cI=({children:e,initial:t,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d})=>{const f=Yv(uI),m=y.useId();let h=!0,g=y.useMemo(()=>(h=!1,{id:m,initial:t,isPresent:n,custom:s,onExitComplete:x=>{f.set(x,!0);for(const b of f.values())if(!b)return;a&&a()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,a]);return l&&h&&(g={...g}),y.useMemo(()=>{f.forEach((x,b)=>f.set(b,!1))},[n]),y.useEffect(()=>{!n&&!f.size&&a&&a()},[n]),c==="popLayout"&&(e=r.jsx(lI,{isPresent:n,anchorX:d,children:e})),r.jsx(ah.Provider,{value:g,children:e})};function uI(){return new Map}function hT(e=!0){const t=y.useContext(ah);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=t,l=y.useId();y.useEffect(()=>{if(e)return s(l)},[e]);const c=y.useCallback(()=>e&&a&&a(l),[l,a,e]);return!n&&a?[!1,c]:[!0]}const Ef=e=>e.key||"";function XS(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const Au=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left"})=>{const[f,m]=hT(c),h=y.useMemo(()=>XS(e),[e]),g=c&&!f?[]:h.map(Ef),x=y.useRef(!0),b=y.useRef(h),j=Yv(()=>new Map),[N,S]=y.useState(h),[C,A]=y.useState(h);SO(()=>{x.current=!1,b.current=h;for(let O=0;O<C.length;O++){const k=Ef(C[O]);g.includes(k)?j.delete(k):j.get(k)!==!0&&j.set(k,!1)}},[C,g.length,g.join("-")]);const E=[];if(h!==N){let O=[...h];for(let k=0;k<C.length;k++){const P=C[k],_=Ef(P);g.includes(_)||(O.splice(k,0,P),E.push(P))}return l==="wait"&&E.length&&(O=E),A(XS(O)),S(h),null}const{forceRender:T}=y.useContext(Kv);return r.jsx(r.Fragment,{children:C.map(O=>{const k=Ef(O),P=c&&!f?!1:h===C||g.includes(k),_=()=>{if(j.has(k))j.set(k,!0);else return;let L=!0;j.forEach(U=>{U||(L=!1)}),L&&(T==null||T(),A(b.current),c&&(m==null||m()),a&&a())};return r.jsx(cI,{isPresent:P,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,onExitComplete:P?void 0:_,anchorX:d,children:O},k)})})},pT=y.createContext({strict:!1}),ZS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const e in ZS)wl[e]={isEnabled:t=>ZS[e].some(n=>!!t[n])};function dI(e){for(const t in e)wl[t]={...wl[t],...e[t]}}const fI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fI.has(e)}let gT=e=>!hm(e);function mI(e){e&&(gT=t=>t.startsWith("on")?!hm(t):e(t))}try{mI(require("@emotion/is-prop-valid").default)}catch{}function hI(e,t,n){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(gT(s)||n===!0&&hm(s)||!t&&!hm(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}function pI(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...a)=>e(...a);return new Proxy(n,{get:(a,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const rh=y.createContext({});function sh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Eu(e){return typeof e=="string"||Array.isArray(e)}const vb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bb=["initial",...vb];function ih(e){return sh(e.animate)||bb.some(t=>Eu(e[t]))}function xT(e){return!!(ih(e)||e.variants)}function gI(e,t){if(ih(e)){const{initial:n,animate:a}=e;return{initial:n===!1||Eu(n)?n:void 0,animate:Eu(a)?a:void 0}}return e.inherit!==!1?t:{}}function xI(e){const{initial:t,animate:n}=gI(e,y.useContext(rh));return y.useMemo(()=>({initial:t,animate:n}),[QS(t),QS(n)])}function QS(e){return Array.isArray(e)?e.join(" "):e}const yI=Symbol.for("motionComponentSymbol");function fl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vI(e,t,n){return y.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),n&&(typeof n=="function"?n(a):fl(n)&&(n.current=a))},[t])}const jb=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bI="framerAppearId",yT="data-"+jb(bI),vT=y.createContext({});function jI(e,t,n,a,s){var N,S;const{visualElement:l}=y.useContext(rh),c=y.useContext(pT),d=y.useContext(ah),f=y.useContext(yb).reducedMotion,m=y.useRef(null);a=a||c.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,g=y.useContext(vT);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&wI(m.current,n,s,g);const x=y.useRef(!1);y.useInsertionEffect(()=>{h&&x.current&&h.update(n,d)});const b=n[yT],j=y.useRef(!!b&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return SO(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),gb.render(h.render),j.current&&h.animationState&&h.animationState.animateChanges())}),y.useEffect(()=>{h&&(!j.current&&h.animationState&&h.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),j.current=!1))}),h}function wI(e,t,n,a){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bT(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&fl(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:h,layoutScroll:f,layoutRoot:m})}function bT(e){if(e)return e.options.allowProjection!==!1?e.projection:bT(e.parent)}function NI({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:a,Component:s}){e&&dI(e);function l(d,f){let m;const h={...y.useContext(yb),...d,layoutId:SI(d)},{isStatic:g}=h,x=xI(d),b=a(d,g);if(!g&&Wv){CI();const j=AI(h);m=j.MeasureLayout,x.visualElement=jI(s,b,h,t,j.ProjectionNode)}return r.jsxs(rh.Provider,{value:x,children:[m&&x.visualElement?r.jsx(m,{visualElement:x.visualElement,...h}):null,n(s,d,vI(b,x.visualElement,f),b,g,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const c=y.forwardRef(l);return c[yI]=s,c}function SI({layoutId:e}){const t=y.useContext(Kv).id;return t&&e!==void 0?t+"-"+e:e}function CI(e,t){y.useContext(pT).strict}function AI(e){const{drag:t,layout:n}=wl;if(!t&&!n)return{};const a={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Ou={};function EI(e){for(const t in e)Ou[t]=e[t],ab(t)&&(Ou[t].isCSSVariable=!0)}function jT(e,{layout:t,layoutId:n}){return Bl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ou[e]||e==="opacity")}const OI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TI=$l.length;function kI(e,t,n){let a="",s=!0;for(let l=0;l<TI;l++){const c=$l[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=cT(d,pb[c]);if(!f){s=!1;const h=OI[c]||c;a+=`${h}(${m}) `}n&&(t[c]=m)}}return a=a.trim(),n?a=n(t,s?"":a):s&&(a="none"),a}function wb(e,t,n){const{style:a,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const m=t[f];if(Bl.has(f)){c=!0;continue}else if(ab(f)){s[f]=m;continue}else{const h=cT(m,pb[f]);f.startsWith("origin")?(d=!0,l[f]=h):a[f]=h}}if(t.transform||(c||n?a.transform=kI(t,e.transform,n):a.transform&&(a.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:h=0}=l;a.transformOrigin=`${f} ${m} ${h}`}}const Nb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wT(e,t,n){for(const a in t)!ta(t[a])&&!jT(a,n)&&(e[a]=t[a])}function MI({transformTemplate:e},t){return y.useMemo(()=>{const n=Nb();return wb(n,t,e),Object.assign({},n.vars,n.style)},[t])}function PI(e,t){const n=e.style||{},a={};return wT(a,n,e),Object.assign(a,MI(e,t)),a}function _I(e,t){const n={},a=PI(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const DI={offset:"stroke-dashoffset",array:"stroke-dasharray"},RI={offset:"strokeDashoffset",array:"strokeDasharray"};function LI(e,t,n=1,a=0,s=!0){e.pathLength=1;const l=s?DI:RI;e[l.offset]=lt.transform(-a);const c=lt.transform(t),d=lt.transform(n);e[l.array]=`${c} ${d}`}function NT(e,{attrX:t,attrY:n,attrScale:a,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},f,m,h){if(wb(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x}=e;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),a!==void 0&&(g.scale=a),s!==void 0&&LI(g,s,l,c,!1)}const ST=()=>({...Nb(),attrs:{}}),CT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function II(e,t,n,a){const s=y.useMemo(()=>{const l=ST();return NT(l,t,CT(a),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};wT(l,e.style,e),s.style={...l,...s.style}}return s}const zI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sb(e){return typeof e!="string"||e.includes("-")?!1:!!(zI.indexOf(e)>-1||/[A-Z]/u.test(e))}function $I(e=!1){return(n,a,s,{latestValues:l},c)=>{const f=(Sb(n)?II:_I)(a,l,c,n),m=hI(a,typeof n=="string",e),h=n!==y.Fragment?{...m,...f,ref:s}:{},{children:g}=a,x=y.useMemo(()=>ta(g)?g.get():g,[g]);return y.createElement(n,{...h,children:x})}}function JS(e){const t=[{},{}];return e==null||e.values.forEach((n,a)=>{t[0][a]=n.get(),t[1][a]=n.getVelocity()}),t}function Cb(e,t,n,a){if(typeof t=="function"){const[s,l]=JS(a);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=JS(a);t=t(n!==void 0?n:e.custom,s,l)}return t}function rm(e){return ta(e)?e.get():e}function BI({scrapeMotionValuesFromProps:e,createRenderState:t},n,a,s){return{latestValues:qI(n,a,s,e),renderState:t()}}const AT=e=>(t,n)=>{const a=y.useContext(rh),s=y.useContext(ah),l=()=>BI(e,t,a,s);return n?l():Yv(l)};function qI(e,t,n,a){const s={},l=a(e,{});for(const x in l)s[x]=rm(l[x]);let{initial:c,animate:d}=e;const f=ih(e),m=xT(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let h=n?n.initial===!1:!1;h=h||c===!1;const g=h?d:c;if(g&&typeof g!="boolean"&&!sh(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const j=Cb(e,x[b]);if(j){const{transitionEnd:N,transition:S,...C}=j;for(const A in C){let E=C[A];if(Array.isArray(E)){const T=h?E.length-1:0;E=E[T]}E!==null&&(s[A]=E)}for(const A in N)s[A]=N[A]}}}return s}function Ab(e,t,n){var l;const{style:a}=e,s={};for(const c in a)(ta(a[c])||t.style&&ta(t.style[c])||jT(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=a[c]);return s}const UI={useVisualState:AT({scrapeMotionValuesFromProps:Ab,createRenderState:Nb})};function ET(e,t,n){const a=Ab(e,t,n);for(const s in e)if(ta(e[s])||ta(t[s])){const l=$l.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[l]=e[s]}return a}const VI={useVisualState:AT({scrapeMotionValuesFromProps:ET,createRenderState:ST})};function FI(e,t){return function(a,{forwardMotionProps:s}={forwardMotionProps:!1}){const c={...Sb(a)?VI:UI,preloadedFeatures:e,useRender:$I(s),createVisualElement:t,Component:a};return NI(c)}}function Tu(e,t,n){const a=e.getProps();return Cb(a,t,n!==void 0?n:a.custom,e)}const Ey=e=>Array.isArray(e);function HI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,jl(n))}function GI(e){return Ey(e)?e[e.length-1]||0:e}function KI(e,t){const n=Tu(e,t);let{transitionEnd:a={},transition:s={},...l}=n||{};l={...l,...a};for(const c in l){const d=GI(l[c]);HI(e,c,d)}}function YI(e){return!!(ta(e)&&e.add)}function Oy(e,t){const n=e.getValue("willChange");if(YI(n))return n.add(t);if(!n&&gs.WillChange){const a=new gs.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function OT(e){return e.props[yT]}const WI=e=>e!==null;function XI(e,{repeat:t,repeatType:n="loop"},a){const s=e.filter(WI),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const ZI={type:"spring",stiffness:500,damping:25,restSpeed:10},QI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JI={type:"keyframes",duration:.8},e9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t9=(e,{keyframes:t})=>t.length>2?JI:Bl.has(e)?e.startsWith("scale")?QI(t[1]):ZI:e9;function n9({when:e,delay:t,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const Eb=(e,t,n,a={},s,l)=>c=>{const d=hb(a,e)||{},f=d.delay||a.delay||0;let{elapsed:m=0}=a;m=m-Ir(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};n9(d)||Object.assign(h,t9(e,h)),h.duration&&(h.duration=Ir(h.duration)),h.repeatDelay&&(h.repeatDelay=Ir(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(g=!0)),(gs.instantAnimations||gs.skipAnimations)&&(g=!0,h.duration=0,h.delay=0),h.allowFlatten=!d.type&&!d.ease,g&&!l&&t.get()!==void 0){const x=XI(h.keyframes,d);if(x!==void 0){nn.update(()=>{h.onUpdate(x),h.onComplete()});return}}return d.isSync?new db(h):new L7(h)};function a9({protectedKeys:e,needsAnimating:t},n){const a=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,a}function TT(e,t,{delay:n=0,transitionOverride:a,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;a&&(l=a);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in d){const g=e.getValue(h,e.latestValues[h]??null),x=d[h];if(x===void 0||m&&a9(m,h))continue;const b={delay:n,...hb(l||{},h)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===j&&!b.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const C=OT(e);if(C){const A=window.MotionHandoffAnimation(C,h,nn);A!==null&&(b.startTime=A,N=!0)}}Oy(e,h),g.start(Eb(h,g,x,e.shouldReduceMotion&&rT.has(h)?{type:!1}:b,e,N));const S=g.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{nn.update(()=>{c&&KI(e,c)})}),f}function Ty(e,t,n={}){var f;const a=Tu(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const l=a?()=>Promise.all(TT(e,a,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:x}=s;return r9(e,t,h+m,g,x,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,h]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>h())}else return Promise.all([l(),c(n.delay)])}function r9(e,t,n=0,a=0,s=1,l){const c=[],d=(e.variantChildren.size-1)*a,f=s===1?(m=0)=>m*a:(m=0)=>d-m*a;return Array.from(e.variantChildren).sort(s9).forEach((m,h)=>{m.notify("AnimationStart",t),c.push(Ty(m,t,{...l,delay:n+f(h)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(c)}function s9(e,t){return e.sortNodePosition(t)}function i9(e,t,n={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(l=>Ty(e,l,n));a=Promise.all(s)}else if(typeof t=="string")a=Ty(e,t,n);else{const s=typeof t=="function"?Tu(e,t,n.custom):t;a=Promise.all(TT(e,s,n))}return a.then(()=>{e.notify("AnimationComplete",t)})}function kT(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let a=0;a<n;a++)if(t[a]!==e[a])return!1;return!0}const o9=bb.length;function MT(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?MT(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<o9;n++){const a=bb[n],s=e.props[a];(Eu(s)||s===!1)&&(t[a]=s)}return t}const l9=[...vb].reverse(),c9=vb.length;function u9(e){return t=>Promise.all(t.map(({animation:n,options:a})=>i9(e,n,a)))}function d9(e){let t=u9(e),n=eC(),a=!0;const s=f=>(m,h)=>{var x;const g=Tu(e,h,f==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:b,transitionEnd:j,...N}=g;m={...m,...N,...j}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,h=MT(e.parent)||{},g=[],x=new Set;let b={},j=1/0;for(let S=0;S<c9;S++){const C=l9[S],A=n[C],E=m[C]!==void 0?m[C]:h[C],T=Eu(E),O=C===f?A.isActive:null;O===!1&&(j=S);let k=E===h[C]&&E!==m[C]&&T;if(k&&a&&e.manuallyAnimateOnMount&&(k=!1),A.protectedKeys={...b},!A.isActive&&O===null||!E&&!A.prevProp||sh(E)||typeof E=="boolean")continue;const P=f9(A.prevProp,E);let _=P||C===f&&A.isActive&&!k&&T||S>j&&T,L=!1;const U=Array.isArray(E)?E:[E];let V=U.reduce(s(C),{});O===!1&&(V={});const{prevResolvedValues:K={}}=A,le={...K,...V},ee=re=>{_=!0,x.has(re)&&(L=!0,x.delete(re)),A.needsAnimating[re]=!0;const Q=e.getValue(re);Q&&(Q.liveStyle=!1)};for(const re in le){const Q=V[re],H=K[re];if(b.hasOwnProperty(re))continue;let D=!1;Ey(Q)&&Ey(H)?D=!kT(Q,H):D=Q!==H,D?Q!=null?ee(re):x.add(re):Q!==void 0&&x.has(re)?ee(re):A.protectedKeys[re]=!0}A.prevProp=E,A.prevResolvedValues=V,A.isActive&&(b={...b,...V}),a&&e.blockInitialAnimation&&(_=!1),_&&(!(k&&P)||L)&&g.push(...U.map(re=>({animation:re,options:{type:C}})))}if(x.size){const S={};if(typeof m.initial!="boolean"){const C=Tu(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(S.transition=C.transition)}x.forEach(C=>{const A=e.getBaseTarget(C),E=e.getValue(C);E&&(E.liveStyle=!0),S[C]=A??null}),g.push({animation:S})}let N=!!g.length;return a&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(N=!1),a=!1,N?t(g):Promise.resolve()}function d(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(x=>{var b;return(b=x.animationState)==null?void 0:b.setActive(f,m)}),n[f].isActive=m;const h=c(f);for(const x in n)n[x].protectedKeys={};return h}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=eC(),a=!0}}}function f9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kT(t,e):!1}function zi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eC(){return{animate:zi(!0),whileInView:zi(),whileHover:zi(),whileTap:zi(),whileDrag:zi(),whileFocus:zi(),exit:zi()}}class hi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class m9 extends hi{constructor(t){super(t),t.animationState||(t.animationState=d9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let h9=0;class p9 extends hi{constructor(){super(...arguments),this.id=h9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const g9={animation:{Feature:m9},exit:{Feature:p9}};function ku(e,t,n,a={passive:!0}){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n)}function Wu(e){return{point:{x:e.pageX,y:e.pageY}}}const x9=e=>t=>xb(t)&&e(t,Wu(t));function gu(e,t,n,a){return ku(e,t,x9(n),a)}function PT({top:e,left:t,right:n,bottom:a}){return{x:{min:t,max:n},y:{min:e,max:a}}}function y9({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function v9(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const _T=1e-4,b9=1-_T,j9=1+_T,DT=.01,w9=0-DT,N9=0+DT;function ra(e){return e.max-e.min}function S9(e,t,n){return Math.abs(e-t)<=n}function tC(e,t,n,a=.5){e.origin=a,e.originPoint=tn(t.min,t.max,e.origin),e.scale=ra(n)/ra(t),e.translate=tn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=b9&&e.scale<=j9||isNaN(e.scale))&&(e.scale=1),(e.translate>=w9&&e.translate<=N9||isNaN(e.translate))&&(e.translate=0)}function xu(e,t,n,a){tC(e.x,t.x,n.x,a?a.originX:void 0),tC(e.y,t.y,n.y,a?a.originY:void 0)}function nC(e,t,n){e.min=n.min+t.min,e.max=e.min+ra(t)}function C9(e,t,n){nC(e.x,t.x,n.x),nC(e.y,t.y,n.y)}function aC(e,t,n){e.min=t.min-n.min,e.max=e.min+ra(t)}function yu(e,t,n){aC(e.x,t.x,n.x),aC(e.y,t.y,n.y)}const rC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:rC(),y:rC()}),sC=()=>({min:0,max:0}),hn=()=>({x:sC(),y:sC()});function er(e){return[e("x"),e("y")]}function yg(e){return e===void 0||e===1}function ky({scale:e,scaleX:t,scaleY:n}){return!yg(e)||!yg(t)||!yg(n)}function Bi(e){return ky(e)||RT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function RT(e){return iC(e.x)||iC(e.y)}function iC(e){return e&&e!=="0%"}function pm(e,t,n){const a=e-n,s=t*a;return n+s}function oC(e,t,n,a,s){return s!==void 0&&(e=pm(e,s,a)),pm(e,n,a)+t}function My(e,t=0,n=1,a,s){e.min=oC(e.min,t,n,a,s),e.max=oC(e.max,t,n,a,s)}function LT(e,{x:t,y:n}){My(e.x,t.translate,t.scale,t.originPoint),My(e.y,n.translate,n.scale,n.originPoint)}const lC=.999999999999,cC=1.0000000000001;function A9(e,t,n,a=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&pl(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,LT(e,c)),a&&Bi(l.latestValues)&&pl(e,l.latestValues))}t.x<cC&&t.x>lC&&(t.x=1),t.y<cC&&t.y>lC&&(t.y=1)}function hl(e,t){e.min=e.min+t,e.max=e.max+t}function uC(e,t,n,a,s=.5){const l=tn(e.min,e.max,s);My(e,t,n,l,a)}function pl(e,t){uC(e.x,t.x,t.scaleX,t.scale,t.originX),uC(e.y,t.y,t.scaleY,t.scale,t.originY)}function IT(e,t){return PT(v9(e.getBoundingClientRect(),t))}function E9(e,t,n){const a=IT(e,n),{scroll:s}=t;return s&&(hl(a.x,s.offset.x),hl(a.y,s.offset.y)),a}const zT=({current:e})=>e?e.ownerDocument.defaultView:null,dC=(e,t)=>Math.abs(e-t);function O9(e,t){const n=dC(e.x,t.x),a=dC(e.y,t.y);return Math.sqrt(n**2+a**2)}class $T{constructor(t,n,{transformPagePoint:a,contextWindow:s,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=bg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=O9(g.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:j}=g,{timestamp:N}=Vn;this.history.push({...j,timestamp:N});const{onStart:S,onMove:C}=this.handlers;x||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=vg(x,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=bg(g.type==="pointercancel"?this.lastMoveEventInfo:vg(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,S),j&&j(g,S)},!xb(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=a,this.contextWindow=s||window;const c=Wu(t),d=vg(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=Vn;this.history=[{...f,timestamp:m}];const{onSessionStart:h}=n;h&&h(t,bg(d,this.history)),this.removeListeners=Gu(gu(this.contextWindow,"pointermove",this.handlePointerMove),gu(this.contextWindow,"pointerup",this.handlePointerUp),gu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ci(this.updatePoint)}}function vg(e,t){return t?{point:t(e.point)}:e}function fC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bg({point:e},t){return{point:e,delta:fC(e,BT(t)),offset:fC(e,T9(t)),velocity:k9(t,.1)}}function T9(e){return e[0]}function BT(e){return e[e.length-1]}function k9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,a=null;const s=BT(e);for(;n>=0&&(a=e[n],!(s.timestamp-a.timestamp>Ir(t)));)n--;if(!a)return{x:0,y:0};const l=zr(s.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-a.x)/l,y:(s.y-a.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function M9(e,{min:t,max:n},a){return t!==void 0&&e<t?e=a?tn(t,e,a.min):Math.max(e,t):n!==void 0&&e>n&&(e=a?tn(n,e,a.max):Math.min(e,n)),e}function mC(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function P9(e,{top:t,left:n,bottom:a,right:s}){return{x:mC(e.x,n,s),y:mC(e.y,t,a)}}function hC(e,t){let n=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,a]=[a,n]),{min:n,max:a}}function _9(e,t){return{x:hC(e.x,t.x),y:hC(e.y,t.y)}}function D9(e,t){let n=.5;const a=ra(e),s=ra(t);return s>a?n=Nu(t.min,t.max-a,e.min):a>s&&(n=Nu(e.min,e.max-s,t.min)),ps(0,1,n)}function R9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Py=.35;function L9(e=Py){return e===!1?e=0:e===!0&&(e=Py),{x:pC(e,"left","right"),y:pC(e,"top","bottom")}}function pC(e,t,n){return{min:gC(e,t),max:gC(e,n)}}function gC(e,t){return typeof e=="number"?e:e[t]||0}const I9=new WeakMap;class z9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wu(h).point)},l=(h,g)=>{const{drag:x,dragPropagation:b,onDragStart:j}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Q7(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(S=>{let C=this.getAxisMotionValue(S).get()||0;if($r.test(C)){const{projection:A}=this.visualElement;if(A&&A.layout){const E=A.layout.layoutBox[S];E&&(C=ra(E)*(parseFloat(C)/100))}}this.originPoint[S]=C}),j&&nn.postRender(()=>j(h,g)),Oy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(h,g)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:j,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:S}=g;if(b&&this.currentDirection===null){this.currentDirection=$9(S),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),N&&N(h,g)},d=(h,g)=>this.stop(h,g),f=()=>er(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new $T(t,{onSessionStart:s,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:zT(this.visualElement)})}stop(t,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:l}=this.getProps();l&&nn.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,a){const{drag:s}=this.getProps();if(!a||!Of(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(c=M9(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&fl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=P9(a.layoutBox,t):this.constraints=!1,this.elastic=L9(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&er(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=R9(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!fl(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=E9(a,s.root,this.visualElement.getTransformPagePoint());let c=_9(s.layout.layoutBox,l);if(n){const d=n(y9(c));this.hasMutatedConstraints=!!d,d&&(c=PT(d))}return c}startAnimation(t){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=er(h=>{if(!Of(h,n,this.currentDirection))return;let g=f&&f[h]||{};c&&(g={min:0,max:0});const x=s?200:1e6,b=s?40:1e7,j={type:"inertia",velocity:a?t[h]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(h,j)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const a=this.getAxisMotionValue(t);return Oy(this.visualElement,t),a.start(Eb(t,a,0,n,this.visualElement,!1))}stopAnimation(){er(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){er(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){er(n=>{const{drag:a}=this.getProps();if(!Of(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];l.set(t[n]-tn(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!fl(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};er(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();s[c]=D9({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),er(c=>{if(!Of(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(tn(f,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;I9.set(this.visualElement,this);const t=this.visualElement.current,n=gu(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),a=()=>{const{dragConstraints:f}=this.getProps();fl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),nn.read(a);const c=ku(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(er(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=f[h].translate,g.set(g.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=Py,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Of(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class B9 extends hi{constructor(t){super(t),this.removeGroupControls=ar,this.removeListeners=ar,this.controls=new z9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ar}unmount(){this.removeGroupControls(),this.removeListeners()}}const xC=e=>(t,n)=>{e&&nn.postRender(()=>e(t,n))};class q9 extends hi{constructor(){super(...arguments),this.removePointerDownListener=ar}onPointerDown(t){this.session=new $T(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:xC(t),onStart:xC(n),onMove:a,onEnd:(l,c)=>{delete this.session,s&&nn.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=gu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(lt.test(e))e=parseFloat(e);else return e;const n=yC(e,t.target.x),a=yC(e,t.target.y);return`${n}% ${a}%`}},U9={correct:(e,{treeScale:t,projectionDelta:n})=>{const a=e,s=ui.parse(e);if(s.length>5)return a;const l=ui.createTransformer(e),c=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+c]/=d,s[1+c]/=f;const m=tn(d,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};class V9 extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:l}=t;EI(F9),l&&(n.group&&n.group.add(l),a&&a.register&&s&&a.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:a,drag:s,isPresent:l}=this.props,{projection:c}=a;return c&&(c.isPresent=l,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||nn.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gb.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qT(e){const[t,n]=hT(),a=y.useContext(Kv);return r.jsx(V9,{...e,layoutGroup:a,switchLayoutGroup:y.useContext(vT),isPresent:t,safeToRemove:n})}const F9={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:U9};function H9(e,t,n){const a=ta(e)?e:jl(e);return a.start(Eb("",a,t,n)),a.animation}const G9=(e,t)=>e.depth-t.depth;class K9{constructor(){this.children=[],this.isDirty=!1}add(t){Xv(this.children,t),this.isDirty=!0}remove(t){Zv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(G9),this.isDirty=!1,this.children.forEach(t)}}function Y9(e,t){const n=ma.now(),a=({timestamp:s})=>{const l=s-n;l>=t&&(ci(a),e(l-t))};return nn.setup(a,!0),()=>ci(a)}const UT=["TopLeft","TopRight","BottomLeft","BottomRight"],W9=UT.length,vC=e=>typeof e=="string"?parseFloat(e):e,bC=e=>typeof e=="number"||lt.test(e);function X9(e,t,n,a,s,l){s?(e.opacity=tn(0,n.opacity??1,Z9(a)),e.opacityExit=tn(t.opacity??1,0,Q9(a))):l&&(e.opacity=tn(t.opacity??1,n.opacity??1,a));for(let c=0;c<W9;c++){const d=`border${UT[c]}Radius`;let f=jC(t,d),m=jC(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||bC(f)===bC(m)?(e[d]=Math.max(tn(vC(f),vC(m),a),0),($r.test(m)||$r.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=tn(t.rotate||0,n.rotate||0,a))}function jC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Z9=VT(0,.5,RO),Q9=VT(.5,.95,ar);function VT(e,t,n){return a=>a<e?0:a>t?1:n(Nu(e,t,a))}function wC(e,t){e.min=t.min,e.max=t.max}function Xa(e,t){wC(e.x,t.x),wC(e.y,t.y)}function NC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function SC(e,t,n,a,s){return e-=t,e=pm(e,1/n,a),s!==void 0&&(e=pm(e,1/s,a)),e}function J9(e,t=0,n=1,a=.5,s,l=e,c=e){if($r.test(t)&&(t=parseFloat(t),t=tn(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=tn(l.min,l.max,a);e===l&&(d-=t),e.min=SC(e.min,t,n,d,s),e.max=SC(e.max,t,n,d,s)}function CC(e,t,[n,a,s],l,c){J9(e,t[n],t[a],t[s],t.scale,l,c)}const ez=["x","scaleX","originX"],tz=["y","scaleY","originY"];function AC(e,t,n,a){CC(e.x,t,ez,n?n.x:void 0,a?a.x:void 0),CC(e.y,t,tz,n?n.y:void 0,a?a.y:void 0)}function EC(e){return e.translate===0&&e.scale===1}function FT(e){return EC(e.x)&&EC(e.y)}function OC(e,t){return e.min===t.min&&e.max===t.max}function nz(e,t){return OC(e.x,t.x)&&OC(e.y,t.y)}function TC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function HT(e,t){return TC(e.x,t.x)&&TC(e.y,t.y)}function kC(e){return ra(e.x)/ra(e.y)}function MC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class az{constructor(){this.members=[]}add(t){Xv(this.members,t),t.scheduleRender()}remove(t){if(Zv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(t,n){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,n&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:a}=t;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rz(e,t,n){let a="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((s||l||c)&&(a=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:h,rotateX:g,rotateY:x,skewX:b,skewY:j}=n;m&&(a=`perspective(${m}px) ${a}`),h&&(a+=`rotate(${h}deg) `),g&&(a+=`rotateX(${g}deg) `),x&&(a+=`rotateY(${x}deg) `),b&&(a+=`skewX(${b}deg) `),j&&(a+=`skewY(${j}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(a+=`scale(${d}, ${f})`),a||"none"}const jg=["","X","Y","Z"],sz={visibility:"hidden"},iz=1e3;let oz=0;function wg(e,t,n,a){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function GT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=OT(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",nn,!(s||l))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&GT(a)}function KT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(c={},d=t==null?void 0:t()){this.id=oz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uz),this.nodes.forEach(pz),this.nodes.forEach(gz),this.nodes.forEach(dz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new K9)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new eb),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=mT(c)&&!rI(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let h;const g=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Y9(g,250),sm.hasAnimatedSinceResize&&(sm.hasAnimatedSinceResize=!1,this.nodes.forEach(_C))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||m.getDefaultTransition()||jz,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=m.getProps(),C=!this.targetLayout||!HT(this.targetLayout,b),A=!g&&x;if(this.options.layoutRoot||this.resumeFrom||A||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...hb(j,"layout"),onPlay:N,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,A)}else g||_C(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xz),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PC);return}this.isUpdating||this.nodes.forEach(mz),this.isUpdating=!1,this.nodes.forEach(hz),this.nodes.forEach(lz),this.nodes.forEach(cz),this.clearAllSnapshots();const d=ma.now();Vn.delta=ps(0,1e3/60,d-Vn.timestamp),Vn.timestamp=d,Vn.isProcessing=!0,fg.update.process(Vn),fg.preRender.process(Vn),fg.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fz),this.sharedNodes.forEach(yz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ra(this.snapshot.measuredBox.x)&&!ra(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!FT(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Bi(this.latestValues)||h)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),wz(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return hn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(Nz))){const{scroll:h}=this.root;h&&(hl(d.x,h.offset.x),hl(d.y,h.offset.y))}return d}removeElementScroll(c){var f;const d=hn();if(Xa(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:g,options:x}=h;h!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Xa(d,c),hl(d.x,g.offset.x),hl(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const f=hn();Xa(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!d&&h.options.layoutScroll&&h.scroll&&h!==h.root&&pl(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Bi(h.latestValues)&&pl(f,h.latestValues)}return Bi(this.latestValues)&&pl(f,this.latestValues),f}removeTransform(c){const d=hn();Xa(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Bi(m.latestValues))continue;ky(m.latestValues)&&m.updateSnapshot();const h=hn(),g=m.measurePageBox();Xa(h,g),AC(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return Bi(this.latestValues)&&AC(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),yu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Xa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xa(this.target,this.layout.layoutBox),LT(this.target,this.targetDelta)):Xa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),yu(this.relativeTargetOrigin,this.target,b.target),Xa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ky(this.parent.latestValues)||RT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;Xa(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;A9(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=hn());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NC(this.prevProjectionDelta.x,this.projectionDelta.x),NC(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!MC(this.projectionDelta.x,this.prevProjectionDelta.x)||!MC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},g=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=hn(),b=f?f.source:void 0,j=this.layout?this.layout.source:void 0,N=b!==j,S=this.getStack(),C=!S||S.members.length<=1,A=!!(N&&!C&&this.options.crossfade===!0&&!this.path.some(bz));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const O=T/1e3;DC(g.x,c.x,O),DC(g.y,c.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vz(this.relativeTarget,this.relativeTargetOrigin,x,O),E&&nz(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=hn()),Xa(E,this.relativeTarget)),N&&(this.animationValues=h,X9(h,m,this.latestValues,O,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{sm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jl(0)),this.currentAnimation=H9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:h}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&YT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||hn();const g=ra(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=ra(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}Xa(d,f),pl(d,h),xu(this.projectionDeltaWithTransform,this.layoutCorrected,d,h)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new az),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&wg("z",c,m,this.animationValues);for(let h=0;h<jg.length;h++)wg(`rotate${jg[h]}`,c,m,this.animationValues),wg(`skew${jg[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return sz;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=rm(c==null?void 0:c.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=rm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Bi(this.latestValues)&&(b.transform=f?f({},""):"none",this.hasProjected=!1),b}const h=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=rz(this.projectionDeltaWithTransform,this.treeScale,h),f&&(d.transform=f(h,d.transform));const{x:g,y:x}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,m.animationValues?d.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:d.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in Ou){if(h[b]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:S}=Ou[b],C=d.transform==="none"?h[b]:j(h[b],m);if(N){const A=N.length;for(let E=0;E<A;E++)d[N[E]]=C}else S?this.options.visualElement.renderState.vars[b]=C:d[b]=C}return this.options.layoutId&&(d.pointerEvents=m===this?rm(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(PC),this.root.sharedNodes.clear()}}}function lz(e){e.updateLayout()}function cz(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?er(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],b=ra(x);x.min=a[g].min,x.max=x.min+b}):YT(l,t.layoutBox,a)&&er(g=>{const x=c?t.measuredBox[g]:t.layoutBox[g],b=ra(a[g]);x.max=x.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const d=ml();xu(d,a,t.layoutBox);const f=ml();c?xu(f,e.applyTransform(s,!0),t.measuredBox):xu(f,a,t.layoutBox);const m=!FT(d);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const j=hn();yu(j,t.layoutBox,x.layoutBox);const N=hn();yu(N,a,b.layoutBox),HT(j,N)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=j,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function uz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fz(e){e.clearSnapshot()}function PC(e){e.clearMeasurements()}function mz(e){e.isLayoutDirty=!1}function hz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _C(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pz(e){e.resolveTargetDelta()}function gz(e){e.calcProjection()}function xz(e){e.resetSkewAndRotation()}function yz(e){e.removeLeadSnapshot()}function DC(e,t,n){e.translate=tn(t.translate,0,n),e.scale=tn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function RC(e,t,n,a){e.min=tn(t.min,n.min,a),e.max=tn(t.max,n.max,a)}function vz(e,t,n,a){RC(e.x,t.x,n.x,a),RC(e.y,t.y,n.y,a)}function bz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jz={duration:.45,ease:[.4,0,.1,1]},LC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),IC=LC("applewebkit/")&&!LC("chrome/")?Math.round:ar;function zC(e){e.min=IC(e.min),e.max=IC(e.max)}function wz(e){zC(e.x),zC(e.y)}function YT(e,t,n){return e==="position"||e==="preserve-aspect"&&!S9(kC(t),kC(n),.2)}function Nz(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Sz=KT({attachResizeListener:(e,t)=>ku(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ng={current:void 0},WT=KT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ng.current){const e=new Sz({});e.mount(window),e.setOptions({layoutScroll:!0}),Ng.current=e}return Ng.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Cz={pan:{Feature:q9},drag:{Feature:B9,ProjectionNode:WT,MeasureLayout:qT}};function $C(e,t,n){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=a[s];l&&nn.postRender(()=>l(t,Wu(t)))}class Az extends hi{mount(){const{current:t}=this.node;t&&(this.unmount=J7(t,(n,a)=>($C(this.node,a,"Start"),s=>$C(this.node,s,"End"))))}unmount(){}}class Ez extends hi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gu(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BC(e,t,n){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=a[s];l&&nn.postRender(()=>l(t,Wu(t)))}class Oz extends hi{mount(){const{current:t}=this.node;t&&(this.unmount=aI(t,(n,a)=>(BC(this.node,a,"Start"),(s,{success:l})=>BC(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _y=new WeakMap,Sg=new WeakMap,Tz=e=>{const t=_y.get(e.target);t&&t(e)},kz=e=>{e.forEach(Tz)};function Mz({root:e,...t}){const n=e||document;Sg.has(n)||Sg.set(n,{});const a=Sg.get(n),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(kz,{root:e,...t})),a[s]}function Pz(e,t,n){const a=Mz(t);return _y.set(e,n),a.observe(e),()=>{_y.delete(e),a.unobserve(e)}}const _z={some:0,all:1};class Dz extends hi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:_z[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),x=m?h:g;x&&x(f)};return Pz(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Rz(t,n))&&this.startObserver()}unmount(){}}function Rz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Lz={inView:{Feature:Dz},tap:{Feature:Oz},focus:{Feature:Ez},hover:{Feature:Az}},Iz={layout:{ProjectionNode:WT,MeasureLayout:qT}},Dy={current:null},XT={current:!1};function zz(){if(XT.current=!0,!!Wv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dy.current=e.matches;e.addListener(t),t()}else Dy.current=!1}const $z=new WeakMap;function Bz(e,t,n){for(const a in t){const s=t[a],l=n[a];if(ta(s))e.addValue(a,s);else if(ta(l))e.addValue(a,jl(s,{owner:e}));else if(l!==s)if(e.hasValue(a)){const c=e.getValue(a);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(a);e.addValue(a,jl(c!==void 0?c:s,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const qC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qz{scrapeMotionValuesFromProps(t,n,a){return{}}constructor({parent:t,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ma.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,nn.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ih(n),this.isVariantNode=xT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const b=g[x];f[x]!==void 0&&ta(b)&&b.set(f[x],!1)}}mount(t){this.current=t,$z.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),XT.current||zz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ci(this.notifyUpdate),ci(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Bl.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&nn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wl){const n=wl[t];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<qC.length;a++){const s=qC[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=Bz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const a=this.values.get(t);n!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&n!==void 0&&(a=jl(n===null?void 0:n,{owner:this}),this.addValue(t,a)),a}readValue(t,n){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(CO(a)||EO(a))?a=parseFloat(a):!iI(a)&&ui.test(n)&&(a=lT(t,n)),this.setBaseTarget(t,ta(a)?a.get():a)),ta(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=Cb(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(a=c[t])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ta(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new eb),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ZT extends qz{constructor(){super(...arguments),this.KeyframeResolver=Y7}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:a}){delete n[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ta(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function QT(e,{style:t,vars:n},a,s){Object.assign(e.style,t,s&&s.getProjectionStyles(a));for(const l in n)e.style.setProperty(l,n[l])}function Uz(e){return window.getComputedStyle(e)}class Vz extends ZT{constructor(){super(...arguments),this.type="html",this.renderInstance=QT}readValueFromInstance(t,n){var a;if(Bl.has(n))return(a=this.projection)!=null&&a.isProjecting?jy(n):m7(t,n);{const s=Uz(t),l=(ab(n)?s.getPropertyValue(n):s[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return IT(t,n)}build(t,n,a){wb(t,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,n,a){return Ab(t,n,a)}}const JT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fz(e,t,n,a){QT(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(JT.has(s)?s:jb(s),t.attrs[s])}class Hz extends ZT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Bl.has(n)){const a=oT(n);return a&&a.default||0}return n=JT.has(n)?n:jb(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,a){return ET(t,n,a)}build(t,n,a){NT(t,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,n,a,s){Fz(t,n,a,s)}mount(t){this.isSVGTag=CT(t.tagName),super.mount(t)}}const Gz=(e,t)=>Sb(e)?new Hz(t):new Vz(t,{allowProjection:e!==y.Fragment}),Kz=FI({...g9,...Lz,...Cz,...Iz},Gz),gt=pI(Kz);function e3(e,t){return function(){return e.apply(t,arguments)}}const{toString:Yz}=Object.prototype,{getPrototypeOf:Ob}=Object,{iterator:oh,toStringTag:t3}=Symbol,lh=(e=>t=>{const n=Yz.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Sr=e=>(e=e.toLowerCase(),t=>lh(t)===e),ch=e=>t=>typeof t===e,{isArray:ql}=Array,Mu=ch("undefined");function Wz(e){return e!==null&&!Mu(e)&&e.constructor!==null&&!Mu(e.constructor)&&xa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const n3=Sr("ArrayBuffer");function Xz(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&n3(e.buffer),t}const Zz=ch("string"),xa=ch("function"),a3=ch("number"),uh=e=>e!==null&&typeof e=="object",Qz=e=>e===!0||e===!1,im=e=>{if(lh(e)!=="object")return!1;const t=Ob(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(t3 in e)&&!(oh in e)},Jz=Sr("Date"),e$=Sr("File"),t$=Sr("Blob"),n$=Sr("FileList"),a$=e=>uh(e)&&xa(e.pipe),r$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xa(e.append)&&((t=lh(e))==="formdata"||t==="object"&&xa(e.toString)&&e.toString()==="[object FormData]"))},s$=Sr("URLSearchParams"),[i$,o$,l$,c$]=["ReadableStream","Request","Response","Headers"].map(Sr),u$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),ql(e))for(a=0,s=e.length;a<s;a++)t.call(null,e[a],a,e);else{const l=n?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let d;for(a=0;a<c;a++)d=l[a],t.call(null,e[d],d,e)}}function r3(e,t){t=t.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],t===s.toLowerCase())return s;return null}const Ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,s3=e=>!Mu(e)&&e!==Ki;function Ry(){const{caseless:e}=s3(this)&&this||{},t={},n=(a,s)=>{const l=e&&r3(t,s)||s;im(t[l])&&im(a)?t[l]=Ry(t[l],a):im(a)?t[l]=Ry({},a):ql(a)?t[l]=a.slice():t[l]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Xu(arguments[a],n);return t}const d$=(e,t,n,{allOwnKeys:a}={})=>(Xu(t,(s,l)=>{n&&xa(s)?e[l]=e3(s,n):e[l]=s},{allOwnKeys:a}),e),f$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),m$=(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},h$=(e,t,n,a)=>{let s,l,c;const d={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)c=s[l],(!a||a(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=n!==!1&&Ob(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},p$=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return a!==-1&&a===n},g$=e=>{if(!e)return null;if(ql(e))return e;let t=e.length;if(!a3(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},x$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ob(Uint8Array)),y$=(e,t)=>{const a=(e&&e[oh]).call(e);let s;for(;(s=a.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},v$=(e,t)=>{let n;const a=[];for(;(n=e.exec(t))!==null;)a.push(n);return a},b$=Sr("HTMLFormElement"),j$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),UC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),w$=Sr("RegExp"),i3=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Xu(n,(s,l)=>{let c;(c=t(s,l,e))!==!1&&(a[l]=c||s)}),Object.defineProperties(e,a)},N$=e=>{i3(e,(t,n)=>{if(xa(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(xa(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},S$=(e,t)=>{const n={},a=s=>{s.forEach(l=>{n[l]=!0})};return ql(e)?a(e):a(String(e).split(t)),n},C$=()=>{},A$=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function E$(e){return!!(e&&xa(e.append)&&e[t3]==="FormData"&&e[oh])}const O$=e=>{const t=new Array(10),n=(a,s)=>{if(uh(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[s]=a;const l=ql(a)?[]:{};return Xu(a,(c,d)=>{const f=n(c,s+1);!Mu(f)&&(l[d]=f)}),t[s]=void 0,l}}return a};return n(e,0)},T$=Sr("AsyncFunction"),k$=e=>e&&(uh(e)||xa(e))&&xa(e.then)&&xa(e.catch),o3=((e,t)=>e?setImmediate:t?((n,a)=>(Ki.addEventListener("message",({source:s,data:l})=>{s===Ki&&l===n&&a.length&&a.shift()()},!1),s=>{a.push(s),Ki.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xa(Ki.postMessage)),M$=typeof queueMicrotask<"u"?queueMicrotask.bind(Ki):typeof process<"u"&&process.nextTick||o3,P$=e=>e!=null&&xa(e[oh]),ye={isArray:ql,isArrayBuffer:n3,isBuffer:Wz,isFormData:r$,isArrayBufferView:Xz,isString:Zz,isNumber:a3,isBoolean:Qz,isObject:uh,isPlainObject:im,isReadableStream:i$,isRequest:o$,isResponse:l$,isHeaders:c$,isUndefined:Mu,isDate:Jz,isFile:e$,isBlob:t$,isRegExp:w$,isFunction:xa,isStream:a$,isURLSearchParams:s$,isTypedArray:x$,isFileList:n$,forEach:Xu,merge:Ry,extend:d$,trim:u$,stripBOM:f$,inherits:m$,toFlatObject:h$,kindOf:lh,kindOfTest:Sr,endsWith:p$,toArray:g$,forEachEntry:y$,matchAll:v$,isHTMLForm:b$,hasOwnProperty:UC,hasOwnProp:UC,reduceDescriptors:i3,freezeMethods:N$,toObjectSet:S$,toCamelCase:j$,noop:C$,toFiniteNumber:A$,findKey:r3,global:Ki,isContextDefined:s3,isSpecCompliantForm:E$,toJSONObject:O$,isAsyncFn:T$,isThenable:k$,setImmediate:o3,asap:M$,isIterable:P$};function ft(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}ye.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const l3=ft.prototype,c3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{c3[e]={value:e}});Object.defineProperties(ft,c3);Object.defineProperty(l3,"isAxiosError",{value:!0});ft.from=(e,t,n,a,s,l)=>{const c=Object.create(l3);return ye.toFlatObject(e,c,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),ft.call(c,e.message,t,n,a,s),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const _$=null;function Ly(e){return ye.isPlainObject(e)||ye.isArray(e)}function u3(e){return ye.endsWith(e,"[]")?e.slice(0,-2):e}function VC(e,t,n){return e?e.concat(t).map(function(s,l){return s=u3(s),!n&&l?"["+s+"]":s}).join(n?".":""):t}function D$(e){return ye.isArray(e)&&!e.some(Ly)}const R$=ye.toFlatObject(ye,{},null,function(t){return/^is[A-Z]/.test(t)});function dh(e,t,n){if(!ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,S){return!ye.isUndefined(S[N])});const a=n.metaTokens,s=n.visitor||h,l=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(t);if(!ye.isFunction(s))throw new TypeError("visitor must be a function");function m(j){if(j===null)return"";if(ye.isDate(j))return j.toISOString();if(ye.isBoolean(j))return j.toString();if(!f&&ye.isBlob(j))throw new ft("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(j)||ye.isTypedArray(j)?f&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function h(j,N,S){let C=j;if(j&&!S&&typeof j=="object"){if(ye.endsWith(N,"{}"))N=a?N:N.slice(0,-2),j=JSON.stringify(j);else if(ye.isArray(j)&&D$(j)||(ye.isFileList(j)||ye.endsWith(N,"[]"))&&(C=ye.toArray(j)))return N=u3(N),C.forEach(function(E,T){!(ye.isUndefined(E)||E===null)&&t.append(c===!0?VC([N],T,l):c===null?N:N+"[]",m(E))}),!1}return Ly(j)?!0:(t.append(VC(S,N,l),m(j)),!1)}const g=[],x=Object.assign(R$,{defaultVisitor:h,convertValue:m,isVisitable:Ly});function b(j,N){if(!ye.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));g.push(j),ye.forEach(j,function(C,A){(!(ye.isUndefined(C)||C===null)&&s.call(t,C,ye.isString(A)?A.trim():A,N,x))===!0&&b(C,N?N.concat(A):[A])}),g.pop()}}if(!ye.isObject(e))throw new TypeError("data must be an object");return b(e),t}function FC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Tb(e,t){this._pairs=[],e&&dh(e,this,t)}const d3=Tb.prototype;d3.append=function(t,n){this._pairs.push([t,n])};d3.toString=function(t){const n=t?function(a){return t.call(this,a,FC)}:FC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function L$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function f3(e,t,n){if(!t)return e;const a=n&&n.encode||L$;ye.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(t,n):l=ye.isURLSearchParams(t)?t.toString():new Tb(t,n).toString(a),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class HC{constructor(){this.handlers=[]}use(t,n,a){return this.handlers.push({fulfilled:t,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ye.forEach(this.handlers,function(a){a!==null&&t(a)})}}const m3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I$=typeof URLSearchParams<"u"?URLSearchParams:Tb,z$=typeof FormData<"u"?FormData:null,$$=typeof Blob<"u"?Blob:null,B$={isBrowser:!0,classes:{URLSearchParams:I$,FormData:z$,Blob:$$},protocols:["http","https","file","blob","url","data"]},kb=typeof window<"u"&&typeof document<"u",Iy=typeof navigator=="object"&&navigator||void 0,q$=kb&&(!Iy||["ReactNative","NativeScript","NS"].indexOf(Iy.product)<0),U$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V$=kb&&window.location.href||"http://localhost",F$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kb,hasStandardBrowserEnv:q$,hasStandardBrowserWebWorkerEnv:U$,navigator:Iy,origin:V$},Symbol.toStringTag,{value:"Module"})),ea={...F$,...B$};function H$(e,t){return dh(e,new ea.classes.URLSearchParams,Object.assign({visitor:function(n,a,s,l){return ea.isNode&&ye.isBuffer(n)?(this.append(a,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function G$(e){return ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function K$(e){const t={},n=Object.keys(e);let a;const s=n.length;let l;for(a=0;a<s;a++)l=n[a],t[l]=e[l];return t}function h3(e){function t(n,a,s,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),f=l>=n.length;return c=!c&&ye.isArray(s)?s.length:c,f?(ye.hasOwnProp(s,c)?s[c]=[s[c],a]:s[c]=a,!d):((!s[c]||!ye.isObject(s[c]))&&(s[c]=[]),t(n,a,s[c],l)&&ye.isArray(s[c])&&(s[c]=K$(s[c])),!d)}if(ye.isFormData(e)&&ye.isFunction(e.entries)){const n={};return ye.forEachEntry(e,(a,s)=>{t(G$(a),s,n,0)}),n}return null}function Y$(e,t,n){if(ye.isString(e))try{return(t||JSON.parse)(e),ye.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(e)}const Zu={transitional:m3,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,l=ye.isObject(t);if(l&&ye.isHTMLForm(t)&&(t=new FormData(t)),ye.isFormData(t))return s?JSON.stringify(h3(t)):t;if(ye.isArrayBuffer(t)||ye.isBuffer(t)||ye.isStream(t)||ye.isFile(t)||ye.isBlob(t)||ye.isReadableStream(t))return t;if(ye.isArrayBufferView(t))return t.buffer;if(ye.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return H$(t,this.formSerializer).toString();if((d=ye.isFileList(t))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return dh(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),Y$(t)):t}],transformResponse:[function(t){const n=this.transitional||Zu.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ye.isResponse(t)||ye.isReadableStream(t))return t;if(t&&ye.isString(t)&&(a&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(d){if(c)throw d.name==="SyntaxError"?ft.from(d,ft.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ea.classes.FormData,Blob:ea.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],e=>{Zu.headers[e]={}});const W$=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X$=e=>{const t={};let n,a,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),a=c.substring(s+1).trim(),!(!n||t[n]&&W$[n])&&(n==="set-cookie"?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t},GC=Symbol("internals");function eu(e){return e&&String(e).trim().toLowerCase()}function om(e){return e===!1||e==null?e:ye.isArray(e)?e.map(om):String(e)}function Z$(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}const Q$=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cg(e,t,n,a,s){if(ye.isFunction(a))return a.call(this,t,n);if(s&&(t=n),!!ye.isString(t)){if(ye.isString(a))return t.indexOf(a)!==-1;if(ye.isRegExp(a))return a.test(t)}}function J$(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,a)=>n.toUpperCase()+a)}function eB(e,t){const n=ye.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,l,c){return this[a].call(this,t,s,l,c)},configurable:!0})})}let ya=class{constructor(t){t&&this.set(t)}set(t,n,a){const s=this;function l(d,f,m){const h=eu(f);if(!h)throw new Error("header name must be a non-empty string");const g=ye.findKey(s,h);(!g||s[g]===void 0||m===!0||m===void 0&&s[g]!==!1)&&(s[g||f]=om(d))}const c=(d,f)=>ye.forEach(d,(m,h)=>l(m,h,f));if(ye.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(ye.isString(t)&&(t=t.trim())&&!Q$(t))c(X$(t),n);else if(ye.isObject(t)&&ye.isIterable(t)){let d={},f,m;for(const h of t){if(!ye.isArray(h))throw TypeError("Object iterator must return a key-value pair");d[m=h[0]]=(f=d[m])?ye.isArray(f)?[...f,h[1]]:[f,h[1]]:h[1]}c(d,n)}else t!=null&&l(n,t,a);return this}get(t,n){if(t=eu(t),t){const a=ye.findKey(this,t);if(a){const s=this[a];if(!n)return s;if(n===!0)return Z$(s);if(ye.isFunction(n))return n.call(this,s,a);if(ye.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=eu(t),t){const a=ye.findKey(this,t);return!!(a&&this[a]!==void 0&&(!n||Cg(this,this[a],a,n)))}return!1}delete(t,n){const a=this;let s=!1;function l(c){if(c=eu(c),c){const d=ye.findKey(a,c);d&&(!n||Cg(a,a[d],d,n))&&(delete a[d],s=!0)}}return ye.isArray(t)?t.forEach(l):l(t),s}clear(t){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const l=n[a];(!t||Cg(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const n=this,a={};return ye.forEach(this,(s,l)=>{const c=ye.findKey(a,l);if(c){n[c]=om(s),delete n[l];return}const d=t?J$(l):String(l).trim();d!==l&&delete n[l],n[d]=om(s),a[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ye.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=t&&ye.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const a=new this(t);return n.forEach(s=>a.set(s)),a}static accessor(t){const a=(this[GC]=this[GC]={accessors:{}}).accessors,s=this.prototype;function l(c){const d=eu(c);a[d]||(eB(s,c),a[d]=!0)}return ye.isArray(t)?t.forEach(l):l(t),this}};ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(ya.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[n]=a}}});ye.freezeMethods(ya);function Ag(e,t){const n=this||Zu,a=t||n,s=ya.from(a.headers);let l=a.data;return ye.forEach(e,function(d){l=d.call(n,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function p3(e){return!!(e&&e.__CANCEL__)}function Ul(e,t,n){ft.call(this,e??"canceled",ft.ERR_CANCELED,t,n),this.name="CanceledError"}ye.inherits(Ul,ft,{__CANCEL__:!0});function g3(e,t,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):t(new ft("Request failed with status code "+n.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tB(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nB(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s=0,l=0,c;return t=t!==void 0?t:1e3,function(f){const m=Date.now(),h=a[l];c||(c=m),n[s]=f,a[s]=m;let g=l,x=0;for(;g!==s;)x+=n[g++],g=g%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),m-c<t)return;const b=h&&m-h;return b?Math.round(x*1e3/b):void 0}}function aB(e,t){let n=0,a=1e3/t,s,l;const c=(m,h=Date.now())=>{n=h,s=null,l&&(clearTimeout(l),l=null),e.apply(null,m)};return[(...m)=>{const h=Date.now(),g=h-n;g>=a?c(m,h):(s=m,l||(l=setTimeout(()=>{l=null,c(s)},a-g)))},()=>s&&c(s)]}const gm=(e,t,n=3)=>{let a=0;const s=nB(50,250);return aB(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,f=c-a,m=s(f),h=c<=d;a=c;const g={loaded:c,total:d,progress:d?c/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&h?(d-c)/m:void 0,event:l,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(g)},n)},KC=(e,t)=>{const n=e!=null;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},YC=e=>(...t)=>ye.asap(()=>e(...t)),rB=ea.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ea.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ea.origin),ea.navigator&&/(msie|trident)/i.test(ea.navigator.userAgent)):()=>!0,sB=ea.hasStandardBrowserEnv?{write(e,t,n,a,s,l){const c=[e+"="+encodeURIComponent(t)];ye.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),ye.isString(a)&&c.push("path="+a),ye.isString(s)&&c.push("domain="+s),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iB(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oB(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function x3(e,t,n){let a=!iB(t);return e&&(a||n==!1)?oB(e,t):t}const WC=e=>e instanceof ya?{...e}:e;function oo(e,t){t=t||{};const n={};function a(m,h,g,x){return ye.isPlainObject(m)&&ye.isPlainObject(h)?ye.merge.call({caseless:x},m,h):ye.isPlainObject(h)?ye.merge({},h):ye.isArray(h)?h.slice():h}function s(m,h,g,x){if(ye.isUndefined(h)){if(!ye.isUndefined(m))return a(void 0,m,g,x)}else return a(m,h,g,x)}function l(m,h){if(!ye.isUndefined(h))return a(void 0,h)}function c(m,h){if(ye.isUndefined(h)){if(!ye.isUndefined(m))return a(void 0,m)}else return a(void 0,h)}function d(m,h,g){if(g in t)return a(m,h);if(g in e)return a(void 0,m)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,h,g)=>s(WC(m),WC(h),g,!0)};return ye.forEach(Object.keys(Object.assign({},e,t)),function(h){const g=f[h]||s,x=g(e[h],t[h],h);ye.isUndefined(x)&&g!==d||(n[h]=x)}),n}const y3=e=>{const t=oo({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:l,headers:c,auth:d}=t;t.headers=c=ya.from(c),t.url=f3(x3(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(ye.isFormData(n)){if(ea.hasStandardBrowserEnv||ea.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[m,...h]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...h].join("; "))}}if(ea.hasStandardBrowserEnv&&(a&&ye.isFunction(a)&&(a=a(t)),a||a!==!1&&rB(t.url))){const m=s&&l&&sB.read(l);m&&c.set(s,m)}return t},lB=typeof XMLHttpRequest<"u",cB=lB&&function(e){return new Promise(function(n,a){const s=y3(e);let l=s.data;const c=ya.from(s.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=s,h,g,x,b,j;function N(){b&&b(),j&&j(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function C(){if(!S)return;const E=ya.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),O={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:E,config:e,request:S};g3(function(P){n(P),N()},function(P){a(P),N()},O),S=null}"onloadend"in S?S.onloadend=C:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(C)},S.onabort=function(){S&&(a(new ft("Request aborted",ft.ECONNABORTED,e,S)),S=null)},S.onerror=function(){a(new ft("Network Error",ft.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||m3;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),a(new ft(T,O.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,e,S)),S=null},l===void 0&&c.setContentType(null),"setRequestHeader"in S&&ye.forEach(c.toJSON(),function(T,O){S.setRequestHeader(O,T)}),ye.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),d&&d!=="json"&&(S.responseType=s.responseType),m&&([x,j]=gm(m,!0),S.addEventListener("progress",x)),f&&S.upload&&([g,b]=gm(f),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(h=E=>{S&&(a(!E||E.type?new Ul(null,e,S):E),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const A=tB(s.url);if(A&&ea.protocols.indexOf(A)===-1){a(new ft("Unsupported protocol "+A+":",ft.ERR_BAD_REQUEST,e));return}S.send(l||null)})},uB=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let a=new AbortController,s;const l=function(m){if(!s){s=!0,d();const h=m instanceof Error?m:this.reason;a.abort(h instanceof ft?h:new Ul(h instanceof Error?h.message:h))}};let c=t&&setTimeout(()=>{c=null,l(new ft(`timeout ${t} of ms exceeded`,ft.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:f}=a;return f.unsubscribe=()=>ye.asap(d),f}},dB=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let a=0,s;for(;a<n;)s=a+t,yield e.slice(a,s),a=s},fB=async function*(e,t){for await(const n of mB(e))yield*dB(n,t)},mB=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:a}=await t.read();if(n)break;yield a}}finally{await t.cancel()}},XC=(e,t,n,a)=>{const s=fB(e,t);let l=0,c,d=f=>{c||(c=!0,a&&a(f))};return new ReadableStream({async pull(f){try{const{done:m,value:h}=await s.next();if(m){d(),f.close();return}let g=h.byteLength;if(n){let x=l+=g;n(x)}f.enqueue(new Uint8Array(h))}catch(m){throw d(m),m}},cancel(f){return d(f),s.return()}},{highWaterMark:2})},fh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",v3=fh&&typeof ReadableStream=="function",hB=fh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),b3=(e,...t)=>{try{return!!e(...t)}catch{return!1}},pB=v3&&b3(()=>{let e=!1;const t=new Request(ea.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ZC=64*1024,zy=v3&&b3(()=>ye.isReadableStream(new Response("").body)),xm={stream:zy&&(e=>e.body)};fh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!xm[t]&&(xm[t]=ye.isFunction(e[t])?n=>n[t]():(n,a)=>{throw new ft(`Response type '${t}' is not supported`,ft.ERR_NOT_SUPPORT,a)})})})(new Response);const gB=async e=>{if(e==null)return 0;if(ye.isBlob(e))return e.size;if(ye.isSpecCompliantForm(e))return(await new Request(ea.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(e)||ye.isArrayBuffer(e))return e.byteLength;if(ye.isURLSearchParams(e)&&(e=e+""),ye.isString(e))return(await hB(e)).byteLength},xB=async(e,t)=>{const n=ye.toFiniteNumber(e.getContentLength());return n??gB(t)},yB=fh&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:f,responseType:m,headers:h,withCredentials:g="same-origin",fetchOptions:x}=y3(e);m=m?(m+"").toLowerCase():"text";let b=uB([s,l&&l.toAbortSignal()],c),j;const N=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let S;try{if(f&&pB&&n!=="get"&&n!=="head"&&(S=await xB(h,a))!==0){let O=new Request(t,{method:"POST",body:a,duplex:"half"}),k;if(ye.isFormData(a)&&(k=O.headers.get("content-type"))&&h.setContentType(k),O.body){const[P,_]=KC(S,gm(YC(f)));a=XC(O.body,ZC,P,_)}}ye.isString(g)||(g=g?"include":"omit");const C="credentials"in Request.prototype;j=new Request(t,{...x,signal:b,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:a,duplex:"half",credentials:C?g:void 0});let A=await fetch(j,x);const E=zy&&(m==="stream"||m==="response");if(zy&&(d||E&&N)){const O={};["status","statusText","headers"].forEach(L=>{O[L]=A[L]});const k=ye.toFiniteNumber(A.headers.get("content-length")),[P,_]=d&&KC(k,gm(YC(d),!0))||[];A=new Response(XC(A.body,ZC,P,()=>{_&&_(),N&&N()}),O)}m=m||"text";let T=await xm[ye.findKey(xm,m)||"text"](A,e);return!E&&N&&N(),await new Promise((O,k)=>{g3(O,k,{data:T,headers:ya.from(A.headers),status:A.status,statusText:A.statusText,config:e,request:j})})}catch(C){throw N&&N(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,e,j),{cause:C.cause||C}):ft.from(C,C&&C.code,e,j)}}),$y={http:_$,xhr:cB,fetch:yB};ye.forEach($y,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const QC=e=>`- ${e}`,vB=e=>ye.isFunction(e)||e===null||e===!1,j3={getAdapter:e=>{e=ye.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let l=0;l<t;l++){n=e[l];let c;if(a=n,!vB(n)&&(a=$y[(c=String(n)).toLowerCase()],a===void 0))throw new ft(`Unknown adapter '${c}'`);if(a)break;s[c||"#"+l]=a}if(!a){const l=Object.entries(s).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=t?l.length>1?`since :
`+l.map(QC).join(`
`):" "+QC(l[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:$y};function Eg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ul(null,e)}function JC(e){return Eg(e),e.headers=ya.from(e.headers),e.data=Ag.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),j3.getAdapter(e.adapter||Zu.adapter)(e).then(function(a){return Eg(e),a.data=Ag.call(e,e.transformResponse,a),a.headers=ya.from(a.headers),a},function(a){return p3(a)||(Eg(e),a&&a.response&&(a.response.data=Ag.call(e,e.transformResponse,a.response),a.response.headers=ya.from(a.response.headers))),Promise.reject(a)})}const w3="1.10.0",mh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mh[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const eA={};mh.transitional=function(t,n,a){function s(l,c){return"[Axios v"+w3+"] Transitional option '"+l+"'"+c+(a?". "+a:"")}return(l,c,d)=>{if(t===!1)throw new ft(s(c," has been removed"+(n?" in "+n:"")),ft.ERR_DEPRECATED);return n&&!eA[c]&&(eA[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,c,d):!0}};mh.spelling=function(t){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function bB(e,t,n){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const l=a[s],c=t[l];if(c){const d=e[l],f=d===void 0||c(d,l,e);if(f!==!0)throw new ft("option "+l+" must be "+f,ft.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ft("Unknown option "+l,ft.ERR_BAD_OPTION)}}const lm={assertOptions:bB,validators:mh},Dr=lm.validators;let to=class{constructor(t){this.defaults=t||{},this.interceptors={request:new HC,response:new HC}}async request(t,n){try{return await this._request(t,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=oo(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:l}=n;a!==void 0&&lm.assertOptions(a,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),s!=null&&(ye.isFunction(s)?n.paramsSerializer={serialize:s}:lm.assertOptions(s,{encode:Dr.function,serialize:Dr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),lm.assertOptions(n,{baseUrl:Dr.spelling("baseURL"),withXsrfToken:Dr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&ye.merge(l.common,l[n.method]);l&&ye.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),n.headers=ya.concat(c,l);const d=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(f=f&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let h,g=0,x;if(!f){const j=[JC.bind(this),void 0];for(j.unshift.apply(j,d),j.push.apply(j,m),x=j.length,h=Promise.resolve(n);g<x;)h=h.then(j[g++],j[g++]);return h}x=d.length;let b=n;for(g=0;g<x;){const j=d[g++],N=d[g++];try{b=j(b)}catch(S){N.call(this,S);break}}try{h=JC.call(this,b)}catch(j){return Promise.reject(j)}for(g=0,x=m.length;g<x;)h=h.then(m[g++],m[g++]);return h}getUri(t){t=oo(this.defaults,t);const n=x3(t.baseURL,t.url,t.allowAbsoluteUrls);return f3(n,t.params,t.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(t){to.prototype[t]=function(n,a){return this.request(oo(a||{},{method:t,url:n,data:(a||{}).data}))}});ye.forEach(["post","put","patch"],function(t){function n(a){return function(l,c,d){return this.request(oo(d||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}to.prototype[t]=n(),to.prototype[t+"Form"]=n(!0)});let jB=class N3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const a=this;this.promise.then(s=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](s);a._listeners=null}),this.promise.then=s=>{let l;const c=new Promise(d=>{a.subscribe(d),l=d}).then(s);return c.cancel=function(){a.unsubscribe(l)},c},t(function(l,c,d){a.reason||(a.reason=new Ul(l,c,d),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=a=>{t.abort(a)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new N3(function(s){t=s}),cancel:t}}};function wB(e){return function(n){return e.apply(null,n)}}function NB(e){return ye.isObject(e)&&e.isAxiosError===!0}const By={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(By).forEach(([e,t])=>{By[t]=e});function S3(e){const t=new to(e),n=e3(to.prototype.request,t);return ye.extend(n,to.prototype,t,{allOwnKeys:!0}),ye.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return S3(oo(e,s))},n}const Le=S3(Zu);Le.Axios=to;Le.CanceledError=Ul;Le.CancelToken=jB;Le.isCancel=p3;Le.VERSION=w3;Le.toFormData=dh;Le.AxiosError=ft;Le.Cancel=Le.CanceledError;Le.all=function(t){return Promise.all(t)};Le.spread=wB;Le.isAxiosError=NB;Le.mergeConfig=oo;Le.AxiosHeaders=ya;Le.formToJSON=e=>h3(ye.isHTMLForm(e)?new FormData(e):e);Le.getAdapter=j3.getAdapter;Le.HttpStatusCode=By;Le.default=Le;const{Axios:Dle,AxiosError:Rle,CanceledError:Lle,isCancel:Ile,CancelToken:zle,VERSION:$le,all:Ble,Cancel:qle,isAxiosError:Ule,spread:Vle,toFormData:Fle,AxiosHeaders:Hle,HttpStatusCode:Gle,formToJSON:Kle,getAdapter:Yle,mergeConfig:Wle}=Le,tA="http://localhost:4000/api",C3="https://a-u-r-o-r-a.onrender.com/api";let qy=C3;const SB=async(e,t="/health",n=1200)=>{try{const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await fetch(e.replace(/\/$/,"")+t,{method:"GET",signal:a.signal,credentials:"include"}).catch(()=>null);return clearTimeout(s),!!(l&&l.ok)}catch{return!1}};(async()=>qy=await SB(tA,"/")?tA:C3)();const ke={get BASE_URL(){return qy},set BASE_URL(e){qy=e},ENDPOINTS:{LENTES:"/lentes",ACCESORIOS:"/accesorios",PRODUCTOS_PERSONALIZADOS:"/productosPersonalizados",MARCAS:"/marcas",CATEGORIAS:"/categoria",CLIENTES:"/clientes",EMPLEADOS:"/empleados",SUCURSALES:"/sucursales",PROMOCIONES:"/promociones",COTIZACIONES:"/cotizaciones",PEDIDOS:"/pedidos",CATALOGO_MODIFICACIONES:"/catalogoModificaciones",VENTAS:"/ventas",RECETAS:"/recetas",CITAS:"/citas",HISTORIAL_MEDICO:"/historialMedico",OPTOMETRISTAS:"/optometrista",AUTH:"/auth",DASHBOARD:"/dashboard",CARRITO:"/carrito",REGISTRO_CLIENTES:"/registroClientes",REGISTRO_EMPLEADOS:"/registroEmpleados",AUDITORIA:"/auditoria"},FETCH_CONFIG:{headers:{"Content-Type":"application/json"},credentials:"include"},TIMEOUTS:{REQUEST:6e4,RETRY_DELAY:2e3,MAX_RETRIES:2},RESPONSE_STATUS:{SUCCESS:"success",ERROR:"error"}},pn=(e,t={})=>{let n=`${ke.BASE_URL}${e}`;if(t&&Object.keys(t).length>0){const a=new URLSearchParams(t).toString();n+=`?${a}`}return n},CB=e=>!e||typeof e!="object"?{isValid:!1,error:"Respuesta invlida de la API"}:e.success===!1?{isValid:!1,error:e.message||"Error en la respuesta de la API"}:e.success===!0&&e.data!==void 0?{isValid:!0,data:e.data}:Array.isArray(e)?{isValid:!0,data:e}:e.message&&e.message.includes("Error")?{isValid:!1,error:e.message}:{isValid:!0,data:e},A3=(e,t="")=>e.name==="TypeError"&&e.message.includes("fetch")?"Error de conexin. Verifica tu conexin a internet.":e.status===404?"Recurso no encontrado.":e.status===500?"Error interno del servidor. Por favor, intenta ms tarde.":e.status===401?"No autorizado. Por favor, inicia sesin.":e.status===403?"Acceso denegado.":e.message||"Error desconocido.",E3=y.createContext(),AB=({children:e})=>{const[t,n]=y.useState(null),[a,s]=y.useState(()=>localStorage.getItem("aurora_token")),[l,c]=y.useState(!0),d=b=>{var N,S,C,A,E,T,O,k,P,_,L,U;return b&&[b.cargo,b.Cargo,b.puesto,b.Puesto,(N=b==null?void 0:b.cargo)==null?void 0:N.nombre,(S=b==null?void 0:b.cargo)==null?void 0:S.name,(C=b==null?void 0:b.empleado)==null?void 0:C.cargo,(A=b==null?void 0:b.empleado)==null?void 0:A.Cargo,(E=b==null?void 0:b.empleado)==null?void 0:E.puesto,(T=b==null?void 0:b.empleado)==null?void 0:T.Puesto,(k=(O=b==null?void 0:b.empleado)==null?void 0:O.cargo)==null?void 0:k.nombre,(_=(P=b==null?void 0:b.empleado)==null?void 0:P.cargo)==null?void 0:_.name,(L=b==null?void 0:b.profile)==null?void 0:L.cargo,(U=b==null?void 0:b.profile)==null?void 0:U.puesto].filter(Boolean)[0]||null},f=async b=>{var j;try{if(!b||d(b))return b;const N=b._id||b.id;if(!N)return b;const S=`${ke.BASE_URL}${ke.ENDPOINTS.EMPLEADOS}/${N}`,C=await Le.get(S,{withCredentials:!0}).catch(()=>null);if(!C)return b;const A=((j=C.data)==null?void 0:j.data)??C.data,E=d(A);if(E){const T={...b,cargo:E};try{localStorage.setItem("aurora_user",JSON.stringify(T))}catch{}return T}return b}catch{return b}},m=b=>{try{const j=b.split(".")[1],N=atob(j.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(N)}catch{return null}};y.useEffect(()=>{try{const b=localStorage.getItem("aurora_user");if(b){const j=JSON.parse(b);n(j)}else if(a){const j=m(a);j&&j.id&&j.rol&&n({id:j.id,correo:j.correo,rol:j.rol})}a&&(Le.defaults.headers.common.Authorization=`Bearer ${a}`,Le.defaults.withCredentials=!0)}catch{}finally{c(!1)}},[]),y.useEffect(()=>{let b=!0;return(async()=>{if(!t||d(t))return;const j=await f(t);b&&j!==t&&n(j)})(),()=>{b=!1}},[t==null?void 0:t.id,t==null?void 0:t._id]),y.useEffect(()=>{a?(Le.defaults.headers.common.Authorization=`Bearer ${a}`,Le.defaults.withCredentials=!0,localStorage.setItem("aurora_token",a)):(delete Le.defaults.headers.common.Authorization,localStorage.removeItem("aurora_token"))},[a]);const x={user:t,token:a,loading:l,login:async b=>{var j,N;try{const S=await Le.post(`${ke.BASE_URL}${ke.ENDPOINTS.AUTH}/login`,b,{withCredentials:!0});if(S.data.success){const{token:C,user:A}=S.data;s(C);const E=await f(A);return n(E),localStorage.setItem("aurora_token",C),localStorage.setItem("aurora_user",JSON.stringify(E)),Le.defaults.headers.common.Authorization=`Bearer ${C}`,Le.defaults.withCredentials=!0,{success:!0,user:E,token:C}}return{success:!1,message:S.data.message}}catch(S){return console.error("Error en login:",S),{success:!1,message:((N=(j=S.response)==null?void 0:j.data)==null?void 0:N.message)||"Error al iniciar sesin"}}},logout:()=>{s(null),n(null),localStorage.removeItem("aurora_token"),localStorage.removeItem("aurora_user"),delete Le.defaults.headers.common.Authorization},setUser:n,setToken:s};return r.jsx(E3.Provider,{value:x,children:e})},Gn=()=>{const e=y.useContext(E3);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},O3=y.createContext(null),Mb=()=>y.useContext(O3),EB=({children:e})=>{const{user:t,token:n}=Gn(),[a,s]=y.useState(null),[l,c]=y.useState(!1),[d,f]=y.useState(null),m=ke.BASE_URL,h=ke.ENDPOINTS.CARRITO,g=y.useMemo(()=>({"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}}),[n]),x=O=>Array.isArray(O)&&(O.find(k=>k.estado==="activo")||O[0])||null,b=y.useCallback(async()=>{if(t!=null&&t.id){c(!0),f(null);try{const k=await(await fetch(`${m}${h}/cliente/${t.id}`,{credentials:"include",headers:g})).json();let P=x(k);return P||(P=(await(await fetch(`${m}${h}`,{method:"POST",headers:g,credentials:"include",body:JSON.stringify({clienteId:t.id,productos:[]})})).json()).carrito||null),s(P),P}catch(O){console.error("Cart fetch/create error",O),f("No se pudo cargar el carrito")}finally{c(!1)}}},[t==null?void 0:t.id,m,h,g]);y.useEffect(()=>{t!=null&&t.id?b():s(null)},[t==null?void 0:t.id,b]);const j=y.useCallback(async(O,k=1)=>{let P=a==null?void 0:a._id;if(!P){const _=await b();P=_==null?void 0:_._id}if(P)try{const _=O.precioActual??O.precioBase??0,L={productoId:O._id,nombre:O.nombre,precio:_,cantidad:k},V=await(await fetch(`${m}${h}/${P}/productos`,{method:"POST",headers:g,credentials:"include",body:JSON.stringify(L)})).json();return V!=null&&V.carrito&&s(V.carrito),V}catch(_){console.error("addItem error",_),f("No se pudo agregar el producto")}},[a==null?void 0:a._id,m,h,g,b]),N=y.useCallback(async O=>{if(a!=null&&a._id)try{const P=await(await fetch(`${m}${h}/${a._id}/productos`,{method:"DELETE",headers:g,credentials:"include",body:JSON.stringify({productoId:O})})).json();return P!=null&&P.carrito&&s(P.carrito),P}catch(k){console.error("removeItem error",k),f("No se pudo remover el producto")}},[a==null?void 0:a._id,m,h,g]),S=y.useCallback(async(O,k)=>{if(!(a!=null&&a._id)||!Array.isArray(a==null?void 0:a.productos))return;const P=new Map(a.productos.map(U=>[String(U.productoId),U.precio])),_=new Map(a.productos.map(U=>[String(U.productoId),U.nombre])),L=Array.from(new Set([...a.productos.map(U=>String(U.productoId))])).map(U=>{var V;return{productoId:U,nombre:_.get(String(U))??"",precio:P.get(String(U))??0,cantidad:String(U)===String(O)?k:((V=a.productos.find(K=>String(K.productoId)===String(U)))==null?void 0:V.cantidad)??1}});try{const V=await(await fetch(`${m}${h}/${a._id}`,{method:"PUT",headers:g,credentials:"include",body:JSON.stringify({productos:L})})).json();return V!=null&&V.carrito&&s(V.carrito),V}catch(U){console.error("updateQty error",U),f("No se pudo actualizar la cantidad")}},[a,m,h,g]),C=y.useCallback(async()=>{if(a!=null&&a._id)try{const k=await(await fetch(`${m}${h}/${a._id}`,{method:"PUT",headers:g,credentials:"include",body:JSON.stringify({productos:[]})})).json();k!=null&&k.carrito&&s(k.carrito)}catch(O){console.error("clearCart error",O),f("No se pudo vaciar el carrito")}},[a==null?void 0:a._id,m,h,g]),A=y.useMemo(()=>((a==null?void 0:a.productos)||[]).reduce((O,k)=>O+(k.cantidad||0),0),[a]),E=y.useMemo(()=>(a==null?void 0:a.total)??((a==null?void 0:a.productos)||[]).reduce((O,k)=>O+k.precio*k.cantidad,0),[a]),T=y.useMemo(()=>({cart:a,loading:l,error:d,itemCount:A,total:E,fetchOrCreateCart:b,addItem:j,removeItem:N,updateQty:S,clearCart:C}),[a,l,d,A,E,b,j,N,S,C]);return r.jsx(O3.Provider,{value:T,children:e})},OB=({message:e="Cargando..."})=>r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#009BBF] mb-4"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium",children:e})]});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kB=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),nA=e=>{const t=kB(e);return t.charAt(0).toUpperCase()+t.slice(1)},T3=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),MB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},f)=>y.createElement("svg",{ref:f,...PB,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:T3("lucide",s),...!l&&!MB(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>y.createElement(m,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const n=y.forwardRef(({className:a,...s},l)=>y.createElement(_B,{ref:l,iconNode:t,className:T3(`lucide-${TB(nA(e))}`,`lucide-${e}`,a),...s}));return n.displayName=nA(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RB=je("activity",DB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],IB=je("archive",LB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$B=je("arrow-left",zB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Og=je("arrow-right",BB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Uy=je("award",qB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],VB=je("battery",UB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],HB=je("bell",FB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],KB=je("bike",GB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M3.4 18H12a8 8 0 0 0 8-8V7a4 4 0 0 0-7.28-2.3L2 20",key:"oj1oa8"}],["path",{d:"m20 7 2 .5-2 .5",key:"12nv4d"}],["path",{d:"M10 18v3",key:"1yea0a"}],["path",{d:"M14 17.75V21",key:"1pymcb"}],["path",{d:"M7 18a6 6 0 0 0 3.84-10.61",key:"1npnn0"}]],WB=je("bird",YB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]],ZB=je("bluetooth",XB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],JB=je("book",QB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],hh=je("bookmark",eq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],nq=je("briefcase",tq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"m11 10 3 3",key:"fzmg1i"}],["path",{d:"M6.5 21A3.5 3.5 0 1 0 3 17.5a2.62 2.62 0 0 1-.708 1.792A1 1 0 0 0 3 21z",key:"p4q2r7"}],["path",{d:"M9.969 17.031 21.378 5.624a1 1 0 0 0-3.002-3.002L6.967 14.031",key:"wy6l02"}]],rq=je("brush",aq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],iq=je("bug",sq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],yl=je("building-2",oq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],cq=je("building",lq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],dq=je("bus",uq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],mq=je("calculator",fq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],pq=je("calendar-check",hq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Br=je("calendar",gq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ph=je("camera",xq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],vq=je("car",yq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],jq=je("cat",bq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],Nq=je("chart-no-axes-column-increasing",wq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Cq=je("chart-pie",Sq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gh=je("check",Aq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ym=je("chevron-down",Eq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],k3=je("chevron-left",Oq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pb=je("chevron-right",Tq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],At=je("circle-alert",kq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xs=je("circle-check-big",Mq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_q=je("circle-x",Pq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Rq=je("clipboard-list",Dq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rr=je("clock",Lq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],zq=je("cloud",Iq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Bq=je("coffee",$q);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uq=je("compass",qq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Fq=je("credit-card",Vq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],Gq=je("dog",Hq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],po=je("dollar-sign",Kq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vy=je("download",Yq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],Xq=je("droplet",Wq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fy=je("eye-off",Zq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],an=je("eye",Qq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],eU=je("factory",Jq);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],M3=je("file-text",tU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],aU=je("file",nU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]],sU=je("fish",rU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],oU=je("flag",iU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],cU=je("flower",lU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],dU=je("folder",uU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],P3=je("funnel",fU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],hU=je("gamepad-2",mU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],gU=je("gift",pU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],Pu=je("glasses",xU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vU=je("globe",yU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],jU=je("graduation-cap",bU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],NU=je("hammer",wU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],CU=je("headphones",SU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],EU=je("heart",AU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],TU=je("hospital",OU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],MU=je("house",kU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_3=je("image",PU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_b=je("info",_U);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],RU=je("key",DU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],IU=je("laptop",LU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$U=je("layers",zU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qU=je("layout-dashboard",BU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],VU=je("leaf",UU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],HU=je("lightbulb",FU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Db=je("loader",GU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xh=je("lock",KU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WU=je("log-out",YU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vl=je("mail",XU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],di=je("map-pin",ZU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],D3=je("menu",QU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],eV=je("mic",JU);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],nV=je("monitor",tV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],rV=je("moon",aV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],iV=je("music",sV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],lV=je("navigation",oV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sr=je("package",cV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],dV=je("paint-bucket",uV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],R3=je("palette",fV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Rb=je("pen-line",mV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],L3=je("percent",hV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],go=je("phone",pV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]],xV=je("pizza",gV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],vV=je("plane",yV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cs=je("plus",bV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M13 16a3 3 0 0 1 2.24 5",key:"1epib5"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 21h-8a4 4 0 0 1-4-4 7 7 0 0 1 7-7h.2L9.6 6.4a1 1 0 1 1 2.8-2.8L15.8 7h.2c3.3 0 6 2.7 6 6v1a2 2 0 0 1-2 2h-1a3 3 0 0 0-3 3",key:"ue9ozu"}],["path",{d:"M20 8.54V4a2 2 0 1 0-4 0v3",key:"49iql8"}],["path",{d:"M7.612 12.524a3 3 0 1 0-1.6 4.3",key:"1e33i0"}]],wV=je("rabbit",jV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],SV=je("receipt",NV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],I3=je("refresh-cw",CV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],EV=je("ruler",AV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nl=je("save",OV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],kV=je("school",TV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],PV=je("scissors",MV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],br=je("search",_V);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z3=je("settings",DV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],LV=je("shield",RV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Lb=je("shopping-bag",IV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],$3=je("shopping-cart",zV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],BV=je("smartphone",$V);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],UV=je("snowflake",qV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]],FV=je("speaker",VV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],na=je("square-pen",HV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],KV=je("star",GV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],B3=je("stethoscope",YV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],XV=je("store",WV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],QV=je("sun",ZV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],eF=je("tablet",JV);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Fi=je("tag",tF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],jr=je("tags",nF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],q3=je("target",aF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],sF=je("thermometer",rF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],oF=je("timer",iF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],cF=je("tram-front",lF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rn=je("trash-2",uF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],fF=je("trending-down",dF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],U3=je("trending-up",mF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vm=je("triangle-alert",hF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gF=je("trophy",pF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]],yF=je("umbrella",xF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Hy=je("upload",vF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fl=je("user-check",bF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],V3=je("user-x",jF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ys=je("user",wF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qu=je("users",NF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],CF=je("video",SF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],EF=je("wifi",AF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],TF=je("wind",OF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],F3=je("wrench",kF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ra=je("x",MF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],H3=je("zap",PF),Cr=({type:e="success",message:t="",onClose:n})=>{if(y.useEffect(()=>{if(!t)return;const d=setTimeout(()=>{n&&n()},4e3);return()=>clearTimeout(d)},[t,n]),!t)return null;let a="bg-green-100",s="text-green-800",l="border-green-300",c=r.jsx(xs,{className:"w-7 h-7 text-green-500"});return e==="error"?(a="bg-red-100",s="text-red-800",l="border-red-300",c=r.jsx(At,{className:"w-7 h-7 text-red-500"})):e==="info"?(a="bg-blue-100",s="text-blue-800",l="border-blue-300",c=r.jsx(_b,{className:"w-7 h-7 text-blue-500"})):e==="delete"&&(a="bg-red-200",s="text-red-900",l="border-red-400",c=r.jsx(Rn,{className:"w-7 h-7 text-red-600"})),r.jsxs("div",{className:`flex items-center justify-between gap-4 px-5 py-4 rounded-xl shadow-2xl border ${a} ${l} ${s} animate-fadeInDown font-medium text-base max-w-md mx-auto`,style:{boxShadow:"0 8px 32px 0 rgba(60, 60, 60, 0.18)"},children:[r.jsxs("div",{className:"flex items-center gap-3",children:[c,r.jsx("span",{className:"leading-tight",style:{fontFamily:"inherit",letterSpacing:"0.01em"},children:t})]}),r.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Cerrar notificacin",tabIndex:0,children:r.jsx(Ra,{className:"w-5 h-5"})}),r.jsx("style",{children:`
        @keyframes fadeInDown {
          from { opacity: 0; transform: translateY(-20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeInDown { animation: fadeInDown 0.5s cubic-bezier(.4,0,.2,1); }
      `})]})},_F=({sidebarOpen:e,setSidebarOpen:t,mobileMenuOpen:n,setMobileMenuOpen:a,menuItems:s,activeSection:l,setActiveSection:c})=>{const[d,f]=Fn.useState(!1),m=Fn.useRef(null),h=Fn.useRef(null),g=Fn.useRef(null),[x,b]=Fn.useState(null),{user:j,logout:N}=Gn(),S=Ss(),[C,A]=y.useState(!1);let E={name:"Usuario",role:"Sin rol",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format&q=80"};if(j){const P=_=>{if(_.fotoPerfil&&_.fotoPerfil.trim())return _.fotoPerfil;if(_.avatar&&_.avatar.trim())return _.avatar;if(_.foto&&_.foto.trim())return _.foto;const L=_.nombre||_.name||"",U=_.apellido||"",V=`${L} ${U}`.trim();if(V)return`https://ui-avatars.com/api/?name=${encodeURIComponent(V)}&size=150&background=06b6d4&color=ffffff&bold=true&font-size=0.6`;const K=_.userType||_.rol||"Usuario";return`https://ui-avatars.com/api/?name=${encodeURIComponent(K)}&size=150&background=64748b&color=ffffff&bold=true&font-size=0.6`};j.userType==="cliente"||j.rol==="Cliente"?E={name:`${j.nombre||""} ${j.apellido||""}`.trim()||"Cliente",role:j.rol||"Cliente",avatar:P(j)}:E={name:j.nombre||j.name||"Empleado",role:j.rol||j.role||"Empleado",avatar:P(j)}}const T=()=>{a(!1)};Fn.useEffect(()=>{const P=_=>{m.current&&!m.current.contains(_.target)&&f(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),Fn.useEffect(()=>{if(n){const P=document.body.style.overflow;document.body.style.overflow="hidden";const _=L=>{L.key==="Escape"&&T()};return document.addEventListener("keydown",_),()=>{document.body.style.overflow=P,document.removeEventListener("keydown",_)}}},[n]),Fn.useEffect(()=>{const P=()=>{var ee,ne;const U=((ee=h.current)==null?void 0:ee.offsetHeight)||0,V=((ne=g.current)==null?void 0:ne.offsetHeight)||0,K=window.innerHeight||0,le=Math.max(K-U-V,120);b(le)};P();const _=new ResizeObserver(P);h.current&&_.observe(h.current),g.current&&_.observe(g.current),window.addEventListener("resize",P);const L=setTimeout(P,0);return()=>{clearTimeout(L),window.removeEventListener("resize",P);try{_.disconnect()}catch{}}},[e,n]);const O=()=>{N(),f(!1),A(!0),setTimeout(()=>A(!1),2500),setTimeout(()=>S("/"),800)},k=()=>{console.log("Ver perfil..."),f(!1)};return r.jsxs(r.Fragment,{children:[C&&r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md px-4",children:r.jsx(Cr,{type:"info",message:"Sesin cerrada correctamente",onClose:()=>A(!1)})}),r.jsx("button",{onClick:()=>a(!0),className:"fixed top-4 left-4 z-50 md:hidden bg-cyan-500 hover:bg-cyan-600 text-white p-3 rounded-xl shadow-lg transition-all duration-300 hover:scale-110 active:scale-95","aria-label":"Abrir men",children:r.jsx(D3,{className:"w-6 h-6"})}),n&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden animate-fadeIn backdrop-blur-sm",onClick:T}),r.jsxs("div",{className:`
        bg-white shadow-xl min-h-screen fixed left-0 top-0 z-50 overflow-visible
        transition-all duration-300 ease-out transform-gpu
        
        /* Medidas: mvil ms grandes, desktop como la versin antigua */
        ${e?"w-[85vw] max-w-[280px] sm:w-[80vw] sm:max-w-[300px] md:w-60 lg:w-64":"w-[85vw] max-w-[280px] sm:w-[80vw] sm:max-w-[300px] md:w-16"}
        
        /* Estados de visibilidad */
        ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
        
        /* Bordes y sombras */
        border-r border-gray-200
        
        /* Backdrop filter para efecto glass en mvil */
        backdrop-blur-md md:backdrop-blur-none
        bg-white/95 md:bg-white
      `,children:[r.jsx("div",{ref:h,className:"p-2 sm:p-3 md:p-2 lg:p-3 border-b border-gray-200 bg-gradient-to-r from-cyan-50 to-blue-50",children:r.jsxs("div",{className:"flex items-center justify-between md:justify-start",children:[r.jsx("button",{onClick:()=>window.innerWidth>=768&&t(!e),className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 lg:w-10 lg:h-10 bg-white rounded-lg shadow-md flex items-center justify-center p-1 flex-shrink-0 hover:shadow-lg transition-all duration-300 cursor-pointer hover:scale-110 hover:rotate-3 active:scale-95 active:rotate-0 group",title:e?"Contraer men":"Expandir men",children:r.jsx("div",{className:`transform transition-all duration-700 ease-in-out group-hover:scale-125 ${e?"rotate-180":"rotate-0"}`,children:r.jsx(Pb,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-4 md:h-4 lg:w-5 lg:h-5 text-gray-600 transition-all duration-700 ease-in-out"})})}),r.jsxs("div",{className:`ml-2 sm:ml-3 md:ml-2 lg:ml-3 min-w-0 transition-all duration-700 ease-in-out transform ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-20 h-8 sm:w-22 sm:h-9 md:w-20 md:h-8 lg:w-27 lg:h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("span",{className:"text-xs sm:text-sm md:text-[10px] lg:text-xs text-gray-500 block truncate animate-pulse",children:"Sistema de Gestin"})]}),r.jsx("button",{onClick:T,className:"md:hidden p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all duration-200 hover:scale-110 hover:rotate-90 active:scale-90","aria-label":"Cerrar men",children:r.jsx(Ra,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"py-2 sm:py-3 md:py-2 overflow-y-auto custom-scrollbar",style:{height:x?`${x}px`:void 0},children:["Principal","Personal","Productos","Mdico","Administracin"].map((P,_)=>{const L=(s||[]).filter(U=>U.section===P);return L.length===0?null:r.jsxs("div",{className:"mb-3 sm:mb-4 md:mb-3 lg:mb-4",style:{animationDelay:`${_*100}ms`},children:[r.jsx("h3",{className:`px-3 sm:px-4 md:px-3 lg:px-4 mb-2 sm:mb-3 md:mb-2 text-xs sm:text-sm md:text-xs font-semibold text-gray-500 uppercase tracking-wider transition-all duration-700 ease-in-out transform ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:P}),L.map((U,V)=>r.jsxs("button",{onClick:()=>{console.log("[Sidebar] click item ->",U.id),c(U.id),setTimeout(()=>T(),0)},className:`w-full flex items-center px-3 sm:px-4 md:px-3 lg:px-4 py-2 sm:py-3 md:py-2 lg:py-2.5 text-left bg-white hover:bg-gradient-to-r hover:from-cyan-50 hover:to-blue-50 hover:text-cyan-700 transition-all duration-300 group relative transform hover:scale-105 hover:translate-x-1 active:scale-95 active:translate-x-0 overflow-hidden ${l===U.id?"active-gradient-item text-cyan-700 border-r-4 border-cyan-500 shadow-sm":"text-gray-600"}`,style:{animationDelay:`${_*200+V*50}ms`,animationFillMode:"both"},children:[l===U.id&&r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-100 to-blue-100 animate-gradientFlow"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100 to-cyan-100 animate-gradientFlowReverse"})]}),r.jsx(U.icon,{className:`w-5 h-5 sm:w-6 sm:h-6 md:w-4 md:h-4 lg:w-5 lg:h-5 ${l===U.id?"text-cyan-600":"text-gray-400"} group-hover:text-cyan-600 transition-all duration-300 flex-shrink-0 transform group-hover:scale-125 group-hover:rotate-12 group-hover:animate-bounce-soft relative z-10`}),r.jsx("span",{className:`ml-3 sm:ml-4 md:ml-2 lg:ml-3 font-medium text-sm sm:text-base md:text-sm truncate transform transition-all duration-700 ease-in-out group-hover:translate-x-1 relative z-10 ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:U.label}),!e&&r.jsx("div",{className:"hidden md:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-xs sm:text-sm rounded opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 transform scale-75 group-hover:scale-100 animate-pop-in",children:U.label}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 transform -skew-x-12 group-hover:animate-shine pointer-events-none z-20"}),l===U.id&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute right-3 sm:right-4 md:right-2 top-1/2 transform -translate-y-1/2 w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-0.5 md:h-0.5 bg-cyan-400 rounded-full animate-twinkle z-30"}),r.jsx("div",{className:"absolute right-4 sm:right-5 md:right-4 top-1/3 transform -translate-y-1/2 w-0.5 h-0.5 sm:w-1 sm:h-1 md:w-0.5 md:h-0.5 bg-blue-400 rounded-full animate-twinkle z-30",style:{animationDelay:"0.5s"}}),r.jsx("div",{className:"absolute right-3.5 sm:right-4.5 md:right-3 top-2/3 transform -translate-y-1/2 w-0.5 h-0.5 sm:w-1 sm:h-1 md:w-0.5 md:h-0.5 bg-cyan-300 rounded-full animate-twinkle z-30",style:{animationDelay:"1s"}})]})]},U.id))]},P)})}),r.jsx("div",{ref:g,className:"absolute bottom-0 left-0 right-0 p-2 sm:p-3 md:p-1.5 border-t border-gray-200 bg-white bg-gradient-to-r from-gray-50 to-gray-100 relative z-40",children:r.jsxs("div",{className:"relative",ref:m,children:[r.jsxs("button",{onClick:()=>{!e&&window.innerWidth>=768?(t(!0),setTimeout(()=>{f(!0)},400)):f(!d)},className:`w-full flex items-center bg-white hover:bg-white rounded-lg transition-all duration-300 group hover:shadow-md transform hover:scale-105 active:scale-95 ${e||window.innerWidth<768?"p-2 sm:p-3 md:p-1.5":"p-1 justify-center"}`,children:[r.jsxs("div",{className:"relative flex-shrink-0",children:[r.jsx("img",{src:E.avatar,alt:E.name,className:`rounded-full object-cover border-2 border-cyan-200 group-hover:border-cyan-400 transition-all duration-300 shadow-md group-hover:shadow-lg ${e||window.innerWidth<768?"w-10 h-10 sm:w-12 sm:h-12 md:w-10 md:h-10 lg:w-12 lg:h-12":"w-8 h-8 sm:w-10 sm:h-10 md:w-8 md:h-8"}`,onError:P=>{const _=E.name||"Usuario";P.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(_)}&size=150&background=06b6d4&color=ffffff&bold=true&font-size=0.6`},loading:"lazy"}),r.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 bg-green-400 border-2 border-white rounded-full animate-pulse ${e||window.innerWidth<768?"w-2 h-2 sm:w-2.5 sm:h-2.5 md:w-2 md:h-2":"w-1.5 h-1.5 sm:w-2 sm:h-2 md:w-1.5 md:h-1.5"}`,title:"En lnea"})]}),r.jsxs("div",{className:`ml-3 sm:ml-4 md:ml-2 flex-1 min-w-0 transition-all duration-700 ease-in-out transform ${e||window.innerWidth<768?"opacity-100 translate-x-0 scale-100":"md:opacity-0 md:-translate-x-4 md:scale-95 opacity-100 translate-x-0 scale-100"}`,children:[r.jsx("p",{className:"text-sm sm:text-base md:text-xs lg:text-sm font-semibold text-gray-800 truncate group-hover:text-cyan-700 transition-colors leading-tight",children:E.name}),r.jsx("p",{className:"text-xs sm:text-sm md:text-[10px] lg:text-xs text-gray-500 truncate leading-tight",children:E.role})]}),(e||window.innerWidth<768)&&r.jsx(ym,{className:`w-4 h-4 sm:w-5 sm:h-5 md:w-3 md:h-3 text-gray-400 group-hover:text-cyan-600 transition-all duration-300 transform ${d?"rotate-180":"rotate-0"}`})]}),d&&(e||window.innerWidth<768)&&r.jsxs("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white rounded-lg shadow-xl border border-gray-200 py-2 animate-slideUp z-[60]",children:[r.jsxs("button",{onClick:k,className:"w-full bg-white flex items-center px-3 sm:px-4 md:px-3 py-2 sm:py-3 md:py-1.5 text-sm sm:text-base md:text-xs text-gray-700 hover:bg-gray-50 hover:text-cyan-600 transition-all duration-200 group",children:[r.jsx(ys,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-5 md:h-5 mr-3 sm:mr-4 md:mr-2 text-gray-400 group-hover:text-cyan-500 transition-colors"}),"Ver Perfil"]}),r.jsx("div",{className:"border-t border-gray-100 my-1"}),r.jsxs("button",{onClick:O,className:"w-full flex bg-white items-center px-3 sm:px-4 md:px-3 py-2 sm:py-3 md:py-1.5 text-sm sm:text-base md:text-xs text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-200 group",children:[r.jsx(WU,{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-5 md:h-5 mr-3 sm:mr-4 md:mr-2 text-red-500 group-hover:text-red-600 transition-colors"}),"Cerrar Sesin"]})]}),!e&&window.innerWidth>=768&&r.jsx("div",{className:"hidden md:block absolute left-full ml-2 px-2 py-1 bg-gray-800 text-white text-sm rounded opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none whitespace-nowrap z-50 transform scale-75 group-hover:scale-100 animate-pop-in",children:E.name})]})}),r.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:r.jsx("div",{className:"absolute top-0 left-0 w-1 sm:w-1.5 md:w-0.5 h-full bg-gradient-to-b from-cyan-400 via-blue-500 to-cyan-400 opacity-30 animate-pulse"})})]}),r.jsx("style",{children:`
        /* Custom scrollbar mejorado */
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #06b6d4 #f1f5f9;
        }
        
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: linear-gradient(180deg, #06b6d4, #0891b2);
          border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(180deg, #0891b2, #0e7490);
        }
        
        /* Animaciones de la versin antigua */
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(10px) scale(0.95);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }
        
        @keyframes gradientFlow {
          0% { 
            background-size: 200% 100%;
            background-position: 0% 0%;
          }
          100% { 
            background-size: 200% 100%;
            background-position: 200% 0%;
          }
        }
        
        @keyframes gradientFlowReverse {
          0% { 
            background-size: 200% 100%;
            background-position: 200% 0%;
            opacity: 0.3;
          }
          100% { 
            background-size: 200% 100%;
            background-position: 0% 0%;
            opacity: 0.7;
          }
        }
        
        @keyframes pop-in {
          0% { 
            opacity: 0; 
            transform: scale(0.8) translateY(10px);
          }
          100% { 
            opacity: 1; 
            transform: scale(1) translateY(0);
          }
        }
        
        @keyframes shine {
          0% { transform: translateX(-100%) skewX(-12deg); }
          100% { transform: translateX(300%) skewX(-12deg); }
        }
        
        @keyframes twinkle {
          0%, 100% { 
            opacity: 0; 
            transform: scale(0);
          }
          50% { 
            opacity: 1; 
            transform: scale(1);
          }
        }
        
        @keyframes bounce-soft {
          0%, 100% { transform: scale(1) rotate(0deg); }
          25% { transform: scale(1.1) rotate(3deg); }
          50% { transform: scale(1.05) rotate(-2deg); }
          75% { transform: scale(1.08) rotate(1deg); }
        }
        
        /* Clases de animacin */
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
        .animate-slideUp {
          animation: slideUp 0.2s ease-out;
        }
        .animate-bounce-soft {
          animation: bounce-soft 0.6s ease-in-out;
        }
        .animate-pop-in {
          animation: pop-in 0.3s ease-out;
        }
        .animate-shine {
          animation: shine 0.8s ease-out;
        }
        .animate-twinkle {
          animation: twinkle 2s infinite;
        }
        .animate-gradientFlow {
          animation: gradientFlow 4s linear infinite;
        }
        .animate-gradientFlowReverse {
          animation: gradientFlowReverse 4s linear infinite;
        }
        
        /* Estilos especiales */
        .active-gradient-item {
          position: relative;
        }
        .transform-gpu {
          transform: translateZ(0);
          backface-visibility: hidden;
          perspective: 1000px;
        }
        
        /* Responsive breakpoints de la versin antigua */
        @media (max-width: 480px) {
          .responsive-sidebar {
            font-size: 0.7rem;
          }
        }
        
        @media (min-width: 481px) and (max-width: 768px) {
          .responsive-sidebar {
            font-size: 0.75rem;
          }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
          .responsive-sidebar {
            font-size: 0.85rem;
          }
        }
        
        @media (min-width: 1025px) {
          .responsive-sidebar {
            font-size: 1rem;
          }
        }
        
        /* Mejoras de accesibilidad */
        @media (prefers-reduced-motion: reduce) {
          * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
          }
        }
        
        /* Focus styles mejorados */
        .focus\\:outline-none:focus {
          outline: 2px solid transparent;
          outline-offset: 2px;
        }
        
        .focus\\:ring-2:focus {
          box-shadow: 0 0 0 2px #06b6d4;
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
          .border-gray-200 {
            border-color: #000;
          }
          .text-gray-500 {
            color: #000;
          }
          .text-gray-600 {
            color: #000;
          }
        }
      `})]})},Sl=(e,t)=>{const[n,a]=y.useState(e),[s,l]=y.useState({}),[c,d]=y.useState(!1),[f,m]=y.useState({}),h=y.useCallback(O=>{const{name:k,value:P,type:_,checked:L}=O.target;let U=P;_==="checkbox"?U=L:_==="number"&&(U=P===""?"":Number(P)),a(V=>({...V,[k]:U})),s[k]&&l(V=>({...V,[k]:null})),m(V=>({...V,[k]:!0}))},[s]),g=y.useCallback((O,k)=>{const P=O.split(".");a(_=>{const L={..._};let U=L;for(let V=0;V<P.length-1;V++)U[P[V]]||(U[P[V]]={}),U=U[P[V]];return U[P[P.length-1]]=k,L}),s[O]&&l(_=>({..._,[O]:null})),m(_=>({..._,[O]:!0}))},[s]),x=y.useCallback(()=>{a(e),l({}),m({}),d(!1)},[e]),b=y.useCallback((O=!1)=>{if(!t)return!0;const k=t(n,O);return l(k),Object.keys(k).length===0},[n,t]),j=y.useCallback(O=>{if(!t)return!0;const P=t(n,!1)[O];return l(_=>({..._,[O]:P})),!P},[n,t]),N=y.useCallback(async(O,k=!1)=>{d(!0);try{b(k)&&await O(n)}catch(P){console.error("Error en submit:",P)}finally{d(!1)}},[n,b]),S=y.useCallback(O=>{a(O),l({}),m({})},[]),C=y.useCallback(()=>JSON.stringify(n)!==JSON.stringify(e),[n,e]),A=y.useCallback(O=>O.includes(".")?O.split(".").reduce((P,_)=>P==null?void 0:P[_],n):n[O],[n]),E=y.useCallback(O=>!!s[O],[s]),T=y.useCallback(O=>!!f[O],[f]);return{formData:n,errors:s,touched:f,isSubmitting:c,handleInputChange:h,handleNestedChange:g,resetForm:x,validateForm:b,validateField:j,handleSubmit:N,setFormData:S,isFormDirty:C,getFieldValue:A,hasError:E,isFieldTouched:T,setFormData:S,setErrors:l}},Hl=(e,t=5)=>{const[n,a]=y.useState(0),[s,l]=y.useState(t),c=Array.isArray(e)?e:[],d=c.length,f=Math.ceil(d/s),m=y.useMemo(()=>{const j=n*s;return c.slice(j,j+s)},[c,n,s]);return y.useEffect(()=>{a(0)},[d,s]),{currentPage:n,totalPages:f,paginatedData:m,goToNextPage:()=>a(j=>Math.min(j+1,f-1)),goToPreviousPage:()=>a(j=>Math.max(j-1,0)),goToFirstPage:()=>a(0),goToLastPage:()=>a(f>0?f-1:0),pageSize:s,setPageSize:l}},pi=({title:e,buttonLabel:t,onButtonClick:n})=>r.jsx("div",{className:"bg-cyan-500 text-white p-4 sm:p-6 rounded-t-xl",children:r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0",children:[r.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:e}),r.jsxs("button",{onClick:n,className:"w-full sm:w-auto bg-white text-cyan-500 px-3 sm:px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:t})]})]})}),DF=({title:e,value:t,Icon:n,color:a="cyan"})=>{const s={cyan:"bg-cyan-100 text-cyan-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",purple:"bg-purple-100 text-purple-600"};return r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:e}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:t})]}),r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s[a]}`,children:r.jsx(n,{className:"w-6 h-6"})})]})})},Gl=({stats:e})=>r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((t,n)=>r.jsx(DF,{title:t.title,value:t.value,Icon:t.Icon,color:t.color},n))}),Kl=({searchTerm:e,onSearchChange:t,filters:n,activeFilter:a,onFilterChange:s,searchPlaceholder:l="Buscar..."})=>r.jsx("div",{className:"p-3 sm:p-4 lg:p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-stretch sm:items-center",children:[r.jsxs("div",{className:"relative flex-1 w-full",children:[r.jsx(br,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:l,value:e,onChange:t,className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-sm sm:text-base"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(c=>r.jsx("button",{onClick:()=>s(c.value),className:`px-2 sm:px-3 md:px-4 py-2 rounded-lg transition-colors text-xs sm:text-sm font-medium ${a===c.value?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:c.label},c.value))})]})}),xo=({columns:e=[],data:t=[],renderRow:n,noDataMessage:a="No se encontraron datos.",noDataSubMessage:s="Intenta con otros trminos de bsqueda"})=>{const l=(c,d)=>d.render?d.render(c):d.key?d.key.split(".").reduce((m,h)=>m==null?void 0:m[h],c)||"-":(console.warn('Column definition missing "key" property and no custom render function:',d),"-");return r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsx("tr",{children:e.map(c=>r.jsx("th",{className:"px-2 md:px-3 py-1 md:py-2 text-left font-semibold text-xs",children:c.label||c.header},c.key||c.header))})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.length>0?t.map((c,d)=>r.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:n?n(c):e.map(f=>r.jsx("td",{className:"px-2 md:px-3 py-1 md:py-2 text-gray-700 text-xs",children:l(c,f)},f.key||f.header))},c._id||d)):r.jsx("tr",{children:r.jsxs("td",{colSpan:e.length,className:"text-center p-4 sm:p-6 md:p-8",children:[r.jsx(Qu,{className:"w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16 text-gray-400 mx-auto mb-3 sm:mb-4"}),r.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-medium text-gray-900",children:a}),s&&r.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:s})]})})})]})})},gi=({currentPage:e,totalPages:t,goToFirstPage:n,goToPreviousPage:a,goToNextPage:s,goToLastPage:l,pageSize:c,setPageSize:d})=>t<=1?null:r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-3 sm:gap-4 pb-4 sm:pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700 text-xs sm:text-sm",children:"Mostrar"}),r.jsx("select",{value:c,onChange:f=>d(Number(f.target.value)),className:"border border-cyan-500 rounded py-1 px-2 text-xs sm:text-sm",children:[5,10,15,20].map(f=>r.jsx("option",{value:f,children:f},f))}),r.jsx("span",{className:"text-gray-700 text-xs sm:text-sm",children:"por pgina"})]}),r.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[r.jsx("button",{onClick:n,disabled:e===0,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:"<<"}),r.jsx("button",{onClick:a,disabled:e===0,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium text-xs sm:text-sm px-2",children:["Pgina ",e+1," de ",t]}),r.jsx("button",{onClick:s,disabled:e===t-1,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:">"}),r.jsx("button",{onClick:l,disabled:e===t-1,className:"px-2 sm:px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors text-xs sm:text-sm",children:">>"})]})]}),vs=({isOpen:e,onClose:t,onConfirm:n,title:a,message:s})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all animate-bounceIn",children:[r.jsx("div",{className:"bg-red-500 text-white p-6 rounded-t-xl",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(At,{className:"w-6 h-6"}),r.jsx("h3",{className:"text-xl font-bold",children:a})]})}),r.jsxs("div",{className:"p-6",children:[r.jsx("p",{className:"text-gray-700 mb-4",children:s}),r.jsx("p",{className:"text-red-600 text-sm",children:"Esta accin no se puede deshacer."})]}),r.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-xl flex justify-end space-x-3",children:[r.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancelar"}),r.jsxs("button",{onClick:n,className:"btn-danger flex items-center space-x-2",children:[r.jsx(Rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Confirmar"})]})]})]})}):null,Ar=({isOpen:e,onClose:t,title:n,item:a,data:s=[],actions:l=[],children:c})=>{var d,f;return!e||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 animate-slideInScale",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-5 rounded-t-xl flex justify-between items-center flex-shrink-0",children:[r.jsx("h3",{className:"text-xl font-bold",children:n}),r.jsx("button",{onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:r.jsx(Ra,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[((a==null?void 0:a.nombre)||(a==null?void 0:a.apellido)||(a==null?void 0:a.cargo)||typeof(a==null?void 0:a.edad)=="number"||(a==null?void 0:a.fotoPerfil))&&r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.fotoPerfil?r.jsx("img",{src:a.fotoPerfil,alt:a.nombre||"",className:"w-full h-full rounded-full object-cover"}):r.jsxs("span",{className:"text-cyan-600 font-bold text-2xl",children:[((d=a.nombre)==null?void 0:d.charAt(0))||"",((f=a.apellido)==null?void 0:f.charAt(0))||""]})}),r.jsxs("div",{children:[(a.nombre||a.apellido)&&r.jsxs("h4",{className:"text-2xl font-bold text-gray-800",children:[a.nombre," ",a.apellido]}),(a.cargo||typeof(a==null?void 0:a.edad)=="number")&&r.jsx("p",{className:"text-gray-500",children:a.cargo||`${a.edad} aos`})]})]}),r.jsx("div",{className:"space-y-2 pt-4 border-t",children:s.map((m,h)=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between py-2 border-b last:border-b-0",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:m.label}),m.color?r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m.color} mt-1 sm:mt-0`,children:m.value}):Fn.isValidElement(m.value)?r.jsx("div",{className:"text-gray-800 text-left sm:text-right break-words",children:m.value}):r.jsx("p",{className:"text-gray-800 text-left sm:text-right break-words",children:m.value})]},h))}),c&&r.jsx("div",{className:"space-y-4",children:c})]}),r.jsxs("div",{className:"p-4 bg-gray-50 rounded-b-xl flex flex-wrap gap-2 justify-end flex-shrink-0",children:[l&&l.map((m,h)=>r.jsxs("button",{onClick:m.onClick,className:`px-5 py-2 rounded-lg font-semibold transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-400 ${m.color==="red"?"bg-red-500 text-white hover:bg-red-600":m.color==="green"?"bg-green-500 text-white hover:bg-green-600":"bg-cyan-500 text-white hover:bg-cyan-600"}`,style:m.style,children:[m.icon&&r.jsx("span",{className:"inline-block mr-2 align-middle",children:m.icon}),m.label]},h)),r.jsx("button",{onClick:t,className:"px-5 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105",children:"Cerrar"})]})]})})},sl=({name:e,label:t,error:n,formData:a,handleInputChange:s,nested:l,...c})=>{const d=()=>{if(l){const m=e.split(".").reduce((h,g)=>h==null?void 0:h[g],a);return c.type==="number"?m??"":m||""}return c.type==="number"?a[e]===null||a[e]===void 0?"":a[e]:a[e]||""};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("input",{name:e,value:d(),onChange:s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,...c}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},RF=({name:e,label:t,error:n,formData:a,handleInputChange:s,nested:l,...c})=>{const d=()=>l?!!e.split(".").reduce((g,x)=>g==null?void 0:g[x],a):!!a[e],f=m=>{s({target:{name:e,value:m.target.checked}})};return r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{name:e,type:"checkbox",checked:d(),onChange:f,className:`h-4 w-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500 ${n?"border-red-500 animate-shake":""}`,...c}),r.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700",children:t}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},LF=({name:e,label:t,error:n,formData:a,handleInputChange:s,options:l,placeholder:c,nested:d,...f})=>{const m=()=>{if(d)return e.split(".").reduce((b,j)=>b==null?void 0:b[j],a)||"";const g=a[e];return typeof g=="boolean"?g.toString():g||""},h=g=>{const x=g.target.value;if(e==="disponible"){s({target:{name:e,value:x==="true"}});return}s(g)};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsxs("select",{name:e,value:m(),onChange:h,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,...f,children:[r.jsx("option",{value:"",children:c||"Seleccione una opcin"}),l.map(g=>r.jsx("option",{value:typeof g=="object"?g.value:g,children:typeof g=="object"?g.label:g},typeof g=="object"?g.value:g))]}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},IF=({name:e,label:t,error:n,formData:a,handleInputChange:s,nested:l,...c})=>{const d=()=>l?e.split(".").reduce((m,h)=>m==null?void 0:m[h],a)||"":a[e]||"";return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("textarea",{name:e,value:d(),onChange:s,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 resize-none text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,rows:"3",...c}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},zF=({name:e,label:t,error:n,formData:a,handleInputChange:s,options:l,placeholder:c,...d})=>{const f=()=>{const h=a[e];return Array.isArray(h)?h:[]},m=h=>{const g=Array.from(h.target.selectedOptions,x=>x.value);s({target:{name:e,value:g}})};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsx("select",{name:e,multiple:!0,value:f(),onChange:m,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,size:"4",...d,children:l.map(h=>r.jsx("option",{value:typeof h=="object"?h.value:h,children:typeof h=="object"?h.label:h},typeof h=="object"?h.value:h))}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mantn presionado Ctrl (Cmd en Mac) para seleccionar mltiples opciones"})]})},$F=({name:e,label:t,error:n,formData:a,handleInputChange:s,...l})=>{const c=()=>{const f=a[e];return typeof f=="boolean"?f.toString():f||"true"},d=f=>{s({target:{name:e,value:f.target.value==="true"}})};return r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:t}),r.jsxs("select",{name:e,value:c(),onChange:d,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-xs sm:text-sm ${n?"border-red-500 animate-shake":"border-gray-300 hover:border-cyan-300"}`,...l,children:[r.jsx("option",{value:"true",children:"Disponible"}),r.jsx("option",{value:"false",children:"No Disponible"})]}),n&&r.jsxs("div",{className:"mt-1 text-red-500 text-xs sm:text-sm flex items-center space-x-1 animate-slideInDown",children:[r.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"}),r.jsx("span",{children:n})]})]})},ir=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d="Guardar",submitIcon:f,fields:m=[],children:h,customFields:g={},gridCols:x=2})=>{if(!e)return null;const b=(N,S)=>{const{name:C,label:A,type:E,options:T,required:O,colSpan:k=1,nested:P,hidden:_,...L}=N;if(_)return null;const U=O?`${A} *`:A,V=c[C];if(g[C])return r.jsx("div",{className:`col-span-${k}`,children:g[C]},C||S);const K={name:C,label:U,error:V,formData:s,handleInputChange:l,nested:P,...L},le=(()=>{switch(E){case"checkbox":return r.jsx(RF,{...K});case"select":return r.jsx(LF,{...K,options:T});case"multi-select":return r.jsx(zF,{...K,options:T});case"boolean":return r.jsx($F,{...K});case"textarea":return r.jsx(IF,{...K});case"number":return r.jsx(sl,{...K,type:"number"});case"email":return r.jsx(sl,{...K,type:"email"});case"date":return r.jsx(sl,{...K,type:"date"});case"url":return r.jsx(sl,{...K,type:"url"});case"password":return r.jsx(sl,{...K,type:"password"});case"text":default:return r.jsx(sl,{...K,type:"text"})}})();return r.jsx("div",{className:`col-span-${k}`,children:le},C||S)},j=N=>{N.preventDefault(),N.stopPropagation(),n(N)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4 animate-fadeIn",children:r.jsxs("form",{onSubmit:j,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl md:max-w-4xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 animate-slideInScale",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-4 sm:p-6 rounded-t-xl sticky top-0 z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:a}),r.jsx("button",{type:"button",onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-1.5 sm:p-2 transition-all duration-200 hover:scale-110",children:r.jsx(Ra,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-${x} gap-3 sm:gap-4`,children:[h,m.map((N,S)=>b(N,S))]})}),r.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 rounded-b-xl flex flex-col sm:flex-row justify-end gap-2 sm:space-x-3 sticky bottom-0 z-10",children:[r.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all duration-200 hover:scale-105 text-sm sm:text-base",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105 flex items-center justify-center space-x-2 text-sm sm:text-base",children:[f||r.jsx(Nl,{className:"w-4 h-4"}),r.jsx("span",{children:d})]})]})]})})},bm={Ahuachapn:["Ahuachapn","Apaneca","Atiquizaya","Concepcin de Ataco","El Refugio","Guaymango","Jujutla","San Francisco Menndez","San Lorenzo","San Pedro Puxtla","Tacuba","Turn"],Cabaas:["Cinquera","Dolores","Guacotecti","Ilobasco","Jutiapa","San Isidro","Sensuntepeque","Tejutepeque","Victoria"],Chalatenango:["Agua Caliente","Arcatao","Azacualpa","Chalatenango","Cital","Comalapa","Concepcin Quezaltepeque","Dulce Nombre de Mara","El Carrizal","El Paraso","La Laguna","La Palma","La Reina","Las Vueltas","Nombre de Jess","Nueva Concepcin","Nueva Trinidad","Ojos de Agua","Potonico","San Antonio de la Cruz","San Antonio Los Ranchos","San Fernando","San Francisco Lempa","San Francisco Morazn","San Ignacio","San Isidro Labrador","San Jos Cancasque","San Jos Las Flores","San Luis del Carmen","San Miguel de Mercedes","San Rafael","Santa Rita","Tejutla"],Cuscatln:["Candelaria","Cojutepeque","El Carmen","El Rosario","Monte San Juan","Oratorio de Concepcin","San Bartolom Perulapa","San Cristbal","San Jos Guayabal","San Pedro Perulapn","San Rafael Cedros","San Ramn","Santa Cruz Analquito","Santa Cruz Michapa","Suchitoto","Tenancingo"],"La Libertad":["Antiguo Cuscatln","Ciudad Arce","Coln","Comasagua","Chiltiupn","Huizcar","Jayaque","Jicalapa","La Libertad","Nueva San Salvador","Opico","Quezaltepeque","Sacacoyo","San Jos Villanueva","San Juan Opico","San Matas","San Pablo Tacachico","Talnique","Tamanique","Teotepeque","Tepecoyo","Zaragoza"],"La Paz":["Cuyultitn","El Rosario","Jerusaln","Mercedes La Ceiba","Olocuilta","Paraso de Osorio","San Antonio Masahuat","San Emigdio","San Francisco Chinameca","San Juan Nonualco","San Juan Talpa","San Juan Tepezontes","San Luis La Herradura","San Luis Talpa","San Miguel Tepezontes","San Pedro Masahuat","San Pedro Nonualco","San Rafael Obrajuelo","Santa Mara Ostuma","Santiago Nonualco","Tapalhuaca","Zacatecoluca"],"La Unin":["Anamors","Bolvar","Concepcin de Oriente","Conchagua","El Carmen","El Sauce","Intipuc","La Unin","Lil","Meanguera del Golfo","Nueva Esparta","Pasaquina","Polors","San Alejo","San Jos","Santa Rosa de Lima","Yayantique","Yucuaiqun"],Morazn:["Arambala","Cacaopera","Chilanga","Corinto","Delicias de Concepcin","El Divisadero","El Rosario","Gualococti","Guatajiagua","Joateca","Jocoaitique","Jocoro","Lolotiquillo","Meanguera","Osicala","Perqun","San Carlos","San Fernando","San Francisco Gotera","San Isidro","San Simn","Sensembra","Sociedad","Torola","Yamabal","Yoloaiqun"],"San Miguel":["Carolina","Chapeltique","Chinameca","Chirilagua","Ciudad Barrios","Comacarn","El Trnsito","Lolotique","Moncagua","Nueva Guadalupe","Nuevo Edn de San Juan","Quelepa","San Antonio del Mosco","San Gerardo","San Jorge","San Luis de la Reina","San Miguel","San Rafael Oriente","Sesori","Uluazapa"],"San Salvador":["Aguilares","Apopa","Ayutuxtepeque","Cuscatancingo","Delgado","El Paisnal","Guazapa","Ilopango","Mejicanos","Nejapa","Panchimalco","Rosario de Mora","San Marcos","San Martn","San Salvador","Santiago Texacuangos","Santo Toms","Soyapango","Tonacatepeque"],"San Vicente":["Apastepeque","Guadalupe","San Cayetano Istepeque","San Esteban Catarina","San Ildefonso","San Lorenzo","San Sebastin","San Vicente","Santa Clara","Santo Domingo","Tecoluca","Tepetitn","Verapaz"],"Santa Ana":["Candelaria de la Frontera","Chalchuapa","Coatepeque","El Congo","El Porvenir","Masahuat","Metapn","San Antonio Pajonal","San Sebastin Salitrillo","Santa Ana","Santa Rosa Guachipiln","Santiago de la Frontera","Texistepeque"],Sonsonate:["Acajutla","Armenia","Caluco","Cuisnahuat","Izalco","Juaya","Nahuizalco","Nahulingo","Salcoatitn","San Antonio del Monte","San Julin","Santa Catarina Masahuat","Santa Isabel Ishuatn","Santo Domingo de Guzmn","Sonsonate","Sonzacate"],Usulutn:["Alegra","Berln","California","Concepcin Batres","El Triunfo","Ereguayqun","Estanzuelas","Jiquilisco","Jucuapa","Jucuarn","Mercedes Umaa","Nueva Granada","Ozatln","Puerto El Triunfo","San Agustn","San Buenaventura","San Dionisio","San Francisco Javier","Santa Elena","Santa Mara","Santiago de Mara","Tecapn","Usulutn"]},BF=({value:e,onChange:t,error:n,isEditing:a=!1,currentPassword:s=null,placeholder:l="Ingrese la contrasea"})=>{const[c,d]=y.useState(!1),[f,m]=y.useState(!1),[h,g]=y.useState("");y.useEffect(()=>{a&&s&&g(s)},[a,s]);const x=()=>{d(!0),g("")},b=()=>{d(!1),g(s||""),m(!1),t({target:{name:"password",value:s||""}})},j=()=>{d(!1),m(!1),t({target:{name:"password",value:h}})},N=S=>{const C=S.target.value;g(C),t({target:{name:"password",value:C}})};return a&&s&&!c?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xh,{className:"w-5 h-5 text-gray-400"}),r.jsx("div",{className:"text-gray-500 select-none tracking-widest",children:""})]}),r.jsxs("button",{type:"button",onClick:x,className:"px-3 py-1 bg-cyan-500 hover:bg-cyan-600 text-white text-sm rounded-lg transition-colors flex items-center space-x-2",children:[r.jsx(Rb,{className:"w-4 h-4"}),r.jsx("span",{children:"Cambiar"})]})]})}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(At,{className:"w-3 h-3"}),r.jsx("span",{children:"La contrasea actual se mantendr sin cambios"})]})]}):a&&c?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nueva Contrasea"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:f?"text":"password",name:"password",value:h,onChange:N,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all text-base ${n?"border-red-500":"border-gray-300"}`,placeholder:"Ingrese la nueva contrasea",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?r.jsx(Fy,{className:"w-5 h-5"}):r.jsx(an,{className:"w-5 h-5"})}),r.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[r.jsx("button",{type:"button",onClick:j,className:"p-1 text-green-600 hover:text-green-800 transition-colors",title:"Guardar contrasea",children:r.jsx(gh,{className:"w-4 h-4"})}),r.jsx("button",{type:"button",onClick:b,className:"p-1 text-red-600 hover:text-red-800 transition-colors",title:"Cancelar",children:r.jsx(Ra,{className:"w-4 h-4"})})]})]}),n&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:n})]}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(At,{className:"w-3 h-3"}),r.jsx("span",{children:"Ingrese una nueva contrasea segura"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:f?"text":"password",name:"password",value:e,onChange:t,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all text-base ${n?"border-red-500":"border-gray-300"}`,placeholder:l,autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?r.jsx(Fy,{className:"w-5 h-5"}):r.jsx(an,{className:"w-5 h-5"})})]}),n&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:n})]}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(At,{className:"w-3 h-3"}),r.jsx("span",{children:"Debe tener al menos 6 caracteres"})]})]})},qF=({field:e,value:t,onChange:n,error:a,nested:s=!1,placeholder:l,formData:c})=>{const[d,f]=y.useState(!1),m=()=>{if(s){const x=e.name.split(".");return c[x[0]]&&c[x[0]][x[1]]||""}return t},h=x=>{const{name:b,value:j}=x.target;if(s){const N=b.split("."),S=N[0],C=N[1],A=c[S]||{};n({target:{name:S,value:{...A,[C]:j}}}),C==="departamento"&&j!==A.departamento&&n({target:{name:S,value:{...A,departamento:j,ciudad:""}}})}else n(x)},g=`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base ${a?"border-red-500 bg-red-50":d?"border-blue-500":"border-gray-300 bg-white"}`;return e.type==="select"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{name:e.name,value:m(),onChange:h,className:g,onFocus:()=>f(!0),onBlur:()=>f(!1),children:[r.jsx("option",{value:"",children:e.placeholder||`Seleccione ${e.label.toLowerCase()}`}),Array.isArray(e.options)&&e.options.map((x,b)=>r.jsx("option",{value:x,children:x},`${e.name}-${b}-${x}`))]}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:a})]})]}):e.type==="textarea"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:e.name,value:m(),onChange:h,placeholder:l||e.placeholder,className:`${g} resize-none`,rows:3,onFocus:()=>f(!0),onBlur:()=>f(!1)}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:a})]})]}):e.name==="telefono"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"px-4 py-3 bg-gray-100 border border-gray-300 rounded-l-lg flex items-center space-x-2 text-gray-600",children:[r.jsx(go,{className:"w-5 h-5 text-gray-500"}),r.jsx("span",{children:"+503"})]}),r.jsx("input",{type:"tel",name:e.name,value:t.replace("+503",""),onChange:x=>n({target:{name:e.name,value:"+503"+x.target.value}}),placeholder:"78901234",className:`flex-1 px-4 py-3 border-t border-b border-r rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-base ${a?"border-red-500 bg-red-50":"border-gray-300"}`,onFocus:()=>f(!0),onBlur:()=>f(!1),maxLength:"8",inputMode:"numeric"})]}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(At,{className:"w-3 h-3"}),r.jsx("span",{children:"Ingrese 8 dgitos. Ej: 78901234"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label," ",e.required&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:e.type,name:e.name,value:m(),onChange:h,placeholder:l||e.placeholder,className:g,onFocus:()=>f(!0),onBlur:()=>f(!1),step:e.type==="number"?"1":void 0,min:e.type==="number"&&e.name==="edad"?"18":void 0,max:e.type==="number"&&e.name==="edad"?"100":void 0}),a&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:a})]}),e.type==="email"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(At,{className:"w-3 h-3"}),r.jsx("span",{children:"Ejemplo: cliente@email.com"})]}),e.name==="dui"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(At,{className:"w-3 h-3"}),r.jsx("span",{children:"Formato: 12345678-9"})]}),e.name==="edad"&&r.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[r.jsx(At,{className:"w-3 h-3"}),r.jsx("span",{children:"Edad mnima: 18 aos"})]})]})},UF=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,setFormData:f,selectedCliente:m=null})=>{const[h,g]=y.useState(""),x=!!m;y.useEffect(()=>{if(x&&m){const A=m.password||s.password||"";g(A),!s.password&&m.password&&f(E=>({...E,password:m.password}))}},[x,m,s.password,f]);const b=()=>{x&&!s.password&&f(A=>({...A,password:h})),n()},j=y.useMemo(()=>Object.keys(bm),[]),N=y.useMemo(()=>{const A=s.departamento;return A?bm[A]||[]:[]},[s.departamento]),S=[{title:" Informacin Personal",fields:[{name:"nombre",label:"Nombre Completo",type:"text",placeholder:"Ej: Mara Elena",required:!0},{name:"apellido",label:"Apellidos",type:"text",placeholder:"Ej: Rodrguez Prez",required:!0},{name:"edad",label:"Edad",type:"number",placeholder:"25",required:!0},{name:"dui",label:"Nmero de DUI",type:"text",placeholder:"12345678-9",required:!0},{name:"telefono",label:"Telfono",type:"text",required:!0},{name:"correo",label:"Correo Electrnico",type:"email",placeholder:"maria.rodriguez@email.com",required:!0}]},{title:" Informacin de Residencia",fields:[{name:"departamento",label:"Departamento",type:"select",options:j,placeholder:"Seleccione un departamento",required:!0},{name:"ciudad",label:"Ciudad/Municipio",type:"select",options:N,placeholder:"Seleccione una ciudad",required:!0},{name:"calle",label:"Direccin Completa",type:"textarea",placeholder:"Colonia Santa Elena, Calle Los Rosales #456, Casa amarilla con portn negro",required:!0}]},{title:" Estado del Cliente",fields:[{name:"estado",label:"Estado del Cliente",type:"select",options:["Activo","Inactivo"],required:!0}]}],C=r.jsxs("div",{className:"space-y-8",children:[S.map((A,E)=>r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:A.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.fields.map((T,O)=>r.jsx("div",{className:T.type==="textarea"?"md:col-span-2":"",children:r.jsx(qF,{field:T,value:s[T.name],onChange:l,error:c[T.name],nested:!1,placeholder:T.placeholder,formData:s})},`field-${E}-${O}`))})]},`section-${E}`)),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b border-gray-200",children:" Acceso y Seguridad"}),r.jsx("div",{className:"max-w-md",children:r.jsx(BF,{value:s.password,onChange:l,error:c.password,isEditing:x,currentPassword:h,placeholder:"Contrasea para acceder al sistema"})})]})]});return r.jsx(ir,{isOpen:e,onClose:t,onSubmit:b,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,fields:[],gridCols:1,size:"xl",children:C})},Tf="https://a-u-r-o-r-a.onrender.com/api/clientes",VF=()=>{const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,l]=y.useState(null),[c,d]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(""),[S,C]=y.useState("todos"),A=async()=>{try{a(!0);const pe=(await Le.get(Tf)).data.map(ge=>({...ge,fechaRegistro:new Date(ge.createdAt).toLocaleDateString()}));t(pe)}catch(W){le("error","Error al cargar los clientes desde el servidor."),console.error(W)}finally{a(!1)}};y.useEffect(()=>{A()},[]);const E=y.useMemo(()=>e.filter(W=>{const pe=j.toLowerCase(),ge=`${W.nombre} ${W.apellido}`.toLowerCase().includes(pe)||W.dui.includes(pe)||W.correo.toLowerCase().includes(pe)||W.telefono.includes(j),$e=S==="todos"||W.estado.toLowerCase()===S;return ge&&$e}),[e,j,S]),{paginatedData:T,...O}=Hl(E,5),{formData:k,setFormData:P,handleInputChange:_,resetForm:L,validateForm:U,errors:V,setErrors:K}=Sl({nombre:"",apellido:"",edad:"",dui:"",telefono:"",correo:"",calle:"",ciudad:"",departamento:"",estado:"Activo",password:""},(W,pe)=>{const ge={};return W.nombre.trim()||(ge.nombre="El nombre es requerido"),W.apellido.trim()||(ge.apellido="El apellido es requerido"),(!W.edad||W.edad<18||W.edad>100)&&(ge.edad="La edad debe ser entre 18 y 100"),/^\d{8}-\d$/.test(W.dui)||(ge.dui="DUI invlido (formato: 12345678-9)"),/^\+503[6-7]\d{7}$/.test(W.telefono)||(ge.telefono="Telfono invlido (formato: +503XXXXXXXX)"),/\S+@\S+\.\S+/.test(W.correo)||(ge.correo="Email invlido"),W.calle.trim()||(ge.calle="La direccin es requerida"),W.ciudad.trim()||(ge.ciudad="La ciudad es requerida"),W.departamento.trim()||(ge.departamento="El departamento es requerido"),!pe&&!W.password&&(ge.password="La contrasea es requerida"),ge}),le=(W,pe)=>{d({type:W,message:pe}),setTimeout(()=>d(null),5e3)},ee=()=>{m(!1),g(!1),b(!1),l(null),L()},ne=()=>{L(),K({}),l(null),m(!0)},B=W=>{l(W),P({nombre:W.nombre,apellido:W.apellido,edad:W.edad.toString(),dui:W.dui,telefono:W.telefono,correo:W.correo,calle:W.direccion.calle,ciudad:W.direccion.ciudad,departamento:W.direccion.departamento,estado:W.estado,password:W.password||""}),K({}),m(!0)},re=W=>{l(W),g(!0)},Q=W=>{l(W),b(!0)},H=async()=>{var W,pe;if(U(!!s))try{s?(await Le.put(`${Tf}/${s._id}`,k),le("success","Cliente actualizado exitosamente!")):(await Le.post(Tf,k),le("success","Cliente agregado exitosamente!")),A(),ee()}catch(ge){const $e=((pe=(W=ge.response)==null?void 0:W.data)==null?void 0:pe.message)||"Ocurri un error inesperado.";le("error",$e),console.error(ge)}},D=async()=>{var W,pe;if(s)try{await Le.delete(`${Tf}/${s._id}`),le("success","Cliente eliminado exitosamente!"),A(),ee()}catch(ge){const $e=((pe=(W=ge.response)==null?void 0:W.data)==null?void 0:pe.message)||"Ocurri un error inesperado.";le("error",$e),console.error(ge)}},q=W=>W==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",G=[{header:"Cliente",key:"cliente"},{header:"DUI",key:"dui"},{header:"Contacto",key:"contacto"},{header:"Direccin",key:"direccion"},{header:"Estado",key:"estado"},{header:"Fecha Registro",key:"fechaRegistro"},{header:"Acciones",key:"acciones"}],J=W=>r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsxs("span",{className:"text-cyan-600 font-semibold",children:[W.nombre.charAt(0),W.apellido.charAt(0)]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[W.nombre," ",W.apellido]}),r.jsxs("div",{className:"text-sm text-gray-500",children:[W.edad," aos"]})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 font-mono",children:W.dui}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(go,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:W.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:W.correo})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(di,{className:"w-4 h-4 text-gray-400 mt-0.5"}),r.jsxs("div",{children:[r.jsx("div",{children:W.direccion.calle}),r.jsxs("div",{className:"text-gray-500",children:[W.direccion.ciudad,", ",W.direccion.departamento]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${q(W.estado)}`,children:W.estado})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:W.fechaRegistro}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Q(W),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>re(W),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>B(W),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})})]})})]});return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(Cr,{alert:c}),r.jsx(Gl,{stats:[{title:"Total Clientes",value:e.length,Icon:Qu,color:"cyan"},{title:"Clientes Activos",value:e.filter(W=>W.estado==="Activo").length,Icon:Fl,color:"green"},{title:"Clientes Inactivos",value:e.filter(W=>W.estado==="Inactivo").length,Icon:V3,color:"red"}]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(pi,{title:"Gestin de Clientes",buttonLabel:"Aadir Cliente",onButtonClick:ne}),r.jsx(Kl,{searchTerm:j,onSearchChange:W=>N(W.target.value),searchPlaceholder:"Buscar cliente por nombre, DUI, email o telfono...",filters:[{label:"Todos",value:"todos"},{label:"Activos",value:"activo"},{label:"Inactivos",value:"inactivo"}],activeFilter:S,onFilterChange:C}),r.jsx(xo,{columns:G,data:T,renderRow:J,isLoading:n,noDataMessage:"No se encontraron clientes",noDataSubMessage:j?"Intenta con otros trminos de bsqueda":"Comienza registrando tu primer cliente"}),r.jsx(gi,{...O})]}),f&&r.jsx(UF,{isOpen:f,onClose:ee,onSubmit:H,title:s?"Editar Cliente":"Agregar Nuevo Cliente",formData:k,handleInputChange:_,errors:V,submitLabel:s?"Actualizar Cliente":"Guardar Cliente",setFormData:P,selectedCliente:s}),s&&r.jsx(Ar,{isOpen:h,onClose:ee,title:"Detalles del Cliente",item:s,data:[{label:"Nombre Completo",value:`${s.nombre} ${s.apellido}`},{label:"DUI",value:s.dui},{label:"Edad",value:`${s.edad} aos`},{label:"Telfono",value:s.telefono},{label:"Correo Electrnico",value:s.correo},{label:"Direccin",value:`${s.direccion.calle}, ${s.direccion.ciudad}, ${s.direccion.departamento}`},{label:"Fecha de Registro",value:s.fechaRegistro},{label:"Estado",value:s.estado,color:q(s.estado)}]}),r.jsx(vs,{isOpen:x,onClose:ee,onConfirm:D,title:"Confirmar Eliminacin",message:`Ests seguro de que deseas eliminar al cliente ${s==null?void 0:s.nombre} ${s==null?void 0:s.apellido}?`})]})},FF="https://a-u-r-o-r-a.onrender.com/api/empleados",HF=({currentPhoto:e,onPhotoChange:t,employeeName:n=""})=>{const[a,s]=y.useState(!1),[l,c]=y.useState(!1),d=()=>{if(!window.cloudinary)return;window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko",uploadPreset:"empleados_perfil",sources:["local","camera","url"],folder:"empleados_perfil",multiple:!1,cropping:!0,croppingAspectRatio:1,maxImageFileSize:5e6,clientAllowedFormats:["jpg","jpeg","png","webp"],styles:{palette:{window:"#FFFFFF",windowBorder:"#0891B2",tabIcon:"#0891B2",link:"#0891B2",action:"#0891B2"}},text:{es:{"queue.title":"Subir Foto","local.browse":"Seleccionar","camera.capture":"Tomar foto","crop.title":"Recortar foto"}}},(g,x)=>{if(g){c(!1);return}x&&x.event==="upload-added"&&c(!0),x&&x.event==="success"&&(t(x.info.secure_url),c(!1))}).open()},m=(h=>{if(!h||h.trim()==="")return null;const x=h.trim().split(" ").filter(b=>b.length>0);return x.length===0?null:x.length>1?`${x[0][0]}${x[1][0]}`:x[0][0]})(n);return r.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[r.jsxs("div",{className:"relative w-32 h-32 group cursor-pointer",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:d,children:[r.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100 border-4 border-white shadow-lg",children:e?r.jsx("img",{src:e,alt:n,className:"w-full h-full object-cover"}):m?r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-cyan-200 to-blue-200",children:r.jsx("span",{className:"text-cyan-800 font-bold text-2xl",children:m})}):r.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",children:r.jsx(ys,{className:"w-12 h-12 text-gray-500"})})}),r.jsx("div",{className:"absolute inset-0 rounded-full bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:r.jsx("div",{className:"text-white text-center",children:l?r.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(Rb,{className:"w-6 h-6"}),r.jsx("span",{className:"text-xs font-medium",children:e?"Cambiar":"Subir"})]})})}),r.jsx("button",{type:"button",className:`absolute -bottom-1 -right-1 w-8 h-8 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full shadow-lg flex items-center justify-center border-2 border-white transition-transform ${a?"scale-110":""}`,onClick:h=>{h.stopPropagation(),d()},children:r.jsx(ph,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:e?"Cambiar foto de perfil":"Agregar foto de perfil"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Haz clic en la imagen para ",e?"cambiar":"subir"]})]})]})},GF=({value:e,onChange:t,error:n,isEditing:a=!1})=>{const[s,l]=y.useState(!1),[c,d]=y.useState(!1);return a&&!s?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),r.jsxs("div",{className:"w-full px-4 py-3 bg-gray-50 border rounded-lg flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(xh,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{children:""})]}),r.jsxs("button",{type:"button",onClick:()=>l(!0),className:"px-3 py-1 bg-cyan-500 hover:bg-cyan-600 text-white text-sm rounded-lg flex items-center space-x-2",children:[r.jsx(Rb,{className:"w-4 h-4"}),r.jsx("span",{children:"Cambiar"})]})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:a?"Nueva Contrasea":"Contrasea *"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:c?"text":"password",name:"password",value:e,onChange:t,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${n?"border-red-500":"border-gray-300"}`,placeholder:"Ingrese la contrasea",autoComplete:"new-password"}),r.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:c?r.jsx(an,{className:"w-5 h-5"}):r.jsx(Fy,{className:"w-5 h-5"})})]}),n&&r.jsx("p",{className:"text-red-500 text-sm",children:n})]})},KF=({type:e,message:t,isVisible:n})=>{if(!n)return null;const a=e==="error"?"bg-red-50 border-red-200":"bg-green-50 border-green-200",s=e==="error"?"text-red-800":"text-green-800",l=e==="error"?r.jsx(At,{className:"w-4 h-4"}):r.jsx(gh,{className:"w-4 h-4"});return r.jsxs("div",{className:`${a} border rounded-lg p-3 flex items-center space-x-2 transition-all duration-300`,children:[r.jsx("div",{className:s,children:l}),r.jsx("p",{className:`text-sm ${s}`,children:t})]})},YF=({field:e,value:t,onChange:n,error:a,formData:s,selectedEmpleado:l,onValidationChange:c})=>{var N,S;const[d,f]=y.useState(!1),[m,h]=y.useState(null),g=async(C,A)=>{if(!C||C.trim()===""){h(null);return}if(l&&l[A]===C){h({type:"success",message:"Campo actual"});return}f(!0),h(null);try{(await Le.get(`${FF}/validate`,{params:{field:A,value:C,excludeId:l==null?void 0:l._id}})).data.exists?(h({type:"error",message:`Este ${A==="dui"?"DUI":"correo"} ya est registrado`}),c==null||c(A,!1)):(h({type:"success",message:`${A==="dui"?"DUI":"Correo"} disponible`}),c==null||c(A,!0))}catch(E){console.error(`Error validating ${A}:`,E),h(null),c==null||c(A,!0)}finally{f(!1)}};y.useEffect(()=>{if(e.name==="dui"||e.name==="correo"){const C=setTimeout(()=>{g(t,e.name)},500);return()=>clearTimeout(C)}},[t,e.name]);const x=()=>{var C;if(e.nested){const A=e.name.split(".");return((C=s==null?void 0:s.direccion)==null?void 0:C[A[1]])||""}return t||""},b=C=>{if(e.nested){const A=C.target.name.split("."),E={...s.direccion,[A[1]]:C.target.value};n({target:{name:A[0],value:E}}),A[1]==="departamento"&&n({target:{name:"direccion",value:{...E,municipio:""}}})}else n(C),(e.name==="dui"||e.name==="correo")&&h(null)},j=`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${a||(m==null?void 0:m.type)==="error"?"border-red-500":(m==null?void 0:m.type)==="success"?"border-green-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed opacity-60":""}`;return e.type==="select"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:e.name,value:x(),onChange:b,className:j,disabled:e.disabled,children:[r.jsx("option",{value:"",children:e.placeholder||"Seleccione"}),(N=e.options)==null?void 0:N.map((C,A)=>typeof C=="object"?r.jsx("option",{value:C.value,children:C.label},A):r.jsx("option",{value:C,children:C},A))]}),e.disabled&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(xh,{className:"w-4 h-4 text-gray-400"})})]}),e.disabled&&!((S=s==null?void 0:s.direccion)!=null&&S.departamento)&&r.jsx("p",{className:"text-gray-500 text-xs",children:"Primero selecciona un departamento"}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):e.type==="textarea"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsx("textarea",{name:e.name,value:x(),onChange:b,placeholder:e.placeholder,className:`${j} resize-none`,rows:3}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:e.type,name:e.name,value:x(),onChange:b,placeholder:e.placeholder,className:j,step:e.type==="number"?"0.01":void 0,min:e.type==="number"?"0":void 0}),d&&(e.name==="dui"||e.name==="correo")&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(Db,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),(e.name==="dui"||e.name==="correo")&&r.jsx(KF,{type:m==null?void 0:m.type,message:m==null?void 0:m.message,isVisible:!!m}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},WF=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,sucursales:f,setFormData:m,selectedEmpleado:h,onReturnToOptometristaEdit:g})=>{var _,L;const x=y.useMemo(()=>Object.keys(bm),[]),b=y.useMemo(()=>{var U;return(U=s==null?void 0:s.direccion)!=null&&U.departamento?bm[s.direccion.departamento]:[]},[(_=s==null?void 0:s.direccion)==null?void 0:_.departamento]),[j,N]=y.useState({dui:!0,correo:!0}),[S,C]=y.useState(!0),A=(U,V)=>{N(K=>({...K,[U]:V}))};y.useEffect(()=>{const U=Object.values(j).every(V=>V===!0);C(U)},[j]);const E=[{title:" Informacin Personal",fields:[{name:"nombre",label:"Nombre",type:"text",placeholder:"Juan Carlos",required:!0},{name:"apellido",label:"Apellido",type:"text",placeholder:"Garca Lpez",required:!0},{name:"dui",label:"DUI",type:"text",placeholder:"12345678-9",required:!0},{name:"telefono",label:"Telfono",type:"text",placeholder:"78901234",required:!0},{name:"correo",label:"Correo Electrnico",type:"email",placeholder:"juan.garcia@email.com",required:!0}]},{title:" Informacin de Residencia",fields:[{name:"direccion.departamento",label:"Departamento",type:"select",options:x,placeholder:"Seleccione departamento",nested:!0,required:!0},{name:"direccion.municipio",label:"Municipio",type:"select",options:b,placeholder:"Seleccione municipio",nested:!0,disabled:!((L=s==null?void 0:s.direccion)!=null&&L.departamento),required:!0},{name:"direccion.direccionDetallada",label:"Direccin Completa",type:"textarea",placeholder:"Colonia, calle, # de casa",nested:!0,className:"md:col-span-2",required:!0}]},{title:" Informacin Laboral",fields:[{name:"sucursalId",label:"Sucursal",type:"select",options:(f==null?void 0:f.map(U=>({value:U._id,label:U.nombre})))||[],required:!0},{name:"cargo",label:"Puesto",type:"select",options:["Administrador","Gerente","Vendedor","Optometrista","Tcnico","Recepcionista"],required:!0},{name:"salario",label:"Salario (USD)",type:"number",placeholder:"500.00",required:!0},{name:"fechaContratacion",label:"Fecha de Contratacin",type:"date",required:!0},{name:"estado",label:"Estado",type:"select",options:["Activo","Inactivo"],required:!0}]}],T=()=>h?r.jsx(Nl,{className:"w-4 h-4"}):(s==null?void 0:s.cargo)==="Optometrista"?r.jsx(Og,{className:"w-4 h-4"}):r.jsx(Nl,{className:"w-4 h-4"}),O=()=>h?h.cargo!=="Optometrista"&&(s==null?void 0:s.cargo)==="Optometrista"?"Continuar":"Actualizar Empleado":(s==null?void 0:s.cargo)==="Optometrista"?"Continuar":"Guardar Empleado",k=U=>{if(U.preventDefault(),!S){const V=Object.entries(j).filter(([K,le])=>!le).map(([K])=>K==="dui"?"DUI":"Correo");alert(`No se puede guardar el empleado. Los siguientes campos ya estn registrados: ${V.join(", ")}`);return}n()},P=r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"bg-gray-50 p-6 rounded-2xl border",children:r.jsx("div",{className:"flex justify-center",children:r.jsx(HF,{currentPhoto:s==null?void 0:s.fotoPerfil,onPhotoChange:U=>m(V=>({...V,fotoPerfil:U})),employeeName:`${(s==null?void 0:s.nombre)||""} ${(s==null?void 0:s.apellido)||""}`.trim()})})}),!S&&r.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-center space-x-3",children:[r.jsx(At,{className:"w-6 h-6 text-red-500 shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-red-800",children:"Datos duplicados detectados"}),r.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Corrige los campos marcados antes de continuar."})]})]}),E.map((U,V)=>r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:U.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:U.fields.map((K,le)=>r.jsx("div",{className:K.className||"",children:r.jsx(YF,{field:K,value:s==null?void 0:s[K.name],onChange:l,error:K.nested?c==null?void 0:c[K.name.split(".")[1]]:c==null?void 0:c[K.name],formData:s,selectedEmpleado:h,onValidationChange:A})},le))})]},V)),r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:" Acceso y Seguridad"}),r.jsx(GF,{value:(s==null?void 0:s.password)||"",onChange:l,error:c==null?void 0:c.password,isEditing:!!h})]}),(s==null?void 0:s.cargo)==="Optometrista"&&!h&&r.jsxs("div",{className:"bg-cyan-50 border-2 border-cyan-200 rounded-xl p-4 flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500 rounded-full flex items-center justify-center shrink-0",children:r.jsx(ys,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-cyan-800",children:"Perfil de Optometrista Seleccionado!"}),r.jsx("p",{className:"text-sm text-cyan-600 mt-1",children:"Al continuar, configurars horarios y especialidades."})]}),r.jsx(Og,{className:"w-8 h-8 text-cyan-500 shrink-0"})]}),(s==null?void 0:s.cargo)==="Optometrista"&&h&&h.cargo!=="Optometrista"&&r.jsxs("div",{className:"bg-cyan-50 border-2 border-cyan-200 rounded-xl p-4 flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-500 rounded-full flex items-center justify-center shrink-0",children:r.jsx(ys,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-cyan-800",children:"Cambio a Optometrista Detectado!"}),r.jsx("p",{className:"text-sm text-cyan-600 mt-1",children:"Al continuar, configurars los detalles del optometrista."})]}),r.jsx(Og,{className:"w-8 h-8 text-cyan-500 shrink-0"})]}),(s==null?void 0:s.fromOptometristaPage)&&g&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-800",children:"Editando desde Optometrista"}),r.jsx("p",{className:"text-xs text-blue-600",children:"Puedes regresar a editar los detalles del optometrista."})]}),r.jsx("button",{type:"button",onClick:()=>g(h==null?void 0:h._id),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm",children:"Editar Optometrista"})]})]});return r.jsx(ir,{isOpen:e,onClose:t,onSubmit:k,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:O(),submitIcon:T(),fields:[],gridCols:1,size:"xl",submitDisabled:!S,children:P})},G3=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,setFormData:l,handleInputChange:c,errors:d,submitLabel:f,empleados:m,sucursales:h,selectedOptometrista:g,isCreationFlow:x=!1,preloadedEmployeeData:b=null,onBackToEmployeeForm:j=null,isCreating:N=!1,creationStep:S="",creationProgress:C=0,setActiveSection:A=null,onCreationComplete:E=null})=>{const[T,O]=y.useState(!1),[k,P]=y.useState(!1),[_,L]=y.useState({}),[U,V]=y.useState(!1),K=["General","Peditrica","Contactologa","Baja Visin","Ortptica"];y.useEffect(()=>{x&&b&&!s.empleadoId&&(console.log(" Estableciendo empleadoId para flujo de creacin:",b),l($=>({...$,empleadoId:b._id||"temp_employee_id"})))},[x,b,s.empleadoId,l]);const le=()=>{const $={};return(!s.especialidad||s.especialidad.trim()==="")&&($.especialidad="La especialidad es obligatoria"),!s.licencia||s.licencia.trim()===""?$.licencia="El nmero de licencia es obligatorio":s.licencia.trim().length<3&&($.licencia="El nmero de licencia debe tener al menos 3 caracteres"),!s.experiencia&&s.experiencia!==0?$.experiencia="Los aos de experiencia son obligatorios":parseInt(s.experiencia)<0?$.experiencia="Los aos de experiencia no pueden ser negativos":parseInt(s.experiencia)>50&&($.experiencia="Los aos de experiencia no pueden exceder 50 aos"),!x&&(!s.empleadoId||s.empleadoId.trim()==="")&&($.empleadoId="Debe seleccionar un empleado"),(!s.sucursalesAsignadas||s.sucursalesAsignadas.length===0)&&($.sucursalesAsignadas="Debe asignar al menos una sucursal"),!s.disponibilidad||s.disponibilidad.length===0?$.disponibilidad="Debe configurar al menos una hora de disponibilidad":Q(s.disponibilidad).length>44&&($.disponibilidad="No puede exceder las 44 horas semanales"),(s.disponible===void 0||s.disponible===null||s.disponible==="")&&($.disponible="Debe seleccionar el estado de disponibilidad"),$},ee=(m==null?void 0:m.map($=>({value:$._id,label:`${$.nombre} ${$.apellido} - ${$.correo}`,empleado:$})))||[],ne=(h==null?void 0:h.map($=>({value:$._id,label:$.nombre})))||[],B=[{key:"lunes",label:"Lunes"},{key:"martes",label:"Martes"},{key:"miercoles",label:"Mircoles"},{key:"jueves",label:"Jueves"},{key:"viernes",label:"Viernes"},{key:"sabado",label:"Sbado"},{key:"domingo",label:"Domingo"}],re=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],Q=$=>{if(!Array.isArray($))return[];const Z=[];return $.forEach(Y=>{if(Y.hora)Z.push({dia:Y.dia,hora:Y.hora});else if(Y.horaInicio&&Y.horaFin){const R=re.indexOf(Y.horaInicio),se=Y.horaFin.includes(":00")?Y.horaFin.split(":")[0]+":00":Y.horaFin,xe=re.indexOf(se);if(R>=0&&xe>R)for(let Oe=R;Oe<xe;Oe++)Z.push({dia:Y.dia,hora:re[Oe]});else R>=0&&xe===-1&&Z.push({dia:Y.dia,hora:Y.horaInicio})}}),Z},H=($,Z)=>Q(s.disponibilidad).some(R=>R.dia===$&&R.hora===Z),D=($,Z)=>{const Y=Q(s.disponibilidad),R=Y.findIndex(Oe=>Oe.dia===$&&Oe.hora===Z);let se;if(R>=0)se=Y.filter((Oe,Ue)=>Ue!==R);else{if(Y.length>=44){ge();return}se=[...Y,{dia:$,hora:Z}]}const xe=se.map(Oe=>({dia:Oe.dia,hora:Oe.hora,horaInicio:Oe.hora,horaFin:q(Oe.hora)}));l(Oe=>({...Oe,disponibilidad:xe})),_.disponibilidad&&xe.length>0&&L(Oe=>{const Ue={...Oe};return delete Ue.disponibilidad,Ue})},q=$=>{const Z=re.indexOf($);if(Z>=0&&Z<re.length-1)return re[Z+1];if($==="16:00")return"17:00";const[Y]=$.split(":");return`${Y}:00`},G=$=>{const Z=Array.from($.target.selectedOptions,Y=>Y.value);l(Y=>({...Y,sucursalesAsignadas:Z})),_.sucursalesAsignadas&&Z.length>0&&L(Y=>{const R={...Y};return delete R.sucursalesAsignadas,R})},J=$=>{const R=Q(s.disponibilidad).filter(se=>se.dia!==$).map(se=>({dia:se.dia,hora:se.hora,horaInicio:se.hora,horaFin:q(se.hora)}));l(se=>({...se,disponibilidad:R}))},W=$=>{const Y=Q(s.disponibilidad).filter(Je=>Je.dia!==$),se=44-Y.length;if(se<=0){ge();return}const xe=Math.min(re.length,se),Oe=re.slice(0,xe).map(Je=>({dia:$,hora:Je})),He=[...Y,...Oe].map(Je=>({dia:Je.dia,hora:Je.hora,horaInicio:Je.hora,horaFin:q(Je.hora)}));l(Je=>({...Je,disponibilidad:He})),xe<re.length&&ge()},pe=$=>Q(s.disponibilidad).filter(Y=>Y.dia===$).length,ge=()=>{O(!0),setTimeout(()=>{O(!1)},4e3)},$e=()=>{V(!0),setTimeout(()=>{V(!1)},5e3)},be=()=>s.empleadoId&&(m==null?void 0:m.find($=>$._id===s.empleadoId))||null,Ne=$=>{c({target:{name:"empleadoId",value:$}}),P(!1),_.empleadoId&&L(Z=>{const Y={...Z};return delete Y.empleadoId,Y})},De=$=>{const{name:Z,value:Y}=$.target;c($),_[Z]&&Y&&Y.trim()!==""&&L(R=>{const se={...R};return delete se[Z],se})},Ie=$=>{var se,xe;$.preventDefault(),$.stopPropagation(),console.log("=== ENVO DEL FORMULARIO OPTOMETRISTA ==="),console.log("isCreationFlow:",x),console.log("formData actual:",s);const Z=le();if(Object.keys(Z).length>0){console.error(" Errores de validacin:",Z),L(Z),$e();return}L({});const Y={especialidad:(se=s.especialidad)==null?void 0:se.trim(),licencia:(xe=s.licencia)==null?void 0:xe.trim(),experiencia:parseInt(s.experiencia)||0,disponibilidad:Array.isArray(s.disponibilidad)?s.disponibilidad.map(Oe=>({dia:Oe.dia,hora:Oe.hora,horaInicio:Oe.horaInicio||Oe.hora,horaFin:Oe.horaFin||q(Oe.hora)})):[],sucursalesAsignadas:Array.isArray(s.sucursalesAsignadas)?s.sucursalesAsignadas:[],disponible:s.disponible!==!1&&s.disponible!=="false"};!x&&s.empleadoId&&(Y.empleadoId=s.empleadoId),console.log(" Datos finales para envo:",Y);const R=()=>{console.log(" Optometrista guardado exitosamente"),x&&A?(console.log(" Navegando a seccin optometristas"),A("optometristas"),t()):E&&typeof E=="function"?(console.log(" Llamando onCreationComplete"),E()):(console.log(" Cerrando modal (navegacin estndar)"),t())};try{const Oe=n(Y);Oe&&typeof Oe.then=="function"?Oe.then(()=>{R()}).catch(Ue=>{console.error(" Error al enviar formulario:",Ue)}):R()}catch(Oe){console.error(" Error al enviar formulario:",Oe)}},te=$=>{$.preventDefault(),$.stopPropagation(),console.log(" Botn regresar presionado"),j&&typeof j=="function"?j():console.warn(" onBackToEmployeeForm no est definido o no es una funcin")},_e=()=>{if(!U||Object.keys(_).length===0)return null;const $=r.jsx("div",{className:"fixed top-4 right-4 bg-white rounded-lg shadow-lg border border-red-200 p-4 max-w-sm transform transition-all duration-300 ease-out animate-slideInDown",style:{zIndex:9999},children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(At,{className:"w-3 h-3 text-red-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Campos incompletos"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por favor complete todos los campos obligatorios"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[Object.entries(_).slice(0,3).map(([Z,Y])=>r.jsxs("p",{className:"text-xs text-red-600",children:[" ",Y]},Z)),Object.keys(_).length>3&&r.jsxs("p",{className:"text-xs text-red-500",children:["+",Object.keys(_).length-3," errores ms..."]})]})]}),r.jsx("button",{onClick:()=>V(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Ra,{className:"w-4 h-4"})})]})});return hy.createPortal($,document.body)},Me=()=>{if(!T)return null;const $=r.jsx("div",{className:"fixed top-4 right-4 bg-white rounded-lg shadow-lg border border-amber-200 p-4 max-w-sm transform transition-all duration-300 ease-out animate-slideInDown",style:{zIndex:9999},children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r.jsx("div",{className:"w-5 h-5 bg-amber-100 rounded-full flex items-center justify-center",children:r.jsx(rr,{className:"w-3 h-3 text-amber-600"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Lmite de horas alcanzado"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mximo 44 horas semanales por optometrista"})]}),r.jsx("button",{onClick:()=>O(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Ra,{className:"w-4 h-4"})})]})});return hy.createPortal($,document.body)},qe=()=>{const $=_.empleadoId||d.empleadoId;return x?b?r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Empleado *"}),r.jsxs("div",{className:"w-full p-4 border rounded-lg bg-gradient-to-r from-cyan-50 to-blue-50 border-cyan-200 flex items-center space-x-3",children:[r.jsx("img",{src:b.fotoPerfil||`https://ui-avatars.com/api/?name=${b.nombre}+${b.apellido}`,alt:b.nombre,className:"w-12 h-12 rounded-full object-cover border-2 border-cyan-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[b.nombre," ",b.apellido]}),r.jsx("div",{className:"text-sm text-gray-600",children:b.correo}),r.jsx("div",{className:"text-xs text-cyan-600 font-medium",children:" Empleado nuevo - Se guardar automticamente"})]})]})]}):r.jsx("p",{children:"Cargando datos del empleado..."}):r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Empleado *"}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{type:"button",onClick:()=>P(!k),disabled:!!g,className:`w-full p-4 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-left ${$?"border-red-500":"border-gray-300"} ${g?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-cyan-300"}`,children:be()?r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:be().fotoPerfil||`https://ui-avatars.com/api/?name=${be().nombre}+${be().apellido}&background=0891b2&color=fff`,alt:`${be().nombre}`,className:"w-12 h-12 rounded-full object-cover border-2 border-cyan-200"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[be().nombre," ",be().apellido]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Vl,{className:"w-4 h-4"}),r.jsx("span",{children:be().correo})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(go,{className:"w-4 h-4"}),r.jsx("span",{children:be().telefono})]})]})]}),r.jsx(ym,{className:`w-5 h-5 text-gray-400 transform transition-transform ${k?"rotate-180":""}`})]}):r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center",children:r.jsx(ys,{className:"w-6 h-6 text-gray-400"})}),r.jsx("span",{className:"text-gray-500",children:"Seleccione un empleado..."})]}),r.jsx(ym,{className:`w-5 h-5 text-gray-400 transform transition-transform ${k?"rotate-180":""}`})]})}),k&&!g&&r.jsx("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-64 overflow-y-auto",children:ee.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay empleados optometristas disponibles"}):r.jsx("div",{className:"p-2 space-y-1",children:ee.map(Z=>{const Y=Z.empleado,R=s.empleadoId===Z.value;return r.jsx("button",{type:"button",onClick:()=>Ne(Z.value),className:`w-full p-3 rounded-lg text-left transition-all hover:bg-cyan-50 ${R?"bg-cyan-100 border border-cyan-300":"hover:border-transparent"}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:Y.fotoPerfil||`https://ui-avatars.com/api/?name=${Y.nombre}+${Y.apellido}&background=0891b2&color=fff`,alt:`${Y.nombre}`,className:"w-10 h-10 rounded-full object-cover border border-gray-200"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"font-medium text-gray-900 truncate",children:[Y.nombre," ",Y.apellido]}),r.jsx("div",{className:"text-sm text-gray-500 truncate",children:Y.correo}),r.jsx("div",{className:"text-xs text-gray-400",children:Y.telefono})]}),R&&r.jsx(gh,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"})]})},Z.value)})})})]}),$&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:$})]}),g&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El empleado no se puede cambiar al editar un optometrista"})]})},Ke=()=>{const $=Q(s.disponibilidad).length,Z=$>44,Y=_.disponibilidad||d.disponibilidad;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Horarios de Disponibilidad:"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Selecciona las horas disponibles para cada da. Puedes elegir horas no consecutivas."}),r.jsxs("div",{className:`mt-3 inline-flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium ${Z?"bg-red-500 text-white border-2 border-red-600":"bg-green-100 text-green-800 border-2 border-green-200"}`,children:[r.jsx(rr,{className:"w-4 h-4"}),r.jsxs("span",{children:[$," horas semanales"]}),Z&&r.jsx("span",{className:"text-white font-bold",children:"!"})]})]}),r.jsxs("div",{className:`bg-white rounded-lg border overflow-hidden ${Y?"border-red-500":"border-gray-200"}`,children:[r.jsx("div",{className:"bg-cyan-50 border-b border-gray-200",children:r.jsx("div",{className:"grid grid-cols-7 text-center",children:B.map(R=>{const se=pe(R.key);return r.jsxs("div",{className:"py-3 px-2 border-r border-gray-200 last:border-r-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-700 mb-2",children:R.label}),r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("button",{type:"button",onMouseDown:xe=>xe.preventDefault(),onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),W(R.key)},className:"text-xs px-2 py-1 bg-cyan-500 text-white rounded hover:bg-cyan-600 transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-1",title:"Seleccionar todo el da",children:"Todo"}),r.jsx("button",{type:"button",onMouseDown:xe=>xe.preventDefault(),onClick:xe=>{xe.preventDefault(),xe.stopPropagation(),J(R.key)},className:"text-xs px-2 py-1 bg-gray-400 text-white rounded hover:bg-gray-500 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-1",title:"Limpiar da",children:"Limpiar"}),se>0?r.jsxs("span",{className:"text-xs text-cyan-600 font-medium",children:[se,"h"]}):r.jsx("span",{className:"text-xs text-transparent",children:"0h"})]})]},R.key)})})}),r.jsx("div",{className:"p-4",children:re.map(R=>r.jsx("div",{className:"grid grid-cols-7 mb-2 last:mb-0",children:B.map(se=>{const xe=H(se.key,R);return r.jsx("div",{className:"px-1",children:r.jsx("button",{type:"button",onClick:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),D(se.key,R)},onMouseDown:Oe=>{Oe.preventDefault()},className:`w-full py-2 px-2 text-sm font-medium rounded transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 ${xe?"bg-cyan-500 text-white shadow-md hover:bg-cyan-600 scale-105 focus:ring-cyan-500":"bg-gray-100 text-gray-600 hover:bg-gray-200 hover:scale-105 focus:ring-gray-400"}`,children:R})},`${se.key}-${R}`)})},R))}),r.jsx("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-cyan-500 rounded"}),r.jsx("span",{className:"text-gray-600",children:"Disponible"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),r.jsx("span",{className:"text-gray-600",children:"No disponible"})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",Q(s.disponibilidad).length," horas seleccionadas"]})]})})]}),Y&&r.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:Y})]})]})},Be=()=>{const $=_.sucursalesAsignadas||d.sucursalesAsignadas;return r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sucursales Asignadas *"}),r.jsx("select",{multiple:!0,value:Array.isArray(s.sucursalesAsignadas)?s.sucursalesAsignadas:[],onChange:G,className:`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-sm ${$?"border-red-500":"border-gray-300"}`,size:"4",children:ne.map(Z=>r.jsx("option",{value:Z.value,children:Z.label},Z.value))}),$&&r.jsxs("p",{className:"text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:$})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Mantn presionado Ctrl (Cmd en Mac) para seleccionar mltiples sucursales"})]})},F=[{name:"especialidad",label:"Especialidad",type:"select",options:K.map($=>({value:$,label:$})),placeholder:"Seleccione la especialidad",required:!0},{name:"licencia",label:"Nmero de Licencia",type:"text",placeholder:"Ingrese el nmero de licencia",required:!0},{name:"experiencia",label:"Aos de Experiencia",type:"number",placeholder:"Ingrese aos de experiencia",min:0,max:50,required:!0},{name:"disponible",label:"Estado de Disponibilidad",type:"select",options:[{value:!0,label:"Disponible"},{value:!1,label:"No Disponible"}],required:!0}];return y.useEffect(()=>{const $=Z=>{k&&!Z.target.closest(".relative")&&P(!1)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[k]),r.jsxs(r.Fragment,{children:[r.jsx(_e,{}),r.jsx(Me,{}),r.jsx(ir,{isOpen:e,onClose:()=>{P(!1),L({}),t()},onSubmit:Ie,title:a,formData:s,handleInputChange:De,errors:{...d,..._},submitLabel:f,fields:[],gridCols:2,customButtons:x&&j?r.jsxs("button",{type:"button",onClick:te,className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-all duration-200 flex items-center space-x-2 font-medium",children:[r.jsx($B,{className:"w-5 h-5"}),r.jsx("span",{children:"Regresar"})]}):null,children:r.jsxs("div",{className:"md:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-cyan-600 mb-4 flex items-center",children:[r.jsx(ys,{className:"w-5 h-5 mr-2"}),"Informacin del Optometrista"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(qe,{}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:F.map($=>{const{name:Z,label:Y,type:R,options:se,required:xe,...Oe}=$,Ue=xe?`${Y} *`:Y,He=_[Z]||d[Z];return R==="select"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Ue}),r.jsxs("select",{name:Z,value:s[Z]||"",onChange:De,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-sm ${He?"border-red-500":"border-gray-300"}`,...Oe,children:[r.jsx("option",{value:"",children:Oe.placeholder||"Seleccione una opcin"}),se.map(Je=>r.jsx("option",{value:typeof Je=="object"?Je.value:Je,children:typeof Je=="object"?Je.label:Je},typeof Je=="object"?Je.value:Je))]}),He&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:He})]})]},Z):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:Ue}),r.jsx("input",{name:Z,type:R,value:s[Z]||"",onChange:De,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all text-sm ${He?"border-red-500":"border-gray-300"}`,...Oe}),He&&r.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:He})]})]},Z)})})]})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-cyan-600 mb-4 flex items-center",children:[r.jsx(rr,{className:"w-5 h-5 mr-2"}),"Configuracin de Horarios"]}),r.jsx(Ke,{})]}),r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"text-lg font-semibold text-cyan-600 mb-4 flex items-center",children:[r.jsx(di,{className:"w-5 h-5 mr-2"}),"Asignacin de Sucursales"]}),r.jsx(Be,{})]})]})}),r.jsx("style",{children:`
                @keyframes slideInDown {
                    from {
                        opacity: 0;
                        transform: translateY(-20px) scale(0.95);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0) scale(1);
                    }
                }
                
                .animate-slideInDown {
                    animation: slideInDown 0.3s ease-out;
                }
            `})]})},il=ke.ENDPOINTS.EMPLEADOS,XF=ke.ENDPOINTS.SUCURSALES,kf=ke.ENDPOINTS.OPTOMETRISTAS,pr=async(e,t,n,a={})=>{const s=f=>`${f}${t}`,l=async f=>{const m=s(f);try{const h=await Le({url:m,method:e,data:n,withCredentials:!0,headers:{"Content-Type":"application/json",...a.headers||{}},...a});return ke.BASE_URL=f,h}catch(h){throw h}},c=ke.BASE_URL,d=c.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await l(c)}catch(f){const m=(f==null?void 0:f.message)||"";if(f.code==="ECONNABORTED"||m.includes("Network Error")||m.includes("ECONNREFUSED"))return await l(d);throw f}},ZF=()=>{var ja,jt;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,l]=y.useState(!0),[c,d]=y.useState(null),[f,m]=y.useState(null),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,C]=y.useState(""),[A,E]=y.useState("todos"),[T,O]=y.useState(!1),[k,P]=y.useState(null),[_,L]=y.useState(!1),[U,V]=y.useState(!1),[K,le]=y.useState(""),[ee,ne]=y.useState(0),B=En(),re=Ss(),Q=async()=>{var ue,Te;l(!0);try{const[dt,ht]=await Promise.all([pr("get",il),pr("get",XF)]);t(dt.data),a(ht.data)}catch(dt){Ue("error","Error al cargar los datos. "+(((Te=(ue=dt.response)==null?void 0:ue.data)==null?void 0:Te.message)||dt.message))}finally{l(!1)}};y.useEffect(()=>{Q();const ue=document.createElement("script");return ue.src="https://widget.cloudinary.com/v2.0/global/all.js",ue.async=!0,document.body.appendChild(ue),()=>{document.body.contains(ue)&&document.body.removeChild(ue)}},[]);const{formData:H,setFormData:D,handleInputChange:q,resetForm:G,validateForm:J,errors:W,setErrors:pe}=Sl({nombre:"",apellido:"",dui:"",telefono:"",correo:"",cargo:"",sucursalId:"",fechaContratacion:"",salario:"",estado:"Activo",password:"",fotoPerfil:"",direccion:{departamento:"",municipio:"",direccionDetallada:""}},ue=>{const Te={};return ue.nombre.trim()||(Te.nombre="El nombre es requerido"),ue.apellido.trim()||(Te.apellido="El apellido es requerido"),/^\d{8}-\d$/.test(ue.dui)||(Te.dui="DUI invlido (formato: 12345678-9)"),/^\d{8}$/.test(ue.telefono)||(Te.telefono="Telfono invlido (8 dgitos requeridos)"),/\S+@\S+\.\S+/.test(ue.correo)||(Te.correo="Email invlido"),ue.cargo||(Te.cargo="El cargo es requerido"),ue.sucursalId||(Te.sucursalId="La sucursal es requerida"),(!ue.salario||ue.salario<=0)&&(Te.salario="Salario invlido"),!c&&!ue.password&&(Te.password="La contrasea es requerida para nuevos empleados"),ue.direccion.departamento&&!ue.direccion.municipio&&(Te["direccion.municipio"]="El municipio es requerido si el departamento est seleccionado"),ue.direccion.municipio&&!ue.direccion.departamento&&(Te["direccion.departamento"]="El departamento es requerido si el municipio est seleccionado"),Te}),{formData:ge,setFormData:$e,handleInputChange:be,resetForm:Ne,errors:De}=Sl({especialidad:"",licencia:"",experiencia:"",disponibilidad:[],sucursalesAsignadas:[],disponible:!0,empleadoId:""},ue=>{const Te={};return ue.especialidad||(Te.especialidad="La especialidad es requerida"),ue.licencia||(Te.licencia="La licencia es requerida"),(!ue.experiencia||ue.experiencia<0)&&(Te.experiencia="La experiencia debe ser un nmero positivo"),(!ue.sucursalesAsignadas||ue.sucursalesAsignadas.length===0)&&(Te.sucursalesAsignadas="Debe asignar al menos una sucursal"),(!ue.disponibilidad||ue.disponibilidad.length===0)&&(Te.disponibilidad="Debe configurar al menos una hora de disponibilidad"),Te}),Ie=y.useMemo(()=>e.filter(ue=>{var wt,Mt,Pt,dr;const Te=S.toLowerCase(),dt=`${ue.nombre} ${ue.apellido}`.toLowerCase().includes(Te)||ue.dui.includes(Te)||ue.correo.toLowerCase().includes(Te)||ue.cargo.toLowerCase().includes(Te);let ht=!0;const Pe=(wt=n.find(oe=>oe.nombre==="Principal"))==null?void 0:wt._id,Qe=(Mt=n.find(oe=>oe.nombre==="Quezaltepeque"))==null?void 0:Mt._id;return A==="principal"?ht=((Pt=ue.sucursalId)==null?void 0:Pt._id)===Pe:A==="quezaltepeque"?ht=((dr=ue.sucursalId)==null?void 0:dr._id)===Qe:A==="activos"?ht=ue.estado==="Activo":A==="inactivos"&&(ht=ue.estado==="Inactivo"),dt&&ht}),[e,S,A,n]),{paginatedData:te,..._e}=Hl(Ie,5),Me=e.length,qe=e.filter(ue=>ue.estado==="Activo").length,Ke=(ja=n.find(ue=>ue.nombre==="Principal"))==null?void 0:ja._id,Be=e.filter(ue=>{var Te;return((Te=ue.sucursalId)==null?void 0:Te._id)===Ke}).length,F=e.filter(ue=>ue.estado==="Activo").reduce((ue,Te)=>ue+parseFloat(Te.salario||0),0),$=ue=>`$${Number(ue).toFixed(2)}`,Z=[{title:"Total Empleados",value:Me,Icon:Qu},{title:"Empleados Activos",value:qe,Icon:Fl},{title:"Sucursal Principal",value:Be,Icon:yl},{title:"Nmina Total (Activos)",value:$(F),Icon:po}];y.useEffect(()=>{var ue;if((ue=B.state)!=null&&ue.editEmployeeId){const Te=e.find(dt=>dt._id===B.state.editEmployeeId);Te&&ut(Te,!0),re(B.pathname,{replace:!0,state:{}})}},[B.state,e,re]);const Y=()=>{var Te,dt,ht,Pe;if(!J()){console.log(" Validacin del formulario de empleado fall");return}console.log("=== PROCEDIENDO AL FORMULARIO DE OPTOMETRISTA ==="),console.log("Datos del formulario de empleado:",H);const ue={...H,fotoPerfil:H.fotoPerfil||"",departamento:((Te=H.direccion)==null?void 0:Te.departamento)||"",municipio:((dt=H.direccion)==null?void 0:dt.municipio)||"",direccionDetallada:((ht=H.direccion)==null?void 0:ht.direccionDetallada)||"",telefono:(Pe=H.telefono)!=null&&Pe.startsWith("+503")?H.telefono:"+503"+H.telefono};delete ue.direccion,delete ue.fromOptometristaPage,console.log(" Datos completos del empleado preparados:",ue),P(ue),g(!1),Ne(),$e({especialidad:"",licencia:"",experiencia:"",disponibilidad:[],sucursalesAsignadas:[],disponible:!0,empleadoId:""}),L(!0),console.log(" Transicin al modal de optometrista completada")},R=async(ue=null)=>{var Te,dt,ht,Pe,Qe,wt,Mt,Pt,dr,oe;try{const we=ue||ge;if(console.log("=== INICIO DE CREACIN EMPLEADO + OPTOMETRISTA ==="),console.log("Datos del empleado (tempEmployeeData):",k),console.log("Datos del optometrista recibidos:",we),!k){console.error(" No hay datos del empleado para crear"),Ue("error","Error: No se encontraron los datos del empleado");return}if(!we.especialidad||!we.licencia){console.error(" Faltan campos requeridos en optometrista:",{especialidad:we.especialidad,licencia:we.licencia,experiencia:we.experiencia}),Ue("error","Faltan campos requeridos: especialidad y licencia son obligatorios");return}if(!we.sucursalesAsignadas||we.sucursalesAsignadas.length===0){console.error(" Faltan sucursales asignadas"),Ue("error","Debe asignar al menos una sucursal");return}if(!we.disponibilidad||we.disponibilidad.length===0){console.error(" Falta disponibilidad"),Ue("error","Debe configurar al menos una hora de disponibilidad");return}l(!0),le("employee"),ne(25);let ze=null;if(c&&c._id)console.log(" Flujo edicin: usando empleado existente"),ze=c._id;else{console.log(" Creando empleado...");const et=await pr("post",il,k),Dt=et.data.empleado||et.data;if(ze=Dt._id,console.log(" Empleado creado exitosamente:",et.data),console.log(" Datos del empleado:",Dt),console.log(" Nuevo empleadoId:",ze),!ze)throw console.error(" No se pudo extraer el ID del empleado creado"),console.error(" Estructura de respuesta:",et.data),new Error("No se pudo obtener el ID del empleado creado. Verifique la respuesta del servidor.")}try{c&&c.cargo!=="Optometrista"||!c&&(k==null?void 0:k.cargo)!=="Optometrista"?(console.log(" Ajustando cargo del empleado a 'Optometrista'..."),await pr("put",`${il}/${ze}`,{cargo:"Optometrista"}),console.log(" Cargo del empleado actualizado a Optometrista")):console.log(" Cargo ya establecido como Optometrista")}catch(et){console.warn(" No se pudo actualizar el cargo a Optometrista antes de crear/actualizar el optometrista:",((Te=et==null?void 0:et.response)==null?void 0:Te.data)||et.message)}ne(60),le("optometrista");const Fe={empleadoId:ze,especialidad:(dt=we.especialidad)==null?void 0:dt.trim(),licencia:(ht=we.licencia)==null?void 0:ht.trim(),experiencia:parseInt(we.experiencia)||0,disponibilidad:Array.isArray(we.disponibilidad)?we.disponibilidad.map(et=>({dia:et.dia,hora:et.hora,horaInicio:et.horaInicio||et.hora,horaFin:et.horaFin||se(et.hora)})):[],sucursalesAsignadas:Array.isArray(we.sucursalesAsignadas)?we.sucursalesAsignadas:[],disponible:we.disponible!==!1&&we.disponible!=="false"};console.log(" Datos finales para optometrista:",Fe),console.log(" Verificando si ya existe optometrista para este empleado...");let Ye;const Ge=await Ae(ze);Ge&&Ge._id?(console.log(" Ya existe optometrista, actualizando..."),Ye=await pr("put",`${kf}/${Ge._id}`,Fe),console.log(" Optometrista actualizado exitosamente:",Ye.data)):(console.log(" Creando optometrista..."),Ye=await pr("post",kf,Fe),console.log(" Optometrista creado exitosamente:",Ye.data)),ne(100),Ue("success","Empleado y Optometrista creados exitosamente!"),setTimeout(()=>{He(),Q().then(()=>{re("/dashboard")})},1e3)}catch(we){console.error(" Error en la creacin:",we),console.error(" Respuesta del servidor:",(Pe=we.response)==null?void 0:Pe.data);let ze="Error en la creacin: ";(wt=(Qe=we.response)==null?void 0:Qe.data)!=null&&wt.message?ze+=we.response.data.message:(Pt=(Mt=we.response)==null?void 0:Mt.data)!=null&&Pt.error?ze+=we.response.data.error:we.message?ze+=we.message:ze+="Error desconocido",(oe=(dr=we.response)==null?void 0:dr.data)!=null&&oe.missing&&(ze+=`. Campos faltantes: ${we.response.data.missing.join(", ")}`),Ue("error",ze)}finally{l(!1),le(""),ne(0)}},se=ue=>{const Te=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],dt=Te.indexOf(ue);if(dt>=0&&dt<Te.length-1)return Te[dt+1];const[ht]=ue.split(":");return`${ht}:59`},xe=()=>{var ue;if(console.log(" Regresando al formulario de empleado"),L(!1),g(!0),k){const Te={...k,direccion:{departamento:k.departamento||"",municipio:k.municipio||"",direccionDetallada:k.direccionDetallada||""},telefono:(ue=k.telefono)!=null&&ue.startsWith("+503")?k.telefono.substring(4):k.telefono||""};delete Te.departamento,delete Te.municipio,delete Te.direccionDetallada,D(Te)}},Oe=ue=>{const Te=optometristas==null?void 0:optometristas.find(dt=>dt.empleadoId._id===ue);Te&&(He(),re("/dashboard",{state:{editOptometristaId:Te._id}}))},Ue=(ue,Te)=>{console.log(` Alert [${ue.toUpperCase()}]: ${Te}`),m({type:ue,message:Te}),setTimeout(()=>m(null),5e3)},He=()=>{g(!1),b(!1),N(!1),L(!1),V(!1),d(null),P(null),le(""),ne(0),G(),Ne()},Je=()=>{G(),Ne();const ue={nombre:"",apellido:"",dui:"",telefono:"",correo:"",cargo:"",sucursalId:"",fechaContratacion:new Date().toISOString().split("T")[0],salario:"",estado:"Activo",password:"",fotoPerfil:"",direccion:{departamento:"",municipio:"",direccionDetallada:""}};D(ue),d(null),g(!0)},ut=(ue,Te=!1)=>{var Qe,wt;d(ue);const dt=(Qe=ue.telefono)!=null&&Qe.startsWith("+503")?ue.telefono.substring(4):ue.telefono||"",ht={departamento:ue.departamento||"",municipio:ue.municipio||"",direccionDetallada:ue.direccionDetallada||""},Pe={...ue,sucursalId:((wt=ue.sucursalId)==null?void 0:wt._id)||"",password:"",fechaContratacion:ue.fechaContratacion?new Date(ue.fechaContratacion).toISOString().split("T")[0]:"",direccion:ht,telefono:dt,fotoPerfil:ue.fotoPerfil||"",fromOptometristaPage:Te,originalCargo:ue.cargo};console.log("Datos para edicin:",Pe),D(Pe),pe({}),g(!0)},z=ue=>{d(ue),b(!0)},ae=ue=>{d(ue),N(!0)},Ae=async ue=>{try{return(await pr("get",`${kf}/empleado/${ue}`)).data}catch{return null}},Re=async ue=>{try{const Te=await Ae(ue);Te&&(await pr("delete",`${kf}/${Te._id}`),console.log(" Optometrista eliminado exitosamente"))}catch(Te){throw console.error(" Error al eliminar optometrista:",Te),Te}},Ve=async()=>{var ue,Te;if(J()){if(c&&c.cargo==="Optometrista"&&H.cargo!=="Optometrista"){V(!0);return}if(c&&c.cargo!=="Optometrista"&&H.cargo==="Optometrista"){Y();return}try{await st()}catch(dt){console.error("Error en handleSubmit:",dt),Ue("error","Error: "+(((Te=(ue=dt.response)==null?void 0:ue.data)==null?void 0:Te.message)||dt.message))}}},st=async()=>{const ue={...H};console.log("Datos a enviar:",ue),H.direccion&&(ue.departamento=H.direccion.departamento,ue.municipio=H.direccion.municipio,ue.direccionDetallada=H.direccion.direccionDetallada,delete ue.direccion),ue.telefono&&!ue.telefono.startsWith("+503")&&(ue.telefono="+503"+ue.telefono),delete ue.fromOptometristaPage,delete ue.originalCargo,c?(await pr("put",`${il}/${c._id}`,ue),Ue("success","Empleado actualizado exitosamente!")):(await pr("post",`${il}`,ue),Ue("success","Empleado creado exitosamente!")),Q(),He()},ct=async()=>{var ue,Te;try{l(!0),await Re(c._id),await st(),Ue("success","Empleado actualizado y configuracin de optometrista eliminada exitosamente!"),V(!1)}catch(dt){console.error("Error al cambiar cargo:",dt),Ue("error","Error al cambiar cargo: "+(((Te=(ue=dt.response)==null?void 0:ue.data)==null?void 0:Te.message)||dt.message))}finally{l(!1)}},at=async()=>{var ue,Te;if(c)try{c.cargo==="Optometrista"&&await Re(c._id),await pr("delete",`${il}/${c._id}`),Ue("success","Empleado eliminado exitosamente!"),Q(),He()}catch(dt){Ue("error","Error al eliminar: "+(((Te=(ue=dt.response)==null?void 0:ue.data)==null?void 0:Te.message)||dt.message))}},Nt=()=>{const ue=c&&c.cargo!=="Optometrista"&&H.cargo==="Optometrista";return!c&&H.cargo==="Optometrista"||ue?Y:Ve},Tt=()=>c?c.cargo!=="Optometrista"&&H.cargo==="Optometrista"?"Continuar":"Actualizar Empleado":H.cargo==="Optometrista"?"Continuar":"Guardar Empleado",_t=ue=>ue==="Activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",dn=ue=>({Administrador:"bg-purple-100 text-purple-800",Gerente:"bg-blue-100 text-blue-800",Vendedor:"bg-orange-100 text-orange-800",Optometrista:"bg-cyan-100 text-cyan-800",Tcnico:"bg-yellow-100 text-yellow-800",Recepcionista:"bg-pink-100 text-pink-800"})[ue]||"bg-gray-100 text-gray-800",mt=ue=>new Date(ue).toLocaleDateString("es-ES"),ba=[{header:"Empleado",key:"empleado"},{header:"Contacto",key:"contacto"},{header:"Cargo",key:"cargo"},{header:"Sucursal",key:"sucursal"},{header:"Salario",key:"salario"},{header:"Estado",key:"estado"},{header:"Acciones",key:"acciones"}],Ba=ue=>{var Te;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:ue.fotoPerfil||`https://ui-avatars.com/api/?name=${ue.nombre}+${ue.apellido}`,alt:`${ue.nombre}`,className:"w-10 h-10 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[ue.nombre," ",ue.apellido]}),r.jsx("div",{className:"text-sm text-gray-500",children:ue.dui})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(go,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:ue.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:ue.correo})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${dn(ue.cargo)}`,children:ue.cargo})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:((Te=ue.sucursalId)==null?void 0:Te.nombre)||"N/A"})]})}),r.jsx("td",{className:"px-6 py-4 font-mono font-semibold text-cyan-700",children:$(ue.salario)}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_t(ue.estado)}`,children:ue.estado})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ae(ue),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>z(ue),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ut(ue),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})})]})})]})};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(Cr,{alert:f}),r.jsx(Gl,{stats:Z}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(pi,{title:"Gestin de Empleados",buttonLabel:"Aadir Empleado",onButtonClick:Je}),r.jsx(Kl,{searchTerm:S,onSearchChange:ue=>C(ue.target.value),placeholder:"Buscar por nombre, DUI, email o cargo...",filters:[{label:"Todos",value:"todos"},{label:"Activos",value:"activos"},{label:"Inactivos",value:"inactivos"},{label:"Principal",value:"principal"},{label:"Quezaltepeque",value:"quezaltepeque"}],activeFilter:A,onFilterChange:E}),r.jsx(xo,{columns:ba,data:te,renderRow:Ba,loading:s,noDataMessage:"No se encontraron empleados",noDataSubMessage:S?"Intenta con otros trminos de bsqueda":"An no hay empleados registrados"}),r.jsx(gi,{..._e})]}),r.jsx(WF,{isOpen:h,onClose:He,onSubmit:Nt(),title:c?"Editar Empleado":"Agregar Nuevo Empleado",formData:H,setFormData:D,handleInputChange:q,errors:W,submitLabel:Tt(),sucursales:n,selectedEmpleado:c,onReturnToOptometristaEdit:()=>Oe(c._id)}),_&&r.jsx(G3,{isOpen:_,onClose:He,onSubmit:R,title:"Aadir Detalles del Optometrista (Paso 2 de 2)",submitLabel:K?"Creando...":"Finalizar y Guardar",isCreationFlow:!0,preloadedEmployeeData:k,sucursales:n,formData:ge,setFormData:$e,handleInputChange:be,errors:De,empleados:[],selectedOptometrista:null,onBackToEmployeeForm:xe,isCreating:!!K,creationStep:K,creationProgress:ee}),r.jsx(vs,{isOpen:U,onClose:()=>V(!1),onConfirm:ct,title:" Advertencia: Cambio de Cargo",message:"Este empleado es actualmente un Optometrista. Al cambiar su cargo, se eliminar toda su configuracin de optometrista (horarios, sucursales asignadas, especialidad, etc.). Est seguro de continuar?",confirmLabel:"S, cambiar cargo",cancelLabel:"Cancelar",type:"warning"}),r.jsx(Ar,{isOpen:x,onClose:He,title:"Detalles del Empleado",item:c,data:c?[{label:"Nombre",value:`${c.nombre} ${c.apellido}`},{label:"DUI",value:c.dui},{label:"Contacto",value:`${c.telefono} / ${c.correo}`},{label:"Direccin",value:c.direccion?`${c.direccion.direccionDetallada}, ${c.direccion.municipio}, ${c.direccion.departamento}`:"No especificada"},{label:"Cargo",value:c.cargo,color:dn(c.cargo)},{label:"Sucursal",value:((jt=c.sucursalId)==null?void 0:jt.nombre)||"N/A"},{label:"Fecha Contratacin",value:mt(c.fechaContratacion)},{label:"Salario",value:$(c.salario)},{label:"Estado",value:c.estado,color:_t(c.estado)}]:[]}),r.jsx(vs,{isOpen:j,onClose:He,onConfirm:at,title:"Confirmar Eliminacin",message:`Ests seguro de que deseas eliminar al empleado ${c==null?void 0:c.nombre} ${c==null?void 0:c.apellido}? Esta accin no se puede deshacer.${(c==null?void 0:c.cargo)==="Optometrista"?`

 Nota: Tambin se eliminar su configuracin de optometrista.`:""}`})]})},QF=({disponibilidad:e=[]})=>{const t=[{key:"lunes",label:"Lunes"},{key:"martes",label:"Martes"},{key:"miercoles",label:"Mircoles"},{key:"jueves",label:"Jueves"},{key:"viernes",label:"Viernes"},{key:"sabado",label:"Sbado"},{key:"domingo",label:"Domingo"}],n=["8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00"],a=(d,f)=>Array.isArray(e)?e.some(m=>m.dia===d&&(m.hora===f||m.horaInicio===f)):!1,s=d=>Array.isArray(e)?e.filter(m=>m.dia===d).map(m=>m.hora||m.horaInicio).filter(m=>m&&n.includes(m)).sort((m,h)=>{const g=n.indexOf(m),x=n.indexOf(h);return g-x}):[],l=d=>{if(!d||d.length===0)return"Sin horario";const f=[...d].sort((g,x)=>{const b=n.indexOf(g),j=n.indexOf(x);return b-j});if(f.length===0)return"Sin horario";const m=[];let h=[f[0]];for(let g=1;g<f.length;g++){const x=f[g],b=f[g-1],j=n.indexOf(x),N=n.indexOf(b);j===N+1?h.push(x):(m.push([...h]),h=[x])}return m.push(h),m.map(g=>{if(g.length===1)return g[0];if(g.length===2)return`${g[0]}, ${g[1]}`;{const x=g[g.length-1],b=n.indexOf(x),j=n[b+1]||`${parseInt(x.split(":")[0])+1}:00`;return`${g[0]} - ${j}`}}).join(", ")},c=Array.isArray(e)?e.length:0;return!e||e.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(rr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Sin horarios de disponibilidad definidos"})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[r.jsx(rr,{className:"w-5 h-5 text-cyan-600"}),r.jsx("span",{children:"Horarios de Disponibilidad"})]}),r.jsxs("span",{className:"bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-sm font-medium",children:[c," horas semanales"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-50 border-b border-gray-200",children:r.jsx("div",{className:"grid grid-cols-7 text-center",children:t.map(d=>{const f=s(d.key);return r.jsxs("div",{className:"py-3 px-2 border-r border-gray-200 last:border-r-0",children:[r.jsx("div",{className:"font-medium text-sm text-gray-700",children:d.label}),f.length>0&&r.jsxs("div",{className:"text-xs text-cyan-600 font-medium mt-1",children:[f.length,"h"]})]},d.key)})})}),r.jsx("div",{className:"p-4",children:n.map(d=>r.jsx("div",{className:"grid grid-cols-7 mb-2 last:mb-0",children:t.map(f=>r.jsx("div",{className:"px-1",children:r.jsx("div",{className:`w-full py-2 px-2 text-sm font-medium rounded text-center ${a(f.key,d)?"bg-cyan-500 text-white shadow-md":"bg-gray-100 text-gray-400"}`,children:d})},`${f.key}-${d}`))},d))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h5",{className:"text-md font-medium text-gray-700 border-b border-gray-200 pb-2",children:"Resumen Semanal"}),r.jsxs("div",{className:"hidden lg:block space-y-4",children:[r.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.slice(0,3).map(d=>{const f=s(d.key),m=l(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"font-semibold text-gray-800 mb-3 text-center border-b border-gray-100 pb-2",children:d.label}),r.jsx("div",{className:`text-sm text-center mb-2 ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m}),f.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 text-center bg-gray-50 rounded px-2 py-1",children:[f.length," hora",f.length!==1?"s":""]})]},d.key)})}),r.jsx("div",{className:"grid grid-cols-4 gap-4",children:t.slice(3).map(d=>{const f=s(d.key),m=l(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"font-semibold text-gray-800 mb-3 text-center border-b border-gray-100 pb-2",children:d.label}),r.jsx("div",{className:`text-sm text-center mb-2 ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m}),f.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 text-center bg-gray-50 rounded px-2 py-1",children:[f.length," hora",f.length!==1?"s":""]})]},d.key)})})]}),r.jsx("div",{className:"hidden md:grid lg:hidden grid-cols-2 gap-4",children:t.map(d=>{const f=s(d.key),m=l(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[r.jsx("div",{className:"font-semibold text-gray-800 mb-3 border-b border-gray-100 pb-2",children:d.label}),r.jsx("div",{className:`text-sm mb-2 ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m}),f.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 rounded px-2 py-1 inline-block",children:[f.length," hora",f.length!==1?"s":""]})]},d.key)})}),r.jsx("div",{className:"grid md:hidden grid-cols-1 gap-3",children:t.map(d=>{const f=s(d.key),m=l(f);return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("div",{className:"font-semibold text-gray-800",children:d.label}),f.length>0&&r.jsxs("span",{className:"text-xs text-gray-500 bg-gray-50 rounded px-2 py-1",children:[f.length,"h"]})]}),r.jsx("div",{className:`text-sm ${f.length>0?"text-cyan-600 font-medium":"text-gray-500"}`,children:m})]},d.key)})})]})]})},Mf=ke.ENDPOINTS.OPTOMETRISTAS,JF=ke.ENDPOINTS.EMPLEADOS,eH=ke.ENDPOINTS.SUCURSALES,ol=async(e,t,n,a={})=>{const s=f=>`${f}${t}`,l=async f=>{const m=s(f),h=await Le({url:m,method:e,data:n,withCredentials:!0,headers:{"Content-Type":"application/json",...a.headers||{}},...a});return ke.BASE_URL=f,h},c=ke.BASE_URL,d=c.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await l(c)}catch(f){const m=(f==null?void 0:f.message)||"";if(f.code==="ECONNABORTED"||m.includes("Network Error")||m.includes("ECONNREFUSED"))return await l(d);throw f}},tH=()=>{var Z,Y;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,l]=y.useState([]),[c,d]=y.useState(!0),[f,m]=y.useState(null),[h,g]=y.useState(null),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,C]=y.useState(!1),[A,E]=y.useState(""),[T,O]=y.useState("todos"),[k,P]=y.useState("todos"),[_,L]=y.useState("todos"),U=Ss(),V=En();y.useEffect(()=>{var R;if((R=V.state)!=null&&R.editOptometristaId){const se=e.find(xe=>xe._id===V.state.editOptometristaId);se&&ge(se),U(V.pathname,{replace:!0,state:{}})}},[V.state,e,U]);const K=R=>{pe(),U("/empleados",{state:{editEmployeeId:R}})},{formData:le,setFormData:ee,handleInputChange:ne,resetForm:B,validateForm:re,errors:Q,setErrors:H}=Sl({empleadoId:"",especialidad:"",licencia:"",experiencia:"",disponibilidad:[],sucursalesAsignadas:[],disponible:!0},R=>{const se={};return R.empleadoId||(se.empleadoId="El empleado es requerido"),R.especialidad||(se.especialidad="La especialidad es requerida"),R.licencia||(se.licencia="La licencia es requerida"),(!R.experiencia||R.experiencia<0)&&(se.experiencia="La experiencia debe ser un nmero positivo"),(!R.sucursalesAsignadas||R.sucursalesAsignadas.length===0)&&(se.sucursalesAsignadas="Debe asignar al menos una sucursal"),se}),D=async()=>{var R,se;d(!0);try{const[xe,Oe,Ue]=await Promise.all([ol("get",Mf),ol("get",JF),ol("get",eH)]);t(xe.data);const He=Oe.data.filter(Je=>Je.cargo==="Optometrista");a(He),l(Ue.data)}catch(xe){W("error","Error al cargar los datos: "+(((se=(R=xe.response)==null?void 0:R.data)==null?void 0:se.message)||xe.message))}finally{d(!1)}};y.useEffect(()=>{D()},[]);const q=y.useMemo(()=>e.filter(R=>{const se=R.empleadoId;if(!se)return!1;const xe=A.toLowerCase(),Oe=`${se.nombre} ${se.apellido}`.toLowerCase().includes(xe)||se.correo.toLowerCase().includes(xe)||R.especialidad.toLowerCase().includes(xe)||R.licencia.toLowerCase().includes(xe),Ue=T==="todos"||R.especialidad.toLowerCase()===T.toLowerCase(),He=k==="todos"||k==="disponible"&&R.disponible||k==="no disponible"&&!R.disponible,Je=_==="todos"||R.sucursalesAsignadas.some(ut=>ut._id===_);return Oe&&Ue&&He&&Je}),[e,A,T,k,_]),{paginatedData:G,...J}=Hl(q,5),W=(R,se)=>{g({type:R,message:se}),setTimeout(()=>g(null),5e3)},pe=()=>{b(!1),N(!1),C(!1),m(null),B(),H({})},ge=R=>{var se,xe;m(R),ee({empleadoId:((se=R.empleadoId)==null?void 0:se._id)||"",especialidad:R.especialidad,licencia:R.licencia,experiencia:R.experiencia,disponibilidad:R.disponibilidad||[],sucursalesAsignadas:((xe=R.sucursalesAsignadas)==null?void 0:xe.map(Oe=>Oe._id))||[],disponible:R.disponible}),H({}),b(!0)},$e=R=>{m(R),N(!0)},be=R=>{m(R),C(!0)},Ne=async()=>{var R,se;if(re())try{const xe={...le,disponibilidad:Array.isArray(le.disponibilidad)?le.disponibilidad:[],sucursalesAsignadas:Array.isArray(le.sucursalesAsignadas)?le.sucursalesAsignadas:[]};f?(await ol("put",`${Mf}/${f._id}`,xe),W("success","Optometrista actualizado exitosamente!")):(await ol("post",Mf,xe),W("success","Optometrista creado exitosamente!")),D(),pe()}catch(xe){W("error","Error: "+(((se=(R=xe.response)==null?void 0:R.data)==null?void 0:se.message)||xe.message))}},De=async()=>{var R,se;if(f)try{await ol("delete",`${Mf}/${f._id}`),W("success","Optometrista eliminado exitosamente!"),D(),pe()}catch(xe){W("error","Error al eliminar: "+(((se=(R=xe.response)==null?void 0:R.data)==null?void 0:se.message)||xe.message))}},Ie=R=>({General:"bg-blue-100 text-blue-800",Peditrica:"bg-pink-100 text-pink-800",Contactologa:"bg-green-100 text-green-800","Baja Visin":"bg-purple-100 text-purple-800",Ortptica:"bg-yellow-100 text-yellow-800"})[R]||"bg-gray-100 text-gray-800",te=R=>R?{text:"Disponible",color:"bg-green-100 text-green-800"}:{text:"No Disponible",color:"bg-red-100 text-red-800"},_e=R=>!R||R.length===0?"Sin sucursales asignadas":R.map(se=>se.nombre).join(", "),Me=e.length,qe=e.filter(R=>R.disponible).length,Ke=Me-qe,Be=Me>0?(e.reduce((R,se)=>R+(se.experiencia||0),0)/Me).toFixed(1):"0",F=[{header:"Optometrista",key:"optometrista"},{header:"Contacto",key:"contacto"},{header:"Especialidad",key:"especialidad"},{header:"Licencia",key:"licencia"},{header:"Experiencia",key:"experiencia"},{header:"Sucursales",key:"sucursales"},{header:"Estado",key:"estado"},{header:"Acciones",key:"acciones"}],$=R=>{const se=R.empleadoId;return se?r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:se.fotoPerfil||`https://ui-avatars.com/api/?name=${se.nombre}+${se.apellido}`,alt:`${se.nombre}`,className:"w-10 h-10 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900",children:[se.nombre," ",se.apellido]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",R.licencia]})]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(go,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:se.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Vl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:se.correo})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ie(R.especialidad)}`,children:R.especialidad})}),r.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:R.licencia}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Uy,{className:"w-4 h-4 text-gray-400"}),r.jsxs("span",{className:"font-medium",children:[R.experiencia||0," aos"]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(yl,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm",children:_e(R.sucursalesAsignadas)})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${te(R.disponible).color}`,children:te(R.disponible).text})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>be(R),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>$e(R),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ge(R),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})})]})})]}):null};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(Cr,{alert:h}),r.jsx(Gl,{stats:[{title:"Total Optometristas",value:Me,Icon:an,color:"cyan"},{title:"Disponibles",value:qe,Icon:Fl,color:"green"},{title:"No Disponibles",value:Ke,Icon:V3,color:"red"},{title:"Experiencia Promedio",value:`${Be} aos`,Icon:Uy,color:"purple"}]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(pi,{title:"Gestin de Optometristas"}),r.jsx(Kl,{searchTerm:A,onSearchChange:R=>E(R.target.value),placeholder:"Buscar por nombre, email, especialidad, licencia...",filters:[{label:"Especialidad",options:[{value:"todos",label:"Todas"},{value:"General",label:"General"},{value:"Peditrica",label:"Peditrica"},{value:"Contactologa",label:"Contactologa"},{value:"Baja Visin",label:"Baja Visin"},{value:"Ortptica",label:"Ortptica"}],selectedValue:T,onFilterChange:O},{label:"Disponibilidad",options:[{value:"todos",label:"Todos"},{value:"disponible",label:"Disponible"},{value:"no disponible",label:"No Disponible"}],selectedValue:k,onFilterChange:P},{label:"Sucursal",options:[{value:"todos",label:"Todas"},...s.map(R=>({value:R._id,label:R.nombre}))],selectedValue:_,onFilterChange:L}],activeFilter:T,onFilterChange:O}),r.jsx(xo,{columns:F,data:G,renderRow:$,loading:c,noDataMessage:"No se encontraron optometristas",noDataSubMessage:A?"Intenta con otros trminos de bsqueda":"An no hay optometristas registrados"}),r.jsx(gi,{...J})]}),r.jsx(G3,{isOpen:x,onClose:pe,onSubmit:Ne,title:f?"Editar Optometrista":"Aadir Nuevo Optometrista",formData:le,setFormData:ee,handleInputChange:ne,errors:Q,submitLabel:f?"Actualizar Optometrista":"Guardar Optometrista",empleados:n,sucursales:s,selectedOptometrista:f,onEditEmployeeRequest:K}),r.jsx(Ar,{isOpen:j,onClose:pe,title:"Detalles del Optometrista",item:(f==null?void 0:f.empleadoId)||{},data:f?[{label:"Nombre Completo",value:f.empleadoId?`${f.empleadoId.nombre} ${f.empleadoId.apellido}`:"N/A"},{label:"Email",value:((Z=f.empleadoId)==null?void 0:Z.correo)||"N/A"},{label:"Telfono",value:((Y=f.empleadoId)==null?void 0:Y.telefono)||"N/A"},{label:"Especialidad",value:f.especialidad,color:Ie(f.especialidad)},{label:"Licencia",value:f.licencia},{label:"Experiencia",value:`${f.experiencia||0} aos`},{label:"Sucursales Asignadas",value:_e(f.sucursalesAsignadas)},{label:"Estado",value:te(f.disponible).text,color:te(f.disponible).color},{label:"Fecha de Registro",value:f.createdAt?new Date(f.createdAt).toLocaleDateString("es-ES"):"N/A"}]:[],children:f&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:r.jsx(QF,{disponibilidad:f.disponibilidad||[]})})}),r.jsx(vs,{isOpen:S,onClose:pe,onConfirm:De,title:"Confirmar Eliminacin",message:f!=null&&f.empleadoId?`Ests seguro de que deseas eliminar al optometrista ${f.empleadoId.nombre} ${f.empleadoId.apellido}? Esta accin no se puede deshacer.`:"Ests seguro de que deseas eliminar este optometrista?"})]})},nH=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,historialesMedicos:f,optometristas:m})=>{const h=(f||[]).map(b=>{var N,S;let j="";if(b.clienteId){const C=b.clienteId.nombre||"",A=b.clienteId.apellido||"",E=(N=b.historialVisual)!=null&&N.fecha?new Date(b.historialVisual.fecha).toLocaleDateString():"",T=((S=b.historialVisual)==null?void 0:S.diagnostico)||"";j=`${C} ${A}`,(E||T)&&(j+=` - ${E}`,T&&(j+=` - ${T}`))}else j=`Historial ${b._id}`;return{value:b._id,label:j}}),g=(m||[]).map(b=>({value:b._id,label:b.empleadoId?`${b.empleadoId.nombre} ${b.empleadoId.apellido}`:`Optometrista ${b._id}`})),x=[{name:"historialMedicoId",label:"Cliente (del Historial)",type:"select",options:h,placeholder:"Seleccione un cliente",required:!0,colSpan:2},{name:"optometristaId",label:"Optometrista a cargo",type:"select",options:g,placeholder:"Seleccione un optometrista",required:!0,colSpan:2},{name:"diagnostico",label:"Diagnstico Principal",type:"text",placeholder:"Ej. Miopa y Astigmatismo",required:!0,colSpan:4},{name:"ojoDerecho.esfera",label:"OD Esfera",type:"number",placeholder:"-1.25",step:"0.01",nested:!0},{name:"ojoDerecho.cilindro",label:"OD Cilindro",type:"number",placeholder:"-0.75",step:"0.01",nested:!0},{name:"ojoDerecho.eje",label:"OD Eje",type:"number",placeholder:"180",step:"1",nested:!0},{name:"ojoDerecho.adicion",label:"OD Adicin",type:"number",placeholder:"+2.00",step:"0.01",nested:!0},{name:"ojoIzquierdo.esfera",label:"OI Esfera",type:"number",placeholder:"-1.50",step:"0.01",nested:!0},{name:"ojoIzquierdo.cilindro",label:"OI Cilindro",type:"number",placeholder:"-0.50",step:"0.01",nested:!0},{name:"ojoIzquierdo.eje",label:"OI Eje",type:"number",placeholder:"175",step:"1",nested:!0},{name:"ojoIzquierdo.adicion",label:"OI Adicin",type:"number",placeholder:"+2.00",step:"0.01",nested:!0},{name:"observaciones",label:"Observaciones Adicionales",type:"textarea",placeholder:"Ej. Tratamiento antireflejante recomendado...",colSpan:3},{name:"vigencia",label:"Vigencia (meses)",type:"number",placeholder:"12",required:!0,colSpan:1,step:"1"}];return r.jsx(ir,{isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,fields:x,gridCols:4})},ei="https://a-u-r-o-r-a.onrender.com/api",aH=()=>{var De,Ie,te,_e,Me,qe,Ke,Be;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,l]=y.useState([]),[c,d]=y.useState(!0),[f,m]=y.useState(null),[h,g]=y.useState(null),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,C]=y.useState(!1),[A,E]=y.useState(""),[T,O]=y.useState("todos"),k={historialMedicoId:"",optometristaId:"",diagnostico:"",ojoDerecho:{esfera:null,cilindro:null,eje:null,adicion:null},ojoIzquierdo:{esfera:null,cilindro:null,eje:null,adicion:null},observaciones:"",vigencia:12},[P,_]=y.useState(k),[L,U]=y.useState({}),V=y.useCallback(F=>{const{name:$,value:Z,type:Y}=F.target;if($.includes(".")){const[R,se]=$.split(".");_(xe=>({...xe,[R]:{...xe[R],[se]:Y==="number"?Z===""?null:Number(Z):Z}}))}else _(R=>({...R,[$]:Y==="number"?Z===""?null:Number(Z):Z}))},[]),K=()=>_(k),le=()=>{const F={};return P.historialMedicoId||(F.historialMedicoId="Debe seleccionar un cliente."),P.optometristaId||(F.optometristaId="Debe seleccionar un optometrista."),P.diagnostico.trim()||(F.diagnostico="El diagnstico es requerido."),(!P.vigencia||P.vigencia<=0)&&(F.vigencia="La vigencia debe ser un nmero positivo."),P.ojoDerecho.esfera===""&&(F["ojoDerecho.esfera"]="Requerido"),P.ojoDerecho.cilindro===""&&(F["ojoDerecho.cilindro"]="Requerido"),P.ojoDerecho.eje===""&&(F["ojoDerecho.eje"]="Requerido"),P.ojoIzquierdo.esfera===""&&(F["ojoIzquierdo.esfera"]="Requerido"),P.ojoIzquierdo.cilindro===""&&(F["ojoIzquierdo.cilindro"]="Requerido"),P.ojoIzquierdo.eje===""&&(F["ojoIzquierdo.eje"]="Requerido"),U(F),Object.keys(F).length===0},ee=y.useCallback(async()=>{d(!0);try{const[F,$]=await Promise.all([Le.get(`${ei}/historialMedico`),Le.get(`${ei}/optometrista`)]);a(F.data||[]),l($.data||[])}catch(F){H("error","Error al cargar datos maestros (historiales, optometristas)."),console.error("Error fetching master data:",F)}finally{d(!1)}},[]),ne=async()=>{d(!0);let F=`${ei}/recetas`;T==="vigentes"&&(F=`${ei}/recetas/vigentes/activas`);try{const $=await Le.get(F);t(Array.isArray($.data)?$.data:[])}catch($){H("error","Error al cargar las recetas."),console.error("Error fetching recetas:",$)}finally{d(!1)}};y.useEffect(()=>{ee()},[ee]),y.useEffect(()=>{ne()},[T]),y.useEffect(()=>{const F=window.localStorage.getItem("editRecetaId");if(F&&e.length>0){const $=e.find(Z=>Z._id===F);$&&(G($),window.localStorage.removeItem("editRecetaId"))}},[e]);const B=y.useMemo(()=>Array.isArray(e)?e.filter(F=>{var xe,Oe,Ue,He,Je,ut,z,ae,Ae,Re,Ve,st;const $=A.toLowerCase(),Z=((Ue=(Oe=(xe=F.historialMedicoId)==null?void 0:xe.clienteId)==null?void 0:Oe.nombre)==null?void 0:Ue.toLowerCase())||"",Y=((ut=(Je=(He=F.historialMedicoId)==null?void 0:He.clienteId)==null?void 0:Je.apellido)==null?void 0:ut.toLowerCase())||"",R=((Ae=(ae=(z=F.optometristaId)==null?void 0:z.empleadoId)==null?void 0:ae.nombre)==null?void 0:Ae.toLowerCase())||"",se=((st=(Ve=(Re=F.optometristaId)==null?void 0:Re.empleadoId)==null?void 0:Ve.apellido)==null?void 0:st.toLowerCase())||"";return F.diagnostico.toLowerCase().includes($)||`${Z} ${Y}`.includes($)||`${R} ${se}`.includes($)}):[],[e,A]),{paginatedData:re,...Q}=Hl(B,5),H=(F,$)=>{g({type:F,message:$}),setTimeout(()=>g(null),5e3)},D=()=>{b(!1),N(!1),C(!1),m(null),K()},q=()=>{K(),U({}),m(null),b(!0)},G=F=>{var Z,Y;m(F);const $={...k,...F,historialMedicoId:((Z=F.historialMedicoId)==null?void 0:Z._id)||F.historialMedicoId,optometristaId:((Y=F.optometristaId)==null?void 0:Y._id)||F.optometristaId,ojoDerecho:{...k.ojoDerecho,...F.ojoDerecho},ojoIzquierdo:{...k.ojoIzquierdo,...F.ojoIzquierdo}};_($),U({}),b(!0)},J=F=>{m(F),N(!0)},W=F=>{m(F),C(!0)},pe=async F=>{var Y,R,se;if(F.preventDefault(),!le()){H("error","Por favor, completa todos los campos requeridos.");return}const $=f?`${ei}/recetas/${f._id}`:`${ei}/recetas`,Z=f?"put":"post";try{if(f)try{await Le.get(`${ei}/recetas/${f._id}`)}catch(xe){if(((Y=xe==null?void 0:xe.response)==null?void 0:Y.status)===404){H("error","La receta seleccionada ya no existe (404). Se actualizar la lista."),await ne(),D();return}}await Le[Z]($,P),H("success",`Receta ${f?"actualizada":"creada"} exitosamente!`),ne(),D()}catch(xe){const Oe=((se=(R=xe.response)==null?void 0:R.data)==null?void 0:se.message)||"Ocurri un error inesperado.";H("error",Oe),console.error("Error submitting receta:",xe)}},ge=async()=>{var F,$;if(f)try{await Le.delete(`${ei}/recetas/${f._id}`),H("success","Receta eliminada exitosamente!"),ne(),D()}catch(Z){const Y=(($=(F=Z.response)==null?void 0:F.data)==null?void 0:$.message)||"Ocurri un error inesperado.";H("error",Y),console.error("Error deleting receta:",Z)}},$e=[{header:"Diagnstico",key:"diagnostico"},{header:"Cliente",key:"cliente"},{header:"Optometrista",key:"optometrista"},{header:"Fecha",key:"fecha"},{header:"Vigencia",key:"vigencia"},{header:"Acciones",key:"acciones"}],be=F=>{var R,se;const $=(R=F.historialMedicoId)==null?void 0:R.clienteId,Z=(se=F.optometristaId)==null?void 0:se.empleadoId,Y=new Date(new Date(F.fecha).setMonth(new Date(F.fecha).getMonth()+F.vigencia))>new Date;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:F.diagnostico}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:$?`${$.nombre} ${$.apellido}`:"N/A"}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:Z?`${Z.nombre} ${Z.apellido}`:"N/A"}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(F.fecha).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Y?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Y?"Vigente":"Vencida"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>W(F),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>J(F),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>G(F),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})})]})})]})},Ne=y.useMemo(()=>{const F=e.filter(Z=>new Date(new Date(Z.fecha).setMonth(new Date(Z.fecha).getMonth()+Z.vigencia))>new Date).length,$=e.length-F;return[{title:"Total Recetas",value:e.length,Icon:M3,color:"blue"},{title:"Recetas Vigentes",value:F,Icon:xs,color:"green"},{title:"Recetas Vencidas",value:$,Icon:rr,color:"red"}]},[e]);return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(Cr,{alert:h}),r.jsx(Gl,{stats:Ne}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(pi,{title:"Gestin de Recetas",buttonLabel:"Aadir Receta",onButtonClick:q}),r.jsx(Kl,{searchTerm:A,onSearchChange:F=>E(F.target.value),searchPlaceholder:"Buscar por diagnstico, cliente u optometrista...",filters:[{label:"Todas",value:"todos"},{label:"Vigentes",value:"vigentes"}],activeFilter:T,onFilterChange:F=>{O(F),E("")}}),r.jsx(xo,{columns:$e,data:re,renderRow:be,isLoading:c,noDataMessage:"No se encontraron recetas"}),r.jsx(gi,{...Q})]}),x&&r.jsx(nH,{isOpen:x,onClose:D,onSubmit:pe,title:f?"Editar Receta":"Nueva Receta",formData:P,handleInputChange:V,errors:L,submitLabel:f?"Actualizar Receta":"Guardar Receta",historialesMedicos:n,optometristas:s}),f&&j&&r.jsx(Ar,{isOpen:j,onClose:D,title:"Detalles de la Receta",item:f,data:[{label:"Diagnstico",value:f.diagnostico},{label:"Cliente",value:`${((Ie=(De=f.historialMedicoId)==null?void 0:De.clienteId)==null?void 0:Ie.nombre)||""} ${((_e=(te=f.historialMedicoId)==null?void 0:te.clienteId)==null?void 0:_e.apellido)||""}`.trim()||"N/A"},{label:"Optometrista",value:`${((qe=(Me=f.optometristaId)==null?void 0:Me.empleadoId)==null?void 0:qe.nombre)||""} ${((Be=(Ke=f.optometristaId)==null?void 0:Ke.empleadoId)==null?void 0:Be.apellido)||""}`.trim()||"N/A"},{label:"Fecha",value:new Date(f.fecha).toLocaleDateString()},{label:"Vigencia",value:`${f.vigencia} meses`},{label:"Ojo Derecho",value:`Esf: ${f.ojoDerecho.esfera}, Cil: ${f.ojoDerecho.cilindro}, Eje: ${f.ojoDerecho.eje}, Ad: ${f.ojoDerecho.adicion}`},{label:"Ojo Izquierdo",value:`Esf: ${f.ojoIzquierdo.esfera}, Cil: ${f.ojoIzquierdo.cilindro}, Eje: ${f.ojoIzquierdo.eje}, Ad: ${f.ojoIzquierdo.adicion}`},{label:"Observaciones",value:f.observaciones||"Sin observaciones"}]}),S&&r.jsx(vs,{isOpen:S,onClose:D,onConfirm:ge,title:"Confirmar Eliminacin",message:`Ests seguro de que deseas eliminar la receta con diagnstico "${f==null?void 0:f.diagnostico}"?`})]})};function K3(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=K3(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Ft(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=K3(e))&&(a&&(a+=" "),a+=t);return a}var Tg={},kg={},aA;function rH(){return aA||(aA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(kg)),kg}var Mg={},rA;function Y3(){return rA||(rA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Mg)),Mg}var Pg={},sA;function W3(){return sA||(sA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var a;return typeof n=="string"||typeof n=="symbol"?n:Object.is((a=n==null?void 0:n.valueOf)==null?void 0:a.call(n),-0)?"-0":String(n)}e.toKey=t}(Pg)),Pg}var _g={},iA;function Ib(){return iA||(iA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const a=[],s=n.length;if(s===0)return a;let l=0,c="",d="",f=!1;for(n.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const m=n[l];d?m==="\\"&&l+1<s?(l++,c+=n[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,a.push(c),c=""):c+=m:m==="["?(f=!0,c&&(a.push(c),c="")):m==="."?c&&(a.push(c),c=""):c+=m,l++}return c&&a.push(c),a}e.toPath=t}(_g)),_g}var oA;function zb(){return oA||(oA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rH(),n=Y3(),a=W3(),s=Ib();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?n.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=a.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return m;h=h[f[g]]}return h===void 0?m:h}e.get=l}(Tg)),Tg}var Dg,lA;function sH(){return lA||(lA=1,Dg=zb().get),Dg}var iH=sH();const fi=Fr(iH);var Rg={exports:{}},Vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function oH(){if(cA)return Vt;cA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(N){if(typeof N=="object"&&N!==null){var S=N.$$typeof;switch(S){case e:switch(N=N.type,N){case n:case s:case a:case f:case m:case x:return N;default:switch(N=N&&N.$$typeof,N){case c:case d:case g:case h:return N;case l:return N;default:return S}}case t:return S}}}return Vt.ContextConsumer=l,Vt.ContextProvider=c,Vt.Element=e,Vt.ForwardRef=d,Vt.Fragment=n,Vt.Lazy=g,Vt.Memo=h,Vt.Portal=t,Vt.Profiler=s,Vt.StrictMode=a,Vt.Suspense=f,Vt.SuspenseList=m,Vt.isContextConsumer=function(N){return j(N)===l},Vt.isContextProvider=function(N){return j(N)===c},Vt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Vt.isForwardRef=function(N){return j(N)===d},Vt.isFragment=function(N){return j(N)===n},Vt.isLazy=function(N){return j(N)===g},Vt.isMemo=function(N){return j(N)===h},Vt.isPortal=function(N){return j(N)===t},Vt.isProfiler=function(N){return j(N)===s},Vt.isStrictMode=function(N){return j(N)===a},Vt.isSuspense=function(N){return j(N)===f},Vt.isSuspenseList=function(N){return j(N)===m},Vt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===s||N===a||N===f||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===h||N.$$typeof===c||N.$$typeof===l||N.$$typeof===d||N.$$typeof===b||N.getModuleId!==void 0)},Vt.typeOf=j,Vt}var uA;function lH(){return uA||(uA=1,Rg.exports=oH()),Rg.exports}var cH=lH(),Dn=e=>e===0?0:e>0?1:-1,La=e=>typeof e=="number"&&e!=+e,Yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Xe=e=>(typeof e=="number"||e instanceof Number)&&!La(e),Ur=e=>Xe(e)||typeof e=="string",uH=0,Cl=e=>{var t=++uH;return"".concat(e||"").concat(t)},ia=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&typeof t!="string")return a;var l;if(Yi(t)){if(n==null)return a;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return La(l)&&(l=a),s&&n!=null&&l>n&&(l=n),l},X3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},si=(e,t)=>Xe(e)&&Xe(t)?n=>e+n*(t-e):()=>t;function dH(e,t,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):fi(a,t))===n)}var wn=e=>e===null||typeof e>"u",Ju=e=>wn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),fH=["viewBox","children"],mH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dA=["points","pathLength"],Lg={svg:fH,polygon:dA,polyline:dA},$b=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hH=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{$b.includes(s)&&(a[s]=l=>n[s](n,l))}),a},pH=(e,t,n)=>a=>(e(t,n,a),null),yh=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var l=e[s];$b.includes(s)&&typeof l=="function"&&(a||(a={}),a[s]=pH(l,t,n))}),a},fA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",mA=null,Ig=null,Z3=e=>{if(e===mA&&Array.isArray(Ig))return Ig;var t=[];return y.Children.forEach(e,n=>{wn(n)||(cH.isFragment(n)?t=t.concat(Z3(n.props.children)):t.push(n))}),Ig=t,mA=e,t};function ed(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(s=>fA(s)):a=[fA(t)],Z3(e).forEach(s=>{var l=fi(s,"type.displayName")||fi(s,"type.name");a.indexOf(l)!==-1&&n.push(s)}),n}var gH=(e,t,n,a)=>{var s,l=(s=a&&(Lg==null?void 0:Lg[a]))!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(a&&l.includes(t)||mH.includes(t))||n&&$b.includes(t)},zt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var s={};return Object.keys(a).forEach(l=>{var c;gH((c=a)===null||c===void 0?void 0:c[l],l,t,n)&&(s[l]=a[l])}),s},xH=["children","width","height","viewBox","className","style","title","desc"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gy.apply(null,arguments)}function yH(e,t){if(e==null)return{};var n,a,s=vH(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function vH(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Q3=y.forwardRef((e,t)=>{var{children:n,width:a,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=yH(e,xH),g=l||{width:a,height:s,x:0,y:0},x=Ft("recharts-surface",c);return y.createElement("svg",Gy({},zt(h,!0,"svg"),{className:x,width:a,height:s,style:d,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),y.createElement("title",null,f),y.createElement("desc",null,m),n)}),bH=["children","className"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ky.apply(null,arguments)}function jH(e,t){if(e==null)return{};var n,a,s=wH(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function wH(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var oa=y.forwardRef((e,t)=>{var{children:n,className:a}=e,s=jH(e,bH),l=Ft("recharts-layer",a);return y.createElement("g",Ky({className:l},zt(s,!0),{ref:t}),n)}),NH=y.createContext(null);function Wt(e){return function(){return e}}const J3=Math.cos,jm=Math.sin,Er=Math.sqrt,wm=Math.PI,vh=2*wm,Yy=Math.PI,Wy=2*Yy,qi=1e-6,SH=Wy-qi;function ek(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function CH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ek;const n=10**t;return function(a){this._+=a[0];for(let s=1,l=a.length;s<l;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class AH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ek:CH(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,l,c){this._append`C${+t},${+n},${+a},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,a,s,l){if(t=+t,n=+n,a=+a,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=a-t,m=s-n,h=c-t,g=d-n,x=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(x>qi)if(!(Math.abs(g*f-m*h)>qi)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let b=a-c,j=s-d,N=f*f+m*m,S=b*b+j*j,C=Math.sqrt(N),A=Math.sqrt(x),E=l*Math.tan((Yy-Math.acos((N+x-S)/(2*C*A)))/2),T=E/A,O=E/C;Math.abs(T-1)>qi&&this._append`L${t+T*h},${n+T*g}`,this._append`A${l},${l},0,0,${+(g*b>h*j)},${this._x1=t+O*f},${this._y1=n+O*m}`}}arc(t,n,a,s,l,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),f=a*Math.sin(s),m=t+d,h=n+f,g=1^c,x=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>qi||Math.abs(this._y1-h)>qi)&&this._append`L${m},${h}`,a&&(x<0&&(x=x%Wy+Wy),x>SH?this._append`A${a},${a},0,1,${g},${t-d},${n-f}A${a},${a},0,1,${g},${this._x1=m},${this._y1=h}`:x>qi&&this._append`A${a},${a},0,${+(x>=Yy)},${g},${this._x1=t+a*Math.cos(l)},${this._y1=n+a*Math.sin(l)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function Bb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new AH(t)}function qb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tk(e){this._context=e}tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bh(e){return new tk(e)}function nk(e){return e[0]}function ak(e){return e[1]}function rk(e,t){var n=Wt(!0),a=null,s=bh,l=null,c=Bb(d);e=typeof e=="function"?e:e===void 0?nk:Wt(e),t=typeof t=="function"?t:t===void 0?ak:Wt(t);function d(f){var m,h=(f=qb(f)).length,g,x=!1,b;for(a==null&&(l=s(b=c())),m=0;m<=h;++m)!(m<h&&n(g=f[m],m,f))===x&&((x=!x)?l.lineStart():l.lineEnd()),x&&l.point(+e(g,m,f),+t(g,m,f));if(b)return l=null,b+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Wt(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),d):s},d.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),d):a},d}function Pf(e,t,n){var a=null,s=Wt(!0),l=null,c=bh,d=null,f=Bb(m);e=typeof e=="function"?e:e===void 0?nk:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?ak:Wt(+n);function m(g){var x,b,j,N=(g=qb(g)).length,S,C=!1,A,E=new Array(N),T=new Array(N);for(l==null&&(d=c(A=f())),x=0;x<=N;++x){if(!(x<N&&s(S=g[x],x,g))===C)if(C=!C)b=x,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=x-1;j>=b;--j)d.point(E[j],T[j]);d.lineEnd(),d.areaEnd()}C&&(E[x]=+e(S,x,g),T[x]=+t(S,x,g),d.point(a?+a(S,x,g):E[x],n?+n(S,x,g):T[x]))}if(A)return d=null,A+""||null}function h(){return rk().defined(s).curve(c).context(l)}return m.x=function(g){return arguments.length?(e=typeof g=="function"?g:Wt(+g),a=null,m):e},m.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Wt(+g),m):e},m.x1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Wt(+g),m):a},m.y=function(g){return arguments.length?(t=typeof g=="function"?g:Wt(+g),n=null,m):t},m.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Wt(+g),m):t},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Wt(+g),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(a).y(t)},m.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Wt(!!g),m):s},m.curve=function(g){return arguments.length?(c=g,l!=null&&(d=c(l)),m):c},m.context=function(g){return arguments.length?(g==null?l=d=null:d=c(l=g),m):l},m}class sk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function EH(e){return new sk(e,!0)}function OH(e){return new sk(e,!1)}const Ub={draw(e,t){const n=Er(t/wm);e.moveTo(n,0),e.arc(0,0,n,0,vh)}},TH={draw(e,t){const n=Er(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ik=Er(1/3),kH=ik*2,MH={draw(e,t){const n=Er(t/kH),a=n*ik;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},PH={draw(e,t){const n=Er(t),a=-n/2;e.rect(a,a,n,n)}},_H=.8908130915292852,ok=jm(wm/10)/jm(7*wm/10),DH=jm(vh/10)*ok,RH=-J3(vh/10)*ok,LH={draw(e,t){const n=Er(t*_H),a=DH*n,s=RH*n;e.moveTo(0,-n),e.lineTo(a,s);for(let l=1;l<5;++l){const c=vh*l/5,d=J3(c),f=jm(c);e.lineTo(f*n,-d*n),e.lineTo(d*a-f*s,f*a+d*s)}e.closePath()}},zg=Er(3),IH={draw(e,t){const n=-Er(t/(zg*3));e.moveTo(0,n*2),e.lineTo(-zg*n,-n),e.lineTo(zg*n,-n),e.closePath()}},Za=-.5,Qa=Er(3)/2,Xy=1/Er(12),zH=(Xy/2+1)*3,$H={draw(e,t){const n=Er(t/zH),a=n/2,s=n*Xy,l=a,c=n*Xy+n,d=-l,f=c;e.moveTo(a,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(Za*a-Qa*s,Qa*a+Za*s),e.lineTo(Za*l-Qa*c,Qa*l+Za*c),e.lineTo(Za*d-Qa*f,Qa*d+Za*f),e.lineTo(Za*a+Qa*s,Za*s-Qa*a),e.lineTo(Za*l+Qa*c,Za*c-Qa*l),e.lineTo(Za*d+Qa*f,Za*f-Qa*d),e.closePath()}};function BH(e,t){let n=null,a=Bb(s);e=typeof e=="function"?e:Wt(e||Ub),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function s(){let l;if(n||(n=l=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Wt(+l),s):t},s.context=function(l){return arguments.length?(n=l??null,s):n},s}function Nm(){}function Sm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function lk(e){this._context=e}lk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qH(e){return new lk(e)}function ck(e){this._context=e}ck.prototype={areaStart:Nm,areaEnd:Nm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UH(e){return new ck(e)}function uk(e){this._context=e}uk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:Sm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VH(e){return new uk(e)}function dk(e){this._context=e}dk.prototype={areaStart:Nm,areaEnd:Nm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function FH(e){return new dk(e)}function hA(e){return e<0?-1:1}function pA(e,t,n){var a=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(a||s<0&&-0),c=(n-e._y1)/(s||a<0&&-0),d=(l*s+c*a)/(a+s);return(hA(l)+hA(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function gA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function $g(e,t,n){var a=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-a)/3;e._context.bezierCurveTo(a+d,s+d*t,l-d,c-d*n,l,c)}function Cm(e){this._context=e}Cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$g(this,this._t0,gA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$g(this,gA(this,n=pA(this,e,t)),n);break;default:$g(this,this._t0,n=pA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function fk(e){this._context=new mk(e)}(fk.prototype=Object.create(Cm.prototype)).point=function(e,t){Cm.prototype.point.call(this,t,e)};function mk(e){this._context=e}mk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,l){this._context.bezierCurveTo(t,e,a,n,l,s)}};function HH(e){return new Cm(e)}function GH(e){return new fk(e)}function hk(e){this._context=e}hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=xA(e),s=xA(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(a[0][l],s[0][l],a[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xA(e){var t,n=e.length-1,a,s=new Array(n),l=new Array(n),c=new Array(n);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/l[t-1],l[t]-=a,c[t]-=a*c[t-1];for(s[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function KH(e){return new hk(e)}function jh(e,t){this._context=e,this._t=t}jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function YH(e){return new jh(e,.5)}function WH(e){return new jh(e,0)}function XH(e){return new jh(e,1)}function Al(e,t){if((c=e.length)>1)for(var n=1,a,s,l=e[t[0]],c,d=l.length;n<c;++n)for(s=l,l=e[t[n]],a=0;a<d;++a)l[a][1]+=l[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Zy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ZH(e,t){return e[t]}function QH(e){const t=[];return t.key=e,t}function JH(){var e=Wt([]),t=Zy,n=Al,a=ZH;function s(l){var c=Array.from(e.apply(this,arguments),QH),d,f=c.length,m=-1,h;for(const g of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+a(g,c[d].key,m,l)]).data=g;for(d=0,h=qb(t(c));d<f;++d)c[h[d]].index=d;return n(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(a=typeof l=="function"?l:Wt(+l),s):a},s.order=function(l){return arguments.length?(t=l==null?Zy:typeof l=="function"?l:Wt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(n=l??Al,s):n},s}function eG(e,t){if((a=e.length)>0){for(var n,a,s=0,l=e[0].length,c;s<l;++s){for(c=n=0;n<a;++n)c+=e[n][s][1]||0;if(c)for(n=0;n<a;++n)e[n][s][1]/=c}Al(e,t)}}function tG(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,l=a.length;n<l;++n){for(var c=0,d=0;c<s;++c)d+=e[c][n][1]||0;a[n][1]+=a[n][0]=-d/2}Al(e,t)}}function nG(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,l,c;a<l;++a){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],g=h[a][1]||0,x=h[a-1][1]||0,b=(g-x)/2,j=0;j<d;++j){var N=e[t[j]],S=N[a][1]||0,C=N[a-1][1]||0;b+=S-C}f+=g,m+=b*g}s[a-1][1]+=s[a-1][0]=n,f&&(n-=m/f)}s[a-1][1]+=s[a-1][0]=n,Al(e,t)}}var aG=["type","size","sizeType"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qy.apply(null,arguments)}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function vA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(a){rG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rG(e,t,n){return(t=sG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sG(e){var t=iG(e,"string");return typeof t=="symbol"?t:t+""}function iG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oG(e,t){if(e==null)return{};var n,a,s=lG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var pk={symbolCircle:Ub,symbolCross:TH,symbolDiamond:MH,symbolSquare:PH,symbolStar:LH,symbolTriangle:IH,symbolWye:$H},cG=Math.PI/180,uG=e=>{var t="symbol".concat(Ju(e));return pk[t]||Ub},dG=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*cG;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fG=(e,t)=>{pk["symbol".concat(Ju(e))]=t},gk=e=>{var{type:t="circle",size:n=64,sizeType:a="area"}=e,s=oG(e,aG),l=vA(vA({},s),{},{type:t,size:n,sizeType:a}),c=()=>{var g=uG(t),x=BH().type(g).size(dG(n,a,t));return x()},{className:d,cx:f,cy:m}=l,h=zt(l,!0);return f===+f&&m===+m&&n===+n?y.createElement("path",Qy({},h,{className:Ft("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};gk.registerSymbol=fG;var Bg={},qg={},bA;function mG(){return bA||(bA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){const s=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t}(qg)),qg}var Ug={},jA;function xk(){return jA||(jA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(Ug)),Ug}var Vg={},Fg={},Hg={},wA;function hG(){return wA||(wA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(Hg)),Hg}var NA;function Vb(){return NA||(NA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hG();function n(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=n}(Fg)),Fg}var Gg={},SA;function pG(){return SA||(SA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(Gg)),Gg}var CA;function gG(){return CA||(CA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vb(),n=pG();function a(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a}(Vg)),Vg}var Kg={},Yg={},AA;function xG(){return AA||(AA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zb();function n(a){return function(s){return t.get(s,a)}}e.property=n}(Yg)),Yg}var Wg={},Xg={},Zg={},Qg={},EA;function yk(){return EA||(EA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(Qg)),Qg}var Jg={},OA;function vk(){return OA||(OA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(Jg)),Jg}var ex={},TA;function Fb(){return TA||(TA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=t}(ex)),ex}var kA;function yG(){return kA||(kA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb(),n=yk(),a=vk(),s=Fb();function l(g,x,b){return typeof b!="function"?t.isMatch(g,x):c(g,x,function j(N,S,C,A,E,T){const O=b(N,S,C,A,E,T);return O!==void 0?!!O:c(N,S,j,T)},new Map)}function c(g,x,b,j){if(x===g)return!0;switch(typeof x){case"object":return d(g,x,b,j);case"function":return Object.keys(x).length>0?c(g,{...x},b,j):s.eq(g,x);default:return n.isObject(g)?typeof x=="string"?x==="":!0:s.eq(g,x)}}function d(g,x,b,j){if(x==null)return!0;if(Array.isArray(x))return m(g,x,b,j);if(x instanceof Map)return f(g,x,b,j);if(x instanceof Set)return h(g,x,b,j);const N=Object.keys(x);if(g==null)return N.length===0;if(N.length===0)return!0;if(j&&j.has(x))return j.get(x)===g;j&&j.set(x,g);try{for(let S=0;S<N.length;S++){const C=N[S];if(!a.isPrimitive(g)&&!(C in g)||x[C]===void 0&&g[C]!==void 0||x[C]===null&&g[C]!==null||!b(g[C],x[C],C,g,x,j))return!1}return!0}finally{j&&j.delete(x)}}function f(g,x,b,j){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[N,S]of x.entries()){const C=g.get(N);if(b(C,S,N,g,x,j)===!1)return!1}return!0}function m(g,x,b,j){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const N=new Set;for(let S=0;S<x.length;S++){const C=x[S];let A=!1;for(let E=0;E<g.length;E++){if(N.has(E))continue;const T=g[E];let O=!1;if(b(T,C,S,g,x,j)&&(O=!0),O){N.add(E),A=!0;break}}if(!A)return!1}return!0}function h(g,x,b,j){return x.size===0?!0:g instanceof Set?m([...g],[...x],b,j):!1}e.isMatchWith=l,e.isSetMatch=h}(Zg)),Zg}var MA;function Hb(){return MA||(MA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yG();function n(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=n}(Xg)),Xg}var tx={},nx={},ax={},PA;function bk(){return PA||(PA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=t}(ax)),ax}var rx={},_A;function Gb(){return _A||(_A=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(rx)),rx}var sx={},DA;function Kb(){return DA||(DA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",a="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",g="[object Function]",x="[object ArrayBuffer]",b="[object Object]",j="[object Error]",N="[object DataView]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",O="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",_="[object BigInt64Array]",L="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=x,e.arrayTag=h,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=T,e.booleanTag=s,e.dataViewTag=N,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=L,e.float64ArrayTag=U,e.functionTag=g,e.int16ArrayTag=k,e.int32ArrayTag=P,e.int8ArrayTag=O,e.mapTag=f,e.numberTag=a,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=A,e.uint32ArrayTag=E,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=C}(sx)),sx}var ix={},RA;function vG(){return RA||(RA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(ix)),ix}var LA;function jk(){return LA||(LA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bk(),n=Gb(),a=Kb(),s=vk(),l=vG();function c(h,g){return d(h,void 0,h,new Map,g)}function d(h,g,x,b=new Map,j=void 0){const N=j==null?void 0:j(h,g,x,b);if(N!=null)return N;if(s.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const S=new Array(h.length);b.set(h,S);for(let C=0;C<h.length;C++)S[C]=d(h[C],C,x,b,j);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;b.set(h,S);for(const[C,A]of h)S.set(C,d(A,C,x,b,j));return S}if(h instanceof Set){const S=new Set;b.set(h,S);for(const C of h)S.add(d(C,void 0,x,b,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,S);for(let C=0;C<h.length;C++)S[C]=d(h[C],C,x,b,j);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,S),f(S,h,x,b,j),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return b.set(h,S),f(S,h,x,b,j),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return b.set(h,S),f(S,h,x,b,j),S}if(h instanceof Error){const S=new h.constructor;return b.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,x,b,j),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return b.set(h,S),f(S,h,x,b,j),S}return h}function f(h,g,x=h,b,j){const N=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<N.length;S++){const C=N[S],A=Object.getOwnPropertyDescriptor(h,C);(A==null||A.writable)&&(h[C]=d(g[C],C,x,b,j))}}function m(h){switch(n.getTag(h)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f}(nx)),nx}var IA;function bG(){return IA||(IA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk();function n(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n}(tx)),tx}var zA;function jG(){return zA||(zA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb(),n=bG();function a(s){return s=n.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=a}(Wg)),Wg}var ox={},lx={},cx={},$A;function wG(){return $A||($A=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk(),n=Kb();function a(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l==null?void 0:l(c,d,f,m);if(h!=null)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case n.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=a}(cx)),cx}var BA;function NG(){return BA||(BA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wG();function n(a){return t.cloneDeepWith(a)}e.cloneDeep=n}(lx)),lx}var ux={},dx={},qA;function wk(){return qA||(qA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=n}(dx)),dx}var fx={},UA;function SG(){return UA||(UA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gb();function n(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=n}(fx)),fx}var VA;function CG(){return VA||(VA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y3(),n=wk(),a=SG(),s=Ib();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const g=f[h];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||a.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}e.has=l}(ux)),ux}var FA;function AG(){return FA||(FA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hb(),n=W3(),a=NG(),s=zb(),l=CG();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=a.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(ox)),ox}var HA;function EG(){return HA||(HA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk(),n=xG(),a=jG(),s=AG();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l}(Kg)),Kg}var GA;function OG(){return GA||(GA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mG(),n=xk(),a=gG(),s=EG();function l(c,d=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l}(Bg)),Bg}var mx,KA;function TG(){return KA||(KA=1,mx=OG().uniqBy),mx}var kG=TG();const YA=Fr(kG);function MG(e,t,n){return t===!0?YA(e,n):typeof t=="function"?YA(e,t):e}var hx={exports:{}},px={},gx={exports:{}},xx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function PG(){if(WA)return xx;WA=1;var e=Dl();function t(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(g,x){var b=x(),j=a({inst:{value:b,getSnapshot:x}}),N=j[0].inst,S=j[1];return l(function(){N.value=b,N.getSnapshot=x,f(N)&&S({inst:N})},[g,b,x]),s(function(){return f(N)&&S({inst:N}),g(function(){f(N)&&S({inst:N})})},[g]),c(b),b}function f(g){var x=g.getSnapshot;g=g.value;try{var b=x();return!n(g,b)}catch{return!0}}function m(g,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return xx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,xx}var XA;function _G(){return XA||(XA=1,gx.exports=PG()),gx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function DG(){if(ZA)return px;ZA=1;var e=Dl(),t=_G();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var a=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return px.useSyncExternalStoreWithSelector=function(m,h,g,x,b){var j=l(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=d(function(){function C(k){if(!A){if(A=!0,E=k,k=x(k),b!==void 0&&N.hasValue){var P=N.value;if(b(P,k))return T=P}return T=k}if(P=T,a(E,k))return P;var _=x(k);return b!==void 0&&b(P,_)?(E=k,P):(E=k,T=_)}var A=!1,E,T,O=g===void 0?null:g;return[function(){return C(h())},O===null?void 0:function(){return C(O())}]},[h,g,x,b]);var S=s(m,j[0],j[1]);return c(function(){N.hasValue=!0,N.value=S},[S]),f(S),S},px}var QA;function RG(){return QA||(QA=1,hx.exports=DG()),hx.exports}var LG=RG(),Yb=y.createContext(null),IG=e=>e,un=()=>{var e=y.useContext(Yb);return e?e.store.dispatch:IG},cm=()=>{},zG=()=>cm,$G=(e,t)=>e===t;function nt(e){var t=y.useContext(Yb);return LG.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:zG,t?t.store.getState:cm,t?t.store.getState:cm,t?e:cm,$G)}function BG(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qG(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function UG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${n}]`)}}var JA=e=>Array.isArray(e)?e:[e];function VG(e){const t=Array.isArray(e[0])?e[0]:e;return UG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FG(e,t){const n=[],{length:a}=e;for(let s=0;s<a;s++)n.push(e[s].apply(null,t));return n}var HG=class{constructor(e){this.value=e}deref(){return this.value}},GG=typeof WeakRef<"u"?WeakRef:HG,KG=0,e4=1;function _f(){return{s:KG,v:void 0,o:null,p:null}}function Nk(e,t={}){let n=_f();const{resultEqualityCheck:a}=t;let s,l=0;function c(){var g;let d=n;const{length:f}=arguments;for(let x=0,b=f;x<b;x++){const j=arguments[x];if(typeof j=="function"||typeof j=="object"&&j!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const S=N.get(j);S===void 0?(d=_f(),N.set(j,d)):d=S}else{let N=d.p;N===null&&(d.p=N=new Map);const S=N.get(j);S===void 0?(d=_f(),N.set(j,d)):d=S}}const m=d;let h;if(d.s===e4)h=d.v;else if(h=e.apply(null,arguments),l++,a){const x=((g=s==null?void 0:s.deref)==null?void 0:g.call(s))??s;x!=null&&a(x,h)&&(h=x,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new GG(h):h}return m.s=e4,m.v=h,h}return c.clearCache=()=>{n=_f(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function YG(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),BG(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:g,memoizeOptions:x=[],argsMemoize:b=Nk,argsMemoizeOptions:j=[]}=h,N=JA(x),S=JA(j),C=VG(s),A=g(function(){return l++,m.apply(null,arguments)},...N),E=b(function(){c++;const O=FG(C,arguments);return d=A.apply(null,O),d},...S);return Object.assign(E,{resultFunc:m,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:b})};return Object.assign(a,{withTypes:()=>a}),a}var ve=YG(Nk),WG=Object.assign((e,t=ve)=>{qG(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(l=>e[l]);return t(a,(...l)=>l.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>WG}),yx={},vx={},bx={},t4;function XG(){return t4||(t4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,s,l)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return l==="desc"?1:-1;if(a>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=n}(bx)),bx}var jx={},wx={},n4;function Sk(){return n4||(n4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(wx)),wx}var a4;function ZG(){return a4||(a4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(a.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(jx)),jx}var r4;function QG(){return r4||(r4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XG(),n=ZG(),a=Ib();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,j)=>{let N=b;for(let S=0;S<j.length&&N!=null;++S)N=N[j[S]];return N},h=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:m(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?m(j,b):typeof j=="object"?j[b]:j,g=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:a.toPath(b)}));return l.map(b=>({original:b,criteria:g.map(j=>h(j,b))})).slice().sort((b,j)=>{for(let N=0;N<g.length;N++){const S=t.compareValues(b.criteria[N],j.criteria[N],d[N]);if(S!==0)return S}return 0}).map(b=>b.original)}e.orderBy=s}(vx)),vx}var Nx={},s4;function JG(){return s4||(s4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=1){const s=[],l=Math.floor(a),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(n,0),s}e.flatten=t}(Nx)),Nx}var Sx={},i4;function Ck(){return i4||(i4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk(),n=Vb(),a=yk(),s=Fb();function l(c,d,f){return a.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l}(Sx)),Sx}var o4;function eK(){return o4||(o4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QG(),n=JG(),a=Ck();function s(l,...c){const d=c.length;return d>1&&a.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=s}(yx)),yx}var Cx,l4;function tK(){return l4||(l4=1,Cx=eK().sortBy),Cx}var nK=tK();const wh=Fr(nK);var Ak=e=>e.legend.settings,aK=e=>e.legend.size,rK=e=>e.legend.payload;ve([rK,Ak],(e,t)=>{var{itemSorter:n}=t,a=e.flat(1);return n?wh(a,n):a});var Df=1;function sK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),a=y.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>Df||Math.abs(c.left-t.left)>Df||Math.abs(c.top-t.top)>Df||Math.abs(c.width-t.width)>Df)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Un(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iK=typeof Symbol=="function"&&Symbol.observable||"@@observable",c4=iK,Ax=()=>Math.random().toString(36).substring(7).split("").join("."),oK={INIT:`@@redux/INIT${Ax()}`,REPLACE:`@@redux/REPLACE${Ax()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ax()}`},Am=oK;function Wb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ek(e,t,n){if(typeof e!="function")throw new Error(Un(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Un(1));return n(Ek)(e,t)}let a=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((S,C)=>{c.set(C,S)}))}function h(){if(f)throw new Error(Un(3));return s}function g(S){if(typeof S!="function")throw new Error(Un(4));if(f)throw new Error(Un(5));let C=!0;m();const A=d++;return c.set(A,S),function(){if(C){if(f)throw new Error(Un(6));C=!1,m(),c.delete(A),l=null}}}function x(S){if(!Wb(S))throw new Error(Un(7));if(typeof S.type>"u")throw new Error(Un(8));if(typeof S.type!="string")throw new Error(Un(17));if(f)throw new Error(Un(9));try{f=!0,s=a(s,S)}finally{f=!1}return(l=c).forEach(A=>{A()}),S}function b(S){if(typeof S!="function")throw new Error(Un(10));a=S,x({type:Am.REPLACE})}function j(){const S=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Un(11));function A(){const T=C;T.next&&T.next(h())}return A(),{unsubscribe:S(A)}},[c4](){return this}}}return x({type:Am.INIT}),{dispatch:x,subscribe:g,getState:h,replaceReducer:b,[c4]:j}}function lK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Am.INIT})>"u")throw new Error(Un(12));if(typeof n(void 0,{type:Am.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Un(13))})}function Ok(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const a=Object.keys(n);let s;try{lK(n)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<a.length;h++){const g=a[h],x=n[g],b=c[g],j=x(b,d);if(typeof j>"u")throw d&&d.type,new Error(Un(14));m[g]=j,f=f||j!==b}return f=f||a.length!==Object.keys(c).length,f?m:c}}function Em(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...a)=>t(n(...a)))}function cK(...e){return t=>(n,a)=>{const s=t(n,a);let l=()=>{throw new Error(Un(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=Em(...d)(s.dispatch),{...s,dispatch:l}}}function Tk(e){return Wb(e)&&"type"in e&&typeof e.type=="string"}var kk=Symbol.for("immer-nothing"),u4=Symbol.for("immer-draftable"),Ia=Symbol.for("immer-state");function xr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var El=Object.getPrototypeOf;function lo(e){return!!e&&!!e[Ia]}function bs(e){var t;return e?Mk(e)||Array.isArray(e)||!!e[u4]||!!((t=e.constructor)!=null&&t[u4])||Sh(e)||Ch(e):!1}var uK=Object.prototype.constructor.toString();function Mk(e){if(!e||typeof e!="object")return!1;const t=El(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===uK}function Om(e,t){Nh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,a)=>t(a,n,e))}function Nh(e){const t=e[Ia];return t?t.type_:Array.isArray(e)?1:Sh(e)?2:Ch(e)?3:0}function Jy(e,t){return Nh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Pk(e,t,n){const a=Nh(e);a===2?e.set(t,n):a===3?e.add(n):e[t]=n}function dK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Sh(e){return e instanceof Map}function Ch(e){return e instanceof Set}function Ui(e){return e.copy_||e.base_}function ev(e,t){if(Sh(e))return new Map(e);if(Ch(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Mk(e);if(t===!0||t==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[Ia];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(El(e),a)}else{const a=El(e);if(a!==null&&n)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function Xb(e,t=!1){return Ah(e)||lo(e)||!bs(e)||(Nh(e)>1&&(e.set=e.add=e.clear=e.delete=fK),Object.freeze(e),t&&Object.entries(e).forEach(([n,a])=>Xb(a,!0))),e}function fK(){xr(2)}function Ah(e){return Object.isFrozen(e)}var mK={};function co(e){const t=mK[e];return t||xr(0,e),t}var _u;function _k(){return _u}function hK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function d4(e,t){t&&(co("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tv(e){nv(e),e.drafts_.forEach(pK),e.drafts_=null}function nv(e){e===_u&&(_u=e.parent_)}function f4(e){return _u=hK(_u,e)}function pK(e){const t=e[Ia];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function m4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ia].modified_&&(tv(t),xr(4)),bs(e)&&(e=Tm(t,e),t.parent_||km(t,e)),t.patches_&&co("Patches").generateReplacementPatches_(n[Ia].base_,e,t.patches_,t.inversePatches_)):e=Tm(t,n,[]),tv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kk?e:void 0}function Tm(e,t,n){if(Ah(t))return t;const a=t[Ia];if(!a)return Om(t,(s,l)=>h4(e,a,t,s,l,n)),t;if(a.scope_!==e)return t;if(!a.modified_)return km(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,c=!1;a.type_===3&&(l=new Set(s),s.clear(),c=!0),Om(l,(d,f)=>h4(e,a,s,d,f,n,c)),km(e,s,!1),n&&e.patches_&&co("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function h4(e,t,n,a,s,l,c){if(lo(s)){const d=l&&t&&t.type_!==3&&!Jy(t.assigned_,a)?l.concat(a):void 0,f=Tm(e,s,d);if(Pk(n,a,f),lo(f))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(bs(s)&&!Ah(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Tm(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,a)&&km(e,s)}}function km(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xb(t,n)}function gK(e,t){const n=Array.isArray(e),a={type_:n?1:0,scope_:t?t.scope_:_k(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,l=Zb;n&&(s=[a],l=Du);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,d}var Zb={get(e,t){if(t===Ia)return e;const n=Ui(e);if(!Jy(n,t))return xK(e,n,t);const a=n[t];return e.finalized_||!bs(a)?a:a===Ex(e.base_,t)?(Ox(e),e.copy_[t]=rv(a,e)):a},has(e,t){return t in Ui(e)},ownKeys(e){return Reflect.ownKeys(Ui(e))},set(e,t,n){const a=Dk(Ui(e),t);if(a!=null&&a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=Ex(Ui(e),t),l=s==null?void 0:s[Ia];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(dK(n,s)&&(n!==void 0||Jy(e.base_,t)))return!0;Ox(e),av(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ex(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ox(e),av(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ui(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:n[t]}},defineProperty(){xr(11)},getPrototypeOf(e){return El(e.base_)},setPrototypeOf(){xr(12)}},Du={};Om(Zb,(e,t)=>{Du[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Du.deleteProperty=function(e,t){return Du.set.call(this,e,t,void 0)};Du.set=function(e,t,n){return Zb.set.call(this,e[0],t,n,e[0])};function Ex(e,t){const n=e[Ia];return(n?Ui(n):e)[t]}function xK(e,t,n){var s;const a=Dk(t,n);return a?"value"in a?a.value:(s=a.get)==null?void 0:s.call(e.draft_):void 0}function Dk(e,t){if(!(t in e))return;let n=El(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=El(n)}}function av(e){e.modified_||(e.modified_=!0,e.parent_&&av(e.parent_))}function Ox(e){e.copy_||(e.copy_=ev(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,a)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&xr(6),a!==void 0&&typeof a!="function"&&xr(7);let s;if(bs(t)){const l=f4(this),c=rv(t,void 0);let d=!0;try{s=n(c),d=!1}finally{d?tv(l):nv(l)}return d4(l,a),m4(s,l)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===kk&&(s=void 0),this.autoFreeze_&&Xb(s,!0),a){const l=[],c=[];co("Patches").generateReplacementPatches_(t,s,l,c),a(l,c)}return s}else xr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let a,s;return[this.produce(t,n,(c,d)=>{a=c,s=d}),a,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){bs(e)||xr(8),lo(e)&&(e=fs(e));const t=f4(this),n=rv(e,void 0);return n[Ia].isManual_=!0,nv(t),n}finishDraft(e,t){const n=e&&e[Ia];(!n||!n.isManual_)&&xr(9);const{scope_:a}=n;return d4(a,t),m4(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const a=co("Patches").applyPatches_;return lo(e)?a(e,t):this.produce(e,s=>a(s,t))}};function rv(e,t){const n=Sh(e)?co("MapSet").proxyMap_(e,t):Ch(e)?co("MapSet").proxySet_(e,t):gK(e,t);return(t?t.scope_:_k()).drafts_.push(n),n}function fs(e){return lo(e)||xr(10,e),Rk(e)}function Rk(e){if(!bs(e)||Ah(e))return e;const t=e[Ia];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ev(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ev(e,!0);return Om(n,(a,s)=>{Pk(n,a,Rk(s))}),t&&(t.finalized_=!1),n}var za=new yK,Lk=za.produce;za.produceWithPatches.bind(za);za.setAutoFreeze.bind(za);za.setUseStrictShallowCopy.bind(za);za.applyPatches.bind(za);za.createDraft.bind(za);za.finishDraft.bind(za);function Ik(e){return({dispatch:n,getState:a})=>s=>l=>typeof l=="function"?l(n,a,e):s(l)}var vK=Ik(),bK=Ik,jK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Em:Em.apply(null,arguments)};function or(e,t){function n(...a){if(t){let s=t(...a);if(!s)throw new Error(Da(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>Tk(a)&&a.type===e,n}var zk=class fu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fu.prototype)}static get[Symbol.species](){return fu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fu(...t[0].concat(this)):new fu(...t.concat(this))}};function p4(e){return bs(e)?Lk(e,()=>{}):e}function Rf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function wK(e){return typeof e=="boolean"}var NK=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new zk;return n&&(wK(n)?c.push(vK):c.push(bK(n.extraArgument))),c},SK="RTK_autoBatch",g4=e=>t=>{setTimeout(t,e)},CK=(e={type:"raf"})=>t=>(...n)=>{const a=t(...n);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:g4(10):e.type==="callback"?e.queueNotification:g4(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},a,{subscribe(h){const g=()=>s&&h(),x=a.subscribe(g);return d.add(h),()=>{x(),d.delete(h)}},dispatch(h){var g;try{return s=!((g=h==null?void 0:h.meta)!=null&&g[SK]),l=!s,l&&(c||(c=!0,f(m))),a.dispatch(h)}finally{s=!0}}})},AK=e=>function(n){const{autoBatch:a=!0}=n??{};let s=new zk(e);return a&&s.push(CK(typeof a=="object"?a:void 0)),s};function EK(e){const t=NK(),{reducer:n=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(Wb(n))d=Ok(n);else throw new Error(Da(1));let f;typeof a=="function"?f=a(t):f=t();let m=Em;s&&(m=jK({trace:!1,...typeof s=="object"&&s}));const h=cK(...f),g=AK(h);let x=typeof c=="function"?c(g):g();const b=m(...x);return Ek(d,l,b)}function $k(e){const t={},n=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Da(28));if(d in t)throw new Error(Da(29));return t[d]=c,s},addMatcher(l,c){return n.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return e(s),[t,n,a]}function OK(e){return typeof e=="function"}function TK(e,t){let[n,a,s]=$k(t),l;if(OK(e))l=()=>p4(e());else{const d=p4(e);l=()=>d}function c(d=l(),f){let m=[n[f.type],...a.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,g)=>{if(g)if(lo(h)){const b=g(h,f);return b===void 0?h:b}else{if(bs(h))return Lk(h,x=>g(x,f));{const x=g(h,f);if(x===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return h},d)}return c.getInitialState=l,c}var kK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",MK=(e=21)=>{let t="",n=e;for(;n--;)t+=kK[Math.random()*64|0];return t},PK=Symbol.for("rtk-slice-createasyncthunk");function _K(e,t){return`${e}/${t}`}function DK({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[PK];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Da(11));const d=(typeof s.reducers=="function"?s.reducers(LK()):s.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,O){const k=typeof T=="string"?T:T.type;if(!k)throw new Error(Da(12));if(k in m.sliceCaseReducersByType)throw new Error(Da(13));return m.sliceCaseReducersByType[k]=O,h},addMatcher(T,O){return m.sliceMatchers.push({matcher:T,reducer:O}),h},exposeAction(T,O){return m.actionCreators[T]=O,h},exposeCaseReducer(T,O){return m.sliceCaseReducersByName[T]=O,h}};f.forEach(T=>{const O=d[T],k={reducerName:T,type:_K(l,T),createNotation:typeof s.reducers=="function"};zK(O)?BK(k,O,h,t):IK(k,O,h)});function g(){const[T={},O=[],k=void 0]=typeof s.extraReducers=="function"?$k(s.extraReducers):[s.extraReducers],P={...T,...m.sliceCaseReducersByType};return TK(s.initialState,_=>{for(let L in P)_.addCase(L,P[L]);for(let L of m.sliceMatchers)_.addMatcher(L.matcher,L.reducer);for(let L of O)_.addMatcher(L.matcher,L.reducer);k&&_.addDefaultCase(k)})}const x=T=>T,b=new Map,j=new WeakMap;let N;function S(T,O){return N||(N=g()),N(T,O)}function C(){return N||(N=g()),N.getInitialState()}function A(T,O=!1){function k(_){let L=_[T];return typeof L>"u"&&O&&(L=Rf(j,k,C)),L}function P(_=x){const L=Rf(b,O,()=>new WeakMap);return Rf(L,_,()=>{const U={};for(const[V,K]of Object.entries(s.selectors??{}))U[V]=RK(K,_,()=>Rf(j,_,C),O);return U})}return{reducerPath:T,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const E={name:l,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,...A(c),injectInto(T,{reducerPath:O,...k}={}){const P=O??c;return T.inject({reducerPath:P,reducer:S},k),{...E,...A(P,!0)}}};return E}}function RK(e,t,n,a){function s(l,...c){let d=t(l);return typeof d>"u"&&a&&(d=n()),e(d,...c)}return s.unwrapped=e,s}var cr=DK();function LK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function IK({type:e,reducerName:t,createNotation:n},a,s){let l,c;if("reducer"in a){if(n&&!$K(a))throw new Error(Da(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?or(e,c):or(e))}function zK(e){return e._reducerDefinitionType==="asyncThunk"}function $K(e){return e._reducerDefinitionType==="reducerWithPrepare"}function BK({type:e,reducerName:t},n,a,s){if(!s)throw new Error(Da(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=n,g=s(e,l,h);a.exposeAction(t,g),c&&a.addCase(g.fulfilled,c),d&&a.addCase(g.pending,d),f&&a.addCase(g.rejected,f),m&&a.addMatcher(g.settled,m),a.exposeCaseReducer(t,{fulfilled:c||Lf,pending:d||Lf,rejected:f||Lf,settled:m||Lf})}function Lf(){}var qK="task",Bk="listener",qk="completed",Qb="cancelled",UK=`task-${Qb}`,VK=`task-${qk}`,sv=`${Bk}-${Qb}`,FK=`${Bk}-${qk}`,Eh=class{constructor(e){ag(this,"name","TaskAbortError");ag(this,"message");this.code=e,this.message=`${qK} ${Qb} (reason: ${e})`}},Jb=(e,t)=>{if(typeof e!="function")throw new TypeError(Da(32))},Mm=()=>{},Uk=(e,t=Mm)=>(e.catch(t),e),Vk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),no=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ao=e=>{if(e.aborted){const{reason:t}=e;throw new Eh(t)}};function Fk(e,t){let n=Mm;return new Promise((a,s)=>{const l=()=>s(new Eh(e.reason));if(e.aborted){l();return}n=Vk(e,l),t.finally(()=>n()).then(a,s)}).finally(()=>{n=Mm})}var HK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Eh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Pm=e=>t=>Uk(Fk(e,t).then(n=>(ao(e),n))),Hk=e=>{const t=Pm(e);return n=>t(new Promise(a=>setTimeout(a,n)))},{assign:vl}=Object,x4={},Oh="listenerMiddleware",GK=(e,t)=>{const n=a=>Vk(e,()=>no(a,e.reason));return(a,s)=>{Jb(a);const l=new AbortController;n(l);const c=HK(async()=>{ao(e),ao(l.signal);const d=await a({pause:Pm(l.signal),delay:Hk(l.signal),signal:l.signal});return ao(l.signal),d},()=>no(l,VK));return s!=null&&s.autoJoin&&t.push(c.catch(Mm)),{result:Pm(e)(c),cancel(){no(l,UK)}}}},KK=(e,t)=>{const n=async(a,s)=>{ao(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:a,effect:(g,x)=>{x.unsubscribe(),f([g,x.getState(),x.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await Fk(t,Promise.race(d));return ao(t),f}finally{l()}};return(a,s)=>Uk(n(a,s))},Gk=e=>{let{type:t,actionCreator:n,matcher:a,predicate:s,effect:l}=e;if(t)s=or(t).match;else if(n)t=n.type,s=n.match;else if(a)s=a;else if(!s)throw new Error(Da(21));return Jb(l),{predicate:s,type:t,effect:l}},Kk=vl(e=>{const{type:t,predicate:n,effect:a}=Gk(e);return{id:MK(),effect:a,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Da(22))}}},{withTypes:()=>Kk}),y4=(e,t)=>{const{type:n,effect:a,predicate:s}=Gk(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===s)&&l.effect===a)},iv=e=>{e.pending.forEach(t=>{no(t,sv)})},YK=e=>()=>{e.forEach(iv),e.clear()},v4=(e,t,n)=>{try{e(t,n)}catch(a){setTimeout(()=>{throw a},0)}},Yk=vl(or(`${Oh}/add`),{withTypes:()=>Yk}),WK=or(`${Oh}/removeAll`),Wk=vl(or(`${Oh}/remove`),{withTypes:()=>Wk}),XK=(...e)=>{console.error(`${Oh}/error`,...e)},td=(e={})=>{const t=new Map,{extra:n,onError:a=XK}=e;Jb(a);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g!=null&&g.cancelActive&&iv(h)}),l=h=>{const g=y4(t,h)??Kk(h);return s(g)};vl(l,{withTypes:()=>l});const c=h=>{const g=y4(t,h);return g&&(g.unsubscribe(),h.cancelActive&&iv(g)),!!g};vl(c,{withTypes:()=>c});const d=async(h,g,x,b)=>{const j=new AbortController,N=KK(l,j.signal),S=[];try{h.pending.add(j),await Promise.resolve(h.effect(g,vl({},x,{getOriginalState:b,condition:(C,A)=>N(C,A).then(Boolean),take:N,delay:Hk(j.signal),pause:Pm(j.signal),extra:n,signal:j.signal,fork:GK(j.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((C,A,E)=>{C!==j&&(no(C,sv),E.delete(C))})},cancel:()=>{no(j,sv),h.pending.delete(j)},throwIfCancelled:()=>{ao(j.signal)}})))}catch(C){C instanceof Eh||v4(a,C,{raisedBy:"effect"})}finally{await Promise.all(S),no(j,FK),h.pending.delete(j)}},f=YK(t);return{middleware:h=>g=>x=>{if(!Tk(x))return g(x);if(Yk.match(x))return l(x.payload);if(WK.match(x)){f();return}if(Wk.match(x))return c(x.payload);let b=h.getState();const j=()=>{if(b===x4)throw new Error(Da(23));return b};let N;try{if(N=g(x),t.size>0){const S=h.getState(),C=Array.from(t.values());for(const A of C){let E=!1;try{E=A.predicate(x,S,b)}catch(T){E=!1,v4(a,T,{raisedBy:"predicate"})}E&&d(A,x,h,j)}}}finally{b=x4}return N},startListening:l,stopListening:c,clearListeners:f}};function Da(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Xk=cr({name:"chartLayout",initialState:ZK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:QK,setLayout:JK,setChartSize:eY,setScale:tY}=Xk.actions,nY=Xk.reducer;function b4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function j4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(n),!0).forEach(function(a){aY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function aY(e,t,n){return(t=rY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _m=Math.PI/180,iY=e=>e*180/Math.PI,jn=(e,t,n,a)=>({x:e+Math.cos(-_m*a)*n,y:t+Math.sin(-_m*a)*n}),Zk=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},oY=(e,t)=>{var{x:n,y:a}=e,{x:s,y:l}=t;return Math.sqrt((n-s)**2+(a-l)**2)},lY=(e,t)=>{var{x:n,y:a}=e,{cx:s,cy:l}=t,c=oY({x:n,y:a},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-s)/c,f=Math.acos(d);return a>l&&(f=2*Math.PI-f),{radius:c,angle:iY(f),angleInRadian:f}},cY=e=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),l=Math.min(a,s);return{startAngle:t-l*360,endAngle:n-l*360}},uY=(e,t)=>{var{startAngle:n,endAngle:a}=t,s=Math.floor(n/360),l=Math.floor(a/360),c=Math.min(s,l);return e+c*360},dY=(e,t)=>{var{x:n,y:a}=e,{radius:s,angle:l}=lY({x:n,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=cY(t),h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?j4(j4({},t),{},{radius:s,angle:uY(h,t)}):null};function w4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(n),!0).forEach(function(a){fY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cn(e,t,n){return wn(e)||wn(t)?n:Ur(t)?fi(e,t,n):typeof t=="function"?t(e):n}var pY=(e,t,n,a,s)=>{var l,c=-1,d=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,h=n[f].coordinate,g=f>=d-1?n[0].coordinate:n[f+1].coordinate,x=void 0;if(Dn(h-m)!==Dn(g-h)){var b=[];if(Dn(g-h)===Dn(s[1]-s[0])){x=g;var j=h+s[1]-s[0];b[0]=Math.min(j,(j+m)/2),b[1]=Math.max(j,(j+m)/2)}else{x=m;var N=g+s[1]-s[0];b[0]=Math.min(h,(N+h)/2),b[1]=Math.max(h,(N+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=b[0]&&e<=b[1]){({index:c}=n[f]);break}}else{var C=Math.min(m,g),A=Math.max(m,g);if(e>(C+h)/2&&e<=(A+h)/2){({index:c}=n[f]);break}}}else if(t){for(var E=0;E<d;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<d-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===d-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:c}=t[E]);break}}return c},gY=(e,t,n)=>{if(t&&n){var{width:a,height:s}=n,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&Xe(e[l]))return tr(tr({},e),{},{[l]:e[l]+(a||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&Xe(e[c]))return tr(tr({},e),{},{[c]:e[c]+(s||0)})}return e},yo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Qk=(e,t,n,a)=>{if(a)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(n),c},Jk=(e,t,n)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:g,niceTicks:x,axisType:b}=e;if(!c)return null;var j=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,N=s==="category"&&c.bandwidth?c.bandwidth()/j:0;if(N=b==="angleAxis"&&l&&l.length>=2?Dn(l[0]-l[1])*2*N:N,g||x){var S=(g||x||[]).map((C,A)=>{var E=a?a.indexOf(C):C;return{coordinate:c(E)+N,value:C,offset:N,index:A}});return S.filter(C=>!La(C.coordinate))}return f&&m?m.map((C,A)=>({coordinate:c(C)+N,value:C,index:A,offset:N})):c.ticks&&h!=null?c.ticks(h).map((C,A)=>({coordinate:c(C)+N,value:C,offset:N,index:A})):c.domain().map((C,A)=>({coordinate:c(C)+N,value:a?a[C]:C,index:A,offset:N}))},N4=1e-4,xY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,a=e.range(),s=Math.min(a[0],a[1])-N4,l=Math.max(a[0],a[1])+N4,c=e(t[0]),d=e(t[n-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[n-1]])}},yY=(e,t)=>{if(!t||t.length!==2||!Xe(t[0])||!Xe(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Xe(e[0])||e[0]<n)&&(s[0]=n),(!Xe(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},vY=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0,c=0;c<t;++c){var d=La(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},bY=e=>{var t=e.length;if(!(t<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,l=0;l<t;++l){var c=La(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},jY={sign:vY,expand:eG,none:Al,silhouette:tG,wiggle:nG,positive:bY},wY=(e,t,n)=>{var a=jY[n],s=JH().keys(t).value((l,c)=>+cn(l,c,0)).order(Zy).offset(a);return s(e)};function e6(e){return e==null?void 0:String(e)}var S4=e=>{var{axis:t,ticks:n,offset:a,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+a:null;var d=cn(l,t.dataKey,t.scale.domain()[c]);return wn(d)?null:t.scale(d)-s/2+a},NY=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},SY=e=>{var t=e.flat(2).filter(Xe);return[Math.min(...t),Math.max(...t)]},CY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],AY=(e,t,n)=>{if(e!=null)return CY(Object.keys(e).reduce((a,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=SY(m.slice(t,n+1));return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},C4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e1=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var s=wh(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function E4(e){var{tooltipEntrySettings:t,dataKey:n,payload:a,value:s,name:l}=e;return tr(tr({},t),{},{dataKey:n,payload:a,value:s,name:l})}function Th(e,t){if(e)return String(e);if(typeof t=="string")return t}function EY(e,t,n,a,s){if(n==="horizontal"||n==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return a?dY({x:e,y:t},a):null}var OY=(e,t,n,a)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=a;return tr(tr(tr({},a),jn(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=a;return tr(tr(tr({},a),jn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},TY=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,As=e=>e.layout.width,Es=e=>e.layout.height,kY=e=>e.layout.scale,t6=e=>e.layout.margin,t1=ve(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),n1=ve(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),n6="data-recharts-item-index",a6="data-recharts-item-data-key",kh=60;function O4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(n),!0).forEach(function(a){MY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function MY(e,t,n){return(t=PY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DY=e=>e.brush.height,On=ve([As,Es,t6,DY,t1,n1,Ak,aK],(e,t,n,a,s,l,c,d)=>{var f=l.reduce((j,N)=>{var{orientation:S}=N;if(!N.mirror&&!N.hide){var C=typeof N.width=="number"?N.width:kh;return ti(ti({},j),{},{[S]:j[S]+C})}return j},{left:n.left||0,right:n.right||0}),m=s.reduce((j,N)=>{var{orientation:S}=N;return!N.mirror&&!N.hide?ti(ti({},j),{},{[S]:fi(j,"".concat(S))+N.height}):j},{top:n.top||0,bottom:n.bottom||0}),h=ti(ti({},m),f),g=h.bottom;h.bottom+=a,h=gY(h,c,d);var x=e-h.left-h.right,b=t-h.top-h.bottom;return ti(ti({brushBottom:g},h),{},{width:Math.max(x,0),height:Math.max(b,0)})}),RY=ve(On,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),r6=ve(As,Es,(e,t)=>({x:0,y:0,width:e,height:t})),LY=y.createContext(null),va=()=>y.useContext(LY)!=null,Mh=e=>e.brush,Ph=ve([Mh,On,t6],(e,t,n)=>({height:e.height,x:Xe(e.x)?e.x:t.left,y:Xe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Xe(e.width)?e.width:t.width})),a1=()=>{var e,t=va(),n=nt(RY),a=nt(Ph),s=(e=nt(Mh))===null||e===void 0?void 0:e.padding;return!t||!a||!s?n:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},IY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},s6=()=>{var e;return(e=nt(On))!==null&&e!==void 0?e:IY},i6=()=>nt(As),o6=()=>nt(Es),$t=e=>e.layout.layoutType,r1=()=>nt($t),zY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},l6=cr({name:"legend",initialState:zY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=fs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:Xle,setLegendSettings:Zle,addLegendPayload:c6,removeLegendPayload:u6}=l6.actions,$Y=l6.reducer;function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ov.apply(null,arguments)}function T4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Tx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T4(Object(n),!0).forEach(function(a){BY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function BY(e,t,n){return(t=qY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VY(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var FY=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:g,accessibilityLayer:x=!1}=e,b=()=>{if(l&&l.length){var O={padding:0,margin:0},k=(d?wh(l,d):l).map((P,_)=>{if(P.type==="none")return null;var L=P.formatter||c||VY,{value:U,name:V}=P,K=U,le=V;if(L){var ee=L(U,V,P,_,l);if(Array.isArray(ee))[K,le]=ee;else if(ee!=null)K=ee;else return null}var ne=Tx({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},a);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:ne},Ur(le)?y.createElement("span",{className:"recharts-tooltip-item-name"},le):null,Ur(le)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},K),y.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:O},k)}return null},j=Tx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),N=Tx({margin:0},s),S=!wn(h),C=S?h:"",A=Ft("recharts-default-tooltip",f),E=Ft("recharts-tooltip-label",m);S&&g&&l!==void 0&&l!==null&&(C=g(h,l));var T=x?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",ov({className:A,style:j},T),y.createElement("p",{className:E,style:N},y.isValidElement(C)?C:"".concat(C)),b())},tu="recharts-tooltip-wrapper",HY={visibility:"hidden"};function GY(e){var{coordinate:t,translateX:n,translateY:a}=e;return Ft(tu,{["".concat(tu,"-right")]:Xe(n)&&t&&Xe(t.x)&&n>=t.x,["".concat(tu,"-left")]:Xe(n)&&t&&Xe(t.x)&&n<t.x,["".concat(tu,"-bottom")]:Xe(a)&&t&&Xe(t.y)&&a>=t.y,["".concat(tu,"-top")]:Xe(a)&&t&&Xe(t.y)&&a<t.y})}function k4(e){var{allowEscapeViewBox:t,coordinate:n,key:a,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&Xe(l[a]))return l[a];var h=n[a]-d-(s>0?s:0),g=n[a]+s;if(t[a])return c[a]?h:g;var x=f[a];if(x==null)return 0;if(c[a]){var b=h,j=x;return b<j?Math.max(g,x):Math.max(h,x)}if(m==null)return 0;var N=g+d,S=x+m;return N>S?Math.max(h,x):Math.max(g,x)}function KY(e){var{translateX:t,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function YY(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,g;return c.height>0&&c.width>0&&n?(h=k4({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),g=k4({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=KY({translateX:h,translateY:g,useTranslate3d:d})):m=HY,{cssProperties:m,cssClasses:GY({translateX:h,translateY:g,coordinate:n})}}function M4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(n),!0).forEach(function(a){lv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lv(e,t,n){return(t=WY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZY extends y.PureComponent{constructor(){super(...arguments),lv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,a,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:g,useTranslate3d:x,viewBox:b,wrapperStyle:j,lastBoundingBox:N,innerRef:S,hasPortalFromProps:C}=this.props,{cssClasses:A,cssProperties:E}=YY({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:g,tooltipBox:{height:N.height,width:N.width},useTranslate3d:x,viewBox:b}),T=C?{}:If(If({transition:f&&t?"transform ".concat(a,"ms ").concat(s):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=If(If({},T),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},j);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:O,ref:S},l)}}var QY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yl={isSsr:QY()},d6=()=>nt(e=>e.rootProps.accessibilityLayer);function $a(e){return Number.isFinite(e)}function Ol(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cv.apply(null,arguments)}function P4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(n),!0).forEach(function(a){JY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function JY(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D4={curveBasisClosed:UH,curveBasisOpen:VH,curveBasis:qH,curveBumpX:EH,curveBumpY:OH,curveLinearClosed:FH,curveLinear:bh,curveMonotoneX:HH,curveMonotoneY:GH,curveNatural:KH,curveStep:YH,curveStepAfter:XH,curveStepBefore:WH},zf=e=>$a(e.x)&&$a(e.y),nu=e=>e.x,au=e=>e.y,nW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ju(e));return(n==="curveMonotone"||n==="curveBump")&&t?D4["".concat(n).concat(t==="vertical"?"Y":"X")]:D4[n]||bh},aW=e=>{var{type:t="linear",points:n=[],baseLine:a,layout:s,connectNulls:l=!1}=e,c=nW(t,s),d=l?n.filter(zf):n,f;if(Array.isArray(a)){var m=l?a.filter(g=>zf(g)):a,h=d.map((g,x)=>_4(_4({},g),{},{base:m[x]}));return s==="vertical"?f=Pf().y(au).x1(nu).x0(g=>g.base.x):f=Pf().x(nu).y1(au).y0(g=>g.base.y),f.defined(zf).curve(c),f(h)}return s==="vertical"&&Xe(a)?f=Pf().y(au).x1(nu).x0(a):Xe(a)?f=Pf().x(nu).y1(au).y0(a):f=rk().x(nu).y(au),f.defined(zf).curve(c),f(d)},f6=e=>{var{className:t,points:n,path:a,pathRef:s}=e;if((!n||!n.length)&&!a)return null;var l=n&&n.length?aW(e):a;return y.createElement("path",cv({},zt(e,!1),hH(e),{className:Ft("recharts-curve",t),d:l===null?void 0:l,ref:s}))},rW=["x","y","top","left","width","height","className"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},uv.apply(null,arguments)}function R4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function sW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(n),!0).forEach(function(a){iW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function iW(e,t,n){return(t=oW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cW(e,t){if(e==null)return{};var n,a,s=uW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function uW(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var dW=(e,t,n,a,s,l)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(l,",").concat(t,"h").concat(n),fW=e=>{var{x:t=0,y:n=0,top:a=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=cW(e,rW),m=sW({x:t,y:n,top:a,left:s,width:l,height:c},f);return!Xe(t)||!Xe(n)||!Xe(l)||!Xe(c)||!Xe(a)||!Xe(s)?null:y.createElement("path",uv({},zt(m,!0),{className:Ft("recharts-cross",d),d:dW(t,n,l,c,a,s)}))};function mW(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function L4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(n),!0).forEach(function(a){pW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t){var n=hW({},e),a=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),n);return l}var kx={},Mx={},Px={},I4;function yW(){return I4||(I4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const a=Object.getPrototypeOf(n);return a===null||a===Object.prototype||Object.getPrototypeOf(a)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(Px)),Px}var z4;function vW(){return z4||(z4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yW(),n=bk(),a=Gb(),s=Kb(),l=Fb();function c(m,h,g){return d(m,h,void 0,void 0,void 0,void 0,g)}function d(m,h,g,x,b,j,N){const S=N(m,h,g,x,b,j);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,j,N)}return f(m,h,j,N)}function f(m,h,g,x){if(Object.is(m,h))return!0;let b=a.getTag(m),j=a.getTag(h);if(b===s.argumentsTag&&(b=s.objectTag),j===s.argumentsTag&&(j=s.objectTag),b!==j)return!1;switch(b){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const C=m.valueOf(),A=h.valueOf();return l.eq(C,A)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}g=g??new Map;const N=g.get(m),S=g.get(h);if(N!=null&&S!=null)return N===h;g.set(m,h),g.set(h,m);try{switch(b){case s.mapTag:{if(m.size!==h.size)return!1;for(const[C,A]of m.entries())if(!h.has(C)||!d(A,h.get(C),C,m,h,g,x))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const C=Array.from(m.values()),A=Array.from(h.values());for(let E=0;E<C.length;E++){const T=C[E],O=A.findIndex(k=>d(T,k,void 0,m,h,g,x));if(O===-1)return!1;A.splice(O,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let C=0;C<m.length;C++)if(!d(m[C],h[C],C,m,h,g,x))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),g,x);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),g,x);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,g,x)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const A=[...Object.keys(m),...n.getSymbols(m)],E=[...Object.keys(h),...n.getSymbols(h)];if(A.length!==E.length)return!1;for(let T=0;T<A.length;T++){const O=A[T],k=m[O];if(!Object.hasOwn(h,O))return!1;const P=h[O];if(!d(k,P,O,m,h,g,x))return!1}return!0}default:return!1}}finally{g.delete(m),g.delete(h)}}e.isEqualWith=c}(Mx)),Mx}var _x={},$4;function bW(){return $4||($4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(_x)),_x}var B4;function jW(){return B4||(B4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vW(),n=bW();function a(s,l){return t.isEqualWith(s,l,n.noop)}e.isEqual=a}(kx)),kx}var Dx,q4;function wW(){return q4||(q4=1,Dx=jW().isEqual),Dx}var NW=wW();const SW=Fr(NW);function CW(e){var t={},n=()=>null,a=!1,s=null,l=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}var Dm=1e-4,m6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],h6=(e,t)=>e.map((n,a)=>n*t**a).reduce((n,a)=>n+a),U4=(e,t)=>n=>{var a=m6(e,t);return h6(a,n)},AW=(e,t)=>n=>{var a=m6(e,t),s=[...a.map((l,c)=>l*c).slice(1),0];return h6(s,n)},V4=function(){for(var t,n,a,s,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,a,n,s]=[0,0,1,1];break;case"ease":[t,a,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,a,n,s]=[.42,0,1,1];break;case"ease-out":[t,a,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,a,n,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,a,n,s]=f[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else c.length===4&&([t,a,n,s]=c);var m=U4(t,n),h=U4(a,s),g=AW(t,n),x=j=>j>1?1:j<0?0:j,b=j=>{for(var N=j>1?1:j,S=N,C=0;C<8;++C){var A=m(S)-N,E=g(S);if(Math.abs(A-N)<Dm||E<Dm)return h(S);S=x(S-A/E)}return h(S)};return b.isStepper=!1,b},EW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*n,h=f*a,g=f+(m-h)*s/1e3,x=f*s/1e3+c;return Math.abs(x-d)<Dm&&Math.abs(g)<Dm?[d,0]:[x,g]};return l.isStepper=!0,l.dt=s,l},OW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return V4(e);case"spring":return EW();default:if(e.split("(")[0]==="cubic-bezier")return V4(e)}return typeof e=="function"?e:null};function F4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function H4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(n),!0).forEach(function(a){TW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function TW(e,t,n){return(t=kW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_W=(e,t,n)=>e.map(a=>"".concat(PW(a)," ").concat(t,"ms ").concat(n)).join(","),DW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,a)=>n.filter(s=>a.includes(s))),Ru=(e,t)=>Object.keys(t).reduce((n,a)=>H4(H4({},n),{},{[a]:e(a,t[a])}),{});function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(a){RW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function RW(e,t,n){return(t=LW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rm=(e,t,n)=>e+(t-e)*n,dv=e=>{var{from:t,to:n}=e;return t!==n},p6=(e,t,n)=>{var a=Ru((s,l)=>{if(dv(l)){var[c,d]=e(l.from,l.to,l.velocity);return Hn(Hn({},l),{},{from:c,velocity:d})}return l},t);return n<1?Ru((s,l)=>dv(l)?Hn(Hn({},l),{},{velocity:Rm(l.velocity,a[s].velocity,n),from:Rm(l.from,a[s].from,n)}):l,t):p6(e,a,n-1)};function zW(e,t,n,a,s,l){var c,d=a.reduce((x,b)=>Hn(Hn({},x),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),f=()=>Ru((x,b)=>b.from,d),m=()=>!Object.values(d).filter(dv).length,h=null,g=x=>{c||(c=x);var b=x-c,j=b/n.dt;d=p6(n,d,j),s(Hn(Hn(Hn({},e),t),f())),c=x,m()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{h()})}function $W(e,t,n,a,s,l,c){var d=null,f=s.reduce((g,x)=>Hn(Hn({},g),{},{[x]:[e[x],t[x]]}),{}),m,h=g=>{m||(m=g);var x=(g-m)/a,b=Ru((N,S)=>Rm(...S,n(x)),f);if(l(Hn(Hn(Hn({},e),t),b)),x<1)d=c.setTimeout(h);else{var j=Ru((N,S)=>Rm(...S,n(1)),f);l(Hn(Hn(Hn({},e),t),j))}};return()=>(d=c.setTimeout(h),()=>{d()})}const BW=(e,t,n,a,s,l)=>{var c=DW(e,t);return n.isStepper===!0?zW(e,t,n,c,s,l):$W(e,t,n,a,c,s,l)};class qW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,l=c=>{c-a>=n?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}var UW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},fv.apply(null,arguments)}function VW(e,t){if(e==null)return{};var n,a,s=FW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function FW(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function K4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K4(Object(n),!0).forEach(function(a){Wi(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wi(e,t,n){return(t=HW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KW(){return CW(new qW)}class s1 extends y.PureComponent{constructor(t,n){super(t,n),Wi(this,"mounted",!1),Wi(this,"manager",null),Wi(this,"stopJSAnimation",null),Wi(this,"unSubscribe",null);var{isActive:a,attributeName:s,from:l,to:c,children:d,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!a||f<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:a,attributeName:s,shouldReAnimate:l,to:c,from:d}=this.props,{style:f}=this.state;if(a){if(!n){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(SW(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||l?d:t.to;if(this.state&&f){var x={style:s?{[s]:g}:g};(s&&f[s]!==g||!s&&f!==g)&&this.setState(x)}this.runAnimation(ni(ni({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:a,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f}=t,m=BW(n,a,OW(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,d])}runAnimation(t){var{begin:n,duration:a,attributeName:s,to:l,easing:c,onAnimationStart:d,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,g=_W(Object.keys(h),a,c);this.manager.start([d,n,ni(ni({},h),{},{transition:g}),a,f])}render(){var t=this.props,{children:n,begin:a,duration:s,attributeName:l,easing:c,isActive:d,from:f,to:m,canBegin:h,onAnimationEnd:g,shouldReAnimate:x,onAnimationReStart:b,animationManager:j}=t,N=VW(t,UW),S=y.Children.count(n),C=this.state.style;if(typeof n=="function")return n(C);if(!d||S===0||s<=0)return n;var A=E=>{var{style:T={},className:O}=E.props,k=y.cloneElement(E,ni(ni({},N),{},{style:ni(ni({},T),C),className:O}));return k};return S===1?A(y.Children.only(n)):y.createElement("div",null,y.Children.map(n,E=>A(E)))}}Wi(s1,"displayName","Animate");Wi(s1,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var YW=y.createContext(null);function uo(e){var t,n,a=y.useContext(YW);return y.createElement(s1,fv({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:a)!==null&&t!==void 0?t:KW()}))}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lm.apply(null,arguments)}var Y4=(e,t,n,a,s)=>{var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,x=4;g<x;g++)h[g]=s[g]>l?l:s[g];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+n-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+c*h[1])),m+="L ".concat(e+n,",").concat(t+a-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(t+a)),m+="L ".concat(e+d*h[3],",").concat(t+a),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+a-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var b=Math.min(l,s);m="M ".concat(e,",").concat(t+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+n-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n,",").concat(t+c*b,`
            L `).concat(e+n,",").concat(t+a-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e+n-d*b,",").concat(t+a,`
            L `).concat(e+d*b,",").concat(t+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(e,",").concat(t+a-c*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return m},WW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},g6=e=>{var t=Or(e,WW),n=y.useRef(null),[a,s]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&s(C)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:g,animationDuration:x,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:N}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=Ft("recharts-rectangle",h);return N?y.createElement(uo,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:x,animationEasing:g,isActive:N},C=>{var{width:A,height:E,x:T,y:O}=C;return y.createElement(uo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:j,easing:g},y.createElement("path",Lm({},zt(t,!0),{className:S,d:Y4(T,O,A,E,m),ref:n})))}):y.createElement("path",Lm({},zt(t,!0),{className:S,d:Y4(l,c,d,f,m)}))};function x6(e){var{cx:t,cy:n,radius:a,startAngle:s,endAngle:l}=e,c=jn(t,n,a,s),d=jn(t,n,a,l);return{points:[c,d],cx:t,cy:n,radius:a,startAngle:s,endAngle:l}}function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},mv.apply(null,arguments)}var XW=(e,t)=>{var n=Dn(t-e),a=Math.min(Math.abs(t-e),359.999);return n*a},$f=e=>{var{cx:t,cy:n,radius:a,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+a,h=Math.asin(d/m)/_m,g=f?s:s+l*h,x=jn(t,n,m,g),b=jn(t,n,a,g),j=f?s-l*h:s,N=jn(t,n,m*Math.cos(h*_m),j);return{center:x,circleTangency:b,lineTangency:N,theta:h}},y6=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,d=XW(l,c),f=l+d,m=jn(t,n,s,l),h=jn(t,n,s,f),g="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=jn(t,n,a,l),b=jn(t,n,a,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},ZW=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Dn(m-f),{circleTangency:g,lineTangency:x,theta:b}=$f({cx:t,cy:n,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:j,lineTangency:N,theta:S}=$f({cx:t,cy:n,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),C=d?Math.abs(f-m):Math.abs(f-m)-b-S;if(C<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):y6({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m});var A="M ".concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var{circleTangency:E,lineTangency:T,theta:O}=$f({cx:t,cy:n,radius:a,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:k,lineTangency:P,theta:_}=$f({cx:t,cy:n,radius:a,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),L=d?Math.abs(f-m):Math.abs(f-m)-O-_;if(L<0&&l===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},QW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v6=e=>{var t=Or(e,QW),{cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:g}=t;if(l<s||m===h)return null;var x=Ft("recharts-sector",g),b=l-s,j=ia(c,b,0,!0),N;return j>0&&Math.abs(m-h)<360?N=ZW({cx:n,cy:a,innerRadius:s,outerRadius:l,cornerRadius:Math.min(j,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):N=y6({cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),y.createElement("path",mv({},zt(t,!0),{className:x,d:N}))};function JW(e,t,n){var a,s,l,c;if(e==="horizontal")a=t.x,l=a,s=n.top,c=n.top+n.height;else if(e==="vertical")s=t.y,c=s,a=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:g}=t,x=jn(d,f,m,g),b=jn(d,f,h,g);a=x.x,s=x.y,l=b.x,c=b.y}else return x6(t);return[{x:a,y:s},{x:l,y:c}]}var Rx={},Lx={},Ix={},W4;function eX(){return W4||(W4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sk();function n(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=n}(Ix)),Ix}var X4;function tX(){return X4||(X4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eX();function n(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n}(Lx)),Lx}var Z4;function nX(){return Z4||(Z4=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck(),n=tX();function a(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=n.toFinite(s),l===void 0?(l=s,s=0):l=n.toFinite(l),c=c===void 0?s<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=a}(Rx)),Rx}var zx,Q4;function aX(){return Q4||(Q4=1,zx=nX().range),zx}var rX=aX();const b6=Fr(rX);function li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i1(e){let t,n,a;e.length!==2?(t=li,n=(d,f)=>li(e(d),f),a=(d,f)=>e(d)-f):(t=e===li||e===sX?e:iX,n=e,a=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;n(d[g],f)<0?m=g+1:h=g}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const g=m+h>>>1;n(d[g],f)<=0?m=g+1:h=g}while(m<h)}return m}function c(d,f,m=0,h=d.length){const g=s(d,f,m,h-1);return g>m&&a(d[g-1],f)>-a(d[g],f)?g-1:g}return{left:s,center:c,right:l}}function iX(){return 0}function j6(e){return e===null?NaN:+e}function*oX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const lX=i1(li),nd=lX.right;i1(j6).center;class J4 extends Map{constructor(t,n=dX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(eE(this,t))}has(t){return super.has(eE(this,t))}set(t,n){return super.set(cX(this,t),n)}delete(t){return super.delete(uX(this,t))}}function eE({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function cX({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function uX({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function dX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fX(e=li){if(e===li)return w6;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function w6(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mX=Math.sqrt(50),hX=Math.sqrt(10),pX=Math.sqrt(2);function Im(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),l=a/Math.pow(10,s),c=l>=mX?10:l>=hX?5:l>=pX?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?Im(e,t,n*2):[d,f,m]}function hv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,l,c]=a?Im(t,e,n):Im(e,t,n);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(a)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function pv(e,t,n){return t=+t,e=+e,n=+n,Im(e,t,n)[2]}function gv(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?pv(t,e,n):pv(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function tE(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function nE(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function N6(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?w6:fX(s);a>n;){if(a-n>600){const f=a-n+1,m=t-n+1,h=Math.log(f),g=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*g*(f-g)/f)*(m-f/2<0?-1:1),b=Math.max(n,Math.floor(t-m*g/f+x)),j=Math.min(a,Math.floor(t+(f-m)*g/f+x));N6(e,t,b,j,s)}const l=e[t];let c=n,d=a;for(ru(e,n,t),s(e[a],l)>0&&ru(e,n,a);c<d;){for(ru(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[n],l)===0?ru(e,n,d):(++d,ru(e,d,a)),d<=t&&(n=d+1),t<=d&&(a=d-1)}return e}function ru(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function gX(e,t,n){if(e=Float64Array.from(oX(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return nE(e);if(t>=1)return tE(e);var a,s=(a-1)*t,l=Math.floor(s),c=tE(N6(e,l).subarray(0,l+1)),d=nE(e.subarray(l+1));return c+(d-c)*(s-l)}}function xX(e,t,n=j6){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,l=Math.floor(s),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function yX(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(s);++a<s;)l[a]=e+a*n;return l}function ur(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Os(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xv=Symbol("implicit");function o1(){var e=new J4,t=[],n=[],a=xv;function s(l){let c=e.get(l);if(c===void 0){if(a!==xv)return a;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new J4;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(n=Array.from(l),s):n.slice()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return o1(t,n).unknown(a)},ur.apply(s,arguments),s}function l1(){var e=o1().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function g(){var x=t().length,b=s<a,j=b?s:a,N=b?a:s;l=(N-j)/Math.max(1,x-f+m*2),d&&(l=Math.floor(l)),j+=(N-j-l*(x-f))*h,c=l*(1-f),d&&(j=Math.round(j),c=Math.round(c));var S=yX(x).map(function(C){return j+l*C});return n(b?S.reverse():S)}return e.domain=function(x){return arguments.length?(t(x),g()):t()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,g()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,d=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(x){return arguments.length?(d=!!x,g()):d},e.padding=function(x){return arguments.length?(f=Math.min(1,m=+x),g()):f},e.paddingInner=function(x){return arguments.length?(f=Math.min(1,x),g()):f},e.paddingOuter=function(x){return arguments.length?(m=+x,g()):m},e.align=function(x){return arguments.length?(h=Math.max(0,Math.min(1,x)),g()):h},e.copy=function(){return l1(t(),[a,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},ur.apply(g(),arguments)}function S6(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return S6(t())},e}function vX(){return S6(l1.apply(null,arguments).paddingInner(1))}function c1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function C6(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function ad(){}var Lu=.7,zm=1/Lu,bl="\\s*([+-]?\\d+)\\s*",Iu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bX=/^#([0-9a-f]{3,8})$/,jX=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),wX=new RegExp(`^rgb\\(${qr},${qr},${qr}\\)$`),NX=new RegExp(`^rgba\\(${bl},${bl},${bl},${Iu}\\)$`),SX=new RegExp(`^rgba\\(${qr},${qr},${qr},${Iu}\\)$`),CX=new RegExp(`^hsl\\(${Iu},${qr},${qr}\\)$`),AX=new RegExp(`^hsla\\(${Iu},${qr},${qr},${Iu}\\)$`),aE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c1(ad,zu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rE,formatHex:rE,formatHex8:EX,formatHsl:OX,formatRgb:sE,toString:sE});function rE(){return this.rgb().formatHex()}function EX(){return this.rgb().formatHex8()}function OX(){return A6(this).formatHsl()}function sE(){return this.rgb().formatRgb()}function zu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?iE(t):n===3?new ha(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jX.exec(e))?new ha(t[1],t[2],t[3],1):(t=wX.exec(e))?new ha(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=NX.exec(e))?Bf(t[1],t[2],t[3],t[4]):(t=SX.exec(e))?Bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=CX.exec(e))?cE(t[1],t[2]/100,t[3]/100,1):(t=AX.exec(e))?cE(t[1],t[2]/100,t[3]/100,t[4]):aE.hasOwnProperty(e)?iE(aE[e]):e==="transparent"?new ha(NaN,NaN,NaN,0):null}function iE(e){return new ha(e>>16&255,e>>8&255,e&255,1)}function Bf(e,t,n,a){return a<=0&&(e=t=n=NaN),new ha(e,t,n,a)}function TX(e){return e instanceof ad||(e=zu(e)),e?(e=e.rgb(),new ha(e.r,e.g,e.b,e.opacity)):new ha}function yv(e,t,n,a){return arguments.length===1?TX(e):new ha(e,t,n,a??1)}function ha(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}c1(ha,yv,C6(ad,{brighter(e){return e=e==null?zm:Math.pow(zm,e),new ha(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lu:Math.pow(Lu,e),new ha(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ha(ro(this.r),ro(this.g),ro(this.b),$m(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oE,formatHex:oE,formatHex8:kX,formatRgb:lE,toString:lE}));function oE(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function kX(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function lE(){const e=$m(this.opacity);return`${e===1?"rgb(":"rgba("}${ro(this.r)}, ${ro(this.g)}, ${ro(this.b)}${e===1?")":`, ${e})`}`}function $m(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xi(e){return e=ro(e),(e<16?"0":"")+e.toString(16)}function cE(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yr(e,t,n,a)}function A6(e){if(e instanceof yr)return new yr(e.h,e.s,e.l,e.opacity);if(e instanceof ad||(e=zu(e)),!e)return new yr;if(e instanceof yr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),l=Math.max(t,n,a),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(n-a)/d+(n<a)*6:n===l?c=(a-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new yr(c,d,f,e.opacity)}function MX(e,t,n,a){return arguments.length===1?A6(e):new yr(e,t,n,a??1)}function yr(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}c1(yr,MX,C6(ad,{brighter(e){return e=e==null?zm:Math.pow(zm,e),new yr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lu:Math.pow(Lu,e),new yr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new ha($x(e>=240?e-240:e+120,s,a),$x(e,s,a),$x(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new yr(uE(this.h),qf(this.s),qf(this.l),$m(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$m(this.opacity);return`${e===1?"hsl(":"hsla("}${uE(this.h)}, ${qf(this.s)*100}%, ${qf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uE(e){return e=(e||0)%360,e<0?e+360:e}function qf(e){return Math.max(0,Math.min(1,e||0))}function $x(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const u1=e=>()=>e;function PX(e,t){return function(n){return e+n*t}}function _X(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function DX(e){return(e=+e)==1?E6:function(t,n){return n-t?_X(t,n,e):u1(isNaN(t)?n:t)}}function E6(e,t){var n=t-e;return n?PX(e,n):u1(isNaN(e)?t:e)}const dE=function e(t){var n=DX(t);function a(s,l){var c=n((s=yv(s)).r,(l=yv(l)).r),d=n(s.g,l.g),f=n(s.b,l.b),m=E6(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return a.gamma=e,a}(1);function RX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(l){for(s=0;s<n;++s)a[s]=e[s]*(1-l)+t[s]*l;return a}}function LX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function IX(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),l=new Array(n),c;for(c=0;c<a;++c)s[c]=Wl(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<a;++c)l[c]=s[c](d);return l}}function zX(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function Bm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $X(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Wl(e[s],t[s]):a[s]=t[s];return function(l){for(s in n)a[s]=n[s](l);return a}}var vv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bx=new RegExp(vv.source,"g");function BX(e){return function(){return e}}function qX(e){return function(t){return e(t)+""}}function UX(e,t){var n=vv.lastIndex=Bx.lastIndex=0,a,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(a=vv.exec(e))&&(s=Bx.exec(t));)(l=s.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:Bm(a,s)})),n=Bx.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?qX(f[0].x):BX(t):(t=f.length,function(m){for(var h=0,g;h<t;++h)d[(g=f[h]).i]=g.x(m);return d.join("")})}function Wl(e,t){var n=typeof t,a;return t==null||n==="boolean"?u1(t):(n==="number"?Bm:n==="string"?(a=zu(t))?(t=a,dE):UX:t instanceof zu?dE:t instanceof Date?zX:LX(t)?RX:Array.isArray(t)?IX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$X:Bm)(e,t)}function d1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function VX(e,t){t===void 0&&(t=e,e=Wl);for(var n=0,a=t.length-1,s=t[0],l=new Array(a<0?0:a);n<a;)l[n]=e(s,s=t[++n]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return l[d](c-d)}}function FX(e){return function(){return e}}function qm(e){return+e}var fE=[0,1];function sa(e){return e}function bv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:FX(isNaN(t)?NaN:.5)}function HX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function GX(e,t,n){var a=e[0],s=e[1],l=t[0],c=t[1];return s<a?(a=bv(s,a),l=n(c,l)):(a=bv(a,s),l=n(l,c)),function(d){return l(a(d))}}function KX(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),l=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=bv(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(d){var f=nd(e,d,1,a)-1;return l[f](s[f](d))}}function rd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function _h(){var e=fE,t=fE,n=Wl,a,s,l,c=sa,d,f,m;function h(){var x=Math.min(e.length,t.length);return c!==sa&&(c=HX(e[0],e[x-1])),d=x>2?KX:GX,f=m=null,g}function g(x){return x==null||isNaN(x=+x)?l:(f||(f=d(e.map(a),t,n)))(a(c(x)))}return g.invert=function(x){return c(s((m||(m=d(t,e.map(a),Bm)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,qm),h()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),h()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),n=d1,h()},g.clamp=function(x){return arguments.length?(c=x?!0:sa,h()):c!==sa},g.interpolate=function(x){return arguments.length?(n=x,h()):n},g.unknown=function(x){return arguments.length?(l=x,g):l},function(x,b){return a=x,s=b,h()}}function f1(){return _h()(sa,sa)}function YX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Um(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function Tl(e){return e=Um(Math.abs(e)),e?e[1]:NaN}function WX(e,t){return function(n,a){for(var s=n.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>a&&(d=Math.max(1,a-f)),l.push(n.substring(s-=d,s+d)),!((f+=d+1)>a));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function XX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ZX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $u(e){if(!(t=ZX.exec(e)))throw new Error("invalid format: "+e);var t;return new m1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$u.prototype=m1.prototype;function m1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}m1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QX(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var O6;function JX(e,t){var n=Um(e,t);if(!n)return e+"";var a=n[0],s=n[1],l=s-(O6=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return l===c?a:l>c?a+new Array(l-c+1).join("0"):l>0?a.slice(0,l)+"."+a.slice(l):"0."+new Array(1-l).join("0")+Um(e,Math.max(0,t+l-1))[0]}function mE(e,t){var n=Um(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const hE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mE(e*100,t),r:mE,s:JX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pE(e){return e}var gE=Array.prototype.map,xE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function eZ(e){var t=e.grouping===void 0||e.thousands===void 0?pE:WX(gE.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?pE:XX(gE.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(g){g=$u(g);var x=g.fill,b=g.align,j=g.sign,N=g.symbol,S=g.zero,C=g.width,A=g.comma,E=g.precision,T=g.trim,O=g.type;O==="n"?(A=!0,O="g"):hE[O]||(E===void 0&&(E=12),T=!0,O="g"),(S||x==="0"&&b==="=")&&(S=!0,x="0",b="=");var k=N==="$"?n:N==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=N==="$"?a:/[%p]/.test(O)?c:"",_=hE[O],L=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function U(V){var K=k,le=P,ee,ne,B;if(O==="c")le=_(V)+le,V="";else{V=+V;var re=V<0||1/V<0;if(V=isNaN(V)?f:_(Math.abs(V),E),T&&(V=QX(V)),re&&+V==0&&j!=="+"&&(re=!1),K=(re?j==="("?j:d:j==="-"||j==="("?"":j)+K,le=(O==="s"?xE[8+O6/3]:"")+le+(re&&j==="("?")":""),L){for(ee=-1,ne=V.length;++ee<ne;)if(B=V.charCodeAt(ee),48>B||B>57){le=(B===46?s+V.slice(ee+1):V.slice(ee))+le,V=V.slice(0,ee);break}}}A&&!S&&(V=t(V,1/0));var Q=K.length+V.length+le.length,H=Q<C?new Array(C-Q+1).join(x):"";switch(A&&S&&(V=t(H+V,H.length?C-le.length:1/0),H=""),b){case"<":V=K+V+le+H;break;case"=":V=K+H+V+le;break;case"^":V=H.slice(0,Q=H.length>>1)+K+V+le+H.slice(Q);break;default:V=H+K+V+le;break}return l(V)}return U.toString=function(){return g+""},U}function h(g,x){var b=m((g=$u(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Tl(x)/3)))*3,N=Math.pow(10,-j),S=xE[8+j/3];return function(C){return b(N*C)+S}}return{format:m,formatPrefix:h}}var Uf,h1,T6;tZ({thousands:",",grouping:[3],currency:["$",""]});function tZ(e){return Uf=eZ(e),h1=Uf.format,T6=Uf.formatPrefix,Uf}function nZ(e){return Math.max(0,-Tl(Math.abs(e)))}function aZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tl(t)/3)))*3-Tl(Math.abs(e)))}function rZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tl(t)-Tl(e))+1}function k6(e,t,n,a){var s=gv(e,t,n),l;switch(a=$u(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(l=aZ(s,c))&&(a.precision=l),T6(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(l=rZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=l-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(l=nZ(s))&&(a.precision=l-(a.type==="%")*2);break}}return h1(a)}function xi(e){var t=e.domain;return e.ticks=function(n){var a=t();return hv(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return k6(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,l=a.length-1,c=a[s],d=a[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=pv(c,d,n),m===f)return a[s]=c,a[l]=d,t(a);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function M6(){var e=f1();return e.copy=function(){return rd(e,M6())},ur.apply(e,arguments),xi(e)}function P6(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,qm),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return P6(e).unknown(t)},e=arguments.length?Array.from(e,qm):[0,1],xi(n)}function _6(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],l=e[a],c;return l<s&&(c=n,n=a,a=c,c=s,s=l,l=c),e[n]=t.floor(s),e[a]=t.ceil(l),e}function yE(e){return Math.log(e)}function vE(e){return Math.exp(e)}function sZ(e){return-Math.log(-e)}function iZ(e){return-Math.exp(-e)}function oZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lZ(e){return e===10?oZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bE(e){return(t,n)=>-e(-t,n)}function p1(e){const t=e(yE,vE),n=t.domain;let a=10,s,l;function c(){return s=cZ(a),l=lZ(a),n()[0]<0?(s=bE(s),l=bE(l),e(sZ,iZ)):e(yE,vE),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const f=n();let m=f[0],h=f[f.length-1];const g=h<m;g&&([m,h]=[h,m]);let x=s(m),b=s(h),j,N;const S=d==null?10:+d;let C=[];if(!(a%1)&&b-x<S){if(x=Math.floor(x),b=Math.ceil(b),m>0){for(;x<=b;++x)for(j=1;j<a;++j)if(N=x<0?j/l(-x):j*l(x),!(N<m)){if(N>h)break;C.push(N)}}else for(;x<=b;++x)for(j=a-1;j>=1;--j)if(N=x>0?j/l(-x):j*l(x),!(N<m)){if(N>h)break;C.push(N)}C.length*2<S&&(C=hv(m,h,S))}else C=hv(x,b,Math.min(b-x,S)).map(l);return g?C.reverse():C},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=a===10?"s":","),typeof f!="function"&&(!(a%1)&&(f=$u(f)).precision==null&&(f.trim=!0),f=h1(f)),d===1/0)return f;const m=Math.max(1,a*d/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*a<a-.5&&(g*=a),g<=m?f(h):""}},t.nice=()=>n(_6(n(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function D6(){const e=p1(_h()).domain([1,10]);return e.copy=()=>rd(e,D6()).base(e.base()),ur.apply(e,arguments),e}function jE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function g1(e){var t=1,n=e(jE(t),wE(t));return n.constant=function(a){return arguments.length?e(jE(t=+a),wE(t)):t},xi(n)}function R6(){var e=g1(_h());return e.copy=function(){return rd(e,R6()).constant(e.constant())},ur.apply(e,arguments)}function NE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dZ(e){return e<0?-e*e:e*e}function x1(e){var t=e(sa,sa),n=1;function a(){return n===1?e(sa,sa):n===.5?e(uZ,dZ):e(NE(n),NE(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},xi(t)}function y1(){var e=x1(_h());return e.copy=function(){return rd(e,y1()).exponent(e.exponent())},ur.apply(e,arguments),e}function fZ(){return y1.apply(null,arguments).exponent(.5)}function SE(e){return Math.sign(e)*e*e}function mZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L6(){var e=f1(),t=[0,1],n=!1,a;function s(l){var c=mZ(e(l));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(l){return e.invert(SE(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,qm)).map(SE)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(n=!!l,s):n},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return L6(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},ur.apply(s,arguments),xi(s)}function I6(){var e=[],t=[],n=[],a;function s(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=xX(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?a:t[nd(n,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(li),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(a=c,l):a},l.quantiles=function(){return n.slice()},l.copy=function(){return I6().domain(e).range(t).unknown(a)},ur.apply(l,arguments)}function z6(){var e=0,t=1,n=1,a=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[nd(a,f,0,n)]:l}function d(){var f=-1;for(a=new Array(n);++f<n;)a[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,a[0]]:m>=n?[a[n-1],t]:[a[m-1],a[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return a.slice()},c.copy=function(){return z6().domain([e,t]).range(s).unknown(l)},ur.apply(xi(c),arguments)}function $6(){var e=[.5],t=[0,1],n,a=1;function s(l){return l!=null&&l<=l?t[nd(e,l,0,a)]:n}return s.domain=function(l){return arguments.length?(e=Array.from(l),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return $6().domain(e).range(t).unknown(n)},ur.apply(s,arguments)}const qx=new Date,Ux=new Date;function Tn(e,t,n,a){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>Tn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),n&&(s.count=(l,c)=>(qx.setTime(+l),Ux.setTime(+c),e(qx),e(Ux),Math.floor(n(qx,Ux))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(a?c=>a(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const Vm=Tn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Vm);Vm.range;const cs=1e3,nr=cs*60,us=nr*60,js=us*24,v1=js*7,CE=js*30,Vx=js*365,Zi=Tn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cs)},(e,t)=>(t-e)/cs,e=>e.getUTCSeconds());Zi.range;const b1=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cs)},(e,t)=>{e.setTime(+e+t*nr)},(e,t)=>(t-e)/nr,e=>e.getMinutes());b1.range;const j1=Tn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*nr)},(e,t)=>(t-e)/nr,e=>e.getUTCMinutes());j1.range;const w1=Tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cs-e.getMinutes()*nr)},(e,t)=>{e.setTime(+e+t*us)},(e,t)=>(t-e)/us,e=>e.getHours());w1.range;const N1=Tn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*us)},(e,t)=>(t-e)/us,e=>e.getUTCHours());N1.range;const sd=Tn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*nr)/js,e=>e.getDate()-1);sd.range;const Dh=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/js,e=>e.getUTCDate()-1);Dh.range;const B6=Tn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/js,e=>Math.floor(e/js));B6.range;function vo(e){return Tn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*nr)/v1)}const Rh=vo(0),Fm=vo(1),hZ=vo(2),pZ=vo(3),kl=vo(4),gZ=vo(5),xZ=vo(6);Rh.range;Fm.range;hZ.range;pZ.range;kl.range;gZ.range;xZ.range;function bo(e){return Tn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/v1)}const Lh=bo(0),Hm=bo(1),yZ=bo(2),vZ=bo(3),Ml=bo(4),bZ=bo(5),jZ=bo(6);Lh.range;Hm.range;yZ.range;vZ.range;Ml.range;bZ.range;jZ.range;const S1=Tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());S1.range;const C1=Tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());C1.range;const ws=Tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ws.range;const Ns=Tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Tn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ns.range;function q6(e,t,n,a,s,l){const c=[[Zi,1,cs],[Zi,5,5*cs],[Zi,15,15*cs],[Zi,30,30*cs],[l,1,nr],[l,5,5*nr],[l,15,15*nr],[l,30,30*nr],[s,1,us],[s,3,3*us],[s,6,6*us],[s,12,12*us],[a,1,js],[a,2,2*js],[n,1,v1],[t,1,CE],[t,3,3*CE],[e,1,Vx]];function d(m,h,g){const x=h<m;x&&([m,h]=[h,m]);const b=g&&typeof g.range=="function"?g:f(m,h,g),j=b?b.range(m,+h+1):[];return x?j.reverse():j}function f(m,h,g){const x=Math.abs(h-m)/g,b=i1(([,,S])=>S).right(c,x);if(b===c.length)return e.every(gv(m/Vx,h/Vx,g));if(b===0)return Vm.every(Math.max(gv(m,h,g),1));const[j,N]=c[x/c[b-1][2]<c[b][2]/x?b-1:b];return j.every(N)}return[d,f]}const[wZ,NZ]=q6(Ns,C1,Lh,B6,N1,j1),[SZ,CZ]=q6(ws,S1,Rh,sd,w1,b1);function Fx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function su(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function AZ(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=iu(s),h=ou(s),g=iu(l),x=ou(l),b=iu(c),j=ou(c),N=iu(d),S=ou(d),C=iu(f),A=ou(f),E={a:re,A:Q,b:H,B:D,c:null,d:ME,e:ME,f:WZ,g:sQ,G:oQ,H:GZ,I:KZ,j:YZ,L:U6,m:XZ,M:ZZ,p:q,q:G,Q:DE,s:RE,S:QZ,u:JZ,U:eQ,V:tQ,w:nQ,W:aQ,x:null,X:null,y:rQ,Y:iQ,Z:lQ,"%":_E},T={a:J,A:W,b:pe,B:ge,c:null,d:PE,e:PE,f:fQ,g:wQ,G:SQ,H:cQ,I:uQ,j:dQ,L:F6,m:mQ,M:hQ,p:$e,q:be,Q:DE,s:RE,S:pQ,u:gQ,U:xQ,V:yQ,w:vQ,W:bQ,x:null,X:null,y:jQ,Y:NQ,Z:CQ,"%":_E},O={a:U,A:V,b:K,B:le,c:ee,d:TE,e:TE,f:UZ,g:OE,G:EE,H:kE,I:kE,j:zZ,L:qZ,m:IZ,M:$Z,p:L,q:LZ,Q:FZ,s:HZ,S:BZ,u:MZ,U:PZ,V:_Z,w:kZ,W:DZ,x:ne,X:B,y:OE,Y:EE,Z:RZ,"%":VZ};E.x=k(n,E),E.X=k(a,E),E.c=k(t,E),T.x=k(n,T),T.X=k(a,T),T.c=k(t,T);function k(Ne,De){return function(Ie){var te=[],_e=-1,Me=0,qe=Ne.length,Ke,Be,F;for(Ie instanceof Date||(Ie=new Date(+Ie));++_e<qe;)Ne.charCodeAt(_e)===37&&(te.push(Ne.slice(Me,_e)),(Be=AE[Ke=Ne.charAt(++_e)])!=null?Ke=Ne.charAt(++_e):Be=Ke==="e"?" ":"0",(F=De[Ke])&&(Ke=F(Ie,Be)),te.push(Ke),Me=_e+1);return te.push(Ne.slice(Me,_e)),te.join("")}}function P(Ne,De){return function(Ie){var te=su(1900,void 0,1),_e=_(te,Ne,Ie+="",0),Me,qe;if(_e!=Ie.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(De&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Me=Hx(su(te.y,0,1)),qe=Me.getUTCDay(),Me=qe>4||qe===0?Hm.ceil(Me):Hm(Me),Me=Dh.offset(Me,(te.V-1)*7),te.y=Me.getUTCFullYear(),te.m=Me.getUTCMonth(),te.d=Me.getUTCDate()+(te.w+6)%7):(Me=Fx(su(te.y,0,1)),qe=Me.getDay(),Me=qe>4||qe===0?Fm.ceil(Me):Fm(Me),Me=sd.offset(Me,(te.V-1)*7),te.y=Me.getFullYear(),te.m=Me.getMonth(),te.d=Me.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),qe="Z"in te?Hx(su(te.y,0,1)).getUTCDay():Fx(su(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(qe+5)%7:te.w+te.U*7-(qe+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Hx(te)):Fx(te)}}function _(Ne,De,Ie,te){for(var _e=0,Me=De.length,qe=Ie.length,Ke,Be;_e<Me;){if(te>=qe)return-1;if(Ke=De.charCodeAt(_e++),Ke===37){if(Ke=De.charAt(_e++),Be=O[Ke in AE?De.charAt(_e++):Ke],!Be||(te=Be(Ne,Ie,te))<0)return-1}else if(Ke!=Ie.charCodeAt(te++))return-1}return te}function L(Ne,De,Ie){var te=m.exec(De.slice(Ie));return te?(Ne.p=h.get(te[0].toLowerCase()),Ie+te[0].length):-1}function U(Ne,De,Ie){var te=b.exec(De.slice(Ie));return te?(Ne.w=j.get(te[0].toLowerCase()),Ie+te[0].length):-1}function V(Ne,De,Ie){var te=g.exec(De.slice(Ie));return te?(Ne.w=x.get(te[0].toLowerCase()),Ie+te[0].length):-1}function K(Ne,De,Ie){var te=C.exec(De.slice(Ie));return te?(Ne.m=A.get(te[0].toLowerCase()),Ie+te[0].length):-1}function le(Ne,De,Ie){var te=N.exec(De.slice(Ie));return te?(Ne.m=S.get(te[0].toLowerCase()),Ie+te[0].length):-1}function ee(Ne,De,Ie){return _(Ne,t,De,Ie)}function ne(Ne,De,Ie){return _(Ne,n,De,Ie)}function B(Ne,De,Ie){return _(Ne,a,De,Ie)}function re(Ne){return c[Ne.getDay()]}function Q(Ne){return l[Ne.getDay()]}function H(Ne){return f[Ne.getMonth()]}function D(Ne){return d[Ne.getMonth()]}function q(Ne){return s[+(Ne.getHours()>=12)]}function G(Ne){return 1+~~(Ne.getMonth()/3)}function J(Ne){return c[Ne.getUTCDay()]}function W(Ne){return l[Ne.getUTCDay()]}function pe(Ne){return f[Ne.getUTCMonth()]}function ge(Ne){return d[Ne.getUTCMonth()]}function $e(Ne){return s[+(Ne.getUTCHours()>=12)]}function be(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var De=k(Ne+="",E);return De.toString=function(){return Ne},De},parse:function(Ne){var De=P(Ne+="",!1);return De.toString=function(){return Ne},De},utcFormat:function(Ne){var De=k(Ne+="",T);return De.toString=function(){return Ne},De},utcParse:function(Ne){var De=P(Ne+="",!0);return De.toString=function(){return Ne},De}}}var AE={"-":"",_:" ",0:"0"},Ln=/^\s*\d+/,EZ=/^%/,OZ=/[\\^$*+?|[\]().{}]/g;function Ot(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",l=s.length;return a+(l<n?new Array(n-l+1).join(t)+s:s)}function TZ(e){return e.replace(OZ,"\\$&")}function iu(e){return new RegExp("^(?:"+e.map(TZ).join("|")+")","i")}function ou(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function kZ(e,t,n){var a=Ln.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function MZ(e,t,n){var a=Ln.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function PZ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function _Z(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function DZ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function EE(e,t,n){var a=Ln.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function OE(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function RZ(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function LZ(e,t,n){var a=Ln.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function IZ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function TE(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function zZ(e,t,n){var a=Ln.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function kE(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function $Z(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function BZ(e,t,n){var a=Ln.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function qZ(e,t,n){var a=Ln.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function UZ(e,t,n){var a=Ln.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function VZ(e,t,n){var a=EZ.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function FZ(e,t,n){var a=Ln.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function HZ(e,t,n){var a=Ln.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function ME(e,t){return Ot(e.getDate(),t,2)}function GZ(e,t){return Ot(e.getHours(),t,2)}function KZ(e,t){return Ot(e.getHours()%12||12,t,2)}function YZ(e,t){return Ot(1+sd.count(ws(e),e),t,3)}function U6(e,t){return Ot(e.getMilliseconds(),t,3)}function WZ(e,t){return U6(e,t)+"000"}function XZ(e,t){return Ot(e.getMonth()+1,t,2)}function ZZ(e,t){return Ot(e.getMinutes(),t,2)}function QZ(e,t){return Ot(e.getSeconds(),t,2)}function JZ(e){var t=e.getDay();return t===0?7:t}function eQ(e,t){return Ot(Rh.count(ws(e)-1,e),t,2)}function V6(e){var t=e.getDay();return t>=4||t===0?kl(e):kl.ceil(e)}function tQ(e,t){return e=V6(e),Ot(kl.count(ws(e),e)+(ws(e).getDay()===4),t,2)}function nQ(e){return e.getDay()}function aQ(e,t){return Ot(Fm.count(ws(e)-1,e),t,2)}function rQ(e,t){return Ot(e.getFullYear()%100,t,2)}function sQ(e,t){return e=V6(e),Ot(e.getFullYear()%100,t,2)}function iQ(e,t){return Ot(e.getFullYear()%1e4,t,4)}function oQ(e,t){var n=e.getDay();return e=n>=4||n===0?kl(e):kl.ceil(e),Ot(e.getFullYear()%1e4,t,4)}function lQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ot(t/60|0,"0",2)+Ot(t%60,"0",2)}function PE(e,t){return Ot(e.getUTCDate(),t,2)}function cQ(e,t){return Ot(e.getUTCHours(),t,2)}function uQ(e,t){return Ot(e.getUTCHours()%12||12,t,2)}function dQ(e,t){return Ot(1+Dh.count(Ns(e),e),t,3)}function F6(e,t){return Ot(e.getUTCMilliseconds(),t,3)}function fQ(e,t){return F6(e,t)+"000"}function mQ(e,t){return Ot(e.getUTCMonth()+1,t,2)}function hQ(e,t){return Ot(e.getUTCMinutes(),t,2)}function pQ(e,t){return Ot(e.getUTCSeconds(),t,2)}function gQ(e){var t=e.getUTCDay();return t===0?7:t}function xQ(e,t){return Ot(Lh.count(Ns(e)-1,e),t,2)}function H6(e){var t=e.getUTCDay();return t>=4||t===0?Ml(e):Ml.ceil(e)}function yQ(e,t){return e=H6(e),Ot(Ml.count(Ns(e),e)+(Ns(e).getUTCDay()===4),t,2)}function vQ(e){return e.getUTCDay()}function bQ(e,t){return Ot(Hm.count(Ns(e)-1,e),t,2)}function jQ(e,t){return Ot(e.getUTCFullYear()%100,t,2)}function wQ(e,t){return e=H6(e),Ot(e.getUTCFullYear()%100,t,2)}function NQ(e,t){return Ot(e.getUTCFullYear()%1e4,t,4)}function SQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ml(e):Ml.ceil(e),Ot(e.getUTCFullYear()%1e4,t,4)}function CQ(){return"+0000"}function _E(){return"%"}function DE(e){return+e}function RE(e){return Math.floor(+e/1e3)}var ll,G6,K6;AQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function AQ(e){return ll=AZ(e),G6=ll.format,ll.parse,K6=ll.utcFormat,ll.utcParse,ll}function EQ(e){return new Date(e)}function OQ(e){return e instanceof Date?+e:+new Date(+e)}function A1(e,t,n,a,s,l,c,d,f,m){var h=f1(),g=h.invert,x=h.domain,b=m(".%L"),j=m(":%S"),N=m("%I:%M"),S=m("%I %p"),C=m("%a %d"),A=m("%b %d"),E=m("%B"),T=m("%Y");function O(k){return(f(k)<k?b:d(k)<k?j:c(k)<k?N:l(k)<k?S:a(k)<k?s(k)<k?C:A:n(k)<k?E:T)(k)}return h.invert=function(k){return new Date(g(k))},h.domain=function(k){return arguments.length?x(Array.from(k,OQ)):x().map(EQ)},h.ticks=function(k){var P=x();return e(P[0],P[P.length-1],k??10)},h.tickFormat=function(k,P){return P==null?O:m(P)},h.nice=function(k){var P=x();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?x(_6(P,k)):h},h.copy=function(){return rd(h,A1(e,t,n,a,s,l,c,d,f,m))},h}function TQ(){return ur.apply(A1(SZ,CZ,ws,S1,Rh,sd,w1,b1,Zi,G6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kQ(){return ur.apply(A1(wZ,NZ,Ns,C1,Lh,Dh,N1,j1,Zi,K6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ih(){var e=0,t=1,n,a,s,l,c=sa,d=!1,f;function m(g){return g==null||isNaN(g=+g)?f:c(s===0?.5:(g=(l(g)-n)*s,d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t]=g,n=l(e=+e),a=l(t=+t),s=n===a?0:1/(a-n),m):[e,t]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(c=g,m):c};function h(g){return function(x){var b,j;return arguments.length?([b,j]=x,c=g(b,j),m):[c(0),c(1)]}}return m.range=h(Wl),m.rangeRound=h(d1),m.unknown=function(g){return arguments.length?(f=g,m):f},function(g){return l=g,n=g(e),a=g(t),s=n===a?0:1/(a-n),m}}function yi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y6(){var e=xi(Ih()(sa));return e.copy=function(){return yi(e,Y6())},Os.apply(e,arguments)}function W6(){var e=p1(Ih()).domain([1,10]);return e.copy=function(){return yi(e,W6()).base(e.base())},Os.apply(e,arguments)}function X6(){var e=g1(Ih());return e.copy=function(){return yi(e,X6()).constant(e.constant())},Os.apply(e,arguments)}function E1(){var e=x1(Ih());return e.copy=function(){return yi(e,E1()).exponent(e.exponent())},Os.apply(e,arguments)}function MQ(){return E1.apply(null,arguments).exponent(.5)}function Z6(){var e=[],t=sa;function n(a){if(a!=null&&!isNaN(a=+a))return t((nd(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(li),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,l)=>gX(e,l/a))},n.copy=function(){return Z6(t).domain(e)},Os.apply(n,arguments)}function zh(){var e=0,t=.5,n=1,a=1,s,l,c,d,f,m=sa,h,g=!1,x;function b(N){return isNaN(N=+N)?x:(N=.5+((N=+h(N))-l)*(a*N<a*l?d:f),m(g?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,n]=N,s=h(e=+e),l=h(t=+t),c=h(n=+n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b):[e,t,n]},b.clamp=function(N){return arguments.length?(g=!!N,b):g},b.interpolator=function(N){return arguments.length?(m=N,b):m};function j(N){return function(S){var C,A,E;return arguments.length?([C,A,E]=S,m=VX(N,[C,A,E]),b):[m(0),m(.5),m(1)]}}return b.range=j(Wl),b.rangeRound=j(d1),b.unknown=function(N){return arguments.length?(x=N,b):x},function(N){return h=N,s=N(e),l=N(t),c=N(n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),a=l<s?-1:1,b}}function Q6(){var e=xi(zh()(sa));return e.copy=function(){return yi(e,Q6())},Os.apply(e,arguments)}function J6(){var e=p1(zh()).domain([.1,1,10]);return e.copy=function(){return yi(e,J6()).base(e.base())},Os.apply(e,arguments)}function eM(){var e=g1(zh());return e.copy=function(){return yi(e,eM()).constant(e.constant())},Os.apply(e,arguments)}function O1(){var e=x1(zh());return e.copy=function(){return yi(e,O1()).exponent(e.exponent())},Os.apply(e,arguments)}function PQ(){return O1.apply(null,arguments).exponent(.5)}const mu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:l1,scaleDiverging:Q6,scaleDivergingLog:J6,scaleDivergingPow:O1,scaleDivergingSqrt:PQ,scaleDivergingSymlog:eM,scaleIdentity:P6,scaleImplicit:xv,scaleLinear:M6,scaleLog:D6,scaleOrdinal:o1,scalePoint:vX,scalePow:y1,scaleQuantile:I6,scaleQuantize:z6,scaleRadial:L6,scaleSequential:Y6,scaleSequentialLog:W6,scaleSequentialPow:E1,scaleSequentialQuantile:Z6,scaleSequentialSqrt:MQ,scaleSequentialSymlog:X6,scaleSqrt:fZ,scaleSymlog:R6,scaleThreshold:$6,scaleTime:TQ,scaleUtc:kQ,tickFormat:k6},Symbol.toStringTag,{value:"Module"}));var jo=e=>e.chartData,T1=ve([jo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),tM=(e,t,n,a)=>a?T1(e):jo(e);function Pl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if($a(t)&&$a(n))return!0}return!1}function LE(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function _Q(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,s,l;if($a(n))s=n;else if(typeof n=="function")return;if($a(a))l=a;else if(typeof a=="function")return;var c=[s,l];if(Pl(c))return c}}function DQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,n);if(Pl(a))return LE(a,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Xe(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&C4.test(s)){var f=C4.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(Xe(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&A4.test(l)){var h=A4.exec(l);if(h==null||t==null)d=void 0;else{var g=+h[1];d=t[1]+g}}else d=t==null?void 0:t[1];var x=[c,d];if(Pl(x))return t==null?x:LE(x,t,n)}}}var Xl=1e9,RQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M1,Qt=!0,lr="[DecimalError] ",so=lr+"Invalid argument: ",k1=lr+"Exponent out of range: ",Zl=Math.floor,Vi=Math.pow,LQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_a,_n=1e7,Xt=7,nM=9007199254740991,Gm=Zl(nM/Xt),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,n,a,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(a=l.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return a===s?0:a>s^l.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(e){return ms(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,n=t.constructor;return Kt(ms(t,new n(e),0,1),n.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return Nn(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,n=this,a=n.constructor,s=a.precision,l=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(_a))throw Error(lr+"NaN");if(n.s<1)throw Error(lr+(n.s?"NaN":"-Infinity"));return n.eq(_a)?new a(0):(Qt=!1,t=ms(Bu(n,l),Bu(e,l),l),Qt=!0,Kt(t,s))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sM(t,e):aM(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(lr+"NaN");return n.s?(Qt=!1,t=ms(n,e,0,1).times(e),Qt=!0,n.minus(t)):Kt(new a(n),s)};We.naturalExponential=We.exp=function(){return rM(this)};We.naturalLogarithm=We.ln=function(){return Bu(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aM(t,e):sM(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(so+e);if(t=Nn(s)+1,a=s.d.length-1,n=a*Xt+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};We.squareRoot=We.sqrt=function(){var e,t,n,a,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(lr+"NaN")}for(e=Nn(d),Qt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=Lr(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Zl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new f(t)):a=new f(s.toString()),n=f.precision,s=c=n+3;;)if(l=a,a=l.plus(ms(d,l,c+2)).times(.5),Lr(l.d).slice(0,c)===(t=Lr(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Kt(l,n+1,0),l.times(l).eq(d)){a=l;break}}else if(t!="9999")break;c+=4}return Qt=!0,Kt(a,n)};We.times=We.mul=function(e){var t,n,a,s,l,c,d,f,m,h=this,g=h.constructor,x=h.d,b=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,n=h.e+e.e,f=x.length,m=b.length,f<m&&(l=x,x=b,b=l,c=f,f=m,m=c),l=[],c=f+m,a=c;a--;)l.push(0);for(a=m;--a>=0;){for(t=0,s=f+a;s>a;)d=l[s]+b[a]*x[s-a-1]+t,l[s--]=d%_n|0,t=d/_n|0;l[s]=(l[s]+t)%_n|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,Qt?Kt(e,g.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(Vr(e,0,Xl),t===void 0?t=a.rounding:Vr(t,0,8),Kt(n,e+Nn(n)+1,t))};We.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=fo(a,!0):(Vr(e,0,Xl),t===void 0?t=s.rounding:Vr(t,0,8),a=Kt(new s(a),e+1,t),n=fo(a,!0,e+1)),n};We.toFixed=function(e,t){var n,a,s=this,l=s.constructor;return e===void 0?fo(s):(Vr(e,0,Xl),t===void 0?t=l.rounding:Vr(t,0,8),a=Kt(new l(s),e+Nn(s)+1,t),n=fo(a.abs(),!1,e+Nn(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Nn(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,n,a,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(_a);if(d=new f(d),!d.s){if(e.s<1)throw Error(lr+"Infinity");return d}if(d.eq(_a))return d;if(a=f.precision,e.eq(_a))return Kt(d,a);if(t=e.e,n=e.d.length-1,c=t>=n,l=d.s,c){if((n=h<0?-h:h)<=nM){for(s=new f(_a),t=Math.ceil(a/Xt+4),Qt=!1;n%2&&(s=s.times(d),zE(s.d,t)),n=Zl(n/2),n!==0;)d=d.times(d),zE(d.d,t);return Qt=!0,e.s<0?new f(_a).div(s):Kt(s,a)}}else if(l<0)throw Error(lr+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Qt=!1,s=e.times(Bu(d,a+m)),Qt=!0,s=rM(s),s.s=l,s};We.toPrecision=function(e,t){var n,a,s=this,l=s.constructor;return e===void 0?(n=Nn(s),a=fo(s,n<=l.toExpNeg||n>=l.toExpPos)):(Vr(e,1,Xl),t===void 0?t=l.rounding:Vr(t,0,8),s=Kt(new l(s),e,t),n=Nn(s),a=fo(s,e<=n||n<=l.toExpNeg,e)),a};We.toSignificantDigits=We.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Vr(e,1,Xl),t===void 0?t=a.rounding:Vr(t,0,8)),Kt(new a(n),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nn(e),n=e.constructor;return fo(e,t<=n.toExpNeg||t>=n.toExpPos)};function aM(e,t){var n,a,s,l,c,d,f,m,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Qt?Kt(t,g):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(a=f,l=-l,d=m.length):(a=m,s=c,d=f.length),c=Math.ceil(g/Xt),d=c>d?c+1:d+1,l>d&&(l=d,a.length=1),a.reverse();l--;)a.push(0);a.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,a=m,m=f,f=a),n=0;l;)n=(f[--l]=f[l]+m[l]+n)/_n|0,f[l]%=_n;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,Qt?Kt(t,g):t}function Vr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(so+e)}function Lr(e){var t,n,a,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)a=e[t]+"",n=Xt-a.length,n&&(l+=ii(n)),l+=a;c=e[t],a=c+"",n=Xt-a.length,n&&(l+=ii(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var ms=function(){function e(a,s){var l,c=0,d=a.length;for(a=a.slice();d--;)l=a[d]*s+c,a[d]=l%_n|0,c=l/_n|0;return c&&a.unshift(c),a}function t(a,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(a[d]!=s[d]){f=a[d]>s[d]?1:-1;break}return f}function n(a,s,l){for(var c=0;l--;)a[l]-=c,c=a[l]<s[l]?1:0,a[l]=c*_n+a[l]-s[l];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,l,c){var d,f,m,h,g,x,b,j,N,S,C,A,E,T,O,k,P,_,L=a.constructor,U=a.s==s.s?1:-1,V=a.d,K=s.d;if(!a.s)return new L(a);if(!s.s)throw Error(lr+"Division by zero");for(f=a.e-s.e,P=K.length,O=V.length,b=new L(U),j=b.d=[],m=0;K[m]==(V[m]||0);)++m;if(K[m]>(V[m]||0)&&--f,l==null?A=l=L.precision:c?A=l+(Nn(a)-Nn(s))+1:A=l,A<0)return new L(0);if(A=A/Xt+2|0,m=0,P==1)for(h=0,K=K[0],A++;(m<O||h)&&A--;m++)E=h*_n+(V[m]||0),j[m]=E/K|0,h=E%K|0;else{for(h=_n/(K[0]+1)|0,h>1&&(K=e(K,h),V=e(V,h),P=K.length,O=V.length),T=P,N=V.slice(0,P),S=N.length;S<P;)N[S++]=0;_=K.slice(),_.unshift(0),k=K[0],K[1]>=_n/2&&++k;do h=0,d=t(K,N,P,S),d<0?(C=N[0],P!=S&&(C=C*_n+(N[1]||0)),h=C/k|0,h>1?(h>=_n&&(h=_n-1),g=e(K,h),x=g.length,S=N.length,d=t(g,N,x,S),d==1&&(h--,n(g,P<x?_:K,x))):(h==0&&(d=h=1),g=K.slice()),x=g.length,x<S&&g.unshift(0),n(N,g,S),d==-1&&(S=N.length,d=t(K,N,P,S),d<1&&(h++,n(N,P<S?_:K,S))),S=N.length):d===0&&(h++,N=[0]),j[m++]=h,d&&N[0]?N[S++]=V[T]||0:(N=[V[T]],S=1);while((T++<O||N[0]!==void 0)&&A--)}return j[0]||j.shift(),b.e=f,Kt(b,c?l+Nn(b)+1:l)}}();function rM(e,t){var n,a,s,l,c,d,f=0,m=0,h=e.constructor,g=h.precision;if(Nn(e)>16)throw Error(k1+Nn(e));if(!e.s)return new h(_a);for(Qt=!1,d=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(a=Math.log(Vi(2,m))/Math.LN10*2+5|0,d+=a,n=s=l=new h(_a),h.precision=d;;){if(s=Kt(s.times(e),d),n=n.times(++f),c=l.plus(ms(s,n,d)),Lr(c.d).slice(0,d)===Lr(l.d).slice(0,d)){for(;m--;)l=Kt(l.times(l),d);return h.precision=g,t==null?(Qt=!0,Kt(l,g)):l}l=c}}function Nn(e){for(var t=e.e*Xt,n=e.d[0];n>=10;n/=10)t++;return t}function Gx(e,t,n){if(t>e.LN10.sd())throw Qt=!0,n&&(e.precision=n),Error(lr+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function ii(e){for(var t="";e--;)t+="0";return t}function Bu(e,t){var n,a,s,l,c,d,f,m,h,g=1,x=10,b=e,j=b.d,N=b.constructor,S=N.precision;if(b.s<1)throw Error(lr+(b.s?"NaN":"-Infinity"));if(b.eq(_a))return new N(0);if(t==null?(Qt=!1,m=S):m=t,b.eq(10))return t==null&&(Qt=!0),Gx(N,m);if(m+=x,N.precision=m,n=Lr(j),a=n.charAt(0),l=Nn(b),Math.abs(l)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)b=b.times(e),n=Lr(b.d),a=n.charAt(0),g++;l=Nn(b),a>1?(b=new N("0."+n),l++):b=new N(a+"."+n.slice(1))}else return f=Gx(N,m+2,S).times(l+""),b=Bu(new N(a+"."+n.slice(1)),m-x).plus(f),N.precision=S,t==null?(Qt=!0,Kt(b,S)):b;for(d=c=b=ms(b.minus(_a),b.plus(_a),m),h=Kt(b.times(b),m),s=3;;){if(c=Kt(c.times(h),m),f=d.plus(ms(c,new N(s),m)),Lr(f.d).slice(0,m)===Lr(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(Gx(N,m+2,S).times(l+""))),d=ms(d,new N(g),m),N.precision=S,t==null?(Qt=!0,Kt(d,S)):d;d=f,s+=2}}function IE(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=Zl(n/Xt),e.d=[],a=(n+1)%Xt,n<0&&(a+=Xt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Xt;a<s;)e.d.push(+t.slice(a,a+=Xt));t=t.slice(a),a=Xt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Qt&&(e.e>Gm||e.e<-Gm))throw Error(k1+n)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,n){var a,s,l,c,d,f,m,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(a=t-c,a<0)a+=Xt,s=t,m=g[h=0];else{if(h=Math.ceil((a+1)/Xt),l=g.length,h>=l)return e;for(m=l=g[h],c=1;l>=10;l/=10)c++;a%=Xt,s=a-Xt+c}if(n!==void 0&&(l=Vi(10,c-s-1),d=m/l%10|0,f=t<0||g[h+1]!==void 0||m%l,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(a>0?s>0?m/Vi(10,c-s):0:g[h-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(l=Nn(e),g.length=1,t=t-l-1,g[0]=Vi(10,(Xt-t%Xt)%Xt),e.e=Zl(-t/Xt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(a==0?(g.length=h,l=1,h--):(g.length=h+1,l=Vi(10,Xt-a),g[h]=s>0?(m/Vi(10,c-s)%Vi(10,s)|0)*l:0),f)for(;;)if(h==0){(g[0]+=l)==_n&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=_n)break;g[h--]=0,l=1}for(a=g.length;g[--a]===0;)g.pop();if(Qt&&(e.e>Gm||e.e<-Gm))throw Error(k1+Nn(e));return e}function sM(e,t){var n,a,s,l,c,d,f,m,h,g,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Qt?Kt(t,b):t;if(f=e.d,g=t.d,a=t.e,m=e.e,f=f.slice(),c=m-a,c){for(h=c<0,h?(n=f,c=-c,d=g.length):(n=g,a=m,d=f.length),s=Math.max(Math.ceil(b/Xt),d)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=g.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=g[s]){h=f[s]<g[s];break}c=0}for(h&&(n=f,f=g,g=n,t.s=-t.s),d=f.length,s=g.length-d;s>0;--s)f[d++]=0;for(s=g.length;s>c;){if(f[--s]<g[s]){for(l=s;l&&f[--l]===0;)f[l]=_n-1;--f[l],f[s]+=_n}f[s]-=g[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--a;return f[0]?(t.d=f,t.e=a,Qt?Kt(t,b):t):new x(0)}function fo(e,t,n){var a,s=Nn(e),l=Lr(e.d),c=l.length;return t?(n&&(a=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+ii(a):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+ii(-s-1)+l,n&&(a=n-c)>0&&(l+=ii(a))):s>=c?(l+=ii(s+1-c),n&&(a=n-s-1)>0&&(l=l+"."+ii(a))):((a=s+1)<c&&(l=l.slice(0,a)+"."+l.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(l+="."),l+=ii(a))),e.s<0?"-"+l:l}function zE(e,t){if(e.length>t)return e.length=t,!0}function iM(e){var t,n,a;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(so+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return IE(c,l.toString())}else if(typeof l!="string")throw Error(so+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,LQ.test(l))IE(c,l);else throw Error(so+l)}if(s.prototype=We,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=iM,s.config=s.set=IQ,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function IQ(e){if(!e||typeof e!="object")throw Error(lr+"Object expected");var t,n,a,s=["precision",1,Xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(Zl(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(so+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(so+n+": "+a);return this}var M1=iM(RQ);_a=new M1(1);const It=M1;var zQ=e=>e,oM={},lM=e=>e===oM,$E=e=>function t(){return arguments.length===0||arguments.length===1&&lM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},cM=(e,t)=>e===1?t:$E(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var l=a.filter(c=>c!==oM).length;return l>=e?t(...a):cM(e-l,$E(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=a.map(h=>lM(h)?d.shift():h);return t(...m,...d)}))}),$h=e=>cM(e.length,e),jv=(e,t)=>{for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},$Q=$h((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),BQ=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return zQ;var s=n.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},wv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),uM=e=>{var t=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return t&&s.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function dM(e){var t;return e===0?t=1:t=Math.floor(new It(e).abs().log(10).toNumber())+1,t}function fM(e,t,n){for(var a=new It(e),s=0,l=[];a.lt(t)&&s<1e5;)l.push(a.toNumber()),a=a.add(n),s++;return l}$h((e,t,n)=>{var a=+e,s=+t;return a+n*(s-a)});$h((e,t,n)=>{var a=t-+e;return a=a||1/0,(n-e)/a});$h((e,t,n)=>{var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});var mM=e=>{var[t,n]=e,[a,s]=[t,n];return t>n&&([a,s]=[n,t]),[a,s]},hM=(e,t,n)=>{if(e.lte(0))return new It(0);var a=dM(e.toNumber()),s=new It(10).pow(a),l=e.div(s),c=a!==1?.05:.1,d=new It(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=d.mul(s);return t?new It(f.toNumber()):new It(Math.ceil(f.toNumber()))},qQ=(e,t,n)=>{var a=new It(1),s=new It(e);if(!s.isint()&&n){var l=Math.abs(e);l<1?(a=new It(10).pow(dM(e)-1),s=new It(Math.floor(s.div(a).toNumber())).mul(a)):l>1&&(s=new It(Math.floor(e)))}else e===0?s=new It(Math.floor((t-1)/2)):n||(s=new It(Math.floor(e)));var c=Math.floor((t-1)/2),d=BQ($Q(f=>s.add(new It(f-c).mul(a)).toNumber()),jv);return d(0,t)},pM=function(t,n,a,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(a-1)))return{step:new It(0),tickMin:new It(0),tickMax:new It(0)};var c=hM(new It(n).sub(t).div(a-1),s,l),d;t<=0&&n>=0?d=new It(0):(d=new It(t).add(n).div(2),d=d.sub(new It(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new It(n).sub(d).div(c).toNumber()),h=f+m+1;return h>a?pM(t,n,a,s,l+1):(h<a&&(m=n>0?m+(a-h):m,f=n>0?f:f+(a-h)),{step:c,tickMin:d.sub(new It(f).mul(c)),tickMax:d.add(new It(m).mul(c))})};function UQ(e){var[t,n]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[c,d]=mM([t,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...jv(0,a-1).map(()=>1/0)]:[...jv(0,a-1).map(()=>-1/0),d];return t>n?wv(f):f}if(c===d)return qQ(c,a,s);var{step:m,tickMin:h,tickMax:g}=pM(c,d,l,s,0),x=fM(h,g.add(new It(.1).mul(m)),m);return t>n?wv(x):x}function VQ(e,t){var[n,a]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=mM([n,a]);if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(t,2),f=hM(new It(c).sub(l).div(d-1),s,0),m=[...fM(new It(l),new It(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),n>a?wv(m):m}var FQ=uM(UQ),HQ=uM(VQ),gM=e=>e.rootProps.maxBarSize,GQ=e=>e.rootProps.barGap,xM=e=>e.rootProps.barCategoryGap,KQ=e=>e.rootProps.barSize,id=e=>e.rootProps.stackOffset,P1=e=>e.options.chartName,_1=e=>e.rootProps.syncId,yM=e=>e.rootProps.syncMethod,D1=e=>e.options.eventEmitter,os={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ma={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},YQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:os.angleAxisId,includeHidden:!1,name:void 0,reversed:os.reversed,scale:os.scale,tick:os.tick,tickCount:void 0,ticks:void 0,type:os.type,unit:void 0},WQ={allowDataOverflow:Ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ma.scale,tick:Ma.tick,tickCount:Ma.tickCount,ticks:void 0,type:Ma.type,unit:void 0},XQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:os.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:os.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:os.scale,tick:os.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ZQ={allowDataOverflow:Ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ma.scale,tick:Ma.tick,tickCount:Ma.tickCount,ticks:void 0,type:"category",unit:void 0},R1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?XQ:YQ,L1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ZQ:WQ,qh=e=>e.polarOptions,I1=ve([As,Es,On],Zk),vM=ve([qh,I1],(e,t)=>{if(e!=null)return ia(e.innerRadius,t,0)}),bM=ve([qh,I1],(e,t)=>{if(e!=null)return ia(e.outerRadius,t,t*.8)}),QQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},jM=ve([qh],QQ);ve([R1,jM],Bh);var wM=ve([I1,vM,bM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ve([L1,wM],Bh);var JQ=ve([$t,qh,vM,bM,As,Es],(e,t,n,a,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||a==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:ia(c,s,s/2),cy:ia(d,l,l/2),innerRadius:n,outerRadius:a,startAngle:f,endAngle:m,clockWise:!1}}}),gn=(e,t)=>t,od=(e,t,n)=>n;function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(n),!0).forEach(function(a){eJ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eJ(e,t,n){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nv=[0,"auto"],Ta={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ts=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Ta},ka={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Nv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kh},vi=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??ka},aJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},z1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??aJ},xn=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return vi(e,n);case"zAxis":return z1(e,n);case"angleAxis":return R1(e,n);case"radiusAxis":return L1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rJ=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return vi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ld=(e,t,n)=>{switch(t){case"xAxis":return Ts(e,n);case"yAxis":return vi(e,n);case"angleAxis":return R1(e,n);case"radiusAxis":return L1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},NM=e=>e.graphicalItems.countOfBars>0;function $1(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var B1=e=>e.graphicalItems.cartesianItems,sJ=ve([gn,od],$1),q1=(e,t,n)=>e.filter(n).filter(a=>(t==null?void 0:t.includeHidden)===!0?!0:!a.hide),cd=ve([B1,xn,sJ],q1),SM=e=>e.filter(t=>t.stackId===void 0),iJ=ve([cd],SM),U1=e=>e.map(t=>t.data).filter(Boolean).flat(1),oJ=ve([cd],U1),V1=(e,t)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:n.slice(a,s+1)},Uh=ve([oJ,tM],V1),F1=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:cn(a,t.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:cn(s,a)}))):e.map(a=>({value:a})),Vh=ve([Uh,xn,cd],F1);function CM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wo(e){return e.filter(t=>Ur(t)||t instanceof Date).map(Number).filter(t=>La(t)===!1)}function lJ(e,t,n){return!n||typeof t!="number"||La(t)?[]:n.length?wo(n.flatMap(a=>{var s=cn(e,a.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!$a(l)||!$a(c)))return[t-l,t+c]})):[]}var AM=(e,t,n)=>{var a={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=d.map(m=>m.dataKey);return[c,{stackedData:wY(e,f,n),graphicalItems:d}]}))},Sv=ve([Uh,cd,id],AM),EM=(e,t,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n!=="zAxis"){var l=AY(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},cJ=ve([Sv,jo,gn],EM),OM=(e,t,n,a)=>n.length>0?e.flatMap(s=>n.flatMap(l=>{var c,d,f=(c=l.errorBars)===null||c===void 0?void 0:c.filter(h=>CM(a,h)),m=cn(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:m,errorDomain:lJ(s,m,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:cn(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),uJ=ve(Uh,xn,iJ,gn,OM);function dJ(e){var{value:t}=e;if(Ur(t)||t instanceof Date)return t}var fJ=e=>{var t=e.flatMap(a=>[a.value,a.errorDomain]).flat(1),n=wo(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mJ=(e,t,n)=>{var a=e.map(dJ).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&X3(a))?b6(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},H1=e=>{var t;if(e==null||!("domain"in e))return Nv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=wo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Nv},G1=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},TM=e=>e.referenceElements.dots,Ql=(e,t,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===n:a.yAxisId===n),hJ=ve([TM,gn,od],Ql),kM=e=>e.referenceElements.areas,pJ=ve([kM,gn,od],Ql),MM=e=>e.referenceElements.lines,gJ=ve([MM,gn,od],Ql),PM=(e,t)=>{var n=wo(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xJ=ve(hJ,gn,PM),_M=(e,t)=>{var n=wo(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yJ=ve([pJ,gn],_M),DM=(e,t)=>{var n=wo(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vJ=ve(gJ,gn,DM),bJ=ve(xJ,vJ,yJ,(e,t,n)=>G1(e,n,t)),RM=ve([xn],H1),K1=(e,t,n,a,s)=>{var l=_Q(t,e.allowDataOverflow);return l??DQ(t,G1(n,s,fJ(a)),e.allowDataOverflow)},jJ=ve([xn,RM,cJ,uJ,bJ],K1),wJ=[0,1],Y1=(e,t,n,a,s,l,c)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:d,type:f}=e,m=yo(t,l);return m&&d==null?b6(0,n.length):f==="category"?mJ(a,e,m):s==="expand"?wJ:c}},W1=ve([xn,$t,Uh,Vh,id,gn,jJ],Y1),LM=(e,t,n,a,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(Ju(l));return d in mu?d:"point"}}},Jl=ve([xn,$t,NM,P1,gn],LM);function NJ(e){if(e!=null){if(e in mu)return mu[e]();var t="scale".concat(Ju(e));if(t in mu)return mu[t]()}}function X1(e,t,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var s=NJ(t);if(s!=null){var l=s.domain(n).range(a);return xY(l),l}}}var Z1=(e,t,n)=>{var a=H1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&Pl(e))return FQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Pl(e))return HQ(e,t.tickCount,t.allowDecimals)}},Q1=ve([W1,ld,Jl],Z1),J1=(e,t,n,a)=>{if(a!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Pl(t)&&Array.isArray(n)&&n.length>0){var s=t[0],l=n[0],c=t[1],d=n[n.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},SJ=ve([xn,W1,Q1,gn],J1),CJ=ve(Vh,xn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,a=Array.from(wo(e.map(d=>d.value))).sort((d,f)=>d-f);if(a.length<2)return 1/0;var s=a[a.length-1]-a[0];if(s===0)return 1/0;for(var l=0;l<a.length-1;l++){var c=a[l+1]-a[l];n=Math.min(n,c)}return n/s}}),IM=ve(CJ,$t,xM,On,(e,t,n,a)=>a,(e,t,n,a,s)=>{if(!$a(e))return 0;var l=t==="vertical"?a.height:a.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=ia(n,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),AJ=(e,t)=>{var n=Ts(e,t);return n==null||typeof n.padding!="string"?0:IM(e,"xAxis",t,n.padding)},EJ=(e,t)=>{var n=vi(e,t);return n==null||typeof n.padding!="string"?0:IM(e,"yAxis",t,n.padding)},OJ=ve(Ts,AJ,(e,t)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),TJ=ve(vi,EJ,(e,t)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),kJ=ve([On,OJ,Ph,Mh,(e,t,n)=>n],(e,t,n,a,s)=>{var{padding:l}=a;return s?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),MJ=ve([On,$t,TJ,Ph,Mh,(e,t,n)=>n],(e,t,n,a,s,l)=>{var{padding:c}=s;return l?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ud=(e,t,n,a)=>{var s;switch(t){case"xAxis":return kJ(e,n,a);case"yAxis":return MJ(e,n,a);case"zAxis":return(s=z1(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return jM(e);case"radiusAxis":return wM(e,n);default:return}},zM=ve([xn,ud],Bh),ec=ve([xn,Jl,SJ,zM],X1);ve(cd,gn,(e,t)=>e.flatMap(n=>{var a;return(a=n.errorBars)!==null&&a!==void 0?a:[]}).filter(n=>CM(t,n)));function $M(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Fh=(e,t)=>t,Hh=(e,t,n)=>n,PJ=ve(t1,Fh,Hh,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort($M)),_J=ve(n1,Fh,Hh,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort($M)),BM=(e,t)=>({width:e.width,height:t.height}),DJ=(e,t)=>{var n=typeof t.width=="number"?t.width:kh;return{width:n,height:e.height}},qM=ve(On,Ts,BM),RJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},LJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},IJ=ve(Es,On,PJ,Fh,Hh,(e,t,n,a,s)=>{var l={},c;return n.forEach(d=>{var f=BM(t,d);c==null&&(c=RJ(t,a,e));var m=a==="top"&&!s||a==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),zJ=ve(As,On,_J,Fh,Hh,(e,t,n,a,s)=>{var l={},c;return n.forEach(d=>{var f=DJ(t,d);c==null&&(c=LJ(t,a,e));var m=a==="left"&&!s||a==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),$J=(e,t)=>{var n=On(e),a=Ts(e,t);if(a!=null){var s=IJ(e,a.orientation,a.mirror),l=s[t];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},BJ=(e,t)=>{var n=On(e),a=vi(e,t);if(a!=null){var s=zJ(e,a.orientation,a.mirror),l=s[t];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},UM=ve(On,vi,(e,t)=>{var n=typeof t.width=="number"?t.width:kh;return{width:n,height:e.height}}),qE=(e,t,n)=>{switch(t){case"xAxis":return qM(e,n).width;case"yAxis":return UM(e,n).height;default:return}},VM=(e,t,n,a)=>{if(n!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=n,d=yo(e,a),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&X3(f))return f}},e2=ve([$t,Vh,xn,gn],VM),FM=(e,t,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:l}=n,c=yo(e,a);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},t2=ve([$t,Vh,ld,gn],FM),UE=ve([$t,rJ,Jl,ec,e2,t2,ud,Q1,gn],(e,t,n,a,s,l,c,d,f)=>{if(t==null)return null;var m=yo(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:n,scale:a}}),qJ=(e,t,n,a,s,l,c,d,f)=>{if(!(t==null||a==null)){var m=yo(e,f),{type:h,ticks:g,tickCount:x}=t,b=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,j=h==="category"&&a.bandwidth?a.bandwidth()/b:0;j=f==="angleAxis"&&l!=null&&l.length>=2?Dn(l[0]-l[1])*2*j:j;var N=g||s;if(N){var S=N.map((C,A)=>{var E=c?c.indexOf(C):C;return{index:A,coordinate:a(E)+j,value:C,offset:j}});return S.filter(C=>!La(C.coordinate))}return m&&d?d.map((C,A)=>({coordinate:a(C)+j,value:C,index:A,offset:j})):a.ticks?a.ticks(x).map(C=>({coordinate:a(C)+j,value:C,offset:j})):a.domain().map((C,A)=>({coordinate:a(C)+j,value:c?c[C]:C,index:A,offset:j}))}},HM=ve([$t,ld,Jl,ec,Q1,ud,e2,t2,gn],qJ),UJ=(e,t,n,a,s,l,c)=>{if(!(t==null||n==null||a==null||a[0]===a[1])){var d=yo(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(a==null?void 0:a.length)>=2?Dn(a[0]-a[1])*2*m:m,d&&l?l.map((h,g)=>({coordinate:n(h)+m,value:h,index:g,offset:m})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+m,value:h,offset:m})):n.domain().map((h,g)=>({coordinate:n(h)+m,value:s?s[h]:h,index:g,offset:m}))}},_l=ve([$t,ld,ec,ud,e2,t2,gn],UJ),mi=ve(xn,ec,(e,t)=>{if(!(e==null||t==null))return Km(Km({},e),{},{scale:t})}),VJ=ve([xn,Jl,W1,zM],X1);ve((e,t,n)=>z1(e,n),VJ,(e,t)=>{if(!(e==null||t==null))return Km(Km({},e),{},{scale:t})});var FJ=ve([$t,t1,n1],(e,t,n)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GM=e=>e.options.defaultTooltipEventType,KM=e=>e.options.validateTooltipEventTypes;function YM(e,t,n){if(e==null)return t;var a=e?"axis":"item";return n==null?t:n.includes(a)?a:t}function n2(e,t){var n=GM(e),a=KM(e);return YM(t,n,a)}function HJ(e){return nt(t=>n2(t,e))}var WM=(e,t)=>{var n,a=Number(t);if(!(La(a)||t==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},GJ=e=>e.tooltip.settings,oi={active:!1,index:null,dataKey:void 0,coordinate:void 0},KJ={itemInteraction:{click:oi,hover:oi},axisInteraction:{click:oi,hover:oi},keyboardInteraction:oi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},XM=cr({name:"tooltip",initialState:KJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=fs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:YJ,removeTooltipEntrySettings:WJ,setTooltipSettingsState:XJ,setActiveMouseOverItemIndex:ZM,mouseLeaveItem:ZJ,mouseLeaveChart:QM,setActiveClickItemIndex:QJ,setMouseOverAxisIndex:JM,setMouseClickAxisIndex:JJ,setSyncInteraction:Cv,setKeyboardInteraction:Av}=XM.actions,eee=XM.reducer;function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(a){tee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function tee(e,t,n){return(t=nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ree(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function see(e){return e.index!=null}var eP=(e,t,n,a)=>{if(t==null)return oi;var s=ree(e,t,n);if(s==null)return oi;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(see(s)){if(l)return Vf(Vf({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a};return Vf(Vf({},oi),{},{coordinate:s.coordinate})},a2=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var a=Number(n);if(!$a(a))return n;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(a,l)))},tP=(e,t,n,a,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s==null?void 0:s[Number(l)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(a.top+t)/2};default:return{x:(a.left+e)/2,y:h.coordinate}}}},nP=(e,t,n,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&a!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},dd=e=>e.options.tooltipPayloadSearcher,tc=e=>e.tooltip;function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(a){iee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function iee(e,t,n){return(t=oee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oee(e){var t=lee(e,"string");return typeof t=="symbol"?t:t+""}function lee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cee(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function uee(e,t){return e??t}var aP=(e,t,n,a,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,g=[];return e.reduce((x,b)=>{var j,{dataDefinedOnItem:N,settings:S}=b,C=uee(N,d),A=cee(C,m,h),E=(j=S==null?void 0:S.dataKey)!==null&&j!==void 0?j:a==null?void 0:a.dataKey,T=S==null?void 0:S.nameKey,O;if(a!=null&&a.dataKey&&Array.isArray(A)&&!Array.isArray(A[0])&&c==="axis"?O=dH(A,a.dataKey,s):O=l(A,t,f,T),Array.isArray(O))O.forEach(P=>{var _=HE(HE({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});x.push(E4({tooltipEntrySettings:_,dataKey:P.dataKey,payload:P.payload,value:cn(P.payload,P.dataKey),name:P.name}))});else{var k;x.push(E4({tooltipEntrySettings:S,dataKey:E,payload:O,value:cn(O,E),name:(k=cn(O,T))!==null&&k!==void 0?k:S==null?void 0:S.name}))}return x},g)}},In=e=>{var t=$t(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nc=e=>e.tooltip.settings.axisId,Kn=e=>{var t=In(e),n=nc(e);return ld(e,t,n)},r2=ve([Kn,$t,NM,P1,In],LM),dee=ve([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),fee=ve([In,nc],$1),Gh=ve([dee,Kn,fee],q1),mee=ve([Gh],U1),No=ve([mee,jo],V1),s2=ve([No,Kn,Gh],F1),hee=ve([Kn],H1),pee=ve([No,Gh,id],AM),gee=ve([pee,jo,In],EM),xee=ve([Gh],SM),yee=ve([No,Kn,xee,In],OM),vee=ve([TM,In,nc],Ql),bee=ve([vee,In],PM),jee=ve([kM,In,nc],Ql),wee=ve([jee,In],_M),Nee=ve([MM,In,nc],Ql),See=ve([Nee,In],DM),Cee=ve([bee,See,wee],G1),Aee=ve([Kn,hee,gee,yee,Cee],K1),rP=ve([Kn,$t,No,s2,id,In,Aee],Y1),Eee=ve([rP,Kn,r2],Z1),Oee=ve([Kn,rP,Eee,In],J1),sP=e=>{var t=In(e),n=nc(e),a=!1;return ud(e,t,n,a)},iP=ve([Kn,sP],Bh),oP=ve([Kn,r2,Oee,iP],X1),Tee=ve([$t,s2,Kn,In],VM),kee=ve([$t,s2,Kn,In],FM),Mee=(e,t,n,a,s,l,c,d)=>{if(t){var{type:f}=t,m=yo(e,d);if(a){var h=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,g=f==="category"&&a.bandwidth?a.bandwidth()/h:0;return g=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Dn(s[0]-s[1])*2*g:g,m&&c?c.map((x,b)=>({coordinate:a(x)+g,value:x,index:b,offset:g})):a.domain().map((x,b)=>({coordinate:a(x)+g,value:l?l[x]:x,index:b,offset:g}))}}},ks=ve([$t,Kn,r2,oP,sP,Tee,kee,In],Mee),i2=ve([GM,KM,GJ],(e,t,n)=>YM(n.shared,e,t)),lP=e=>e.tooltip.settings.trigger,o2=e=>e.tooltip.settings.defaultIndex,Kh=ve([tc,i2,lP,o2],eP),mo=ve([Kh,No],a2),cP=ve([ks,mo],WM),uP=ve([Kh],e=>{if(e)return e.dataKey}),dP=ve([tc,i2,lP,o2],nP),Pee=ve([As,Es,$t,On,ks,o2,dP,dd],tP),_ee=ve([Kh,Pee],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Dee=ve([Kh],e=>e.active),Ree=ve([dP,mo,jo,Kn,cP,dd,i2],aP);ve([Ree],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function KE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(a){Lee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Lee(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ee=()=>nt(Kn),Bee=()=>{var e=$ee(),t=nt(ks),n=nt(oP);return e1(KE(KE({},e),{},{scale:n}),t)},qee=()=>nt(P1),l2=(e,t)=>t,fP=(e,t,n)=>n,c2=(e,t,n,a)=>a,Uee=ve(ks,e=>wh(e,t=>t.coordinate)),u2=ve([tc,l2,fP,c2],eP),mP=ve([u2,No],a2),Vee=(e,t,n)=>{if(t!=null){var a=tc(e);return t==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},hP=ve([tc,l2,fP,c2],nP),Ym=ve([As,Es,$t,On,ks,c2,hP,dd],tP),Fee=ve([u2,Ym],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),pP=ve(ks,mP,WM),Hee=ve([hP,mP,jo,Kn,pP,dd,l2],aP),Gee=ve([u2],e=>({isActive:e.active,activeIndex:e.index})),Kee=(e,t,n,a,s,l,c,d)=>{if(!(!e||!t||!a||!s||!l)){var f=EY(e.chartX,e.chartY,t,n,d);if(f){var m=TY(f,t),h=pY(m,c,l,a,s),g=OY(t,l,h,f);return{activeIndex:String(h),activeCoordinate:g}}}};function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ev.apply(null,arguments)}function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(a){Yee(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Yee(e,t,n){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wee(e){var t=Xee(e,"string");return typeof t=="symbol"?t:t+""}function Xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zee(e){var{coordinate:t,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,g=n,x=a;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var b,j;if(m==="ScatterChart")b=h,j=fW;else if(m==="BarChart")b=mW(c,h,s,l),j=g6;else if(c==="radial"){var{cx:N,cy:S,radius:C,startAngle:A,endAngle:E}=x6(h);b={cx:N,cy:S,startAngle:A,endAngle:E,innerRadius:C,outerRadius:C},j=v6}else b={points:JW(c,h,s)},j=f6;var T=typeof d=="object"&&"className"in d?d.className:void 0,O=Ff(Ff(Ff(Ff({stroke:"#ccc",pointerEvents:"none"},s),b),zt(d,!1)),{},{payload:g,payloadIndex:x,className:Ft("recharts-tooltip-cursor",T)});return y.isValidElement(d)?y.cloneElement(d,O):y.createElement(j,O)}function Qee(e){var t=Bee(),n=s6(),a=r1(),s=qee();return y.createElement(Zee,Ev({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:a,tooltipAxisBandSize:t,chartName:s}))}var gP=y.createContext(null),Jee=()=>y.useContext(gP),Kx={exports:{}},WE;function ete(){return WE||(WE=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,g,x){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new s(h,g||f,x),j=n?n+m:m;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],b]:f._events[j].push(b):(f._events[j]=b,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new a:delete f._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,g;if(this._eventsCount===0)return m;for(g in h=this._events)t.call(h,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=n?n+m:m,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,b=g.length,j=new Array(b);x<b;x++)j[x]=g[x].fn;return j},d.prototype.listenerCount=function(m){var h=n?n+m:m,g=this._events[h];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,h,g,x,b,j){var N=n?n+m:m;if(!this._events[N])return!1;var S=this._events[N],C=arguments.length,A,E;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),C){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,x),!0;case 5:return S.fn.call(S.context,h,g,x,b),!0;case 6:return S.fn.call(S.context,h,g,x,b,j),!0}for(E=1,A=new Array(C-1);E<C;E++)A[E-1]=arguments[E];S.fn.apply(S.context,A)}else{var T=S.length,O;for(E=0;E<T;E++)switch(S[E].once&&this.removeListener(m,S[E].fn,void 0,!0),C){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,h);break;case 3:S[E].fn.call(S[E].context,h,g);break;case 4:S[E].fn.call(S[E].context,h,g,x);break;default:if(!A)for(O=1,A=new Array(C-1);O<C;O++)A[O-1]=arguments[O];S[E].fn.apply(S[E].context,A)}}return!0},d.prototype.on=function(m,h,g){return l(this,m,h,g,!1)},d.prototype.once=function(m,h,g){return l(this,m,h,g,!0)},d.prototype.removeListener=function(m,h,g,x){var b=n?n+m:m;if(!this._events[b])return this;if(!h)return c(this,b),this;var j=this._events[b];if(j.fn)j.fn===h&&(!x||j.once)&&(!g||j.context===g)&&c(this,b);else{for(var N=0,S=[],C=j.length;N<C;N++)(j[N].fn!==h||x&&!j[N].once||g&&j[N].context!==g)&&S.push(j[N]);S.length?this._events[b]=S.length===1?S[0]:S:c(this,b)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(Kx)),Kx.exports}var tte=ete();const nte=Fr(tte);var qu=new nte,Ov="recharts.syncEvent.tooltip",XE="recharts.syncEvent.brush";function xP(e,t){if(t){var n=Number.parseInt(t,10);if(!La(n))return e==null?void 0:e[n]}}var ate={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yP=cr({name:"options",initialState:ate,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rte=yP.reducer,{createEventEmitter:ste}=yP.actions;function ite(e){return e.tooltip.syncInteraction}var ote={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vP=cr({name:"chartData",initialState:ote,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:a}=t.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:ZE,setDataStartEndIndexes:lte,setComputedData:Qle}=vP.actions,cte=vP.reducer,bP=()=>{};function ute(){var e=nt(_1),t=nt(D1),n=un(),a=nt(yM),s=nt(ks),l=r1(),c=a1(),d=nt(f=>f.rootProps.className);y.useEffect(()=>{if(e==null)return bP;var f=(m,h,g)=>{if(t!==g&&e===m){if(a==="index"){n(h);return}if(s!=null){var x;if(typeof a=="function"){var b={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},j=a(s,b);x=s[j]}else a==="value"&&(x=s.find(k=>String(k.value)===h.payload.label));var{coordinate:N}=h.payload;if(x==null||h.payload.active===!1||N==null||c==null){n(Cv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:C}=N,A=Math.min(S,c.x+c.width),E=Math.min(C,c.y+c.height),T={x:l==="horizontal"?x.coordinate:A,y:l==="horizontal"?E:x.coordinate},O=Cv({active:h.payload.active,coordinate:T,dataKey:h.payload.dataKey,index:String(x.index),label:h.payload.label});n(O)}}};return qu.on(Ov,f),()=>{qu.off(Ov,f)}},[d,n,t,e,a,s,l,c])}function dte(){var e=nt(_1),t=nt(D1),n=un();y.useEffect(()=>{if(e==null)return bP;var a=(s,l,c)=>{t!==c&&e===s&&n(lte(l))};return qu.on(XE,a),()=>{qu.off(XE,a)}},[n,t,e])}function fte(){var e=un();y.useEffect(()=>{e(ste())},[e]),ute(),dte()}function mte(e,t,n,a,s,l){var c=nt(x=>Vee(x,e,t)),d=nt(D1),f=nt(_1),m=nt(yM),h=nt(ite),g=h==null?void 0:h.active;y.useEffect(()=>{if(!g&&f!=null&&d!=null){var x=Cv({active:l,coordinate:n,dataKey:c,index:s,label:typeof a=="number"?String(a):a});qu.emit(Ov,f,x,d)}},[g,n,c,s,a,d,f,m,l])}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(a){hte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xte(e){return e.dataKey}function yte(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(FY,t)}var e5=[],vte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function t5(e){var t=Or(e,vte),{active:n,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:g,reverseDirection:x,useTranslate3d:b,wrapperStyle:j,cursor:N,shared:S,trigger:C,defaultIndex:A,portal:E,axisId:T}=t,O=un(),k=typeof A=="number"?String(A):A;y.useEffect(()=>{O(XJ({shared:S,trigger:C,axisId:T,active:n,defaultIndex:k}))},[O,S,C,T,n,k]);var P=a1(),_=d6(),L=HJ(S),{activeIndex:U,isActive:V}=nt(pe=>Gee(pe,L,C,k)),K=nt(pe=>Hee(pe,L,C,k)),le=nt(pe=>pP(pe,L,C,k)),ee=nt(pe=>Fee(pe,L,C,k)),ne=K,B=Jee(),re=n??V,[Q,H]=sK([ne,re]),D=L==="axis"?le:void 0;mte(L,C,ee,D,U,re);var q=E??B;if(q==null)return null;var G=ne??e5;re||(G=e5),d&&G.length&&(G=MG(ne.filter(pe=>pe.value!=null&&(pe.hide!==!0||t.includeHidden)),h,xte));var J=G.length>0,W=y.createElement(ZY,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:f,active:re,coordinate:ee,hasPayload:J,offset:m,position:g,reverseDirection:x,useTranslate3d:b,viewBox:P,wrapperStyle:j,lastBoundingBox:Q,innerRef:H,hasPortalFromProps:!!E},yte(c,JE(JE({},t),{},{payload:G,label:D,active:re,coordinate:ee,accessibilityLayer:_})));return y.createElement(y.Fragment,null,hy.createPortal(W,q),re&&y.createElement(Qee,{cursor:N,tooltipEventType:L,coordinate:ee,payload:ne,index:U}))}var Yx={},Wx={},n5;function bte(){return n5||(n5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=0,s={}){typeof s!="object"&&(s={});let l=null,c=null,d=null,f=0,m=null,h;const{leading:g=!1,trailing:x=!0,maxWait:b}=s,j="maxWait"in s,N=j?Math.max(Number(b)||0,a):0,S=P=>(l!==null&&(h=n.apply(c,l)),l=c=null,f=P,h),C=P=>(f=P,m=setTimeout(O,a),g&&l!==null?S(P):h),A=P=>(m=null,x&&l!==null?S(P):h),E=P=>{if(d===null)return!0;const _=P-d,L=_>=a||_<0,U=j&&P-f>=N;return L||U},T=P=>{const _=d===null?0:P-d,L=a-_,U=N-(P-f);return j?Math.min(L,U):L},O=()=>{const P=Date.now();if(E(P))return A(P);m=setTimeout(O,T(P))},k=function(...P){const _=Date.now(),L=E(_);if(l=P,c=this,d=_,L){if(m===null)return C(_);if(j)return clearTimeout(m),m=setTimeout(O,a),S(_)}return m===null&&(m=setTimeout(O,a)),h};return k.cancel=()=>{m!==null&&clearTimeout(m),f=0,d=l=c=m=null},k.flush=()=>m===null?h:A(Date.now()),k}e.debounce=t}(Wx)),Wx}var a5;function jte(){return a5||(a5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bte();function n(a,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=n}(Yx)),Yx}var Xx,r5;function wte(){return r5||(r5=1,Xx=jte().throttle),Xx}var Nte=wte();const Ste=Fr(Nte);var vu=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l]};function s5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(n),!0).forEach(function(a){Cte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Cte(e,t,n){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ate(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i5=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:g,className:x,onResize:b,style:j={}}=e,N=y.useRef(null),S=y.useRef();S.current=b,y.useImperativeHandle(t,()=>N.current);var[C,A]=y.useState({containerWidth:a.width,containerHeight:a.height}),E=y.useCallback((O,k)=>{A(P=>{var _=Math.round(O),L=Math.round(k);return P.containerWidth===_&&P.containerHeight===L?P:{containerWidth:_,containerHeight:L}})},[]);y.useEffect(()=>{var O=L=>{var U,{width:V,height:K}=L[0].contentRect;E(V,K),(U=S.current)===null||U===void 0||U.call(S,V,K)};h>0&&(O=Ste(O,h,{trailing:!0,leading:!1}));var k=new ResizeObserver(O),{width:P,height:_}=N.current.getBoundingClientRect();return E(P,_),k.observe(N.current),()=>{k.disconnect()}},[E,h]);var T=y.useMemo(()=>{var{containerWidth:O,containerHeight:k}=C;if(O<0||k<0)return null;vu(Yi(s)||Yi(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),vu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var P=Yi(s)?O:s,_=Yi(l)?k:l;return n&&n>0&&(P?_=P/n:_&&(P=_*n),f&&_>f&&(_=f)),vu(P>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,_,s,l,c,d,n),y.Children.map(m,L=>y.cloneElement(L,{width:P,height:_,style:Zx({width:P,height:_},L.props.style)}))},[n,m,l,f,d,c,C,s]);return y.createElement("div",{id:g?"".concat(g):void 0,className:Ft("recharts-responsive-container",x),style:Zx(Zx({},j),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:N},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),fd=e=>null;fd.displayName="Cell";function o5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(n),!0).forEach(function(a){Ote(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ote(e,t,n){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e){var t=kte(e,"string");return typeof t=="symbol"?t:t+""}function kte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cl={widthCache:{},cacheCount:0},Mte=2e3,Pte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},l5="recharts_measurement_span";function _te(e){var t=Tv({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var bu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yl.isSsr)return{width:0,height:0};var a=_te(n),s=JSON.stringify({text:t,copyStyle:a});if(cl.widthCache[s])return cl.widthCache[s];try{var l=document.getElementById(l5);l||(l=document.createElement("span"),l.setAttribute("id",l5),l.setAttribute("aria-hidden","true"),document.body.appendChild(l));var c=Tv(Tv({},Pte),a);Object.assign(l.style,c),l.textContent="".concat(t);var d=l.getBoundingClientRect(),f={width:d.width,height:d.height};return cl.widthCache[s]=f,++cl.cacheCount>Mte&&(cl.cacheCount=0,cl.widthCache={}),f}catch{return{width:0,height:0}}},c5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lte=Object.keys(jP),gl="NaN";function Ite(e,t){return e*jP[t]}class fa{static parse(t){var n,[,a,s]=(n=Rte.exec(t))!==null&&n!==void 0?n:[];return new fa(parseFloat(a),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,La(t)&&(this.unit=""),n!==""&&!Dte.test(n)&&(this.num=NaN,this.unit=""),Lte.includes(n)&&(this.num=Ite(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new fa(NaN,""):new fa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new fa(NaN,""):new fa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fa(NaN,""):new fa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fa(NaN,""):new fa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return La(this.num)}}function wP(e){if(e.includes(gl))return gl;for(var t=e;t.includes("*")||t.includes("/");){var n,[,a,s,l]=(n=c5.exec(t))!==null&&n!==void 0?n:[],c=fa.parse(a??""),d=fa.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return gl;t=t.replace(c5,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,g,x]=(m=u5.exec(t))!==null&&m!==void 0?m:[],b=fa.parse(h??""),j=fa.parse(x??""),N=g==="+"?b.add(j):b.subtract(j);if(N.isNaN())return gl;t=t.replace(u5,N.toString())}return t}var d5=/\(([^()]*)\)/;function zte(e){for(var t=e,n;(n=d5.exec(t))!=null;){var[,a]=n;t=t.replace(d5,wP(a))}return t}function $te(e){var t=e.replace(/\s+/g,"");return t=zte(t),t=wP(t),t}function Bte(e){try{return $te(e)}catch{return gl}}function Qx(e){var t=Bte(e.slice(5,-1));return t===gl?"":t}var qte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ute=["dx","dy","angle","className","breakAll"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kv.apply(null,arguments)}function f5(e,t){if(e==null)return{};var n,a,s=Vte(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Vte(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var NP=/[ \f\n\r\t\v\u2028\u2029]+/,SP=e=>{var{children:t,breakAll:n,style:a}=e;try{var s=[];wn(t)||(n?s=t.toString().split(""):s=t.toString().split(NP));var l=s.map(d=>({word:d,width:bu(d,a).width})),c=n?0:bu("",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},Fte=(e,t,n,a,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=Xe(l),h=c,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((K,le)=>{var{word:ee,width:ne}=le,B=K[K.length-1];if(B&&(a==null||s||B.width+ne+n<Number(a)))B.words.push(ee),B.width+=ne+n;else{var re={words:[ee],width:ne};K.push(re)}return K},[])},x=g(t),b=U=>U.reduce((V,K)=>V.width>K.width?V:K);if(!m||s)return x;var j=x.length>l||b(x).width>Number(a);if(!j)return x;for(var N="",S=U=>{var V=h.slice(0,U),K=SP({breakAll:f,style:d,children:V+N}).wordsWithComputedWidth,le=g(K),ee=le.length>l||b(le).width>Number(a);return[ee,le]},C=0,A=h.length-1,E=0,T;C<=A&&E<=h.length-1;){var O=Math.floor((C+A)/2),k=O-1,[P,_]=S(k),[L]=S(O);if(!P&&!L&&(C=O+1),P&&L&&(A=O-1),!P&&L){T=_;break}E++}return T||x},m5=e=>{var t=wn(e)?[]:e.toString().split(NP);return[{words:t}]},Hte=e=>{var{width:t,scaleToFit:n,children:a,style:s,breakAll:l,maxLines:c}=e;if((t||n)&&!Yl.isSsr){var d,f,m=SP({breakAll:l,children:a,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:g}=m;d=h,f=g}else return m5(a);return Fte({breakAll:l,children:a,maxLines:c,style:s},d,f,t,n)}return m5(a)},h5="#808080",Yh=y.forwardRef((e,t)=>{var{x:n=0,y:a=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=h5}=e,h=f5(e,qte),g=y.useMemo(()=>Hte({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:x,dy:b,angle:j,className:N,breakAll:S}=h,C=f5(h,Ute);if(!Ur(n)||!Ur(a))return null;var A=n+(Xe(x)?x:0),E=a+(Xe(b)?b:0),T;switch(f){case"start":T=Qx("calc(".concat(l,")"));break;case"middle":T=Qx("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:T=Qx("calc(".concat(g.length-1," * -").concat(s,")"));break}var O=[];if(c){var k=g[0].width,{width:P}=h;O.push("scale(".concat(Xe(P)?P/k:1,")"))}return j&&O.push("rotate(".concat(j,", ").concat(A,", ").concat(E,")")),O.length&&(C.transform=O.join(" ")),y.createElement("text",kv({},zt(C,!0),{ref:t,x:A,y:E,className:Ft("recharts-text",N),textAnchor:d,fill:m.includes("url")?h5:m}),g.map((_,L)=>{var U=_.words.join(S?"":" ");return y.createElement("tspan",{x:A,dy:L===0?T:s,key:"".concat(U,"-").concat(L)},U)}))});Yh.displayName="Text";var Gte=["offset"],Kte=["labelRef"];function p5(e,t){if(e==null)return{};var n,a,s=Yte(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Yte(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function g5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(n),!0).forEach(function(a){Wte(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wte(e,t,n){return(t=Xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xte(e){var t=Zte(e,"string");return typeof t=="symbol"?t:t+""}function Zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ls.apply(null,arguments)}var Qte=e=>{var{value:t,formatter:n}=e,a=wn(e.children)?t:e.children;return typeof n=="function"?n(a):a},d2=e=>e!=null&&typeof e=="function",Jte=(e,t)=>{var n=Dn(t-e),a=Math.min(Math.abs(t-e),360);return n*a},ene=(e,t,n)=>{var{position:a,viewBox:s,offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:g,endAngle:x,clockWise:b}=s,j=(m+h)/2,N=Jte(g,x),S=N>=0?1:-1,C,A;a==="insideStart"?(C=g+S*l,A=b):a==="insideEnd"?(C=x-S*l,A=!b):a==="end"&&(C=x+S*l,A=b),A=N<=0?A:!A;var E=jn(d,f,j,C),T=jn(d,f,j,C+(A?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(A?0:1,`,
    `).concat(T.x,",").concat(T.y),k=wn(e.id)?Cl("recharts-radial-line-"):e.id;return y.createElement("text",ls({},n,{dominantBaseline:"central",className:Ft("recharts-radial-bar-label",c)}),y.createElement("defs",null,y.createElement("path",{id:k,d:O})),y.createElement("textPath",{xlinkHref:"#".concat(k)},t))},tne=e=>{var{viewBox:t,offset:n,position:a}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:m}=t,h=(f+m)/2;if(a==="outside"){var{x:g,y:x}=jn(s,l,d+n,h);return{x:g,y:x,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+d)/2,{x:j,y:N}=jn(s,l,b,h);return{x:j,y:N,textAnchor:"middle",verticalAnchor:"middle"}},nne=(e,t)=>{var{parentViewBox:n,offset:a,position:s}=e,{x:l,y:c,width:d,height:f}=t,m=f>=0?1:-1,h=m*a,g=m>0?"end":"start",x=m>0?"start":"end",b=d>=0?1:-1,j=b*a,N=b>0?"end":"start",S=b>0?"start":"end";if(s==="top"){var C={x:l+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:g};return bn(bn({},C),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var A={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:x};return bn(bn({},A),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var E={x:l-j,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return bn(bn({},E),n?{width:Math.max(E.x-n.x,0),height:f}:{})}if(s==="right"){var T={x:l+d+j,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return bn(bn({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:f}:{})}var O=n?{width:d,height:f}:{};return s==="insideLeft"?bn({x:l+j,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideRight"?bn({x:l+d-j,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideTop"?bn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:x},O):s==="insideBottom"?bn({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:g},O):s==="insideTopLeft"?bn({x:l+j,y:c+h,textAnchor:S,verticalAnchor:x},O):s==="insideTopRight"?bn({x:l+d-j,y:c+h,textAnchor:N,verticalAnchor:x},O):s==="insideBottomLeft"?bn({x:l+j,y:c+f-h,textAnchor:S,verticalAnchor:g},O):s==="insideBottomRight"?bn({x:l+d-j,y:c+f-h,textAnchor:N,verticalAnchor:g},O):s&&typeof s=="object"&&(Xe(s.x)||Yi(s.x))&&(Xe(s.y)||Yi(s.y))?bn({x:l+ia(s.x,d),y:c+ia(s.y,f),textAnchor:"end",verticalAnchor:"end"},O):bn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},ane=e=>"cx"in e&&Xe(e.cx);function Pa(e){var{offset:t=5}=e,n=p5(e,Gte),a=bn({offset:t},n),{viewBox:s,position:l,value:c,children:d,content:f,className:m="",textBreakAll:h,labelRef:g}=a,x=a1(),b=s||x;if(!b||wn(c)&&wn(d)&&!y.isValidElement(f)&&typeof f!="function")return null;if(y.isValidElement(f)){var{labelRef:j}=a,N=p5(a,Kte);return y.cloneElement(f,N)}var S;if(typeof f=="function"){if(S=y.createElement(f,a),y.isValidElement(S))return S}else S=Qte(a);var C=ane(b),A=zt(a,!0);if(C&&(l==="insideStart"||l==="insideEnd"||l==="end"))return ene(a,S,A);var E=C?tne(a):nne(a,b);return y.createElement(Yh,ls({ref:g,className:Ft("recharts-label",m)},A,E,{breakAll:h}),S)}Pa.displayName="Label";var CP=e=>{var{cx:t,cy:n,angle:a,startAngle:s,endAngle:l,r:c,radius:d,innerRadius:f,outerRadius:m,x:h,y:g,top:x,left:b,width:j,height:N,clockWise:S,labelViewBox:C}=e;if(C)return C;if(Xe(j)&&Xe(N)){if(Xe(h)&&Xe(g))return{x:h,y:g,width:j,height:N};if(Xe(x)&&Xe(b))return{x,y:b,width:j,height:N}}if(Xe(h)&&Xe(g))return{x:h,y:g,width:0,height:0};if(Xe(t)&&Xe(n))return{cx:t,cy:n,startAngle:s||a||0,endAngle:l||a||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:S};if(e.viewBox)return e.viewBox},rne=(e,t,n)=>{if(!e)return null;var a={viewBox:t,labelRef:n};return e===!0?y.createElement(Pa,ls({key:"label-implicit"},a)):Ur(e)?y.createElement(Pa,ls({key:"label-implicit",value:e},a)):y.isValidElement(e)?e.type===Pa?y.cloneElement(e,bn({key:"label-implicit"},a)):y.createElement(Pa,ls({key:"label-implicit",content:e},a)):d2(e)?y.createElement(Pa,ls({key:"label-implicit",content:e},a)):e&&typeof e=="object"?y.createElement(Pa,ls({},e,{key:"label-implicit"},a)):null},sne=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var{children:s,labelRef:l}=t,c=CP(t),d=ed(s,Pa).map((m,h)=>y.cloneElement(m,{viewBox:n||c,key:"label-".concat(h)}));if(!a)return d;var f=rne(t.label,n||c,l);return[f,...d]};Pa.parseViewBox=CP;Pa.renderCallByParent=sne;var Jx={},ey={},x5;function ine(){return x5||(x5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(ey)),ey}var ty={},y5;function one(){return y5||(y5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(ty)),ty}var v5;function lne(){return v5||(v5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ine(),n=one(),a=Vb();function s(l){if(a.isArrayLike(l))return t.last(n.toArray(l))}e.last=s}(Jx)),Jx}var ny,b5;function cne(){return b5||(b5=1,ny=lne().last),ny}var une=cne();const dne=Fr(une);var fne=["valueAccessor"],mne=["data","dataKey","clockWise","id","textBreakAll"];function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wm.apply(null,arguments)}function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function w5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(a){hne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hne(e,t,n){return(t=pne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N5(e,t){if(e==null)return{};var n,a,s=xne(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function xne(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var yne=e=>Array.isArray(e.value)?dne(e.value):e.value;function io(e){var{valueAccessor:t=yne}=e,n=N5(e,fne),{data:a,dataKey:s,clockWise:l,id:c,textBreakAll:d}=n,f=N5(n,mne);return!a||!a.length?null:y.createElement(oa,{className:"recharts-label-list"},a.map((m,h)=>{var g=wn(s)?t(m,h):cn(m&&m.payload,s),x=wn(c)?{}:{id:"".concat(c,"-").concat(h)};return y.createElement(Pa,Wm({},zt(m,!0),f,x,{parentViewBox:m.parentViewBox,value:g,textBreakAll:d,viewBox:Pa.parseViewBox(wn(l)?m:w5(w5({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}io.displayName="LabelList";function vne(e,t){return e?e===!0?y.createElement(io,{key:"labelList-implicit",data:t}):y.isValidElement(e)||d2(e)?y.createElement(io,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(io,Wm({data:t},e,{key:"labelList-implicit"})):null:null}function bne(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:a}=e,s=ed(a,io).map((c,d)=>y.cloneElement(c,{data:t,key:"labelList-".concat(d)}));if(!n)return s;var l=vne(e.label,t);return[l,...s]}io.renderCallByParent=bne;var AP=e=>e.graphicalItems.polarItems,jne=ve([gn,od],$1),f2=ve([AP,xn,jne],q1),wne=ve([f2],U1),m2=ve([wne,T1],V1),Nne=ve([m2,xn,f2],F1),Sne=ve([m2,xn,f2],(e,t,n)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var l,c=cn(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:cn(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]}))),S5=()=>{},Cne=ve([xn,RM,S5,Sne,S5],K1),EP=ve([xn,$t,m2,Nne,id,gn,Cne],Y1),Ane=ve([EP,xn,Jl],Z1);ve([xn,EP,Ane,gn],J1);var Ene={radiusAxis:{},angleAxis:{}},OP=cr({name:"polarAxis",initialState:Ene,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Jle,removeRadiusAxis:ece,addAngleAxis:tce,removeAngleAxis:nce}=OP.actions,One=OP.reducer;function C5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function A5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(n),!0).forEach(function(a){Tne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Tne(e,t,n){return(t=kne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h2=(e,t)=>t,Pne=[],p2=(e,t,n)=>(n==null?void 0:n.length)===0?Pne:n,TP=ve([T1,h2,p2],(e,t,n)=>{var{chartData:a}=e,s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&n!=null&&(s=n.map(l=>A5(A5({},t.presentationProps),l.props))),s!=null)return s}),_ne=ve([TP,h2,p2],(e,t,n)=>{if(e!=null)return e.map((a,s)=>{var l,c=cn(a,t.nameKey,t.name),d;return n!=null&&(l=n[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:Th(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),Dne=ve([AP,h2],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),Rne=ve([TP,Dne,p2,On],(e,t,n,a)=>{if(!(t==null||e==null))return Eae({offset:a,pieSettings:t,displayedData:e,cells:n})}),Lne={countOfBars:0,cartesianItems:[],polarItems:[]},kP=cr({name:"graphicalItems",initialState:Lne,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:a}=t.payload,s=fs(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=a)},removeCartesianGraphicalItem(e,t){var n=fs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=fs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:Ine,removeBar:zne,addCartesianGraphicalItem:$ne,replaceCartesianGraphicalItem:Bne,removeCartesianGraphicalItem:qne,addPolarGraphicalItem:Une,removePolarGraphicalItem:Vne}=kP.actions,Fne=kP.reducer;function E5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function O5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(n),!0).forEach(function(a){Hne(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Hne(e,t,n){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gne(e){var t=Kne(e,"string");return typeof t=="symbol"?t:t+""}function Kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yne(e){var t=un(),n=y.useRef(null);return y.useEffect(()=>{var a=O5(O5({},e),{},{stackId:e6(e.stackId)});n.current===null?t($ne(a)):n.current!==a&&t(Bne({prev:n.current,next:a})),n.current=a},[t,e]),y.useEffect(()=>()=>{n.current&&(t(qne(n.current)),n.current=null)},[t]),null}function Wne(e){var t=un();return y.useEffect(()=>(t(Une(e)),()=>{t(Vne(e))}),[t,e]),null}var ay={},T5;function Xne(){return T5||(T5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${l}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t}(ay)),ay}var ry,k5;function Zne(){return k5||(k5=1,ry=Xne().isPlainObject),ry}var Qne=Zne();const Jne=Fr(Qne);function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xm.apply(null,arguments)}var M5=(e,t,n,a,s)=>{var l=n-a,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-l/2,",").concat(t+s),c+="L ".concat(e+n-l/2-a,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},eae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tae=e=>{var t=Or(e,eae),n=y.useRef(),[a,s]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m,className:h}=t,{animationEasing:g,animationDuration:x,animationBegin:b,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var N=Ft("recharts-trapezoid",h);return j?y.createElement(uo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:x,animationEasing:g,isActive:j},S=>{var{upperWidth:C,lowerWidth:A,height:E,x:T,y:O}=S;return y.createElement(uo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:g},y.createElement("path",Xm({},zt(t,!0),{className:N,d:M5(T,O,C,A,E),ref:n})))}):y.createElement("g",null,y.createElement("path",Xm({},zt(t,!0),{className:N,d:M5(l,c,d,f,m)})))},nae=["option","shapeType","propTransformer","activeClassName","isActive"];function aae(e,t){if(e==null)return{};var n,a,s=rae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(n),!0).forEach(function(a){sae(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sae(e,t,n){return(t=iae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iae(e){var t=oae(e,"string");return typeof t=="symbol"?t:t+""}function oae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lae(e,t){return Zm(Zm({},t),e)}function cae(e,t){return e==="symbols"}function _5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(g6,n);case"trapezoid":return y.createElement(tae,n);case"sector":return y.createElement(v6,n);case"symbols":if(cae(t))return y.createElement(gk,n);break;default:return null}}function uae(e){return y.isValidElement(e)?e.props:e}function MP(e){var{option:t,shapeType:n,propTransformer:a=lae,activeClassName:s="recharts-active-shape",isActive:l}=e,c=aae(e,nae),d;if(y.isValidElement(t))d=y.cloneElement(t,Zm(Zm({},c),uae(t)));else if(typeof t=="function")d=t(c);else if(Jne(t)&&typeof t!="boolean"){var f=a(t,c);d=y.createElement(_5,{shapeType:n,elementProps:f})}else{var m=c;d=y.createElement(_5,{shapeType:n,elementProps:m})}return l?y.createElement(oa,{className:s},d):d}var g2=(e,t)=>{var n=un();return(a,s)=>l=>{e==null||e(a,s,l),n(ZM({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}},x2=e=>{var t=un();return(n,a)=>s=>{e==null||e(n,a,s),t(ZJ())}},y2=(e,t)=>{var n=un();return(a,s)=>l=>{e==null||e(a,s,l),n(QJ({activeIndex:String(s),activeDataKey:t,activeCoordinate:a.tooltipPosition}))}};function PP(e){var{fn:t,args:n}=e,a=un(),s=va();return y.useEffect(()=>{if(!s){var l=t(n);return a(YJ(l)),()=>{a(WJ(l))}}},[t,n,a,s]),null}var _P=()=>{};function dae(e){var{legendPayload:t}=e,n=un(),a=va();return y.useEffect(()=>a?_P:(n(c6(t)),()=>{n(u6(t))}),[n,a,t]),null}function fae(e){var{legendPayload:t}=e,n=un(),a=nt($t);return y.useEffect(()=>a!=="centric"&&a!=="radial"?_P:(n(c6(t)),()=>{n(u6(t))}),[n,a,t]),null}function DP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(Cl(t)),a=y.useRef(e);return a.current!==e&&(n.current=Cl(t),a.current=e),n.current}var mae=["onMouseEnter","onClick","onMouseLeave"];function hae(e,t){if(e==null)return{};var n,a,s=pae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function pae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function D5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(n),!0).forEach(function(a){Wh(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wh(e,t,n){return(t=gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ho.apply(null,arguments)}function yae(e){var t=y.useMemo(()=>zt(e,!1),[e]),n=y.useMemo(()=>ed(e.children,fd),[e.children]),a=y.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=nt(l=>_ne(l,a,n));return y.createElement(fae,{legendPayload:s})}function vae(e){var{dataKey:t,nameKey:n,sectors:a,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:a==null?void 0:a.map(h=>h.tooltipPayload),positions:a==null?void 0:a.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:Th(d,t),hide:f,type:m,color:c,unit:""}}}var bae=(e,t)=>e>t?"start":e<t?"end":"middle",jae=(e,t,n)=>typeof t=="function"?t(e):ia(t,n,n*.8),wae=(e,t,n)=>{var{top:a,left:s,width:l,height:c}=t,d=Zk(l,c),f=s+ia(e.cx,l,l/2),m=a+ia(e.cy,c,c/2),h=ia(e.innerRadius,d,0),g=jae(n,e.outerRadius,d),x=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:g,maxRadius:x}},Nae=(e,t)=>{var n=Dn(t-e),a=Math.min(Math.abs(t-e),360);return n*a},Sae=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Ft("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(f6,ho({},t,{type:"linear",className:n}))},Cae=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var a=n;if(typeof e=="function"&&(a=e(t),y.isValidElement(a)))return a;var s=Ft("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(Yh,ho({},t,{alignmentBaseline:"middle",className:s}),a)};function Aae(e){var{sectors:t,props:n,showLabels:a}=e,{label:s,labelLine:l,dataKey:c}=n;if(!a||!s||!t)return null;var d=zt(n,!1),f=zt(s,!1),m=zt(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,g=t.map((x,b)=>{var j=(x.startAngle+x.endAngle)/2,N=jn(x.cx,x.cy,x.outerRadius+h,j),S=ln(ln(ln(ln({},d),x),{},{stroke:"none"},f),{},{index:b,textAnchor:bae(N.x,x.cx)},N),C=ln(ln(ln(ln({},d),x),{},{fill:"none",stroke:x.fill},m),{},{index:b,points:[jn(x.cx,x.cy,x.outerRadius,j),N],key:"line"});return y.createElement(oa,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},l&&Sae(l,C),Cae(s,S,cn(x,c)))});return y.createElement(oa,{className:"recharts-pie-labels"},g)}function RP(e){var{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:s,showLabels:l}=e,c=nt(mo),{onMouseEnter:d,onClick:f,onMouseLeave:m}=s,h=hae(s,mae),g=g2(d,s.dataKey),x=x2(m),b=y2(f,s.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((j,N)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&t.length!==1)return null;var S=n&&String(N)===c,C=c?a:null,A=S?n:C,E=ln(ln({},j),{},{stroke:j.stroke,tabIndex:-1,[n6]:N,[a6]:s.dataKey});return y.createElement(oa,ho({tabIndex:-1,className:"recharts-pie-sector"},yh(h,j,N),{onMouseEnter:g(j,N),onMouseLeave:x(j,N),onClick:b(j,N),key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(N)}),y.createElement(MP,ho({option:A,isActive:S,shapeType:"sector"},E)))}),y.createElement(Aae,{sectors:t,props:s,showLabels:l}))}function Eae(e){var t,{pieSettings:n,displayedData:a,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:g}=n,x=Math.abs(n.minAngle),b=Nae(d,f),j=Math.abs(b),N=a.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=a.filter(k=>cn(k,m,0)!==0).length,C=(j>=360?S:S-1)*N,A=j-S*x-C,E=a.reduce((k,P)=>{var _=cn(P,m,0);return k+(Xe(_)?_:0)},0),T;if(E>0){var O;T=a.map((k,P)=>{var _=cn(k,m,0),L=cn(k,h,P),U=wae(n,l,k),V=(Xe(_)?_:0)/E,K,le=ln(ln({},k),s&&s[P]&&s[P].props);P?K=O.endAngle+Dn(b)*N*(_!==0?1:0):K=d;var ee=K+Dn(b)*((_!==0?x:0)+V*A),ne=(K+ee)/2,B=(U.innerRadius+U.outerRadius)/2,re=[{name:L,value:_,payload:le,dataKey:m,type:g}],Q=jn(U.cx,U.cy,B,ne);return O=ln(ln(ln(ln({},n.presentationProps),{},{percent:V,cornerRadius:c,name:L,tooltipPayload:re,midAngle:ne,middleRadius:B,tooltipPosition:Q},le),U),{},{value:cn(k,m),startAngle:K,endAngle:ee,payload:le,paddingAngle:Dn(b)*N}),O})}return T}function Oae(e){var{props:t,previousSectorsRef:n}=e,{sectors:a,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:g}=t,x=DP(t,"recharts-pie-"),b=n.current,[j,N]=y.useState(!0),S=y.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),C=y.useCallback(()=>{typeof h=="function"&&h(),N(!0)},[h]);return y.createElement(uo,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},onAnimationStart:C,onAnimationEnd:S,key:x},A=>{var{t:E}=A,T=[],O=a&&a[0],k=O.startAngle;return a.forEach((P,_)=>{var L=b&&b[_],U=_>0?fi(P,"paddingAngle",0):0;if(L){var V=si(L.endAngle-L.startAngle,P.endAngle-P.startAngle),K=ln(ln({},P),{},{startAngle:k+U,endAngle:k+V(E)+U});T.push(K),k=K.endAngle}else{var{endAngle:le,startAngle:ee}=P,ne=si(0,le-ee),B=ne(E),re=ln(ln({},P),{},{startAngle:k+U,endAngle:k+B+U});T.push(re),k=re.endAngle}}),n.current=T,y.createElement(oa,null,y.createElement(RP,{sectors:T,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!j}))})}function Tae(e){var{sectors:t,isAnimationActive:n,activeShape:a,inactiveShape:s}=e,l=y.useRef(null),c=l.current;return n&&t&&t.length&&(!c||c!==t)?y.createElement(Oae,{props:e,previousSectorsRef:l}):y.createElement(RP,{sectors:t,activeShape:a,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function kae(e){var{hide:t,className:n,rootTabIndex:a}=e,s=Ft("recharts-pie",n);return t?null:y.createElement(oa,{tabIndex:a,className:s},y.createElement(Tae,e))}var LP={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Yl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Mae(e){var t=Or(e,LP),n=y.useMemo(()=>ed(e.children,fd),[e.children]),a=zt(t,!1),s=y.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:a}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,a]),l=nt(c=>Rne(c,s,n));return y.createElement(y.Fragment,null,y.createElement(PP,{fn:vae,args:ln(ln({},t),{},{sectors:l})}),y.createElement(kae,ho({},t,{sectors:l})))}class v2 extends y.PureComponent{constructor(){super(...arguments),Wh(this,"id",Cl("recharts-pie-"))}render(){return y.createElement(y.Fragment,null,y.createElement(Wne,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),y.createElement(yae,this.props),y.createElement(Mae,this.props),this.props.children)}}Wh(v2,"displayName","Pie");Wh(v2,"defaultProps",LP);var Pae=ve([On],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),_ae=ve([Pae,As,Es],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Dae=e=>{var t=va();return nt(n=>mi(n,"xAxis",e,t))},Rae=e=>{var t=va();return nt(n=>mi(n,"yAxis",e,t))},IP=()=>nt(_ae),Lae=()=>{var e=un();return y.useEffect(()=>(e(Ine()),()=>{e(zne())})),null},Iae=["children"];function zae(e,t){if(e==null)return{};var n,a,s=$ae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function $ae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var R5=()=>{},zP=y.createContext({addErrorBar:R5,removeErrorBar:R5}),Bae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$P=y.createContext(Bae);function qae(e){var{children:t}=e,n=zae(e,Iae);return y.createElement($P.Provider,{value:n},t)}var Uae=()=>y.useContext($P),Vae=e=>{var{children:t,xAxisId:n,yAxisId:a,zAxisId:s,dataKey:l,data:c,stackId:d,hide:f,type:m,barSize:h}=e,[g,x]=y.useState([]),b=y.useCallback(S=>{x(C=>[...C,S])},[x]),j=y.useCallback(S=>{x(C=>C.filter(A=>A!==S))},[x]),N=va();return y.createElement(zP.Provider,{value:{addErrorBar:b,removeErrorBar:j}},y.createElement(Yne,{type:m,data:c,xAxisId:n,yAxisId:a,zAxisId:s,dataKey:l,errorBars:g,stackId:d,hide:f,barSize:h,isPanorama:N}),t)};function Fae(e){var{addErrorBar:t,removeErrorBar:n}=y.useContext(zP);return y.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var Hae=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function BP(e,t,n){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gae(e){var t=Kae(e,"string");return typeof t=="symbol"?t:t+""}function Kae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uu(){return Uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Uu.apply(null,arguments)}function Yae(e,t){if(e==null)return{};var n,a,s=Wae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Wae(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Xae(e){var{direction:t,width:n,dataKey:a,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d}=e,f=Yae(e,Hae),m=zt(f,!1),{data:h,dataPointFormatter:g,xAxisId:x,yAxisId:b,errorBarOffset:j}=Uae(),N=Dae(x),S=Rae(b);if((N==null?void 0:N.scale)==null||(S==null?void 0:S.scale)==null||h==null||t==="x"&&N.type!=="number")return null;var C=h.map(A=>{var{x:E,y:T,value:O,errorVal:k}=g(A,a,t);if(!k)return null;var P=[],_,L;if(Array.isArray(k)?[_,L]=k:_=L=k,t==="x"){var{scale:U}=N,V=T+j,K=V+n,le=V-n,ee=U(O-_),ne=U(O+L);P.push({x1:ne,y1:K,x2:ne,y2:le}),P.push({x1:ee,y1:V,x2:ne,y2:V}),P.push({x1:ee,y1:K,x2:ee,y2:le})}else if(t==="y"){var{scale:B}=S,re=E+j,Q=re-n,H=re+n,D=B(O-_),q=B(O+L);P.push({x1:Q,y1:q,x2:H,y2:q}),P.push({x1:re,y1:D,x2:re,y2:q}),P.push({x1:Q,y1:D,x2:H,y2:D})}var G="".concat(E+j,"px ").concat(T+j,"px");return y.createElement(oa,Uu({className:"recharts-errorBar",key:"bar-".concat(P.map(J=>"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)))},m),P.map(J=>{var W=s?{transformOrigin:"".concat(J.x1-5,"px")}:void 0;return y.createElement(uo,{from:{transform:"scaleY(0)",transformOrigin:G},to:{transform:"scaleY(1)",transformOrigin:G},begin:l,easing:d,isActive:s,duration:c,key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2),style:{transformOrigin:G}},y.createElement("line",Uu({},J,{style:W})))}))});return y.createElement(oa,{className:"recharts-errorBars"},C)}var qP=y.createContext(void 0);function Zae(e){var t=y.useContext(qP);return e??t??"x"}function Qae(e){var{direction:t,children:n}=e;return y.createElement(qP.Provider,{value:t},n)}var UP={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Jae(e){var t=Zae(e.direction),{width:n,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c}=Or(e,UP);return y.createElement(y.Fragment,null,y.createElement(Fae,{dataKey:e.dataKey,direction:t}),y.createElement(Xae,Uu({},e,{direction:t,width:n,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c})))}class VP extends y.Component{render(){return y.createElement(Jae,this.props)}}BP(VP,"defaultProps",UP);BP(VP,"displayName","ErrorBar");var ere="Invariant failed";function tre(e,t){throw new Error(ere)}var nre=["x","y"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mv.apply(null,arguments)}function L5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(n),!0).forEach(function(a){are(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function are(e,t,n){return(t=rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rre(e){var t=sre(e,"string");return typeof t=="symbol"?t:t+""}function sre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ire(e,t){if(e==null)return{};var n,a,s=ore(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ore(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function lre(e,t){var{x:n,y:a}=e,s=ire(e,nre),l="".concat(n),c=parseInt(l,10),d="".concat(a),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),g="".concat(t.width||s.width),x=parseInt(g,10);return lu(lu(lu(lu(lu({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:x,name:t.name,radius:t.radius})}function FP(e){return y.createElement(MP,Mv({shapeType:"rectangle",propTransformer:lre,activeClassName:"recharts-active-bar"},e))}var cre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Xe(t))return t;var l=Xe(a)||wn(a);return l?t(a,s):(l||tre(),n)}};function HP(e,t){var n,a,s=nt(m=>Ts(m,e)),l=nt(m=>vi(m,t)),c=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Ta.allowDataOverflow,d=(a=l==null?void 0:l.allowDataOverflow)!==null&&a!==void 0?a:ka.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function ure(e){var{xAxisId:t,yAxisId:n,clipPathId:a}=e,s=IP(),{needClipX:l,needClipY:c,needClip:d}=HP(t,n);if(!d)return null;var{x:f,y:m,width:h,height:g}=s;return y.createElement("clipPath",{id:"clipPath-".concat(a)},y.createElement("rect",{x:l?f:f-h/2,y:c?m:m-g/2,width:l?h:h*2,height:c?g:g*2}))}var dre=["onMouseEnter","onMouseLeave","onClick"],fre=["value","background","tooltipPosition"],mre=["onMouseEnter","onClick","onMouseLeave"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Vu.apply(null,arguments)}function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(a){Xh(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Xh(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pv(e,t){if(e==null)return{};var n,a,s=gre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function gre(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var xre=e=>{var{dataKey:t,name:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a,value:Th(n,t),payload:e}]};function yre(e){var{dataKey:t,stroke:n,strokeWidth:a,fill:s,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Th(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function vre(e){var t=nt(mo),{data:n,dataKey:a,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=Pv(l,dre),h=g2(c,a),g=x2(d),x=y2(f,a);if(!s||n==null)return null;var b=zt(s,!1);return y.createElement(y.Fragment,null,n.map((j,N)=>{var{value:S,background:C,tooltipPosition:A}=j,E=Pv(j,fre);if(!C)return null;var T=h(j,N),O=g(j,N),k=x(j,N),P=Qn(Qn(Qn(Qn(Qn({option:s,isActive:String(N)===t},E),{},{fill:"#eee"},C),b),yh(m,j,N)),{},{onMouseEnter:T,onMouseLeave:O,onClick:k,dataKey:a,index:N,className:"recharts-bar-background-rectangle"});return y.createElement(FP,Vu({key:"background-bar-".concat(N)},P))}))}function GP(e){var{data:t,props:n,showLabels:a}=e,s=zt(n,!1),{shape:l,dataKey:c,activeBar:d}=n,f=nt(mo),m=nt(uP),{onMouseEnter:h,onClick:g,onMouseLeave:x}=n,b=Pv(n,mre),j=g2(h,c),N=x2(x),S=y2(g,c);return t?y.createElement(y.Fragment,null,t.map((C,A)=>{var E=d&&String(A)===f&&(m==null||c===m),T=E?d:l,O=Qn(Qn(Qn({},s),C),{},{isActive:E,option:T,index:A,dataKey:c});return y.createElement(oa,Vu({className:"recharts-bar-rectangle"},yh(b,C,A),{onMouseEnter:j(C,A),onMouseLeave:N(C,A),onClick:S(C,A),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(A)}),y.createElement(FP,O))}),a&&io.renderCallByParent(n,t)):null}function bre(e){var{props:t,previousRectanglesRef:n}=e,{data:a,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,g=n.current,x=DP(t,"recharts-bar-"),[b,j]=y.useState(!1),N=y.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),S=y.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return y.createElement(uo,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},onAnimationEnd:N,onAnimationStart:S,key:x},C=>{var{t:A}=C,E=A===1?a:a.map((T,O)=>{var k=g&&g[O];if(k){var P=si(k.x,T.x),_=si(k.y,T.y),L=si(k.width,T.width),U=si(k.height,T.height);return Qn(Qn({},T),{},{x:P(A),y:_(A),width:L(A),height:U(A)})}if(s==="horizontal"){var V=si(0,T.height),K=V(A);return Qn(Qn({},T),{},{y:T.y+T.height-K,height:K})}var le=si(0,T.width),ee=le(A);return Qn(Qn({},T),{},{width:ee})});return A>0&&(n.current=E),y.createElement(oa,null,y.createElement(GP,{props:t,data:E,showLabels:!b}))})}function jre(e){var{data:t,isAnimationActive:n}=e,a=y.useRef(null);return n&&t&&t.length&&(a.current==null||a.current!==t)?y.createElement(bre,{previousRectanglesRef:a,props:e}):y.createElement(GP,{props:e,data:t,showLabels:!0})}var KP=0,wre=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:cn(e,t)}};class Nre extends y.PureComponent{constructor(){super(...arguments),Xh(this,"id",Cl("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:a,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m,layout:h}=this.props;if(t)return null;var g=Ft("recharts-bar",s),x=wn(m)?this.id:m;return y.createElement(oa,{className:g},d&&y.createElement("defs",null,y.createElement(ure,{clipPathId:x,xAxisId:l,yAxisId:c})),y.createElement(oa,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):null},y.createElement(vre,{data:n,dataKey:a,background:f,allOtherBarProps:this.props}),y.createElement(jre,this.props)),y.createElement(Qae,{direction:h==="horizontal"?"y":"x"},this.props.children))}}var YP={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Yl.isSsr,legendType:"rect",minPointSize:KP,xAxisId:0,yAxisId:0};function Sre(e){var{xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=Or(e,YP),{needClip:g}=HP(t,n),x=r1(),b=va(),j=y.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:l,stackId:e6(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,l,e.stackId]),N=ed(e.children,fd),S=nt(E=>Qre(E,t,n,b,j,N));if(x!=="vertical"&&x!=="horizontal")return null;var C,A=S==null?void 0:S[0];return A==null||A.height==null||A.width==null?C=0:C=x==="vertical"?A.height/2:A.width/2,y.createElement(qae,{xAxisId:t,yAxisId:n,data:S,dataPointFormatter:wre,errorBarOffset:C},y.createElement(Nre,Vu({},e,{layout:x,needClip:g,data:S,xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function Cre(e){var{layout:t,barSettings:{dataKey:n,minPointSize:a},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:g,offset:x,cells:b}=e,j=t==="horizontal"?d:c,N=h?j.scale.domain():null,S=NY({numericAxis:j});return g.map((C,A)=>{var E,T,O,k,P,_;h?E=yY(h[A],N):(E=cn(C,n),Array.isArray(E)||(E=[S,E]));var L=cre(a,KP)(E[1],A);if(t==="horizontal"){var U,[V,K]=[d.scale(E[0]),d.scale(E[1])];T=S4({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:C,index:A}),O=(U=K??V)!==null&&U!==void 0?U:void 0,k=s.size;var le=V-K;if(P=La(le)?0:le,_={x:T,y:x.top,width:k,height:x.height},Math.abs(L)>0&&Math.abs(P)<Math.abs(L)){var ee=Dn(P||L)*(Math.abs(L)-Math.abs(P));O-=ee,P+=ee}}else{var[ne,B]=[c.scale(E[0]),c.scale(E[1])];if(T=ne,O=S4({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:C,index:A}),k=B-ne,P=s.size,_={x:x.left,y:O,width:x.width,height:P},Math.abs(L)>0&&Math.abs(k)<Math.abs(L)){var re=Dn(k||L)*(Math.abs(L)-Math.abs(k));k+=re}}var Q=Qn(Qn({},C),{},{x:T,y:O,width:k,height:P,value:h?E:E[1],payload:C,background:_,tooltipPosition:{x:T+k/2,y:O+P/2}},b&&b[A]&&b[A].props);return Q})}class b2 extends y.PureComponent{render(){return y.createElement(Vae,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},y.createElement(Lae,null),y.createElement(dae,{legendPayload:xre(this.props)}),y.createElement(PP,{fn:yre,args:this.props}),y.createElement(Sre,this.props))}}Xh(b2,"displayName","Bar");Xh(b2,"defaultProps",YP);function z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(n),!0).forEach(function(a){Are(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Are(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tre=(e,t)=>t,kre=(e,t,n)=>n,Mre=(e,t,n,a)=>a,j2=(e,t,n,a,s)=>s,Pre=(e,t,n,a,s)=>s.maxBarSize,_re=(e,t,n,a,s,l)=>l,$5=(e,t,n)=>{var a=n??e;if(!wn(a))return ia(a,t,0)},Dre=ve([$t,B1,Tre,kre,Mre],(e,t,n,a,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===a).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Rre=(e,t,n,a)=>{var s=$t(e);return s==="horizontal"?Sv(e,"yAxis",n,a):Sv(e,"xAxis",t,a)},Lre=(e,t,n)=>{var a=$t(e);return a==="horizontal"?qE(e,"xAxis",t):qE(e,"yAxis",n)};function Ire(e){return e.stackId!=null&&e.dataKey!=null}var zre=(e,t,n)=>{var a={},s=e.filter(Ire),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),a),d=Object.entries(c).map(m=>{var[h,g]=m,x=g.map(j=>j.dataKey),b=$5(t,n,g[0].barSize);return{stackId:h,dataKeys:x,barSize:b}}),f=l.map(m=>{var h=[m.dataKey].filter(x=>x!=null),g=$5(t,n,m.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...d,...f]},$re=ve([Dre,KQ,Lre],zre),Bre=(e,t,n,a,s)=>{var l,c,d=$t(e),f=gM(e),{maxBarSize:m}=s,h=wn(m)?f:m,g,x;return d==="horizontal"?(g=mi(e,"xAxis",t,a),x=_l(e,"xAxis",t,a)):(g=mi(e,"yAxis",n,a),x=_l(e,"yAxis",n,a)),(l=(c=e1(g,x,!0))!==null&&c!==void 0?c:h)!==null&&l!==void 0?l:0},WP=(e,t,n,a)=>{var s=$t(e),l,c;return s==="horizontal"?(l=mi(e,"xAxis",t,a),c=_l(e,"xAxis",t,a)):(l=mi(e,"yAxis",n,a),c=_l(e,"yAxis",n,a)),e1(l,c)};function qre(e,t,n,a,s){var l=a.length;if(!(l<1)){var c=ia(e,n,0,!0),d,f=[];if($a(a[0].barSize)){var m=!1,h=n/l,g=a.reduce((C,A)=>C+(A.barSize||0),0);g+=(l-1)*c,g>=n&&(g-=(l-1)*c,c=0),g>=n&&h>0&&(m=!0,h*=.9,g=l*h);var x=(n-g)/2>>0,b={offset:x-c,size:0};d=a.reduce((C,A)=>{var E,T={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:b.offset+b.size+c,size:m?h:(E=A.barSize)!==null&&E!==void 0?E:0}},O=[...C,T];return b=O[O.length-1].position,O},f)}else{var j=ia(t,n,0,!0);n-2*j-(l-1)*c<=0&&(c=0);var N=(n-2*j-(l-1)*c)/l;N>1&&(N>>=0);var S=$a(s)?Math.min(N,s):N;d=a.reduce((C,A,E)=>[...C,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:j+(N+c)*E+(N-S)/2,size:S}}],f)}return d}}var Ure=(e,t,n,a,s,l,c)=>{var d=wn(c)?t:c,f=qre(n,a,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>Hf(Hf({},m),{},{position:Hf(Hf({},m.position),{},{offset:m.position.offset-s/2})}))),f},Vre=ve([$re,gM,GQ,xM,Bre,WP,Pre],Ure),Fre=(e,t,n,a)=>mi(e,"xAxis",t,a),Hre=(e,t,n,a)=>mi(e,"yAxis",n,a),Gre=(e,t,n,a)=>_l(e,"xAxis",t,a),Kre=(e,t,n,a)=>_l(e,"yAxis",n,a),Yre=ve([Vre,j2],(e,t)=>{if(e!=null){var n=e.find(a=>a.stackId===t.stackId&&a.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Wre=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s){var l=s.find(c=>c.key===t.dataKey);return l}}}}},Xre=ve([B1,j2],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),Zre=ve([Rre,j2],Wre),Qre=ve([On,Fre,Hre,Gre,Kre,Yre,$t,tM,WP,Zre,Xre,_re],(e,t,n,a,s,l,c,d,f,m,h,g)=>{var{chartData:x,dataStartIndex:b,dataEndIndex:j}=d;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||a==null||s==null||f==null)){var{data:N}=h,S;if(N!=null&&N.length>0?S=N:S=x==null?void 0:x.slice(b,j+1),S!=null)return Cre({layout:c,barSettings:h,pos:l,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:m,displayedData:S,offset:e,cells:g})}}),XP=e=>{var{chartData:t}=e,n=un(),a=va();return y.useEffect(()=>a?()=>{}:(n(ZE(t)),()=>{n(ZE(void 0))}),[t,n,a]),null},B5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZP=cr({name:"brush",initialState:B5,reducers:{setBrushSettings(e,t){return t.payload==null?B5:t.payload}}}),{setBrushSettings:ace}=ZP.actions,Jre=ZP.reducer;function ese(e,t,n){return(t=tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class w2{static create(t){return new w2(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}ese(w2,"EPS",1e-4);function ase(e){return(e%180+180)%180}var rse=function(t){var{width:n,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=ase(s),c=l*Math.PI/180,d=Math.atan(a/n),f=c>d&&c<Math.PI-d?a/Math.sin(c):n/Math.cos(c);return Math.abs(f)},sse={dots:[],areas:[],lines:[]},QP=cr({name:"referenceElements",initialState:sse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=fs(e).dots.findIndex(a=>a===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=fs(e).areas.findIndex(a=>a===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=fs(e).lines.findIndex(a=>a===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:rce,removeDot:sce,addArea:ice,removeArea:oce,addLine:lce,removeLine:cce}=QP.actions,ise=QP.reducer,ose=y.createContext(void 0),lse=e=>{var{children:t}=e,[n]=y.useState("".concat(Cl("recharts"),"-clip")),a=IP();if(a==null)return null;var{x:s,y:l,width:c,height:d}=a;return y.createElement(ose.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function sy(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function JP(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function cse(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return rse(a,n)}function use(e,t,n){var a=n==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:a?s:l,end:a?s+c:l+d}:{start:a?s+c:l+d,end:a?s:l}}function Qm(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var l=n();return e*(t-e*l/2-a)>=0&&e*(t+e*l/2-s)<=0}function dse(e,t){return JP(e,t+1)}function fse(e,t,n,a,s){for(var l=(a||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,g=function(){var j=a==null?void 0:a[f];if(j===void 0)return{v:JP(a,m)};var N=f,S,C=()=>(S===void 0&&(S=n(j,N)),S),A=j.coordinate,E=f===0||Qm(e,A,C,h,d);E||(f=0,h=c,m+=1),E&&(h=A+e*(C()/2+s),f+=m)},x;m<=l.length;)if(x=g(),x)return x.v;return[]}function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(a){mse(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mse(e,t,n){return(t=hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hse(e){var t=pse(e,"string");return typeof t=="symbol"?t:t+""}function pse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gse(e,t,n,a,s){for(var l=(a||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(x){var b=l[x],j,N=()=>(j===void 0&&(j=n(b,x)),j);if(x===c-1){var S=e*(b.coordinate+e*N()/2-f);l[x]=b=Zn(Zn({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate})}else l[x]=b=Zn(Zn({},b),{},{tickCoord:b.coordinate});var C=Qm(e,b.tickCoord,N,d,f);C&&(f=b.tickCoord-e*(N()/2+s),l[x]=Zn(Zn({},b),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function xse(e,t,n,a,s,l){var c=(a||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=a[d-1],g=n(h,d-1),x=e*(h.coordinate+e*g/2-m);c[d-1]=h=Zn(Zn({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate});var b=Qm(e,h.tickCoord,()=>g,f,m);b&&(m=h.tickCoord-e*(g/2+s),c[d-1]=Zn(Zn({},h),{},{isShow:!0}))}for(var j=l?d-1:d,N=function(A){var E=c[A],T,O=()=>(T===void 0&&(T=n(E,A)),T);if(A===0){var k=e*(E.coordinate-e*O()/2-f);c[A]=E=Zn(Zn({},E),{},{tickCoord:k<0?E.coordinate-k*e:E.coordinate})}else c[A]=E=Zn(Zn({},E),{},{tickCoord:E.coordinate});var P=Qm(e,E.tickCoord,O,f,m);P&&(f=E.tickCoord+e*(O()/2+s),c[A]=Zn(Zn({},E),{},{isShow:!0}))},S=0;S<j;S++)N(S);return c}function N2(e,t,n){var{tick:a,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:g}=e;if(!s||!s.length||!a)return[];if(Xe(f)||Yl.isSsr){var x;return(x=dse(s,Xe(f)?f:0))!==null&&x!==void 0?x:[]}var b=[],j=d==="top"||d==="bottom"?"width":"height",N=h&&j==="width"?bu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(E,T)=>{var O=typeof m=="function"?m(E.value,T):E.value;return j==="width"?cse(bu(O,{fontSize:t,letterSpacing:n}),N,g):bu(O,{fontSize:t,letterSpacing:n})[j]},C=s.length>=2?Dn(s[1].coordinate-s[0].coordinate):1,A=use(l,C,j);return f==="equidistantPreserveStart"?fse(C,A,S,s,c):(f==="preserveStart"||f==="preserveStartEnd"?b=xse(C,A,S,s,c,f==="preserveStartEnd"):b=gse(C,A,S,s,c),b.filter(E=>E.isShow))}var yse=["viewBox"],vse=["viewBox"];function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xl.apply(null,arguments)}function U5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U5(Object(n),!0).forEach(function(a){S2(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function V5(e,t){if(e==null)return{};var n,a,s=bse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function S2(e,t,n){return(t=jse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jse(e){var t=wse(e,"string");return typeof t=="symbol"?t:t+""}function wse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bi extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:a}=t,s=V5(t,yse),l=this.props,{viewBox:c}=l,d=V5(l,vse);return!sy(a,c)||!sy(s,d)||!sy(n,this.state)}getTickLineCoord(t){var{x:n,y:a,width:s,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,g,x,b,j,N,S=f?-1:1,C=t.tickSize||d,A=Xe(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=g=t.coordinate,b=a+ +!f*l,x=b-S*C,N=x-S*m,j=A;break;case"left":x=b=t.coordinate,g=n+ +!f*s,h=g-S*C,j=h-S*m,N=A;break;case"right":x=b=t.coordinate,g=n+ +f*s,h=g+S*C,j=h+S*m,N=A;break;default:h=g=t.coordinate,b=a+ +f*l,x=b+S*C,N=x+S*m,j=A;break}return{line:{x1:h,y1:x,x2:g,y2:b},tick:{x:j,y:N}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,a;switch(t){case"left":a=n?"start":"end";break;case"right":a=n?"end":"start";break;default:a="middle";break}return a}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:a,height:s,orientation:l,mirror:c,axisLine:d}=this.props,f=An(An(An({},zt(this.props,!1)),zt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=An(An({},f),{},{x1:t,y1:n+m*s,x2:t+a,y2:n+m*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=An(An({},f),{},{x1:t+h*a,y1:n,x2:t+h*a,y2:n+s})}return y.createElement("line",xl({},f,{className:Ft("recharts-cartesian-axis-line",fi(d,"className"))}))}static renderTickItem(t,n,a){var s,l=Ft(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))s=y.cloneElement(t,An(An({},n),{},{className:l}));else if(typeof t=="function")s=t(An(An({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Ft(c,t.className)),s=y.createElement(Yh,xl({},n,{className:c}),a)}return s}renderTicks(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:d,unit:f}=this.props,m=N2(An(An({},this.props),{},{ticks:a}),t,n),h=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=zt(this.props,!1),b=zt(c,!1),j=An(An({},x),{},{fill:"none"},zt(s,!1)),N=m.map((S,C)=>{var{line:A,tick:E}=this.getTickLineCoord(S),T=An(An(An(An({textAnchor:h,verticalAnchor:g},x),{},{stroke:"none",fill:l},b),E),{},{index:C,payload:S,visibleTicksCount:m.length,tickFormatter:d});return y.createElement(oa,xl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},yh(this.props,S,C)),s&&y.createElement("line",xl({},j,A,{className:Ft("recharts-cartesian-axis-tick-line",fi(s,"className"))})),c&&bi.renderTickItem(c,T,"".concat(typeof d=="function"?d(S.value,C):S.value).concat(f||"")))});return N.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}render(){var{axisLine:t,width:n,height:a,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(oa,{className:Ft("recharts-cartesian-axis",s),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,g=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Pa.renderCallByParent(this.props))}}S2(bi,"displayName","CartesianAxis");S2(bi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nse=["x1","y1","x2","y2","key"],Sse=["offset"],Cse=["xAxisId","yAxisId"],Ase=["xAxisId","yAxisId"];function F5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(n),!0).forEach(function(a){Ese(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ese(e,t,n){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ose(e){var t=Tse(e,"string");return typeof t=="symbol"?t:t+""}function Tse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qi.apply(null,arguments)}function Jm(e,t){if(e==null)return{};var n,a,s=kse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function kse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Mse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:a,y:s,width:l,height:c,ry:d}=e;return y.createElement("rect",{x:a,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function e_(e,t){var n;if(y.isValidElement(e))n=y.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:a,y1:s,x2:l,y2:c,key:d}=t,f=Jm(t,Nse),m=zt(f,!1),{offset:h}=m,g=Jm(m,Sse);n=y.createElement("line",Qi({},g,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:d}))}return n}function Pse(e){var{x:t,width:n,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Jm(e,Cse),f=s.map((m,h)=>{var g=Jn(Jn({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(h),index:h});return e_(a,g)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function _se(e){var{y:t,height:n,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=Jm(e,Ase),f=s.map((m,h)=>{var g=Jn(Jn({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(h),index:h});return e_(a,g)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Dse(e){var{horizontalFill:t,fillOpacity:n,x:a,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==m[0]&&m.unshift(0);var h=m.map((g,x)=>{var b=!m[x+1],j=b?s+c-g:m[x+1]-g;if(j<=0)return null;var N=x%t.length;return y.createElement("rect",{key:"react-".concat(x),y:g,x:a,height:j,width:l,stroke:"none",fill:t[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Rse(e){var{vertical:t=!0,verticalFill:n,fillOpacity:a,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(g=>Math.round(g+s-s)).sort((g,x)=>g-x);s!==m[0]&&m.unshift(0);var h=m.map((g,x)=>{var b=!m[x+1],j=b?s+c-g:m[x+1]-g;if(j<=0)return null;var N=x%n.length;return y.createElement("rect",{key:"react-".concat(x),x:g,y:l,width:j,height:d,stroke:"none",fill:n[N],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Lse=(e,t)=>{var{xAxis:n,width:a,height:s,offset:l}=e;return Qk(N2(Jn(Jn(Jn({},bi.defaultProps),n),{},{ticks:Jk(n),viewBox:{x:0,y:0,width:a,height:s}})),l.left,l.left+l.width,t)},Ise=(e,t)=>{var{yAxis:n,width:a,height:s,offset:l}=e;return Qk(N2(Jn(Jn(Jn({},bi.defaultProps),n),{},{ticks:Jk(n),viewBox:{x:0,y:0,width:a,height:s}})),l.top,l.top+l.height,t)},zse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function t_(e){var t=i6(),n=o6(),a=s6(),s=Jn(Jn({},Or(e,zse)),{},{x:Xe(e.x)?e.x:a.left,y:Xe(e.y)?e.y:a.top,width:Xe(e.width)?e.width:a.width,height:Xe(e.height)?e.height:a.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:g,horizontalValues:x,verticalValues:b}=s,j=va(),N=nt(L=>UE(L,"xAxis",l,j)),S=nt(L=>UE(L,"yAxis",c,j));if(!Xe(m)||m<=0||!Xe(h)||h<=0||!Xe(d)||d!==+d||!Xe(f)||f!==+f)return null;var C=s.verticalCoordinatesGenerator||Lse,A=s.horizontalCoordinatesGenerator||Ise,{horizontalPoints:E,verticalPoints:T}=s;if((!E||!E.length)&&typeof A=="function"){var O=x&&x.length,k=A({yAxis:S?Jn(Jn({},S),{},{ticks:O?x:S.ticks}):void 0,width:t,height:n,offset:a},O?!0:g);vu(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(E=k)}if((!T||!T.length)&&typeof C=="function"){var P=b&&b.length,_=C({xAxis:N?Jn(Jn({},N),{},{ticks:P?b:N.ticks}):void 0,width:t,height:n,offset:a},P?!0:g);vu(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(T=_)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Mse,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),y.createElement(Dse,Qi({},s,{horizontalPoints:E})),y.createElement(Rse,Qi({},s,{verticalPoints:T})),y.createElement(Pse,Qi({},s,{offset:a,horizontalPoints:E,xAxis:N,yAxis:S})),y.createElement(_se,Qi({},s,{offset:a,verticalPoints:T,xAxis:N,yAxis:S})))}t_.displayName="CartesianGrid";function H5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function G5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H5(Object(n),!0).forEach(function(a){$se(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $se(e,t,n){return(t=Bse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bse(e){var t=qse(e,"string");return typeof t=="symbol"?t:t+""}function qse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Use={xAxis:{},yAxis:{},zAxis:{}},n_=cr({name:"cartesianAxis",initialState:Use,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:a}=t.payload;e.yAxis[n]&&(e.yAxis[n]=G5(G5({},e.yAxis[n]),{},{width:a}))}}}),{addXAxis:Vse,removeXAxis:Fse,addYAxis:Hse,removeYAxis:Gse,addZAxis:uce,removeZAxis:dce,updateYAxisWidth:Kse}=n_.actions,Yse=n_.reducer,Wse=["children"],Xse=["dangerouslySetInnerHTML","ticks"];function a_(e,t,n){return(t=Zse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zse(e){var t=Qse(e,"string");return typeof t=="symbol"?t:t+""}function Qse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_v.apply(null,arguments)}function r_(e,t){if(e==null)return{};var n,a,s=Jse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Jse(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function eie(e){var t=un(),n=y.useMemo(()=>{var{children:l}=e,c=r_(e,Wse);return c},[e]),a=nt(l=>Ts(l,n.id)),s=n===a;return y.useEffect(()=>(t(Vse(n)),()=>{t(Fse(n))}),[n,t]),s?e.children:null}var tie=e=>{var{xAxisId:t,className:n}=e,a=nt(r6),s=va(),l="xAxis",c=nt(b=>ec(b,l,t,s)),d=nt(b=>HM(b,l,t,s)),f=nt(b=>qM(b,t)),m=nt(b=>$J(b,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=e,x=r_(e,Xse);return y.createElement(bi,_v({},x,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:Ft("recharts-".concat(l," ").concat(l),n),viewBox:a,ticks:d}))},nie=e=>{var t,n,a,s,l;return y.createElement(eie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},y.createElement(tie,e))};class C2 extends y.Component{render(){return y.createElement(nie,this.props)}}a_(C2,"displayName","XAxis");a_(C2,"defaultProps",{allowDataOverflow:Ta.allowDataOverflow,allowDecimals:Ta.allowDecimals,allowDuplicatedCategory:Ta.allowDuplicatedCategory,height:Ta.height,hide:!1,mirror:Ta.mirror,orientation:Ta.orientation,padding:Ta.padding,reversed:Ta.reversed,scale:Ta.scale,tickCount:Ta.tickCount,type:Ta.type,xAxisId:0});var aie=e=>{var{ticks:t,label:n,labelGapWithTick:a=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(n?a:0);return Math.round(m)}return 0},rie=["dangerouslySetInnerHTML","ticks"];function s_(e,t,n){return(t=sie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Dv.apply(null,arguments)}function oie(e,t){if(e==null)return{};var n,a,s=lie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function cie(e){var t=un();return y.useEffect(()=>(t(Hse(e)),()=>{t(Gse(e))}),[e,t]),null}var uie=e=>{var t,{yAxisId:n,className:a,width:s,label:l}=e,c=y.useRef(null),d=y.useRef(null),f=nt(r6),m=va(),h=un(),g="yAxis",x=nt(E=>ec(E,g,n,m)),b=nt(E=>UM(E,n)),j=nt(E=>BJ(E,n)),N=nt(E=>HM(E,g,n,m));if(y.useLayoutEffect(()=>{var E;if(!(s!=="auto"||!b||d2(l)||y.isValidElement(l))){var T=c.current,O=T==null||(E=T.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:k,tickMargin:P}=T.props,_=aie({ticks:O,label:d.current,labelGapWithTick:5,tickSize:k,tickMargin:P});Math.round(b.width)!==Math.round(_)&&h(Kse({id:n,width:_}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b==null?void 0:b.width,b,h,l,n,s]),b==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:C}=e,A=oie(e,rie);return y.createElement(bi,Dv({},A,{ref:c,labelRef:d,scale:x,x:j.x,y:j.y,width:b.width,height:b.height,className:Ft("recharts-".concat(g," ").concat(g),a),viewBox:f,ticks:N}))},die=e=>{var t,n,a,s,l;return y.createElement(y.Fragment,null,y.createElement(cie,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(a=e.angle)!==null&&a!==void 0?a:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),y.createElement(uie,e))},fie={allowDataOverflow:ka.allowDataOverflow,allowDecimals:ka.allowDecimals,allowDuplicatedCategory:ka.allowDuplicatedCategory,hide:!1,mirror:ka.mirror,orientation:ka.orientation,padding:ka.padding,reversed:ka.reversed,scale:ka.scale,tickCount:ka.tickCount,type:ka.type,width:ka.width,yAxisId:0};class A2 extends y.Component{render(){return y.createElement(die,this.props)}}s_(A2,"displayName","YAxis");s_(A2,"defaultProps",fie);var iy={exports:{}},oy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5;function mie(){if(K5)return oy;K5=1;var e=Dl();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return oy.useSyncExternalStoreWithSelector=function(f,m,h,g,x){var b=s(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=c(function(){function S(O){if(!C){if(C=!0,A=O,O=g(O),x!==void 0&&j.hasValue){var k=j.value;if(x(k,O))return E=k}return E=O}if(k=E,n(A,O))return k;var P=g(O);return x!==void 0&&x(k,P)?(A=O,k):(A=O,E=P)}var C=!1,A,E,T=h===void 0?null:h;return[function(){return S(m())},T===null?void 0:function(){return S(T())}]},[m,h,g,x]);var N=a(f,b[0],b[1]);return l(function(){j.hasValue=!0,j.value=N},[N]),d(N),N},oy}var Y5;function hie(){return Y5||(Y5=1,iy.exports=mie()),iy.exports}hie();function pie(e){e()}function gie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var W5={notify(){},get:()=>[]};function xie(e,t){let n,a=W5,s=0,l=!1;function c(N){h();const S=a.subscribe(N);let C=!1;return()=>{C||(C=!0,S(),g())}}function d(){a.notify()}function f(){j.onStateChange&&j.onStateChange()}function m(){return l}function h(){s++,n||(n=e.subscribe(f),a=gie())}function g(){s--,n&&s===0&&(n(),n=void 0,a.clear(),a=W5)}function x(){l||(l=!0,h())}function b(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:x,tryUnsubscribe:b,getListeners:()=>a};return j}var yie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vie=yie(),bie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jie=bie(),wie=()=>vie||jie?y.useLayoutEffect:y.useEffect,Nie=wie(),ly=Symbol.for("react-redux-context"),cy=typeof globalThis<"u"?globalThis:{};function Sie(){if(!y.createContext)return{};const e=cy[ly]??(cy[ly]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Cie=Sie();function Aie(e){const{children:t,context:n,serverState:a,store:s}=e,l=y.useMemo(()=>{const f=xie(s);return{store:s,subscription:f,getServerState:a?()=>a:void 0}},[s,a]),c=y.useMemo(()=>s.getState(),[s]);Nie(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||Cie;return y.createElement(d.Provider,{value:l},t)}var Eie=Aie,Oie=(e,t)=>t,E2=ve([Oie,$t,JQ,In,iP,ks,Uee,On],Kee),O2=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/a)}},i_=or("mouseClick"),o_=td();o_.startListening({actionCreator:i_,effect:(e,t)=>{var n=e.payload,a=E2(t.getState(),O2(n));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(JJ({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Rv=or("mouseMove"),l_=td();l_.startListening({actionCreator:Rv,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=n2(a,a.tooltip.settings.shared),l=E2(a,O2(n));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(JM({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(QM()))}});function Tie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var X5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},c_=cr({name:"rootProps",initialState:X5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:X5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),kie=c_.reducer,{updateOptions:Mie}=c_.actions,u_=cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Pie}=u_.actions,_ie=u_.reducer,d_=or("keyDown"),f_=or("focus"),T2=td();T2.startListening({actionCreator:d_,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(a2(s,No(n))),d=ks(n);if(l==="Enter"){var f=Ym(n,"axis","hover",String(s.index));t.dispatch(Av({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=FJ(n),h=m==="left-to-right"?1:-1,g=l==="ArrowRight"?1:-1,x=c+g*h;if(!(d==null||x>=d.length||x<0)){var b=Ym(n,"axis","hover",String(x));t.dispatch(Av({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});T2.startListening({actionCreator:f_,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var l="0",c=Ym(n,"axis","hover",String(l));t.dispatch(Av({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Ja=or("externalEvent"),m_=td();m_.startListening({actionCreator:Ja,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),a={activeCoordinate:_ee(n),activeDataKey:uP(n),activeIndex:mo(n),activeLabel:cP(n),activeTooltipIndex:mo(n),isTooltipActive:Dee(n)};e.payload.handler(a,e.payload.reactEvent)}}});var Die=ve([tc],e=>e.tooltipItemPayloads),Rie=ve([Die,dd,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,a)=>{var s=e.find(d=>d.settings.dataKey===a);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,n);return c}}}),h_=or("touchMove"),p_=td();p_.startListening({actionCreator:h_,effect:(e,t)=>{var n=e.payload,a=t.getState(),s=n2(a,a.tooltip.settings.shared);if(s==="axis"){var l=E2(a,O2({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(JM({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(n6),h=(c=f.getAttribute(a6))!==null&&c!==void 0?c:void 0,g=Rie(t.getState(),m,h);t.dispatch(ZM({activeDataKey:h,activeIndex:m,activeCoordinate:g}))}}});var Lie=Ok({brush:Jre,cartesianAxis:Yse,chartData:cte,graphicalItems:Fne,layout:nY,legend:$Y,options:rte,polarAxis:One,polarOptions:_ie,referenceElements:ise,rootProps:kie,tooltip:eee}),Iie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return EK({reducer:Lie,preloadedState:t,middleware:a=>a({serializableCheck:!1}).concat([o_.middleware,l_.middleware,T2.middleware,m_.middleware,p_.middleware]),devTools:{serialize:{replacer:Tie},name:"recharts-".concat(n)}})};function g_(e){var{preloadedState:t,children:n,reduxStoreName:a}=e,s=va(),l=y.useRef(null);if(s)return n;l.current==null&&(l.current=Iie(t,a));var c=Yb;return y.createElement(Eie,{context:c,store:l.current},n)}function x_(e){var{layout:t,width:n,height:a,margin:s}=e,l=un(),c=va();return y.useEffect(()=>{c||(l(JK(t)),l(eY({width:n,height:a})),l(QK(s)))},[l,c,t,n,a,s]),null}function y_(e){var t=un();return y.useEffect(()=>{t(Mie(e))},[t,e]),null}var zie=["children"];function $ie(e,t){if(e==null)return{};var n,a,s=Bie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Bie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eh.apply(null,arguments)}var qie={width:"100%",height:"100%"},Uie=y.forwardRef((e,t)=>{var n=i6(),a=o6(),s=d6();if(!Ol(n)||!Ol(a))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,y.createElement(Q3,eh({},c,{title:d,desc:f,role:h,tabIndex:m,width:n,height:a,style:qie,ref:t}),l)}),Vie=e=>{var{children:t}=e,n=nt(Ph);if(!n)return null;var{width:a,height:s,y:l,x:c}=n;return y.createElement(Q3,{width:a,height:s,x:c,y:l},t)},Z5=y.forwardRef((e,t)=>{var{children:n}=e,a=$ie(e,zie),s=va();return s?y.createElement(Vie,null,n):y.createElement(Uie,eh({ref:t},a),n)});function Fie(){var e=un(),[t,n]=y.useState(null),a=nt(kY);return y.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;$a(l)&&l!==a&&e(tY(l))}},[t,e,a]),n}function Q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Hie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(n),!0).forEach(function(a){Gie(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Gie(e,t,n){return(t=Kie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wie=y.forwardRef((e,t)=>{var{children:n,className:a,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:g,onMouseUp:x,onTouchEnd:b,onTouchMove:j,onTouchStart:N,style:S,width:C}=e,A=un(),[E,T]=y.useState(null),[O,k]=y.useState(null);fte();var P=Fie(),_=y.useCallback(G=>{P(G),typeof t=="function"&&t(G),T(G),k(G)},[P,t,T,k]),L=y.useCallback(G=>{A(i_(G)),A(Ja({handler:l,reactEvent:G}))},[A,l]),U=y.useCallback(G=>{A(Rv(G)),A(Ja({handler:m,reactEvent:G}))},[A,m]),V=y.useCallback(G=>{A(QM()),A(Ja({handler:h,reactEvent:G}))},[A,h]),K=y.useCallback(G=>{A(Rv(G)),A(Ja({handler:g,reactEvent:G}))},[A,g]),le=y.useCallback(()=>{A(f_())},[A]),ee=y.useCallback(G=>{A(d_(G.key))},[A]),ne=y.useCallback(G=>{A(Ja({handler:c,reactEvent:G}))},[A,c]),B=y.useCallback(G=>{A(Ja({handler:d,reactEvent:G}))},[A,d]),re=y.useCallback(G=>{A(Ja({handler:f,reactEvent:G}))},[A,f]),Q=y.useCallback(G=>{A(Ja({handler:x,reactEvent:G}))},[A,x]),H=y.useCallback(G=>{A(Ja({handler:N,reactEvent:G}))},[A,N]),D=y.useCallback(G=>{A(h_(G)),A(Ja({handler:j,reactEvent:G}))},[A,j]),q=y.useCallback(G=>{A(Ja({handler:b,reactEvent:G}))},[A,b]);return y.createElement(gP.Provider,{value:E},y.createElement(NH.Provider,{value:O},y.createElement("div",{className:Ft("recharts-wrapper",a),style:Hie({position:"relative",cursor:"default",width:C,height:s},S),onClick:L,onContextMenu:ne,onDoubleClick:B,onFocus:le,onKeyDown:ee,onMouseDown:re,onMouseEnter:U,onMouseLeave:V,onMouseMove:K,onMouseUp:Q,onTouchEnd:q,onTouchMove:D,onTouchStart:H,ref:_},n)))}),Xie=["children","className","width","height","style","compact","title","desc"];function Zie(e,t){if(e==null)return{};var n,a,s=Qie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Qie(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var v_=y.forwardRef((e,t)=>{var{children:n,className:a,width:s,height:l,style:c,compact:d,title:f,desc:m}=e,h=Zie(e,Xie),g=zt(h,!1);return d?y.createElement(Z5,{otherAttributes:g,title:f,desc:m},n):y.createElement(Wie,{className:a,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(Z5,{otherAttributes:g,title:f,desc:m,ref:t},y.createElement(lse,null,n)))}),Jie=["width","height"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lv.apply(null,arguments)}function eoe(e,t){if(e==null)return{};var n,a,s=toe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function toe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var noe={top:5,right:5,bottom:5,left:5},aoe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:noe,reverseStackOrder:!1,syncMethod:"index"},roe=y.forwardRef(function(t,n){var a,s=Or(t.categoricalChartProps,aoe),{width:l,height:c}=s,d=eoe(s,Jie);if(!Ol(l)||!Ol(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:x}=t,b={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return y.createElement(g_,{preloadedState:{options:b},reduxStoreName:(a=x.id)!==null&&a!==void 0?a:f},y.createElement(XP,{chartData:x.data}),y.createElement(x_,{width:l,height:c,layout:s.layout,margin:s.margin}),y.createElement(y_,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),y.createElement(v_,Lv({},d,{width:l,height:c,ref:n})))}),soe=["axis","item"],ioe=y.forwardRef((e,t)=>y.createElement(roe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:soe,tooltipPayloadSearcher:xP,categoricalChartProps:e,ref:t}));function ooe(e){var t=un();return y.useEffect(()=>{t(Pie(e))},[t,e]),null}var loe=["width","height","layout"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Iv.apply(null,arguments)}function coe(e,t){if(e==null)return{};var n,a,s=uoe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function uoe(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var doe={top:5,right:5,bottom:5,left:5},foe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:doe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},moe=y.forwardRef(function(t,n){var a,s=Or(t.categoricalChartProps,foe),{width:l,height:c,layout:d}=s,f=coe(s,loe);if(!Ol(l)||!Ol(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:x}=t,b={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return y.createElement(g_,{preloadedState:{options:b},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:m},y.createElement(XP,{chartData:s.data}),y.createElement(x_,{width:l,height:c,layout:d,margin:s.margin}),y.createElement(y_,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),y.createElement(ooe,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),y.createElement(v_,Iv({width:l,height:c},f,{ref:n})))}),hoe=["item"],poe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},goe=y.forwardRef((e,t)=>{var n=Or(e,poe);return y.createElement(moe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hoe,tooltipPayloadSearcher:xP,categoricalChartProps:n,ref:t})});const{BASE_URL:xoe,ENDPOINTS:yoe}=ke,voe=()=>{const{user:e,token:t}=Gn(),[n,a]=y.useState(null),[s,l]=y.useState(!0),[c,d]=y.useState(null),f=async()=>{var m,h;if(!t){d("No hay token de autenticacin"),l(!1);return}try{l(!0),d(null);const g=await Le.get(`${xoe}${yoe.DASHBOARD}/all`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},withCredentials:!0});if(g.data.success)a(g.data.data);else throw new Error(g.data.message||"Error al obtener datos")}catch(g){console.error("Error fetching dashboard data:",g),d(((h=(m=g.response)==null?void 0:m.data)==null?void 0:h.message)||"Error al obtener datos del dashboard")}finally{l(!1)}};return y.useEffect(()=>{t&&e&&f()},[t,e]),{dashboardData:n,loading:s,error:c,refreshData:f}},boe=({onNavigate:e,visibleIds:t=[]})=>{var m,h,g,x,b,j,N,S;const{dashboardData:n,loading:a,error:s,refreshData:l}=voe(),{user:c}=Gn(),d=["#009BBF","#00B8E6","#33C7E6","#66D6E6"],f=[{id:"lentes",title:"Crear Lentes",icon:an,onClick:()=>e?e("lentes"):console.log("Crear Lentes")},{id:"citas",title:"Crear Cita",icon:Br,onClick:()=>e?e("citas"):console.log("Crear Cita")},{id:"recetas",title:"Crear Receta",icon:B3,onClick:()=>e?e("recetas"):console.log("Crear Receta")},{id:"promociones",title:"Crear Promocin",icon:Fi,onClick:()=>e?e("promociones"):console.log("Crear Promocin")}];return a?r.jsx("div",{children:"Cargando..."}):s?r.jsxs("div",{children:["Error: ",s]}):c?r.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6 bg-gray-50",children:[r.jsxs("div",{className:"mb-6 sm:mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-[#3C3C3B] mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Bienvenido al panel de administracin"})]}),r.jsxs("button",{onClick:l,className:"w-full sm:w-auto bg-[#009BBF] hover:bg-[#0088A8] text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm sm:text-base",children:[r.jsx(I3,{className:"h-4 w-4"}),"Actualizar"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[#3C3C3B] mb-4 sm:mb-6",children:"Indicadores Clave de Rendimiento"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx(Qu,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Clientes"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:((g=(h=(m=n==null?void 0:n.stats)==null?void 0:m.totalClientes)==null?void 0:h.toLocaleString)==null?void 0:g.call(h))||0})]})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx(Br,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Citas Hoy"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:((x=n==null?void 0:n.stats)==null?void 0:x.citasHoy)??0})]})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx($3,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Ventas del Mes"}),r.jsx("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:((b=n==null?void 0:n.stats)==null?void 0:b.ventasDelMes)??0})]})]})}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 sm:p-3 rounded-full bg-[#009BBF]/10",children:r.jsx(po,{className:"h-5 w-5 sm:h-6 sm:w-6 text-[#009BBF]"})}),r.jsxs("div",{className:"ml-3 sm:ml-4",children:[r.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Ingresos del Mes"}),r.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-[#3C3C3B]",children:["$",((S=(N=(j=n==null?void 0:n.stats)==null?void 0:j.totalIngresos)==null?void 0:N.toLocaleString)==null?void 0:S.call(N))||0]})]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#3C3C3B] mb-4",children:"Ventas Mensuales"}),r.jsx("div",{className:"h-48 sm:h-56 md:h-64",children:r.jsx(i5,{width:"100%",height:"100%",children:r.jsxs(ioe,{data:(n==null?void 0:n.ventasMensuales)||[],children:[r.jsx(t_,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),r.jsx(C2,{dataKey:"mes",tick:{fontSize:10,fill:"#3C3C3B"},axisLine:{stroke:"#e0e0e0"}}),r.jsx(A2,{tick:{fontSize:10,fill:"#3C3C3B"},axisLine:{stroke:"#e0e0e0"}}),r.jsx(t5,{contentStyle:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",color:"#3C3C3B",fontSize:"12px"}}),r.jsx(b2,{dataKey:"ventas",fill:"#009BBF",radius:[4,4,0,0]})]})})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h3",{className:"text-base sm:text-lg font-semibold text-[#3C3C3B] mb-4",children:"Estado de Citas"}),r.jsx("div",{className:"h-48 sm:h-56 md:h-64",children:r.jsx(i5,{width:"100%",height:"100%",children:r.jsxs(goe,{children:[r.jsx(v2,{data:(n==null?void 0:n.estadoCitas)||[],cx:"50%",cy:"50%",labelLine:!1,label:({estado:C,cantidad:A})=>`${C}: ${A}`,outerRadius:60,fill:"#009BBF",dataKey:"cantidad",children:((n==null?void 0:n.estadoCitas)||[]).map((C,A)=>r.jsx(fd,{fill:d[A%d.length]},`cell-${A}`))}),r.jsx(t5,{contentStyle:{backgroundColor:"white",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",color:"#3C3C3B",fontSize:"12px"}})]})})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-[#3C3C3B] mb-4 sm:mb-6",children:"Acciones Rpidas"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:f.filter(C=>!t.length||t.includes(C.id)).map((C,A)=>r.jsxs("button",{onClick:C.onClick,className:"bg-[#009BBF] hover:bg-[#0088A8] text-white p-3 sm:p-4 rounded-lg flex flex-col items-center justify-center transition-all duration-200 transform hover:scale-105 shadow-md",children:[r.jsx(C.icon,{className:"h-6 w-6 sm:h-8 sm:w-8 mb-2"}),r.jsx("span",{className:"text-xs sm:text-sm font-medium text-center",children:C.title})]},A))})]})]}):r.jsx("div",{children:"Debe iniciar sesin para ver el dashboard"})},joe=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,categorias:f,marcas:m,promociones:h,sucursales:g,setFormData:x})=>{const[b,j]=y.useState("");y.useEffect(()=>{e||j("")},[e]);const N=Array.isArray(h)?h:[];y.useEffect(()=>{!(s!=null&&s.enPromocion)&&(s!=null&&s.promocionId)&&l({target:{name:"promocionId",value:""}})},[s==null?void 0:s.enPromocion]),y.useEffect(()=>{if(!s)return;const _=Number(s.precioBase);if(!(!_||isNaN(_)))if(s.enPromocion&&s.promocionId){const L=N.find(V=>String(V._id)===String(s.promocionId));if(!L)return;let U=_;L.tipoDescuento==="porcentaje"?U=_*(1-Number(L.valorDescuento||0)/100):L.tipoDescuento==="monto_fijo"&&(U=Math.max(0,_-Number(L.valorDescuento||0))),l({target:{name:"precioActual",value:Number(U.toFixed(2))}})}else l({target:{name:"precioActual",value:_}})},[s==null?void 0:s.enPromocion,s==null?void 0:s.promocionId,s==null?void 0:s.precioBase]);const S=()=>{b.trim()&&!s.imagenes.includes(b.trim())&&(l({target:{name:"imagenes",value:[...s.imagenes,b.trim()]}}),j(""))},C=_=>{l({target:{name:"imagenes",value:s.imagenes.filter(L=>L!==_)}})},A=(_,L)=>{var K;const U=Number(L),V=s.sucursales.map(le=>le.sucursalId===_?{...le,stock:U}:le);if(!V.some(le=>le.sucursalId===_)){const le=(K=g.find(ee=>ee._id===_))==null?void 0:K.nombre;V.push({sucursalId:_,nombreSucursal:le,stock:U})}l({target:{name:"sucursales",value:V}})},E=!!(s!=null&&s.enPromocion),T=N.length===0,O=E&&T?"No hay promociones registradas.":"",k=[{name:"nombre",label:"Nombre del Lente",type:"text",required:!0,colSpan:1},{name:"descripcion",label:"Descripcin",type:"textarea",required:!0,colSpan:2},{name:"categoriaId",label:"Categora",type:"select",options:f.map(_=>({value:_._id,label:_.nombre})),required:!0,colSpan:1},{name:"marcaId",label:"Marca",type:"select",options:m.map(_=>({value:_._id,label:_.nombre})),required:!0,colSpan:1},{name:"material",label:"Material",type:"text",required:!0,colSpan:1},{name:"color",label:"Color",type:"text",required:!0,colSpan:1},{name:"tipoLente",label:"Tipo de Lente",type:"select",options:["Monofocal","Bifocal","Progresivo","Ocupacional"],required:!0,colSpan:1},{name:"precioBase",label:"Precio",type:"number",required:!0,colSpan:1,step:"0.01"},{name:"linea",label:"Lnea",type:"text",required:!0,colSpan:1},{name:"medidas.anchoPuente",label:"Ancho Puente (mm)",type:"text",required:!1,colSpan:1,nested:!0,step:"0.01"},{name:"medidas.altura",label:"Altura (mm)",type:"text",required:!1,colSpan:1,nested:!0,step:"0.01"},{name:"medidas.ancho",label:"Ancho (mm)",type:"text",required:!1,colSpan:1,nested:!0,step:"0.01"},{name:"enPromocion",label:"En promocin?",type:"checkbox",required:!1,colSpan:2},{name:"promocionId",label:"Selecciona una promocin",type:"select",options:N.map(_=>{const L=_.tipoDescuento==="porcentaje",U=Number(_.valorDescuento||0),V=_.fechaFin?new Date(_.fechaFin):null,K=V?V.toLocaleDateString("es-SV"):"",le=L?`${U}%`:`$${U}`;return{value:_._id,label:`${_.nombre} (${le}${K?`  hasta ${K}`:""})`}}),required:s.enPromocion&&N.length>0,colSpan:2,hidden:!s.enPromocion,disabled:N.length===0,placeholder:N.length===0?"No hay promociones disponibles":"Selecciona una promocin"},{name:"promoHint",label:"",type:"text",colSpan:2,hidden:!E||!O},{name:"fechaCreacion",label:"Fecha de Creacin",type:"date",required:!0,colSpan:2}],P=r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"col-span-2 border-t pt-4 mt-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(_3,{className:"w-5 h-5 mr-2 text-cyan-600"})," Imgenes del Lente"]}),r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("input",{type:"text",className:"flex-grow p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Aadir URL de imagen...",value:b,onChange:_=>j(_.target.value),onKeyPress:_=>{_.key==="Enter"&&(_.preventDefault(),S())}}),r.jsx("button",{type:"button",onClick:S,className:"p-2 bg-cyan-500 text-white rounded-md hover:bg-cyan-600 transition-colors flex items-center",children:r.jsx(Cs,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:s.imagenes.map((_,L)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:_,alt:`Imagen ${L+1}`,className:"w-20 h-20 object-cover rounded-md border border-gray-200"}),r.jsx("button",{type:"button",onClick:()=>C(_),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Ra,{className:"w-3 h-3"})})]},L))}),c.imagenes&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.imagenes})]}),r.jsxs("div",{className:"col-span-2 border-t pt-4 mt-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(sr,{className:"w-5 h-5 mr-2 text-cyan-600"})," Stock por Sucursal"]}),g.length>0?r.jsx("div",{className:"space-y-3",children:g.map(_=>{const L=s.sucursales.find(V=>String(V.sucursalId)===String(_._id)),U=L?L.stock:0;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("label",{className:"block text-gray-700 font-medium w-40 truncate",title:_.nombre,children:[_.nombre,":"]}),r.jsx("input",{type:"number",min:"0",className:"flex-grow p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500",value:U,onChange:V=>A(_._id,V.target.value)}),c[`sucursales[${_._id}].stock`]&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:c[`sucursales[${_._id}].stock`]})]},_._id)})}):r.jsx("p",{className:"text-gray-500",children:"No hay sucursales disponibles para asignar stock."})]})]});return r.jsx(ir,{isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,fields:k,customFields:{promoHint:r.jsx("div",{className:"text-sm text-gray-600 bg-yellow-50 border border-yellow-200 rounded-md px-3 py-2",children:O})},gridCols:2,children:P})},zv=()=>ke.BASE_URL,Gf="https://a-u-r-o-r-a.onrender.com/api",is=(e,t=zv())=>`${t}${e}`,woe=()=>{var R,se,xe,Oe,Ue,He,Je,ut;const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,l]=y.useState([]),[c,d]=y.useState([]),[f,m]=y.useState([]),[h,g]=y.useState(!0),[x,b]=y.useState(null),[j,N]=y.useState(null),[S,C]=y.useState(!1),[A,E]=y.useState(!1),[T,O]=y.useState(!1),[k,P]=y.useState(""),[_,L]=y.useState("todos"),U=async()=>{var z,ae,Ae,Re;g(!0);try{const Ve=zv(),st=async mt=>Promise.all([Le.get(is("/lentes",mt)),Le.get(is("/categoria",mt)),Le.get(is("/marcas",mt)),Le.get(is("/promociones",mt)),Le.get(is("/sucursales",mt))]);let ct,at,Nt,Tt,_t;try{[ct,at,Nt,Tt,_t]=await st(Ve)}catch(mt){const ba=((z=mt==null?void 0:mt.message)==null?void 0:z.includes("ERR_CONNECTION_REFUSED"))||(mt==null?void 0:mt.code)==="ERR_NETWORK",Ba=Ve.includes("localhost");if(ba&&Ba)[ct,at,Nt,Tt,_t]=await st(Gf),ke.BASE_URL=Gf;else throw mt}const dn=Array.isArray(ct.data)?ct.data:Array.isArray((ae=ct.data)==null?void 0:ae.data)?ct.data.data:[];t(dn),a(at.data),l(Nt.data),d(Tt.data),m(_t.data)}catch(Ve){H("error","Error al cargar los datos: "+(((Re=(Ae=Ve.response)==null?void 0:Ae.data)==null?void 0:Re.message)||Ve.message))}finally{g(!1)}};y.useEffect(()=>{U()},[]);const V={nombre:"",descripcion:"",categoriaId:"",marcaId:"",material:"",color:"",tipoLente:"",precioBase:"",precioActual:"",linea:"",medidas:{anchoPuente:"",altura:"",ancho:""},imagenes:[],enPromocion:!1,promocionId:"",fechaCreacion:new Date().toISOString().split("T")[0],sucursales:[]},{formData:K,setFormData:le,handleInputChange:ee,resetForm:ne,validateForm:B,errors:re,setErrors:Q}=Sl(V,z=>{var Ae,Re,Ve,st,ct,at;const ae={};return(Ae=z.nombre)!=null&&Ae.trim()||(ae.nombre="El nombre es requerido."),(Re=z.descripcion)!=null&&Re.trim()||(ae.descripcion="La descripcin es requerida."),z.categoriaId||(ae.categoriaId="La categora es requerida."),z.marcaId||(ae.marcaId="La marca es requerida."),(Ve=z.material)!=null&&Ve.trim()||(ae.material="El material es requerido."),(st=z.color)!=null&&st.trim()||(ae.color="El color es requerido."),(ct=z.tipoLente)!=null&&ct.trim()||(ae.tipoLente="El tipo de lente es requerido."),(z.precioBase<=0||isNaN(z.precioBase))&&(ae.precioBase="El precio base debe ser un nmero mayor a 0."),(z.precioActual<=0||isNaN(z.precioActual))&&(ae.precioActual="El precio actual debe ser un nmero mayor a 0."),z.precioActual>z.precioBase&&(ae.precioActual="El precio actual no puede ser mayor que el precio base."),(at=z.linea)!=null&&at.trim()||(ae.linea="La lnea es requerida."),z.medidas?((z.medidas.anchoPuente<=0||isNaN(z.medidas.anchoPuente))&&(ae["medidas.anchoPuente"]="Ancho de puente invlido."),(z.medidas.altura<=0||isNaN(z.medidas.altura))&&(ae["medidas.altura"]="Altura invlida."),(z.medidas.ancho<=0||isNaN(z.medidas.ancho))&&(ae["medidas.ancho"]="Ancho invlido.")):ae.medidas="Las medidas son requeridas.",(!z.imagenes||z.imagenes.length===0)&&(ae.imagenes="Se requiere al menos una imagen."),z.enPromocion&&!z.promocionId&&(ae.promocionId="Se debe seleccionar una promocin si est en promocin."),z.sucursales.forEach(Nt=>{(Nt.stock<0||Nt.stock===null||Nt.stock===void 0||isNaN(Nt.stock))&&(ae[`sucursales[${Nt.sucursalId}].stock`]="El stock no puede ser negativo.")}),ae}),H=(z,ae)=>{N({type:z,message:ae}),setTimeout(()=>N(null),5e3)},D=()=>{C(!1),E(!1),O(!1),b(null),ne(),Q({})},q=()=>{ne(),le(V),C(!0)},G=z=>{var ae,Ae,Re,Ve,st,ct;b(z),le({...z,categoriaId:((ae=z.categoriaId)==null?void 0:ae._id)||"",marcaId:((Ae=z.marcaId)==null?void 0:Ae._id)||"",promocionId:((Re=z.promocionId)==null?void 0:Re._id)||"",fechaCreacion:z.fechaCreacion?new Date(z.fechaCreacion).toISOString().split("T")[0]:"",sucursales:z.sucursales||[],medidas:{anchoPuente:((Ve=z.medidas)==null?void 0:Ve.anchoPuente)||"",altura:((st=z.medidas)==null?void 0:st.altura)||"",ancho:((ct=z.medidas)==null?void 0:ct.ancho)||""},imagenes:z.imagenes||[]}),C(!0)},J=z=>{b(z),E(!0)},W=z=>{b(z),O(!0)},pe=async()=>{var z,ae,Ae,Re,Ve,st,ct,at,Nt;if(!B()){H("error","Por favor, corrige los errores en el formulario.");return}try{const Tt=K.medidas||{};let _t={nombre:(z=K.nombre)==null?void 0:z.trim(),descripcion:(ae=K.descripcion)==null?void 0:ae.trim(),categoriaId:K.categoriaId,marcaId:K.marcaId,material:(Ae=K.material)==null?void 0:Ae.trim(),color:(Re=K.color)==null?void 0:Re.trim(),tipoLente:(Ve=K.tipoLente)==null?void 0:Ve.trim(),precioBase:Number(K.precioBase),precioActual:Number(K.precioActual),linea:(st=K.linea)==null?void 0:st.trim(),medidas:{anchoPuente:Number(Tt.anchoPuente),altura:Number(Tt.altura),ancho:Number(Tt.ancho)},imagenes:Array.isArray(K.imagenes)?K.imagenes:[],enPromocion:!!K.enPromocion,promocionId:K.enPromocion?K.promocionId:void 0,fechaCreacion:K.fechaCreacion,sucursales:Array.isArray(K.sucursales)?K.sucursales.map(jt=>{var ue,Te;return{sucursalId:typeof jt.sucursalId=="object"&&((ue=jt.sucursalId)!=null&&ue._id)?jt.sucursalId._id:jt.sucursalId,nombreSucursal:jt.nombreSucursal||((Te=f.find(dt=>{var ht;return dt._id===(typeof jt.sucursalId=="object"?(ht=jt.sucursalId)==null?void 0:ht._id:jt.sucursalId)}))==null?void 0:Te.nombre)||"",stock:Number(jt.stock??0)}}).filter(jt=>typeof jt.sucursalId=="string"&&/^[a-fA-F0-9]{24}$/.test(jt.sucursalId)):[]};const dn=jt=>{Object.keys(jt).forEach(ue=>{const Te=jt[ue];if(Te==null){delete jt[ue];return}if(typeof Te=="string"&&Te.trim()===""){delete jt[ue];return}typeof Te=="object"&&!Array.isArray(Te)&&dn(Te)})};dn(_t);const mt=zv(),ba=is(`/lentes/${(x==null?void 0:x._id)||""}`,mt),Ba=is("/lentes",mt),ja=async jt=>{var ue;try{return await jt(mt)}catch(Te){const dt=((ue=Te==null?void 0:Te.message)==null?void 0:ue.includes("ERR_CONNECTION_REFUSED"))||(Te==null?void 0:Te.code)==="ERR_NETWORK",ht=mt.includes("localhost");if(dt&&ht)return ke.BASE_URL=Gf,await jt(Gf);throw Te}};x?(await ja(jt=>Le.put(is(`/lentes/${x._id}`,jt),_t)),H("success","Lente actualizado exitosamente.")):(await ja(jt=>Le.post(is("/lentes",jt),_t)),H("success","Lente creado exitosamente.")),U(),D()}catch(Tt){H("error","Error al guardar el lente: "+(((at=(ct=Tt.response)==null?void 0:ct.data)==null?void 0:at.message)||Tt.message)),console.error("Error saving lente:",((Nt=Tt.response)==null?void 0:Nt.data)||Tt.message)}},ge=async()=>{var z,ae;try{await Le.delete(`${API_URL}/lentes/${x._id}`),H("success","Lente eliminado exitosamente."),U(),D()}catch(Ae){H("error","Error al eliminar el lente: "+(((ae=(z=Ae.response)==null?void 0:z.data)==null?void 0:ae.message)||Ae.message))}},$e=y.useMemo(()=>{let z=Array.isArray(e)?e:[];if(k){const ae=k.toLowerCase();z=z.filter(Ae=>{var Re,Ve,st,ct,at,Nt,Tt,_t,dn,mt;return((Re=Ae.nombre)==null?void 0:Re.toLowerCase().includes(ae))||((Ve=Ae.descripcion)==null?void 0:Ve.toLowerCase().includes(ae))||((st=Ae.material)==null?void 0:st.toLowerCase().includes(ae))||((ct=Ae.color)==null?void 0:ct.toLowerCase().includes(ae))||((at=Ae.tipoLente)==null?void 0:at.toLowerCase().includes(ae))||((Nt=Ae.linea)==null?void 0:Nt.toLowerCase().includes(ae))||((_t=(Tt=Ae.categoriaId)==null?void 0:Tt.nombre)==null?void 0:_t.toLowerCase().includes(ae))||((mt=(dn=Ae.marcaId)==null?void 0:dn.nombre)==null?void 0:mt.toLowerCase().includes(ae))})}return _!=="todos"&&(_==="enPromocion"?z=z.filter(ae=>ae.enPromocion):z=z.filter(ae=>{var Ae;return((Ae=ae.tipoLente)==null?void 0:Ae.toLowerCase())===_})),z},[e,k,_]),{currentPage:be,pageSize:Ne,paginatedData:De,totalPages:Ie,goToNextPage:te,goToPreviousPage:_e,goToFirstPage:Me,goToLastPage:qe,setPageSize:Ke}=Hl($e),Be=z=>z.sucursales?z.sucursales.reduce((ae,Ae)=>ae+Ae.stock,0):0,F=Array.isArray(e)?e:[],$=[{id:1,name:"Total de Lentes",value:F.length,Icon:Pu,color:"text-blue-500"},{id:2,name:"Lentes en Promocin",value:F.filter(z=>z.enPromocion).length,Icon:U3,color:"text-purple-500"},{id:3,name:"Stock Total",value:F.reduce((z,ae)=>z+Be(ae),0),Icon:sr,color:"text-green-500"},{id:4,name:"Valor Inventario",value:F.reduce((z,ae)=>z+ae.precioActual*Be(ae),0).toLocaleString("es-SV",{style:"currency",currency:"USD"}),Icon:po,color:"text-yellow-500"}],Z=[{label:"Nombre",key:"nombre"},{label:"Lnea",key:"linea"},{label:"Tipo Lente",key:"tipoLente"},{label:"Marca",key:"marcaId",render:z=>{var ae;return((ae=z.marcaId)==null?void 0:ae.nombre)||z.marcaId||"-"}},{label:"Categora",key:"categoriaId",render:z=>{var ae;return((ae=z.categoriaId)==null?void 0:ae.nombre)||z.categoriaId||"-"}},{label:"Precio Actual",key:"precioActual",render:z=>{var ae;return(ae=z.precioActual)==null?void 0:ae.toLocaleString("es-SV",{style:"currency",currency:"USD"})}},{label:"Stock Total",key:"stockTotal",render:z=>Be(z)},{label:"Promocin",key:"enPromocion",render:z=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z.enPromocion?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:z.enPromocion?"S":"No"})},{label:"Acciones",key:"actions",render:z=>r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>J(z),className:"text-blue-600 hover:text-blue-800",children:r.jsx(an,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>G(z),className:"text-yellow-600 hover:text-yellow-800",children:r.jsx(na,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>W(z),className:"text-red-600 hover:text-red-800",children:r.jsx(Rn,{className:"w-5 h-5"})})]})}],Y=x?[{label:"ID",value:x._id},{label:"Nombre",value:x.nombre},{label:"Descripcin",value:x.descripcion},{label:"Categora",value:((R=x.categoriaId)==null?void 0:R.nombre)||"N/A"},{label:"Marca",value:((se=x.marcaId)==null?void 0:se.nombre)||"N/A"},{label:"Material",value:x.material},{label:"Color",value:x.color},{label:"Tipo de Lente",value:x.tipoLente},{label:"Precio Base",value:(xe=x.precioBase)==null?void 0:xe.toLocaleString("es-SV",{style:"currency",currency:"USD"})},{label:"Precio Actual",value:(Oe=x.precioActual)==null?void 0:Oe.toLocaleString("es-SV",{style:"currency",currency:"USD"})},{label:"Lnea",value:x.linea},{label:"Ancho Puente",value:`${((Ue=x.medidas)==null?void 0:Ue.anchoPuente)||"N/A"} mm`},{label:"Altura",value:`${((He=x.medidas)==null?void 0:He.altura)||"N/A"} mm`},{label:"Ancho",value:`${((Je=x.medidas)==null?void 0:Je.ancho)||"N/A"} mm`},{label:"Imgenes",value:x.imagenes&&x.imagenes.length>0?r.jsx("div",{className:"flex flex-wrap gap-2",children:x.imagenes.map((z,ae)=>r.jsx("img",{src:z,alt:`Lente ${ae+1}`,className:"w-24 h-24 object-cover rounded-md"},ae))}):"No images"},{label:"En Promocin",value:x.enPromocion?"S":"No",color:x.enPromocion?"text-green-600":"text-red-600"},{label:"Promocin",value:((ut=x.promocionId)==null?void 0:ut.nombre)||"N/A"},{label:"Fecha de Creacin",value:x.fechaCreacion?new Date(x.fechaCreacion).toLocaleDateString():"N/A"},{label:"Stock por Sucursal",value:x.sucursales&&x.sucursales.length>0?r.jsx("ul",{className:"list-disc list-inside",children:x.sucursales.map((z,ae)=>r.jsxs("li",{children:[z.nombreSucursal,": ",z.stock," unidades"]},ae))}):"No stock info"}]:[];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(pi,{title:"Gestin de Lentes",subtitle:"Administra la informacin de todos los lentes disponibles en el inventario.",icon:Pu,buttonText:"Nuevo Lente",onButtonClick:q}),j&&r.jsx(Cr,{type:j.type,message:j.message,onClose:()=>N(null)}),r.jsx(Gl,{stats:$}),r.jsx(Kl,{searchTerm:k,onSearchChange:z=>P(z.target.value),activeFilter:_,onFilterChange:L,filters:[{label:"Todos",value:"todos"},{label:"En Promocin",value:"enPromocion"},{label:"Monofocal",value:"monofocal"},{label:"Bifocal",value:"bifocal"},{label:"Progresivo",value:"progresivo"},{label:"Ocupacional",value:"ocupacional"}],searchPlaceholder:"Buscar lentes por nombre, descripcin, material, etc."}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:h?r.jsx("div",{className:"text-center py-10",children:"Cargando lentes..."}):De.length>0?r.jsxs(r.Fragment,{children:[r.jsx(xo,{columns:Z,data:De}),r.jsx(gi,{currentPage:be,totalPages:Ie,goToNextPage:te,goToPreviousPage:_e,goToFirstPage:Me,goToLastPage:qe,pageSize:Ne,setPageSize:Ke})]}):r.jsx("div",{className:"text-center py-10",children:r.jsx("p",{className:"text-gray-500",children:"No se encontraron lentes que coincidan con la bsqueda."})})}),r.jsx(joe,{isOpen:S,onClose:D,onSubmit:pe,title:x?"Editar Lente":"Agregar Nuevo Lente",formData:K,handleInputChange:ee,errors:re,submitLabel:x?"Guardar Cambios":"Agregar Lente",categorias:n,marcas:s,promociones:c,sucursales:f,setFormData:le}),r.jsx(Ar,{isOpen:A,onClose:D,title:"Detalles del Lente",item:x,data:Y}),r.jsx(vs,{isOpen:T,onClose:D,onConfirm:ge,title:"Confirmar Eliminacin",message:`Ests seguro de que deseas eliminar el lente "${x==null?void 0:x.nombre}"? Esta accin no se puede deshacer.`})]})},Noe=({currentImages:e=[],onImagesChange:t,maxImages:n=5})=>{const[a,s]=y.useState(!1),[l,c]=y.useState(0),d=()=>{if(!window.cloudinary)return;window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko",uploadPreset:"empleados_perfil",sources:["local","camera","url"],folder:"accesorios",multiple:!0,maxFiles:n-e.length,cropping:!1,maxImageFileSize:1e7,clientAllowedFormats:["jpg","jpeg","png","webp"],styles:{palette:{window:"#FFFFFF",windowBorder:"#0891B2",tabIcon:"#0891B2",link:"#0891B2",action:"#0891B2"}},text:{es:{"queue.title":"Subir Imgenes","local.browse":"Seleccionar","camera.capture":"Tomar foto","crop.title":"Recortar imagen"}}},(g,x)=>{if(g){console.error("Error uploading:",g),s(!1),c(0);return}if(x&&x.event==="queues-start"&&(s(!0),c(x.info.files.length)),x&&x.event==="success"){const b=[...e,x.info.secure_url];t(b)}x&&x.event==="queues-end"&&(s(!1),c(0))}).open()},f=h=>{const g=e.filter((x,b)=>b!==h);t(g)},m=(h,g)=>{const x=[...e],b=x.splice(h,1)[0];x.splice(g,0,b),t(x)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Imgenes del Producto"}),e.length>0&&r.jsxs("span",{className:"text-sm text-gray-500",children:[e.length,"/",n," imgenes"]})]}),e.length<n&&r.jsx("button",{type:"button",onClick:d,disabled:a,className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center text-gray-500 hover:border-cyan-400 hover:text-cyan-500 transition-all duration-200 bg-gray-50 hover:bg-cyan-50",children:a?r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(Db,{className:"w-8 h-8 animate-spin text-cyan-500"}),r.jsxs("span",{className:"text-sm",children:["Subiendo ",l," imagen(es)..."]})]}):r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx(ph,{className:"w-8 h-8"}),r.jsx("span",{className:"text-sm font-medium",children:e.length===0?"Agregar imgenes del producto":"Agregar ms imgenes"}),r.jsx("span",{className:"text-xs text-gray-400",children:"Haz clic para seleccionar o tomar fotos"})]})}),e.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:e.map((h,g)=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:`aspect-square rounded-lg overflow-hidden border-2 ${g===0?"border-cyan-500":"border-gray-200"}`,children:r.jsx("img",{src:h,alt:`Imagen ${g+1}`,className:"w-full h-full object-cover"})}),g===0&&r.jsx("div",{className:"absolute top-2 left-2 bg-cyan-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Principal"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex space-x-2",children:[g>0&&r.jsx("button",{type:"button",onClick:()=>m(g,0),className:"p-2 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-all",title:"Hacer principal",children:r.jsx(Fi,{className:"w-4 h-4 text-cyan-600"})}),r.jsx("button",{type:"button",onClick:()=>f(g),className:"p-2 bg-white rounded-full shadow-lg hover:bg-red-50 transition-all",title:"Eliminar imagen",children:r.jsx(Rn,{className:"w-4 h-4 text-red-600"})})]})})]},g))}),e.length>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[r.jsx("span",{className:"font-medium",children:"Nota:"}),' La primera imagen ser la imagen principal del producto. Puedes reordenar haciendo clic en "Hacer principal".']})]})},Soe=({sucursales:e,selectedSucursales:t,onChange:n,errors:a})=>{const[s,l]=y.useState(!1);y.useEffect(()=>{l(t.length===e.length&&e.length>0)},[t,e]);const c=()=>{if(s)n([]);else{const m=e.map(h=>({sucursalId:h._id,nombreSucursal:h.nombre,stock:0}));n(m)}},d=m=>{if(t.find(g=>g.sucursalId===m._id)){const g=t.filter(x=>x.sucursalId!==m._id);n(g)}else{const g=[...t,{sucursalId:m._id,nombreSucursal:m.nombre,stock:0}];n(g)}},f=(m,h)=>{const g=t.map(x=>x.sucursalId===m?{...x,stock:parseInt(h)||0}:x);n(g)};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sucursales Disponibles *"}),r.jsx("button",{type:"button",onClick:c,className:"text-sm text-cyan-600 hover:text-cyan-700 font-medium",children:s?"Deseleccionar todas":"Seleccionar todas"})]}),r.jsx("div",{className:"border rounded-lg p-4 max-h-64 overflow-y-auto bg-gray-50",children:e.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay sucursales disponibles"}):r.jsx("div",{className:"space-y-3",children:e.map(m=>{const h=t.find(g=>g.sucursalId===m._id);return r.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border",children:[r.jsx("input",{type:"checkbox",id:`sucursal-${m._id}`,checked:!!h,onChange:()=>d(m),className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),r.jsx("label",{htmlFor:`sucursal-${m._id}`,className:"flex-1 text-sm font-medium text-gray-700 cursor-pointer",children:m.nombre}),h&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Stock:"}),r.jsx("input",{type:"number",min:"0",value:h.stock,onChange:g=>f(m._id,g.target.value),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"0"})]})]},m._id)})})}),t.length>0&&r.jsxs("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded",children:[" ",t.length," sucursal(es) seleccionada(s)"]}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},J5=({label:e,value:t,onChange:n,error:a,required:s=!1,placeholder:l="0.00"})=>{const[c,d]=y.useState(t||"");y.useEffect(()=>{d(t||"")},[t]);const f=m=>{const h=m.target.value;d(h);const g=parseFloat(h);!isNaN(g)&&g>=0?n(g):h===""&&n(0)};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e,s&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(po,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:c,onChange:f,placeholder:l,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${a?"border-red-500":"border-gray-300"}`})]}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},Coe=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,isEditing:d=!1,marcas:f=[],categorias:m=[],sucursales:h=[],selectedAccesorio:g=null})=>{var k,P,_;const[x,b]=y.useState([]),[j,N]=y.useState(!1);y.useEffect(()=>{s.marcaId?(N(!0),setTimeout(()=>{b({default:["Econmica","Estndar","Premium","Luxury"]}.default||[]),N(!1)},500)):b([])},[s.marcaId]);const S=L=>{l({target:{name:"imagenes",value:L}})},C=L=>{l({target:{name:"sucursales",value:L}})},A=L=>{l({target:{name:"precioBase",value:L}}),s.enPromocion||l({target:{name:"precioActual",value:L}})},E=L=>{const U=L.target.checked;l(L),U||(l({target:{name:"precioActual",value:s.precioBase||0}}),l({target:{name:"promocionId",value:""}}))},T=[{title:" Informacin Bsica",fields:[{name:"nombre",label:"Nombre del Accesorio",type:"text",placeholder:"Ej: Estuche de cuero premium",required:!0,className:"md:col-span-2"},{name:"descripcion",label:"Descripcin",type:"textarea",placeholder:"Describe las caractersticas y beneficios del accesorio...",required:!0,className:"md:col-span-2"}]},{title:" Categorizacin",fields:[{name:"tipo",label:"Categora",type:"select",options:(m==null?void 0:m.map(L=>({value:L._id,label:L.nombre})))||[],placeholder:"Seleccione una categora",required:!0},{name:"marcaId",label:"Marca",type:"select",options:(f==null?void 0:f.map(L=>({value:L._id,label:L.nombre})))||[],placeholder:"Seleccione una marca",required:!0},{name:"linea",label:"Lnea de Producto",type:"select",options:x.map(L=>({value:L,label:L})),placeholder:j?"Cargando lneas...":"Seleccione una lnea",required:!0,disabled:!s.marcaId||j}]},{title:" Caractersticas Fsicas",fields:[{name:"material",label:"Material",type:"select",options:["Cuero","Cuero sinttico","Tela","Plstico","Metal","Silicona","Goma","Madera","Fibra de carbono","Otro"],placeholder:"Seleccione el material",required:!0},{name:"color",label:"Color",type:"select",options:["Negro","Marrn","Blanco","Gris","Azul","Rojo","Verde","Amarillo","Naranja","Rosa","Morado","Multicolor"],placeholder:"Seleccione el color",required:!0}]}],O=r.jsxs("div",{className:"space-y-8",children:[T.map((L,U)=>r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:L.title}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:L.fields.map((V,K)=>r.jsx("div",{className:V.className||"",children:r.jsx(Aoe,{field:V,value:s==null?void 0:s[V.name],onChange:l,error:c==null?void 0:c[V.name],formData:s,loadingLineas:j})},K))})]},U)),r.jsx("div",{className:"bg-white border rounded-xl p-6",children:r.jsx(Noe,{currentImages:(s==null?void 0:s.imagenes)||[],onImagesChange:S,maxImages:5})}),r.jsxs("div",{className:"bg-white border rounded-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 pb-2 border-b",children:" Informacin de Precios"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(J5,{label:"Precio Base",value:s==null?void 0:s.precioBase,onChange:A,error:c==null?void 0:c.precioBase,required:!0,placeholder:"0.00"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",id:"enPromocion",name:"enPromocion",checked:(s==null?void 0:s.enPromocion)||!1,onChange:E,className:"w-4 h-4 text-cyan-600 border-gray-300 rounded focus:ring-cyan-500"}),r.jsx("label",{htmlFor:"enPromocion",className:"text-sm font-medium text-gray-700",children:"Producto en promocin"})]}),(s==null?void 0:s.enPromocion)&&r.jsxs("div",{className:"space-y-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx(J5,{label:"Precio con Promocin",value:s==null?void 0:s.precioActual,onChange:L=>l({target:{name:"precioActual",value:L}}),error:c==null?void 0:c.precioActual,required:!0,placeholder:"0.00"}),(s==null?void 0:s.precioBase)&&(s==null?void 0:s.precioActual)&&s.precioBase>s.precioActual&&r.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-3",children:r.jsxs("p",{className:"text-green-800 text-sm font-medium",children:[" Descuento: $",(s.precioBase-s.precioActual).toFixed(2),"(",((s.precioBase-s.precioActual)/s.precioBase*100).toFixed(1),"% OFF)"]})})]}),!(s!=null&&s.enPromocion)&&(s==null?void 0:s.precioBase)&&r.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Precio actual:"})," $",s.precioBase.toFixed(2)]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El precio actual es igual al precio base cuando no hay promocin"})]})]})]})]}),r.jsx("div",{className:"bg-white border rounded-xl p-6",children:r.jsx(Soe,{sucursales:h,selectedSucursales:(s==null?void 0:s.sucursales)||[],onChange:C,errors:c==null?void 0:c.sucursales})}),(s==null?void 0:s.nombre)&&(s==null?void 0:s.precioBase)&&((k=s==null?void 0:s.sucursales)==null?void 0:k.length)>0&&r.jsxs("div",{className:"bg-cyan-50 border-2 border-cyan-200 rounded-xl p-6",children:[r.jsx("h4",{className:"font-semibold text-cyan-800 mb-3",children:" Resumen del Producto"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Producto:"})," ",s.nombre]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Precio:"})," $",s.precioActual||s.precioBase||0]}),s.enPromocion&&r.jsx("p",{className:"text-green-600",children:r.jsx("span",{className:"font-medium",children:" En promocin"})})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Sucursales:"})," ",((P=s.sucursales)==null?void 0:P.length)||0]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Imgenes:"})," ",((_=s.imagenes)==null?void 0:_.length)||0]})]})]})]})]});return r.jsx(ir,{isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d?"Actualizar Accesorio":"Crear Accesorio",submitIcon:r.jsx(sr,{className:"w-4 h-4"}),fields:[],gridCols:1,size:"xl",children:O})},Aoe=({field:e,value:t,onChange:n,error:a,formData:s,loadingLineas:l})=>{var f;const c=()=>t||"",d=`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-cyan-500 ${a?"border-red-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed opacity-60":""}`;return e.type==="select"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{name:e.name,value:c(),onChange:n,className:d,disabled:e.disabled,children:[r.jsx("option",{value:"",children:e.placeholder||"Seleccione"}),(f=e.options)==null?void 0:f.map((m,h)=>typeof m=="object"?r.jsx("option",{value:m.value,children:m.label},h):r.jsx("option",{value:m,children:m},h))]}),l&&e.name==="linea"&&r.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:r.jsx(Db,{className:"w-4 h-4 text-gray-400 animate-spin"})})]}),e.disabled&&e.name==="linea"&&!(s!=null&&s.marcaId)&&r.jsx("p",{className:"text-gray-500 text-xs",children:"Primero selecciona una marca"}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):e.type==="textarea"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsx("textarea",{name:e.name,value:c(),onChange:n,placeholder:e.placeholder,className:`${d} resize-none`,rows:3}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e.label,e.required&&" *"]}),r.jsx("input",{type:e.type,name:e.name,value:c(),onChange:n,placeholder:e.placeholder,className:d,step:e.type==="number"?"0.01":void 0,min:e.type==="number"?"0":void 0}),a&&r.jsx("p",{className:"text-red-500 text-sm",children:a})]})},Kf="https://a-u-r-o-r-a.onrender.com/api/accesorios",Eoe="https://a-u-r-o-r-a.onrender.com/api/marcas",Ooe="https://a-u-r-o-r-a.onrender.com/api/categoria",Toe="https://a-u-r-o-r-a.onrender.com/api/sucursales",koe=()=>{var Me,qe,Ke,Be,F;const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,l]=y.useState(null),[c,d]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState([]),[S,C]=y.useState([]),[A,E]=y.useState([]),[T,O]=y.useState(""),[k,P]=y.useState("todos"),{formData:_,setFormData:L,handleInputChange:U,resetForm:V,errors:K,validateForm:le}=Sl({nombre:"",descripcion:"",tipo:"",marcaId:"",linea:"",material:"",color:"",precioBase:0,precioActual:0,imagenes:[],enPromocion:!1,promocionId:"",sucursales:[]},$=>{var R,se,xe;const Z={};return(R=$.nombre)!=null&&R.trim()||(Z.nombre="El nombre es requerido"),(se=$.descripcion)!=null&&se.trim()||(Z.descripcion="La descripcin es requerida"),$.tipo||(Z.tipo="La categora es requerida"),$.marcaId||(Z.marcaId="La marca es requerida"),$.linea||(Z.linea="La lnea es requerida"),$.material||(Z.material="El material es requerido"),$.color||(Z.color="El color es requerido"),(!$.precioBase||$.precioBase<=0)&&(Z.precioBase="El precio base debe ser mayor a 0"),$.enPromocion&&(!$.precioActual||$.precioActual<=0?Z.precioActual="El precio promocional debe ser mayor a 0":$.precioActual>=$.precioBase&&(Z.precioActual="El precio promocional debe ser menor al precio base")),(!$.sucursales||$.sucursales.length===0)&&(Z.sucursales="Debe seleccionar al menos una sucursal"),((xe=$.sucursales)==null?void 0:xe.some(Oe=>Oe.stock<0))&&(Z.sucursales="El stock no puede ser negativo"),Z}),ee=y.useMemo(()=>e.filter($=>{var se,xe,Oe,Ue,He,Je,ut,z,ae,Ae;const Z=T.toLowerCase(),Y=((se=$.nombre)==null?void 0:se.toLowerCase().includes(Z))||((xe=$.descripcion)==null?void 0:xe.toLowerCase().includes(Z))||((Ue=(Oe=$.marcaId)==null?void 0:Oe.nombre)==null?void 0:Ue.toLowerCase().includes(Z))||((Je=(He=$.tipo)==null?void 0:He.nombre)==null?void 0:Je.toLowerCase().includes(Z))||((ut=$.material)==null?void 0:ut.toLowerCase().includes(Z))||((z=$.color)==null?void 0:z.toLowerCase().includes(Z));let R=!0;return k==="en_promocion"?R=$.enPromocion===!0:k==="sin_promocion"?R=$.enPromocion===!1:k==="sin_stock"?R=(ae=$.sucursales)==null?void 0:ae.every(Re=>Re.stock===0):k==="con_stock"&&(R=(Ae=$.sucursales)==null?void 0:Ae.some(Re=>Re.stock>0)),Y&&R}),[e,T,k]),{paginatedData:ne,...B}=Hl(ee,12),re=($,Z)=>{d({type:$,message:Z}),setTimeout(()=>d(null),5e3)},Q=async()=>{var $,Z;a(!0);try{const Y=await Le.get(Kf);console.log("Accesorios response:",Y.data);const R=Y.data.data||Y.data;t(Array.isArray(R)?R:[])}catch(Y){console.error("Error fetching accesorios:",Y),re("error","Error al cargar los accesorios: "+(((Z=($=Y.response)==null?void 0:$.data)==null?void 0:Z.message)||Y.message)),t([])}finally{a(!1)}},H=async()=>{var $,Z;try{const[Y,R,se]=await Promise.all([Le.get(Eoe),Le.get(Ooe),Le.get(Toe)]);console.log("Dependencies loaded:",{marcas:Y.data,categorias:R.data,sucursales:se.data}),N(Array.isArray(Y.data)?Y.data:Y.data.data||[]),C(Array.isArray(R.data)?R.data:R.data.data||[]),E(Array.isArray(se.data)?se.data:se.data.data||[])}catch(Y){console.error("Error fetching dependencies:",Y),re("error","Error al cargar marcas, categoras o sucursales: "+(((Z=($=Y.response)==null?void 0:$.data)==null?void 0:Z.message)||Y.message)),N([]),C([]),E([])}};y.useEffect(()=>{Q(),H();const $=document.createElement("script");return $.src="https://widget.cloudinary.com/v2.0/global/all.js",$.async=!0,document.body.appendChild($),()=>{document.body.contains($)&&document.body.removeChild($)}},[]);const D=()=>{m(!1),g(!1),b(!1),l(null),V()},q=()=>{V(),l(null),L({nombre:"",descripcion:"",tipo:"",marcaId:"",linea:"",material:"",color:"",precioBase:0,precioActual:0,imagenes:[],enPromocion:!1,promocionId:"",sucursales:[]}),m(!0)},G=$=>{var Y,R,se,xe;l($);const Z={nombre:$.nombre||"",descripcion:$.descripcion||"",tipo:((Y=$.tipo)==null?void 0:Y._id)||$.tipo||"",marcaId:((R=$.marcaId)==null?void 0:R._id)||$.marcaId||"",linea:$.linea||"",material:$.material||"",color:$.color||"",precioBase:$.precioBase||0,precioActual:$.precioActual||$.precioBase||0,imagenes:$.imagenes||[],enPromocion:$.enPromocion||!1,promocionId:((se=$.promocionId)==null?void 0:se._id)||$.promocionId||"",sucursales:((xe=$.sucursales)==null?void 0:xe.map(Oe=>{var Ue,He;return{sucursalId:((Ue=Oe.sucursalId)==null?void 0:Ue._id)||Oe.sucursalId||"",nombreSucursal:Oe.nombreSucursal||((He=Oe.sucursalId)==null?void 0:He.nombre)||"",stock:Oe.stock||0}}))||[]};console.log("Datos para edicin:",Z),L(Z),m(!0)},J=$=>{l($),g(!0)},W=$=>{l($),b(!0)},pe=async $=>{var Y,R;if($.preventDefault(),console.log("Form data before validation:",_),!le()){re("error","Por favor, corrige los errores del formulario.");return}const Z=new FormData;Object.keys(_).forEach(se=>{se==="sucursales"?Z.append("sucursales",JSON.stringify(_.sucursales)):se==="imagenes"?Z.append("imagenes",JSON.stringify(_.imagenes)):(se!=="promocionId"||_.enPromocion)&&Z.append(se,_[se])}),console.log("Sending data:",Object.fromEntries(Z));try{let se;s?(se=await Le.put(`${Kf}/${s._id}`,Z,{headers:{"Content-Type":"multipart/form-data"}}),re("success","Accesorio actualizado exitosamente")):(se=await Le.post(Kf,Z,{headers:{"Content-Type":"multipart/form-data"}}),re("success","Accesorio creado exitosamente")),console.log("Server response:",se.data),await Q(),D()}catch(se){console.error("Error submitting form:",se);const xe=((R=(Y=se.response)==null?void 0:Y.data)==null?void 0:R.message)||se.message||"Error desconocido";re("error",`Error al guardar el accesorio: ${xe}`)}},ge=async()=>{var $,Z;if(s)try{await Le.delete(`${Kf}/${s._id}`),re("success","Accesorio eliminado exitosamente"),await Q(),D()}catch(Y){console.error("Error deleting accesorio:",Y);const R=((Z=($=Y.response)==null?void 0:$.data)==null?void 0:Z.message)||Y.message||"Error desconocido";re("error",`Error al eliminar el accesorio: ${R}`)}},$e=e.length,be=e.filter($=>$.enPromocion).length,Ne=e.length>0?e.reduce(($,Z)=>$+(Z.precioActual||Z.precioBase||0),0)/e.length:0,De=e.reduce(($,Z)=>{var Y;return $+(((Y=Z.sucursales)==null?void 0:Y.reduce((R,se)=>R+(se.stock||0),0))||0)},0),Ie=[{title:"Total Accesorios",value:$e,Icon:sr,color:"bg-blue-500"},{title:"En Promocin",value:be,Icon:jr,color:"bg-green-500"},{title:"Precio Promedio",value:`${Ne.toFixed(2)}`,Icon:po,color:"bg-yellow-500"},{title:"Stock Total",value:De,Icon:Lb,color:"bg-purple-500"}],te=[{header:"Producto",key:"producto"},{header:"Marca/Categora",key:"marca_categoria"},{header:"Caractersticas",key:"caracteristicas"},{header:"Precio",key:"precio"},{header:"Stock",key:"stock"},{header:"Estado",key:"estado"},{header:"Acciones",key:"acciones"}],_e=$=>{var R,se,xe,Oe;const Z=((R=$.sucursales)==null?void 0:R.reduce((Ue,He)=>Ue+(He.stock||0),0))||0,Y=Z>0;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12",children:$.imagenes&&$.imagenes.length>0?r.jsx("img",{src:$.imagenes[0],alt:$.nombre,className:"w-12 h-12 rounded-lg object-cover border"}):r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:r.jsx(sr,{className:"w-6 h-6 text-gray-400"})})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:$.nombre}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:$.descripcion})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(jr,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-900",children:((se=$.marcaId)==null?void 0:se.nombre)||"Sin marca"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($U,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-500",children:((xe=$.tipo)==null?void 0:xe.nombre)||$.tipo||"Sin categora"})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(R3,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:$.color})]}),r.jsx("div",{className:"text-gray-500",children:$.material}),$.linea&&r.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full inline-block",children:$.linea})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"space-y-1",children:$.enPromocion?r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",($.precioActual||0).toFixed(2)]}),r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"OFERTA"})]}),r.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["$",($.precioBase||0).toFixed(2)]})]}):r.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",($.precioBase||0).toFixed(2)]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:`text-sm font-medium ${Y?"text-green-600":"text-red-600"}`,children:[Z," unidades"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["en ",((Oe=$.sucursales)==null?void 0:Oe.length)||0," sucursal(es)"]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${$.enPromocion?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:$.enPromocion?" Promocin":"Precio normal"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Y?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Y?" Disponible":" Sin stock"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>J($),className:"p-2 text-blue-600 bg-white hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>G($),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>W($),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})})]})})]})};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(Cr,{alert:c}),r.jsx(Gl,{stats:Ie}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(pi,{title:"Gestin de Accesorios",buttonLabel:"Agregar Accesorio",onButtonClick:q}),r.jsx(Kl,{searchTerm:T,onSearchChange:$=>O($.target.value),placeholder:"Buscar por nombre, marca, material o color...",filters:[{label:"Todos",value:"todos"},{label:"En Promocin",value:"en_promocion"},{label:"Sin Promocin",value:"sin_promocion"},{label:"Con Stock",value:"con_stock"},{label:"Sin Stock",value:"sin_stock"}],activeFilter:k,onFilterChange:P}),r.jsx(xo,{columns:te,data:ne,renderRow:_e,loading:n,noDataMessage:"No se encontraron accesorios",noDataSubMessage:T?"Intenta con otros trminos de bsqueda":"An no hay accesorios registrados"}),r.jsx(gi,{...B})]}),r.jsx(Coe,{isOpen:f,onClose:D,onSubmit:pe,title:s?"Editar Accesorio":"Agregar Nuevo Accesorio",formData:_,setFormData:L,handleInputChange:U,errors:K,isEditing:!!s,marcas:j,categorias:S,sucursales:A,selectedAccesorio:s}),r.jsx(Ar,{isOpen:h,onClose:D,title:"Detalles del Accesorio",item:s,data:s?[{label:"Nombre",value:s.nombre},{label:"Descripcin",value:s.descripcion},{label:"Categora",value:((Me=s.tipo)==null?void 0:Me.nombre)||s.tipo},{label:"Marca",value:(qe=s.marcaId)==null?void 0:qe.nombre},{label:"Lnea",value:s.linea},{label:"Material",value:s.material},{label:"Color",value:s.color},{label:"Precio Base",value:`${(s.precioBase||0).toFixed(2)}`},{label:"Precio Actual",value:`${(s.precioActual||s.precioBase||0).toFixed(2)}`,color:s.enPromocion?"text-green-600":"text-gray-900"},{label:"Estado",value:s.enPromocion?"En Promocin":"Precio Normal",color:s.enPromocion?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"},{label:"Stock Total",value:`${((Ke=s.sucursales)==null?void 0:Ke.reduce(($,Z)=>$+(Z.stock||0),0))||0} unidades`},{label:"Disponibilidad por Sucursal",value:((Be=s.sucursales)==null?void 0:Be.map($=>{var Z;return`${$.nombreSucursal||((Z=$.sucursalId)==null?void 0:Z.nombre)}: ${$.stock||0} unidades`}).join(" | "))||"Sin stock"},{label:"Imgenes",value:`${((F=s.imagenes)==null?void 0:F.length)||0} imagen(es)`},{label:"Fecha de Creacin",value:new Date(s.createdAt).toLocaleDateString("es-ES")}]:[]}),r.jsx(vs,{isOpen:x,onClose:D,onConfirm:ge,title:"Confirmar Eliminacin",message:`Ests seguro de que deseas eliminar el accesorio "${s==null?void 0:s.nombre}"? Esta accin no se puede deshacer.`,confirmLabel:"S, eliminar",cancelLabel:"Cancelar",type:"danger"})]})},Rr=(e,t={})=>{const[n,a]=y.useState([]),[s,l]=y.useState(!0),[c,d]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(null);return y.useEffect(()=>{let x=!0,b=null;const j=async(N=0)=>{try{l(!0),d(null);const S=pn(`/${e}`,t),C=new AbortController;b=setTimeout(()=>{C.abort()},ke.TIMEOUTS.REQUEST);const A=await fetch(S,{...ke.FETCH_CONFIG,signal:C.signal});if(clearTimeout(b),!A.ok){const T=await A.json().catch(()=>({}));throw new Error(`HTTP ${A.status}: ${T.message||A.statusText}`)}const E=await A.json();if(x){E&&typeof E=="object"&&E.pagination?g(E.pagination):g(null);const T=CB(E);if(T.isValid){const O=Array.isArray(T.data)?T.data:[T.data];a(O),m(!0),d(null)}else a([]),m(!1),d(T.error)}}catch(S){if(clearTimeout(b),S.name==="AbortError"){x&&(d("La solicitud tard demasiado. Por favor, intenta nuevamente."),m(!1),a([]));return}if(N<ke.TIMEOUTS.MAX_RETRIES&&(S.name==="AbortError"||S.message.includes("fetch")||S.message.includes("network"))){const C=ke.TIMEOUTS.RETRY_DELAY*Math.pow(2,N);setTimeout(()=>{x&&j(N+1)},C);return}if(x){const C=A3(S,e);d(C),m(!1),a([])}}finally{x&&l(!1)}};return j(),()=>{x=!1,b&&clearTimeout(b)}},[e,JSON.stringify(t)]),{data:n,loading:s,error:c,success:f,pagination:h}},k2=({type:e="info",message:t,show:n=!1,onClose:a,duration:s=0,dismissible:l=!0,className:c=""})=>{const[d,f]=y.useState(n),[m,h]=y.useState(!1),g={success:{icon:xs,bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",iconColor:"text-green-500",title:"xito"},error:{icon:At,bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",iconColor:"text-red-500",title:"Error"},warning:{icon:vm,bgColor:"bg-yellow-50",borderColor:"border-yellow-200",textColor:"text-yellow-800",iconColor:"text-yellow-500",title:"Advertencia"},info:{icon:_b,bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",iconColor:"text-blue-500",title:"Informacin"}},x=g[e]||g.info,b=x.icon;y.useEffect(()=>{if(n){if(f(!0),h(!0),s>0){const N=setTimeout(()=>{j()},s);return()=>clearTimeout(N)}}else j()},[n,s]);const j=()=>{h(!1),setTimeout(()=>{f(!1),a==null||a()},300)};return d?r.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-md w-full ${c}`,children:r.jsx("div",{className:`
          ${x.bgColor} 
          ${x.borderColor} 
          ${x.textColor}
          border rounded-lg p-4 shadow-lg
          transform transition-all duration-300 ease-in-out
          ${m?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        `,role:"alert","aria-live":"assertive",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(b,{className:`h-5 w-5 ${x.iconColor}`,"aria-hidden":"true"})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-sm font-medium",children:x.title}),r.jsx("div",{className:"mt-1 text-sm",children:t})]}),l&&r.jsx("div",{className:"ml-auto pl-3",children:r.jsx("button",{type:"button",className:`
                  inline-flex rounded-md p-1.5 
                  ${x.bgColor} 
                  ${x.textColor} 
                  hover:bg-opacity-75 
                  focus:outline-none focus:ring-2 
                  focus:ring-offset-2 
                  focus:ring-offset-green-50 
                  focus:ring-green-600
                  transition-colors duration-200
                `,onClick:j,"aria-label":"Cerrar alerta",children:r.jsx(Ra,{className:"h-4 w-4","aria-hidden":"true"})})})]})})}):null},M2=()=>{const[e,t]=y.useState({show:!1,type:"info",message:"",duration:5e3}),n=(f,m,h=5e3)=>{t({show:!0,type:f,message:m,duration:h})};return{alertState:e,showAlert:n,hideAlert:()=>{t(f=>({...f,show:!1}))},showSuccess:(f,m)=>n("success",f,m),showError:(f,m)=>n("error",f,m),showWarning:(f,m)=>n("warning",f,m),showInfo:(f,m)=>n("info",f,m)}},P2=({children:e})=>r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e}),Moe=()=>{const[e,t]=y.useState(""),[n,a]=y.useState("todos"),[s,l]=y.useState(!1),[c,d]=y.useState(!1),[f,m]=y.useState(null),[h,g]=y.useState(0),{data:x,loading:b,error:j}=Rr("productosPersonalizados",{r:h}),{data:N}=Rr("pedidos",{r:h}),{data:S}=Rr("clientes"),{data:C}=Rr("lentes"),{data:A}=Rr("marcas"),[E,T]=y.useState({total:0,enProceso:0,completado:0}),[O,k]=y.useState(!1),{alertState:P,showSuccess:_,showError:L,hideAlert:U}=M2(),[V,K]=y.useState(!1),[le,ee]=y.useState(null),[ne,B]=y.useState({clienteId:"",productoBaseId:"",nombre:"",descripcion:"",categoria:"",marcaId:"",material:"",color:"",tipoLente:"",precioCalculado:null,fechaEntregaEstimada:"",cotizacion:{total:null,validaHasta:""}}),[re,Q]=y.useState({}),H=[{value:"pendiente",label:"Pendiente"},{value:"en_proceso",label:"En Proceso"},{value:"completado",label:"Completado"},{value:"cancelado",label:"Cancelado"},{value:"entregado",label:"Entregado"}],D=z=>{switch(z){case"completado":return"Completado";case"en_proceso":return"En Proceso";case"pendiente":return"Pendiente";case"cancelado":return"Cancelado";case"entregado":return"Entregado";default:return z||"Pendiente"}},q=z=>{if(typeof z!="number")return"-";try{return z.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}catch{return`$${z}`}},G=z=>{if(!z)return"";const ae=new Date(z);return isNaN(ae.getTime())?"":ae.toISOString().slice(0,10)},J=z=>{const{name:ae,value:Ae,type:Re}=z.target;if(ae.includes(".")){const Ve=ae.split(".");B(st=>{const ct={...st};let at=ct;for(let Tt=0;Tt<Ve.length-1;Tt++){const _t=Ve[Tt];at[_t]=at[_t]??{},at=at[_t]}const Nt=Ve[Ve.length-1];return at[Nt]=Re==="number"?Ae===""?null:Number(Ae):Ae,ct})}else B(Ve=>({...Ve,[ae]:Re==="number"?Ae===""?null:Number(Ae):Ae}))},W=()=>{const z=["clienteId","productoBaseId","nombre","descripcion","categoria","marcaId","material","color","tipoLente","precioCalculado","fechaEntregaEstimada","cotizacion.total","cotizacion.validaHasta"],ae={};for(const Ae of z){let Re=ne;for(const Ve of Ae.split("."))Re=Re==null?void 0:Re[Ve];(Re===""||Re===null||Re===void 0)&&(ae[Ae]="Requerido")}return Q(ae),Object.keys(ae).length===0},pe=()=>{B({clienteId:"",productoBaseId:"",nombre:"",descripcion:"",categoria:"",marcaId:"",material:"",color:"",tipoLente:"",precioCalculado:null,fechaEntregaEstimada:"",cotizacion:{total:null,validaHasta:""}}),Q({})},ge=async z=>{if(z.preventDefault(),!!W())try{const ae=pn(ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS),Ae=await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json"},credentials:ke.FETCH_CONFIG.credentials,body:JSON.stringify(ne)});if(!Ae.ok){const Re=await Ae.json().catch(()=>({}));throw new Error(Re.message||`Error ${Ae.status}`)}l(!1),pe(),g(Re=>Re+1),_("Producto personalizado creado correctamente",3e3)}catch(ae){Q(Ae=>({...Ae,submit:ae.message||"Error al crear"})),L(ae.message||"Error al crear el personalizado",4e3)}},$e=z=>{var Ae,Re,Ve,st,ct;const ae=Array.isArray(x)?x.find(at=>at._id===z):null;ae&&(m(z),B({clienteId:((Ae=ae.clienteId)==null?void 0:Ae._id)||ae.clienteId||"",productoBaseId:((Re=ae.productoBaseId)==null?void 0:Re._id)||ae.productoBaseId||"",nombre:ae.nombre||"",descripcion:ae.descripcion||"",categoria:ae.categoria||"",marcaId:((Ve=ae.marcaId)==null?void 0:Ve._id)||ae.marcaId||"",material:ae.material||"",color:ae.color||"",tipoLente:ae.tipoLente||"",precioCalculado:typeof ae.precioCalculado=="number"?ae.precioCalculado:null,fechaEntregaEstimada:ae.fechaEntregaEstimada?G(ae.fechaEntregaEstimada):"",cotizacion:{total:((st=ae.cotizacion)==null?void 0:st.total)??null,validaHasta:(ct=ae.cotizacion)!=null&&ct.validaHasta?G(ae.cotizacion.validaHasta):""}}),Q({}),d(!0))},be=async z=>{if(z.preventDefault(),!(!W()||!f))try{const ae=pn(`${ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${f}`),Ae=await fetch(ae,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:ke.FETCH_CONFIG.credentials,body:JSON.stringify(ne)});if(!Ae.ok){const Re=await Ae.json().catch(()=>({}));throw new Error(Re.message||`Error ${Ae.status}`)}d(!1),m(null),pe(),g(Re=>Re+1),_("Producto personalizado actualizado",2500)}catch(ae){Q(Ae=>({...Ae,submit:ae.message||"Error al actualizar"})),L(ae.message||"Error al actualizar el personalizado",4e3)}},Ne=async z=>{if(window.confirm("Eliminar este personalizado? Esta accin no se puede deshacer."))try{const ae=pn(`${ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${z}`),Ae=await fetch(ae,{method:"DELETE",credentials:ke.FETCH_CONFIG.credentials});if(!Ae.ok){const Re=await Ae.json().catch(()=>({}));throw new Error(Re.message||`Error ${Ae.status}`)}g(Re=>Re+1),_("Producto personalizado eliminado",2500)}catch(ae){L(ae.message||"Error al eliminar",4e3)}},De=async(z,ae)=>{try{const Ae=pn(`${ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${z}/estado`),Re=await fetch(Ae,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:ke.FETCH_CONFIG.credentials,body:JSON.stringify({estado:ae})});if(!Re.ok){const Ve=await Re.json().catch(()=>({}));throw new Error(Ve.message||`Error ${Re.status}`)}g(Ve=>Ve+1),_("Estado actualizado",2e3)}catch(Ae){L(Ae.message||"Error al actualizar estado",3500)}},Ie=z=>{ee(z),K(!0)},te=y.useMemo(()=>Array.isArray(x)?x.map(z=>{const ae=z.fechaSolicitud||z.createdAt,Ae=ae?new Date(ae):null,Re=Ae?Date.now()-Ae.getTime()<=24*60*60*1e3:!1;return{id:z._id,nombre:z.nombre,descripcion:z.descripcion,categoria:z.categoria,color:z.color,precio:q(z.precioCalculado),cliente:typeof z.clienteId=="object"&&z.clienteId!==null?z.clienteId.nombre||z.clienteId.fullName||z.clienteId.razonSocial||z.clienteId.email||String(z.clienteId._id||""):String(z.clienteId||""),fechaCreacion:G(ae),estado:D(z.estado),backendEstado:z.estado,cotizacionId:z.cotizacionId||null,pedidoId:z.pedidoId||null,isRecent:Re,source:"personalizado"}}):[],[x]),_e=y.useMemo(()=>{if(!Array.isArray(N))return[];const z=[];for(const ae of N){const Ae=typeof ae.clienteId=="object"&&ae.clienteId!==null?ae.clienteId.nombre||ae.clienteId.fullName||ae.clienteId.razonSocial||ae.clienteId.email||String(ae.clienteId._id||""):String(ae.clienteId||""),Re=ae.createdAt||ae.fecha,Ve=Re?new Date(Re):null,st=Ve?Date.now()-Ve.getTime()<=24*60*60*1e3:!1;(Array.isArray(ae.items)?ae.items:[]).forEach((at,Nt)=>{(at.tipo||"otro")==="personalizado"&&z.push({id:`${ae._id}:${Nt}`,nombre:at.nombre||"Personalizado",descripcion:at.categoria?`Categora: ${at.categoria}`:"",categoria:at.categoria||"Personalizado",color:"-",precio:q(typeof at.subtotal=="number"?at.subtotal:Number(at.precioUnitario||0)*Number(at.cantidad||1)),cliente:Ae,fechaCreacion:G(Re),estado:D("en_proceso"),backendEstado:"en_proceso",cotizacionId:ae.cotizacionId||null,pedidoId:ae._id,isRecent:st,source:"pedido"})})}return z},[N]),Me=y.useMemo(()=>[...te,..._e],[te,_e]);y.useEffect(()=>{let z=!1;return(async()=>{var Ae,Re;try{const Ve=pn(`${ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/estadisticas/resumen`),st=await fetch(Ve,{credentials:ke.FETCH_CONFIG.credentials});if(!st.ok)throw new Error(`HTTP ${st.status}`);const ct=await st.json().catch(()=>({})),at=ct&&typeof ct=="object"&&(ct.data||ct)||{},Nt=Array.isArray(at.estadisticas)?at.estadisticas:[],Tt=((Ae=Nt.find(mt=>mt._id==="en_proceso"))==null?void 0:Ae.count)??0,_t=((Re=Nt.find(mt=>mt._id==="completado"))==null?void 0:Re.count)??0,dn=typeof at.totalProductos=="number"?at.totalProductos:Nt.reduce((mt,ba)=>mt+(ba.count||0),0);z||T({total:dn,enProceso:Tt,completado:_t})}catch{const st=Me.length,ct=Me.filter(Nt=>Nt.estado==="En Proceso").length,at=Me.filter(Nt=>Nt.estado==="Completado").length;z||T({total:st,enProceso:ct,completado:at})}})(),()=>{z=!0}},[h,Me]);const qe=y.useMemo(()=>Array.isArray(S)?S.map(z=>({value:z._id,label:z.nombre||z.fullName||z.razonSocial||z.email||String(z._id)})):[],[S]),Ke=y.useMemo(()=>Array.isArray(C)?C.map(z=>({value:z._id,label:z.nombre||z.modelo||String(z._id)})):[],[C]),Be=y.useMemo(()=>Array.isArray(A)?A.map(z=>({value:z._id,label:z.nombre||z.descripcion||String(z._id)})):[],[A]),F=Me.filter(z=>{const ae=z.nombre.toLowerCase().includes(e.toLowerCase())||z.cliente.toLowerCase().includes(e.toLowerCase()),Ae=n==="todos"||z.categoria===n,Re=!O||z.isRecent;return ae&&Ae&&Re}),$=async z=>{if(!z){L("Este personalizado no tiene cotizacin vinculada",3e3);return}try{const ae=pn(`${ke.ENDPOINTS.COTIZACIONES}/${z}/convertir-a-pedido`),Ae=await fetch(ae,{method:"POST",credentials:ke.FETCH_CONFIG.credentials,headers:{"Content-Type":"application/json"}}),Re=await Ae.json().catch(()=>({}));if(!Ae.ok)throw new Error(Re.message||`Error ${Ae.status}`);_("Cotizacin convertida en pedido",2500),g(Ve=>Ve+1)}catch(ae){L(ae.message||"No se pudo convertir a pedido",4e3)}},[Z,Y]=y.useState(0),[R,se]=y.useState(5),xe=Math.max(1,Math.ceil(F.length/R)),Oe=F.slice(Z*R,Z*R+R),Ue=()=>Y(0),He=()=>Y(z=>z>0?z-1:z),Je=()=>Y(z=>z<xe-1?z+1:z),ut=()=>Y(xe-1);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(P2,{children:r.jsx(k2,{type:P.type,message:P.message,show:P.show,onClose:U,duration:P.duration})}),r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Personalizados"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:E.total})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(sr,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"En Proceso"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:E.enProceso})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(rr,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Completados"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:E.completado})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Fl,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Productos Personalizados"}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:"Aadir Personalizado"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(br,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por producto o cliente...",value:e,onChange:z=>t(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>a("todos"),className:`px-4 py-2 rounded-lg transition-colors ${n==="todos"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Todos"}),r.jsx("button",{onClick:()=>a("Lentes"),className:`px-4 py-2 rounded-lg transition-colors ${n==="Lentes"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Lentes"}),r.jsx("button",{onClick:()=>a("Accesorios"),className:`px-4 py-2 rounded-lg transition-colors ${n==="Accesorios"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Accesorios"}),r.jsx("button",{onClick:()=>k(z=>!z),className:`px-4 py-2 rounded-lg transition-colors ${O?"bg-emerald-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Mostrar solo solicitudes de las ltimas 24 horas",children:O?"Recientes (24h): ON":"Recientes (24h)"})]})]})}),r.jsxs("div",{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Producto"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Cliente"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Categora"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Color"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Precio"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Fecha"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[b&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-6 text-center text-gray-500",children:"Cargando..."})}),!b&&j&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-6 text-center text-red-600",children:String(j)})}),!b&&!j&&Oe.map(z=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[z.nombre,z.isRecent&&r.jsx("span",{className:"px-2 py-0.5 text-[11px] rounded-full bg-green-100 text-green-700 border border-green-200",children:"Nuevo"})]}),r.jsx("div",{className:"text-sm text-gray-500",children:z.descripcion})]})}),r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:z.cliente}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:z.categoria}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:z.color}),r.jsx("td",{className:"px-6 py-4 font-semibold text-cyan-600",children:z.precio}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:z.fechaCreacion}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("select",{value:z.backendEstado||"pendiente",onChange:ae=>De(z.id,ae.target.value),className:"px-3 py-1 border rounded-lg text-sm",children:H.map(ae=>r.jsx("option",{value:ae.value,children:ae.label},ae.value))})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",onClick:()=>z.source==="pedido"?null:Ne(z.id),disabled:z.source==="pedido",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",onClick:()=>Ie(z),children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",onClick:()=>z.source==="pedido"?null:$e(z.id),disabled:z.source==="pedido",children:r.jsx(na,{className:"w-4 h-4"})}),z.source!=="pedido"&&r.jsx("button",{className:`p-2 ${z.cotizacionId?"text-cyan-700 hover:bg-cyan-50":"text-gray-400 cursor-not-allowed"} rounded-lg transition-colors`,title:z.cotizacionId?"Convertir cotizacin a pedido":"Sin cotizacin vinculada",disabled:!z.cotizacionId,onClick:()=>$(z.cotizacionId),children:r.jsx(sr,{className:"w-4 h-4"})})]})})]},z.id))]})]})}),!b&&!j&&F.length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(sr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos personalizados"}),r.jsx("p",{className:"text-gray-500",children:e?"Intenta con otros trminos de bsqueda":"Comienza creando tu primer producto personalizado"})]}),s&&r.jsx(ir,{isOpen:s,onClose:()=>{l(!1)},onSubmit:ge,title:"Crear Personalizado",formData:ne,handleInputChange:J,errors:re,submitLabel:"Crear",gridCols:2,fields:[{name:"clienteId",label:"Cliente",type:"select",required:!0,options:qe},{name:"productoBaseId",label:"Producto Base (Lente)",type:"select",required:!0,options:Ke},{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripcin",type:"textarea",required:!0,colSpan:2},{name:"categoria",label:"Categora",type:"text",required:!0},{name:"marcaId",label:"Marca",type:"select",required:!0,options:Be},{name:"material",label:"Material",type:"text",required:!0},{name:"color",label:"Color",type:"text",required:!0},{name:"tipoLente",label:"Tipo de Lente",type:"text",required:!0},{name:"precioCalculado",label:"Precio Calculado",type:"number",required:!0},{name:"fechaEntregaEstimada",label:"Fecha Entrega Estimada",type:"date",required:!0},{name:"cotizacion.total",label:"Cotizacin Total",type:"number",required:!0,nested:!0},{name:"cotizacion.validaHasta",label:"Cotizacin Vlida Hasta",type:"date",required:!0,nested:!0}]}),c&&r.jsx(ir,{isOpen:c,onClose:()=>{d(!1),m(null)},onSubmit:be,title:"Editar Personalizado",formData:ne,handleInputChange:J,errors:re,submitLabel:"Guardar Cambios",gridCols:2,fields:[{name:"clienteId",label:"Cliente",type:"select",required:!0,options:qe},{name:"productoBaseId",label:"Producto Base (Lente)",type:"select",required:!0,options:Ke},{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripcin",type:"textarea",required:!0,colSpan:2},{name:"categoria",label:"Categora",type:"text",required:!0},{name:"marcaId",label:"Marca",type:"select",required:!0,options:Be},{name:"material",label:"Material",type:"text",required:!0},{name:"color",label:"Color",type:"text",required:!0},{name:"tipoLente",label:"Tipo de Lente",type:"text",required:!0},{name:"precioCalculado",label:"Precio Calculado",type:"number",required:!0},{name:"fechaEntregaEstimada",label:"Fecha Entrega Estimada",type:"date",required:!0},{name:"cotizacion.total",label:"Cotizacin Total",type:"number",required:!0,nested:!0},{name:"cotizacion.validaHasta",label:"Cotizacin Vlida Hasta",type:"date",required:!0,nested:!0}]}),V&&r.jsx(Ar,{isOpen:V,onClose:()=>{K(!1),ee(null)},title:"Detalles del Personalizado",item:le,data:le?[{label:"ID",value:le.id},{label:"Nombre",value:le.nombre},{label:"Descripcin",value:le.descripcion||"-"},{label:"Cliente",value:le.cliente||"-"},{label:"Categora",value:le.categoria||"-"},{label:"Color",value:le.color||"-"},{label:"Precio",value:le.precio||"-"},{label:"Fecha",value:le.fechaCreacion||"-"},{label:"Estado",value:le.estado||"-"},le.cotizacionId?{label:"Cotizacin ID",value:le.cotizacionId}:null,le.pedidoId?{label:"Pedido ID",value:le.pedidoId}:null,{label:"Origen",value:le.source==="pedido"?"Pedido":"Personalizado"}].filter(Boolean):[]}),r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:R,onChange:z=>{se(Number(z.target.value)),Y(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(z=>r.jsx("option",{value:z,children:z},z))}),r.jsx("span",{className:"text-gray-700",children:"por pgina"})]}),r.jsxs("div",{className:"flex items-center gap-2 m-[25px]",children:[r.jsx("button",{onClick:Ue,disabled:Z===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:He,disabled:Z===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Pgina ",Z+1," de ",xe]}),r.jsx("button",{onClick:Je,disabled:Z===xe-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{type:"button",onClick:ut,disabled:Z===xe-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]})]})]})]})},b_=[{name:"Tags",component:jr,category:"General"},{name:"Glasses",component:Pu,category:"ptica"},{name:"Eye",component:an,category:"ptica"},{name:"Package",component:sr,category:"General"},{name:"ShoppingBag",component:Lb,category:"Comercio"},{name:"Heart",component:EU,category:"General"},{name:"Star",component:KV,category:"General"},{name:"Home",component:MU,category:"General"},{name:"User",component:ys,category:"Personas"},{name:"Settings",component:z3,category:"Sistema"},{name:"Bell",component:HB,category:"Sistema"},{name:"Calendar",component:Br,category:"Tiempo"},{name:"Clock",component:rr,category:"Tiempo"},{name:"Mail",component:Vl,category:"Comunicacin"},{name:"Phone",component:go,category:"Comunicacin"},{name:"Camera",component:ph,category:"Multimedia"},{name:"Image",component:_3,category:"Multimedia"},{name:"Music",component:iV,category:"Multimedia"},{name:"Video",component:CF,category:"Multimedia"},{name:"Download",component:Vy,category:"Acciones"},{name:"Upload",component:Hy,category:"Acciones"},{name:"Folder",component:dU,category:"Archivos"},{name:"File",component:aU,category:"Archivos"},{name:"Archive",component:IB,category:"Archivos"},{name:"Bookmark",component:hh,category:"General"},{name:"Flag",component:oU,category:"General"},{name:"Shield",component:LV,category:"Seguridad"},{name:"Lock",component:xh,category:"Seguridad"},{name:"Key",component:RU,category:"Seguridad"},{name:"Zap",component:H3,category:"General"},{name:"Wifi",component:EF,category:"Tecnologa"},{name:"Battery",component:VB,category:"Tecnologa"},{name:"Bluetooth",component:ZB,category:"Tecnologa"},{name:"Headphones",component:CU,category:"Multimedia"},{name:"Mic",component:eV,category:"Multimedia"},{name:"Speaker",component:FV,category:"Multimedia"},{name:"Monitor",component:nV,category:"Tecnologa"},{name:"Smartphone",component:BV,category:"Tecnologa"},{name:"Tablet",component:eF,category:"Tecnologa"},{name:"Laptop",component:IU,category:"Tecnologa"},{name:"Car",component:vq,category:"Transporte"},{name:"Plane",component:vV,category:"Transporte"},{name:"Train",component:cF,category:"Transporte"},{name:"Bus",component:dq,category:"Transporte"},{name:"Bike",component:KB,category:"Transporte"},{name:"MapPin",component:di,category:"Ubicacin"},{name:"Navigation",component:lV,category:"Ubicacin"},{name:"Compass",component:Uq,category:"Ubicacin"},{name:"Globe",component:vU,category:"Ubicacin"},{name:"Sun",component:QV,category:"Clima"},{name:"Moon",component:rV,category:"Clima"},{name:"Cloud",component:zq,category:"Clima"},{name:"Umbrella",component:yF,category:"Clima"},{name:"Snowflake",component:UV,category:"Clima"},{name:"Thermometer",component:sF,category:"Clima"},{name:"Wind",component:TF,category:"Clima"},{name:"Coffee",component:Bq,category:"Comida"},{name:"Pizza",component:xV,category:"Comida"},{name:"Gift",component:gU,category:"General"},{name:"Gamepad2",component:hU,category:"Entretenimiento"},{name:"Trophy",component:gF,category:"Entretenimiento"},{name:"Award",component:Uy,category:"Entretenimiento"},{name:"Target",component:q3,category:"General"},{name:"Briefcase",component:nq,category:"Trabajo"},{name:"Building",component:cq,category:"Lugares"},{name:"Store",component:XV,category:"Comercio"},{name:"Factory",component:eU,category:"Lugares"},{name:"Hospital",component:TU,category:"Lugares"},{name:"School",component:kV,category:"Educacin"},{name:"Book",component:JB,category:"Educacin"},{name:"GraduationCap",component:jU,category:"Educacin"},{name:"Lightbulb",component:HU,category:"General"},{name:"Palette",component:R3,category:"Arte"},{name:"Brush",component:rq,category:"Arte"},{name:"Scissors",component:PV,category:"Herramientas"},{name:"Wrench",component:F3,category:"Herramientas"},{name:"Hammer",component:NU,category:"Herramientas"},{name:"PaintBucket",component:dV,category:"Arte"},{name:"Ruler",component:EV,category:"Herramientas"},{name:"Calculator",component:mq,category:"Trabajo"},{name:"CreditCard",component:Fq,category:"Finanzas"},{name:"DollarSign",component:po,category:"Finanzas"},{name:"TrendingUp",component:U3,category:"Finanzas"},{name:"TrendingDown",component:fF,category:"Finanzas"},{name:"BarChart",component:Nq,category:"Finanzas"},{name:"PieChart",component:Cq,category:"Finanzas"},{name:"Activity",component:RB,category:"Salud"},{name:"Droplet",component:Xq,category:"Naturaleza"},{name:"Leaf",component:VU,category:"Naturaleza"},{name:"Flower",component:cU,category:"Naturaleza"},{name:"Bug",component:iq,category:"Naturaleza"},{name:"Fish",component:sU,category:"Animales"},{name:"Dog",component:Gq,category:"Animales"},{name:"Cat",component:jq,category:"Animales"},{name:"Bird",component:WB,category:"Animales"},{name:"Rabbit",component:wV,category:"Animales"}],$v=e=>{if(!e)return r.jsx(jr,{className:"w-6 h-6"});const t=b_.find(n=>n.name===e);if(t){const n=t.component;return r.jsx(n,{className:"w-6 h-6"})}return r.jsx(jr,{className:"w-6 h-6"})},eO=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d="Guardar",isEditing:f=!1})=>{const[m,h]=y.useState(!1);if(!e)return null;const g=b=>{b.preventDefault(),n(b)},x=()=>{if(!s.icono)return r.jsx(jr,{className:"w-6 h-6"});const b=b_.find(j=>j.name===s.icono);if(b){const j=b.component;return r.jsx(j,{className:"w-6 h-6"})}return r.jsx(jr,{className:"w-6 h-6"})};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto transform transition-all duration-300 animate-slideInScale",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6 rounded-t-xl sticky top-0 z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-xl font-bold",children:a}),r.jsx("button",{type:"button",onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:""})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre *"}),r.jsx("input",{name:"nombre",value:s.nombre||"",onChange:l,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 ${c.nombre?"border-red-500":"border-gray-300 hover:border-cyan-300"}`,placeholder:"Ingrese el nombre de la categora"}),c.nombre&&r.jsxs("div",{className:"mt-1 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(vm,{className:"w-4 h-4"}),r.jsx("span",{children:c.nombre})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),r.jsx("textarea",{name:"descripcion",value:s.descripcion||"",onChange:l,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 resize-none ${c.descripcion?"border-red-500":"border-gray-300 hover:border-cyan-300"}`,rows:"3",placeholder:"Ingrese la descripcin de la categora"}),c.descripcion&&r.jsxs("div",{className:"mt-1 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(vm,{className:"w-4 h-4"}),r.jsx("span",{children:c.descripcion})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Icono"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("button",{type:"button",onClick:()=>h(!0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg hover:border-cyan-300 focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 flex items-center justify-between text-left",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[x(),r.jsx("span",{className:"text-gray-700",children:s.icono?`${s.icono}`:"Seleccionar icono"})]}),r.jsx(br,{className:"w-4 h-4 text-gray-400"})]})}),s.icono&&r.jsx("button",{type:"button",onClick:()=>l({target:{name:"icono",value:""}}),className:"px-3 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Limpiar icono",children:""})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Haz clic para seleccionar un icono de la librera"})]})]}),r.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-xl flex justify-end space-x-3 sticky bottom-0 z-10",children:[r.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all duration-200 hover:scale-105",children:"Cancelar"}),r.jsxs("button",{type:"submit",onClick:g,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105 flex items-center space-x-2",children:[r.jsx(Nl,{className:"w-4 h-4"}),r.jsx("span",{children:d})]})]})]})})},Poe=({isOpen:e,onClose:t,categoria:n})=>!e||!n?null:r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col transform transition-all duration-300 animate-slideInScale",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-5 rounded-t-xl flex justify-between items-center flex-shrink-0",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Detalles de Categora"}),r.jsx("button",{onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:""})]}),r.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:$v(n.icono)}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:n.nombre}),r.jsx("p",{className:"text-gray-500",children:"Categora"})]})]}),r.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"ID"}),r.jsx("p",{className:"text-gray-800 text-right break-all",children:n._id})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Nombre"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.nombre})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Descripcin"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.descripcion})]}),r.jsxs("div",{className:"flex justify-between py-2 border-b",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"Fecha de Creacin"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.createdAt?new Date(n.createdAt).toLocaleDateString("es-ES"):"N/A"})]}),r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:"ltima Actualizacin"}),r.jsx("p",{className:"text-gray-800 text-right",children:n.updatedAt?new Date(n.updatedAt).toLocaleDateString("es-ES"):"N/A"})]})]})]}),r.jsx("div",{className:"p-4 bg-gray-50 rounded-b-xl flex justify-end flex-shrink-0",children:r.jsx("button",{onClick:t,className:"px-5 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105",children:"Cerrar"})})]})}),_oe=()=>{const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,l]=y.useState(""),[c,d]=y.useState(""),[f,m]=y.useState(0),[h,g]=y.useState(5),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,C]=y.useState(!1),[A,E]=y.useState(null),[T,O]=y.useState({nombre:"",descripcion:"",icono:""}),[k,P]=y.useState({}),_=ke.ENDPOINTS.CATEGORIAS,L=async(be="",Ne={})=>{const De=Me=>`${Me}${_}${be}`,Ie=async Me=>{const qe=De(Me),Ke=new AbortController,Be=setTimeout(()=>Ke.abort(),ke.TIMEOUTS.REQUEST);try{const F=await fetch(qe,{...ke.FETCH_CONFIG,...Ne,signal:Ke.signal});if(clearTimeout(Be),!F.ok){const $=await F.text().catch(()=>"");throw new Error(`HTTP ${F.status} ${F.statusText} - ${$}`)}return ke.BASE_URL=Me,await F.json()}catch(F){throw clearTimeout(Be),F}},te=ke.BASE_URL,_e=te.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"https://a-u-r-o-r-a.onrender.com/api/api";try{return await Ie(te)}catch(Me){if(Me.name==="AbortError"||Me instanceof TypeError||Me.message&&(Me.message.includes("Failed to fetch")||Me.message.includes("NetworkError")))try{return await Ie(_e)}catch(qe){throw qe}throw Me}},U=async()=>{try{a(!0);const be=await L("",{method:"GET"});Array.isArray(be)?t(be):be.message&&(l(be.message),t([]))}catch{l("Error al conectar con el servidor"),t([])}finally{a(!1)}};y.useEffect(()=>{U()},[]);const V=()=>{var Ne,De;const be={};return(Ne=T.nombre)!=null&&Ne.trim()||(be.nombre="El nombre es obligatorio"),(De=T.descripcion)!=null&&De.trim()||(be.descripcion="La descripcin es obligatoria"),P(be),Object.keys(be).length===0},K=be=>{const{name:Ne,value:De}=be.target;O(Ie=>({...Ie,[Ne]:De})),k[Ne]&&P(Ie=>({...Ie,[Ne]:""}))},le=async be=>{if(be.preventDefault(),!!V())try{const Ne=await L("",{method:"POST",body:JSON.stringify(T)});Ne.message==="categoria guardada"?(await U(),b(!1),B(),l("")):l(Ne.message||"Error al crear la categora")}catch{l("Error al conectar con el servidor")}},ee=async be=>{if(be.preventDefault(),!!V())try{const Ne=await L(`/${A._id}`,{method:"PUT",body:JSON.stringify(T)});Ne.message==="Categoria actualizada"?(await U(),N(!1),B(),E(null),l("")):l(Ne.message||"Error al actualizar la categora")}catch{l("Error al conectar con el servidor")}},ne=async be=>{if(window.confirm("Est seguro de que desea eliminar esta categora?"))try{const Ne=await L(`/${be}`,{method:"DELETE"});Ne.message==="Categoria eliminada"?(await U(),l("")):l(Ne.message||"Error al eliminar la categora")}catch{l("Error al conectar con el servidor")}},B=()=>{O({nombre:"",descripcion:"",icono:""}),P({})},re=be=>{E(be),O({nombre:be.nombre,descripcion:be.descripcion,icono:be.icono||""}),P({}),N(!0)},Q=be=>{E(be),C(!0)},H=()=>{b(!1),N(!1),C(!1),E(null),B()},D=e.filter(be=>{var Ne,De;return((Ne=be.nombre)==null?void 0:Ne.toLowerCase().includes(c.toLowerCase()))||((De=be.descripcion)==null?void 0:De.toLowerCase().includes(c.toLowerCase()))}),q=Math.ceil(D.length/h),G=D.slice(f*h,f*h+h),J=()=>m(0),W=()=>m(be=>Math.max(0,be-1)),pe=()=>m(be=>Math.min(q-1,be+1)),ge=()=>m(q-1),$e=e.length;return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s&&r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[r.jsx("span",{className:"block sm:inline",children:s}),r.jsxs("button",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",onClick:()=>l(""),children:[r.jsx("span",{className:"sr-only",children:"Cerrar"}),""]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Categoras"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:$e})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(jr,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Categoras Activas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:$e})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Fl,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"En Esta Pgina"}),r.jsx("p",{className:"text-3xl font-bold text-cyan-600 mt-2",children:G.length})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(sr,{className:"w-6 h-6 text-cyan-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestin de Categoras"}),r.jsxs("button",{onClick:()=>{B(),b(!0)},className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:"Aadir Categora"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx(br,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar categora...",value:c,onChange:be=>{d(be.target.value),m(0)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]})})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Nombre"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Descripcin"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Icono"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Fecha Creacin"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:G.map(be=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:be.nombre}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:be.descripcion}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-lg flex items-center justify-center text-cyan-600",children:$v(be.icono)})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:be.createdAt?new Date(be.createdAt).toLocaleDateString("es-ES"):"N/A"}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ne(be._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Q(be),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>re(be),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})})]})})]},be._id))})]})}),D.length===0&&!n&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(jr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron categoras"}),r.jsx("p",{className:"text-gray-500",children:c?"Intenta con otros trminos de bsqueda":"Comienza creando tu primera categora"})]}),D.length>0&&r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:h,onChange:be=>{g(Number(be.target.value)),m(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(be=>r.jsx("option",{value:be,children:be},be))}),r.jsx("span",{className:"text-gray-700",children:"por pgina"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:J,disabled:f===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:W,disabled:f===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Pgina ",f+1," de ",q]}),r.jsx("button",{onClick:pe,disabled:f===q-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:ge,disabled:f===q-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsx("h3",{className:"text-xl font-bold",children:"Vista Rpida de Categoras"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.slice(0,6).map(be=>r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>Q(be),children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center text-cyan-600",children:$v(be.icono)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:be.nombre}),r.jsx("p",{className:"text-sm text-gray-500 truncate",children:be.descripcion})]})]})},`card-${be._id}`))})})]}),r.jsx(eO,{isOpen:x,onClose:H,onSubmit:le,title:"Agregar Nueva Categora",formData:T,handleInputChange:K,errors:k,submitLabel:"Crear Categora"}),r.jsx(eO,{isOpen:j,onClose:H,onSubmit:ee,title:"Editar Categora",formData:T,handleInputChange:K,errors:k,submitLabel:"Actualizar Categora",isEditing:!0}),r.jsx(Poe,{isOpen:S,onClose:H,categoria:A})]})},Doe=(e,t)=>{const[n,a]=y.useState(e),[s,l]=y.useState({});return{formData:n,setFormData:a,handleInputChange:m=>{const{name:h,value:g}=m.target;if(h.includes(".")){const x=h.split(".");a(b=>({...b,[x[0]]:{...b[x[0]],[x[1]]:g}}))}else a(x=>({...x,[h]:g}));s[h]&&l(x=>({...x,[h]:""}))},validateForm:()=>{const m=t?t(n):{};return l(m),Object.keys(m).length===0},resetForm:()=>{a(e),l({})},errors:s,setErrors:l}},Roe=(e,t)=>{const[n,a]=y.useState(0),s=Math.ceil(e.length/t);return{paginatedData:e.slice(n*t,(n+1)*t),currentPage:n,totalPages:s,setCurrentPage:a,pageSize:t}},Loe=({title:e,buttonLabel:t,onButtonClick:n})=>r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:e}),r.jsxs("button",{onClick:n,className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:t})]})]})}),Ioe=({stats:e})=>r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:e.map((t,n)=>r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:t.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:t.value})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(t.Icon,{className:"w-6 h-6 text-cyan-600"})})]})},n))}),zoe=({searchTerm:e,onSearchChange:t,placeholder:n,filters:a,activeFilter:s,onFilterChange:l})=>r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(br,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:n,value:e,onChange:t,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:a.map((c,d)=>r.jsx("button",{onClick:()=>l(c.value),className:`px-4 py-2 rounded-lg transition-colors ${s===c.value?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:c.label},d))})]})}),$oe=({columns:e,data:t,renderRow:n,loading:a,noDataMessage:s,noDataSubMessage:l})=>a?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando..."})]}):t.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(hh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s}),r.jsx("p",{className:"text-gray-500",children:l})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsx("tr",{children:e.map((c,d)=>r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:c.header},d))})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((c,d)=>r.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:n(c)},c._id||d))})]})}),Boe=({currentPage:e,totalPages:t,setCurrentPage:n})=>r.jsx("div",{className:"p-6 flex justify-center",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>n(0),disabled:e===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:()=>n(a=>Math.max(0,a-1)),disabled:e===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium px-4",children:["Pgina ",e+1," de ",t]}),r.jsx("button",{onClick:()=>n(a=>Math.min(t-1,a+1)),disabled:e===t-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:()=>n(t-1),disabled:e===t-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})}),qoe=({alert:e})=>{if(!e)return null;const t=n=>{switch(n){case"success":return"bg-green-100 border-green-400 text-green-700";case"error":return"bg-red-100 border-red-400 text-red-700";case"warning":return"bg-yellow-100 border-yellow-400 text-yellow-700";default:return"bg-blue-100 border-blue-400 text-blue-700"}};return r.jsx("div",{className:`border px-4 py-3 rounded ${t(e.type)} animate-slideInDown`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(At,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:e.message})]})})},Uoe=({isOpen:e,onClose:t,onConfirm:n,title:a,message:s,confirmLabel:l="Confirmar",cancelLabel:c="Cancelar"})=>e?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 animate-slideInScale",children:r.jsxs("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:a}),r.jsx("p",{className:"text-gray-600 mb-6 whitespace-pre-line",children:s}),r.jsxs("div",{className:"flex gap-3 justify-end",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:c}),r.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:l})]})]})})}):null,Voe=({isOpen:e,onClose:t,title:n,item:a,data:s=[],children:l})=>{var c;return!e||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 animate-slideInScale",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-5 rounded-t-xl flex justify-between items-center flex-shrink-0",children:[r.jsx("h3",{className:"text-xl font-bold",children:n}),r.jsx("button",{onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-2 transition-all duration-200 hover:scale-110",children:r.jsx(Ra,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.logo?r.jsx("img",{src:a.logo,alt:a.nombre,className:"w-full h-full rounded-full object-cover"}):r.jsx("span",{className:"text-cyan-600 font-bold text-2xl",children:(c=a.nombre)==null?void 0:c.charAt(0)})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:a.nombre}),r.jsx("p",{className:"text-gray-500",children:a.paisOrigen})]})]}),r.jsx("div",{className:"space-y-2 pt-4 border-t",children:s.map((d,f)=>r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between py-2 border-b last:border-b-0",children:[r.jsx("p",{className:"font-semibold text-gray-600",children:d.label}),d.color?r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${d.color} mt-1 sm:mt-0`,children:d.value}):r.jsx("p",{className:"text-gray-800 text-left sm:text-right break-words",children:d.value})]},f))}),l&&r.jsx("div",{className:"space-y-4",children:l})]}),r.jsx("div",{className:"p-4 bg-gray-50 rounded-b-xl flex justify-end flex-shrink-0",children:r.jsx("button",{onClick:t,className:"px-5 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105",children:"Cerrar"})})]})})},Foe=({isOpen:e,onClose:t,onSubmit:n,title:a,formData:s,handleInputChange:l,errors:c,submitLabel:d,submitIcon:f,fields:m=[],children:h,gridCols:g=2})=>{if(!e)return null;const x=j=>{j.preventDefault(),n()},b=(j,N)=>{const{name:S,label:C,type:A,options:E,required:T,colSpan:O=1,placeholder:k,...P}=j,_=T?`${C} *`:C,L=c[S],U={name:S,value:Array.isArray(s[S])?s[S]:s[S]||"",onChange:l,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all duration-200 text-sm ${L?"border-red-500":"border-gray-300 hover:border-cyan-300"}`,placeholder:k,...P};let V;switch(A){case"select":V=r.jsxs("select",{...U,children:[r.jsx("option",{value:"",children:"Seleccione una opcin"}),E.map(K=>r.jsx("option",{value:typeof K=="object"?K.value:K,children:typeof K=="object"?K.label:K},typeof K=="object"?K.value:K))]});break;case"multi-select":V=r.jsxs("div",{children:[r.jsx("select",{...U,multiple:!0,size:"4",onChange:K=>{const le=Array.from(K.target.selectedOptions,ee=>ee.value);l({target:{name:S,value:le}})},children:E.map(K=>r.jsx("option",{value:typeof K=="object"?K.value:K,children:typeof K=="object"?K.label:K},typeof K=="object"?K.value:K))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mantn presionado Ctrl (Cmd en Mac) para seleccionar mltiples opciones"})]});break;case"textarea":V=r.jsx("textarea",{...U,rows:"3",className:`${U.className} resize-none`});break;default:V=r.jsx("input",{...U,type:A||"text"})}return r.jsxs("div",{className:`col-span-${O}`,children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:_}),V,L&&r.jsxs("div",{className:"mt-1 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:L})]})]},S||N)};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4 animate-fadeIn",children:r.jsxs("form",{onSubmit:x,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl md:max-w-4xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 animate-slideInScale",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-4 sm:p-6 rounded-t-xl sticky top-0 z-10",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:a}),r.jsx("button",{type:"button",onClick:t,className:"text-white bg-cyan-500 hover:bg-cyan-600 rounded-lg p-1.5 sm:p-2 transition-all duration-200 hover:scale-110",children:r.jsx(Ra,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})}),r.jsx("div",{className:"p-4 sm:p-6",children:r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-${g} gap-3 sm:gap-4`,children:[h,m.map((j,N)=>b(j,N))]})}),r.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 rounded-b-xl flex flex-col sm:flex-row justify-end gap-2 sm:space-x-3 sticky bottom-0 z-10",children:[r.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-all duration-200 hover:scale-105 text-sm sm:text-base",children:"Cancelar"}),r.jsxs("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all duration-200 hover:scale-105 flex items-center justify-center space-x-2 text-sm sm:text-base",children:[f||r.jsx(Nl,{className:"w-4 h-4"}),r.jsx("span",{children:d})]})]})]})})},Yf=ke.ENDPOINTS.MARCAS,Wf=async(e,t,n,a={})=>{const s=f=>`${f}${t}`,l=async f=>{const m=s(f),h=await Le({url:m,method:e,data:n,withCredentials:!0,headers:{"Content-Type":"application/json",...a.headers||{}},...a});return ke.BASE_URL=f,h},c=ke.BASE_URL,d=c.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await l(c)}catch(f){const m=(f==null?void 0:f.message)||"";if(f.code==="ECONNABORTED"||m.includes("Network Error")||m.includes("ECONNREFUSED"))return await l(d);throw f}},Hoe=()=>{var Be;const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,l]=y.useState(null),[c,d]=y.useState(null),[f,m]=y.useState(!1),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(""),[S,C]=y.useState("todas"),[A,E]=y.useState(!1),T={nombre:"",descripcion:"",logo:"",paisOrigen:"",lineas:[]},O=F=>{var Z,Y,R;const $={};return(Z=F.nombre)!=null&&Z.trim()||($.nombre="El nombre es requerido"),(Y=F.descripcion)!=null&&Y.trim()||($.descripcion="La descripcin es requerida"),(R=F.paisOrigen)!=null&&R.trim()||($.paisOrigen="El pas de origen es requerido"),(!F.lineas||F.lineas.length===0)&&($.lineas="Debe seleccionar al menos una lnea"),$},{formData:k,setFormData:P,handleInputChange:_,resetForm:L,validateForm:U,errors:V,setErrors:K}=Doe(T,O),le=async()=>{var F,$;a(!0);try{const Z=await Wf("get",Yf);t(Z.data)}catch(Z){console.error("Error al cargar marcas:",Z),q("error","Error al cargar las marcas: "+((($=(F=Z.response)==null?void 0:F.data)==null?void 0:$.message)||Z.message))}finally{a(!1)}},ee=async F=>{var $,Z;try{const Y=await Wf("post",Yf,{...F,fechaCreacion:new Date().toISOString()});t(R=>[...R,Y.data]),q("success","Marca creada exitosamente!"),G()}catch(Y){console.error("Error al crear marca:",Y),q("error","Error al crear la marca: "+(((Z=($=Y.response)==null?void 0:$.data)==null?void 0:Z.message)||Y.message))}},ne=async(F,$)=>{var Z,Y;try{const R=await Wf("put",`${Yf}/${F}`,{...$,fechaActualizacion:new Date().toISOString()});t(se=>se.map(xe=>xe._id===F?{...xe,...R.data}:xe)),q("success","Marca actualizada exitosamente!"),G()}catch(R){console.error("Error al actualizar marca:",R),q("error","Error al actualizar la marca: "+(((Y=(Z=R.response)==null?void 0:Z.data)==null?void 0:Y.message)||R.message))}},B=async F=>{var $,Z;try{await Wf("delete",`${Yf}/${F}`),t(Y=>Y.filter(R=>R._id!==F)),q("success","Marca eliminada exitosamente!"),G()}catch(Y){console.error("Error al eliminar marca:",Y),q("error","Error al eliminar la marca: "+(((Z=($=Y.response)==null?void 0:$.data)==null?void 0:Z.message)||Y.message))}};y.useEffect(()=>{le();const F=document.createElement("script");return F.src="https://widget.cloudinary.com/v2.0/global/all.js",F.async=!0,document.body.appendChild(F),()=>{document.body.contains(F)&&document.body.removeChild(F)}},[]);const re=y.useMemo(()=>e.filter(F=>{var Y,R,se,xe,Oe;const $=((Y=F.nombre)==null?void 0:Y.toLowerCase().includes(j.toLowerCase()))||((R=F.descripcion)==null?void 0:R.toLowerCase().includes(j.toLowerCase()))||((se=F.paisOrigen)==null?void 0:se.toLowerCase().includes(j.toLowerCase()));let Z=!0;return S==="premium"?Z=(xe=F.lineas)==null?void 0:xe.includes("Premium"):S==="economica"&&(Z=(Oe=F.lineas)==null?void 0:Oe.includes("Econmica")),$&&Z}),[e,j,S]),{paginatedData:Q,...H}=Roe(re,5),D=y.useMemo(()=>{const F=e.length,$=e.filter(R=>{var se;return(se=R.lineas)==null?void 0:se.includes("Premium")}).length,Z=e.filter(R=>{var se;return(se=R.lineas)==null?void 0:se.includes("Econmica")}).length,Y=[...new Set(e.map(R=>R.paisOrigen).filter(Boolean))].length;return[{title:"Total Marcas",value:F,Icon:hh},{title:"Lneas Premium",value:$,Icon:jr},{title:"Lneas Econmicas",value:Z,Icon:sr},{title:"Pases",value:Y,Icon:di}]},[e]),q=(F,$)=>{d({type:F,message:$}),setTimeout(()=>d(null),5e3)},G=()=>{m(!1),g(!1),b(!1),l(null),L()},J=()=>{L(),l(null),m(!0)},W=F=>{l(F),P({nombre:F.nombre||"",descripcion:F.descripcion||"",logo:F.logo||"",paisOrigen:F.paisOrigen||"",lineas:F.lineas||[]}),K({}),m(!0)},pe=F=>{l(F),g(!0)},ge=F=>{l(F),b(!0)},$e=async()=>{if(!U())return;const F={nombre:k.nombre.trim(),descripcion:k.descripcion.trim(),paisOrigen:k.paisOrigen.trim(),lineas:k.lineas,logo:k.logo||""};s?await ne(s._id,F):await ee(F)},be=async()=>{s&&await B(s._id)},Ne=()=>{if(!window.cloudinary){q("error","Error: Cloudinary no est disponible. Verifica la configuracin.");return}E(!0),window.cloudinary.createUploadWidget({cloudName:"dsin8n7ko",uploadPreset:"empleados_perfil",folder:"marcas",sources:["local","url","camera"],multiple:!1,maxFileSize:5e6,clientAllowedFormats:["png","jpg","jpeg","webp"],cropping:!0,croppingAspectRatio:1.5,showSkipCropButton:!1,croppingDefaultSelectionRatio:1,gravity:"center",theme:"minimal"},($,Z)=>{if(E(!1),$){q("error","Error al subir imagen: "+$.message);return}if(Z.event==="success"){const Y=Z.info.secure_url;P(R=>({...R,logo:Y})),q("success","Imagen subida exitosamente")}}).open()},De=()=>{P(F=>({...F,logo:""}))},Ie=F=>{switch(F){case"Premium":return"bg-purple-100 text-purple-800";case"Econmica":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},te=F=>F?new Date(F).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No disponible",_e=[{header:"Marca",key:"marca"},{header:"Descripcin",key:"descripcion"},{header:"Logo",key:"logo"},{header:"Lneas",key:"lineas"},{header:"Pas Origen",key:"paisOrigen"},{header:"Fecha Creacin",key:"fechaCreacion"},{header:"Acciones",key:"acciones"}],Me=F=>{var $,Z;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.nombre}),r.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",(($=F._id)==null?void 0:$.slice(-6))||"N/A"]})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600 max-w-xs",children:r.jsx("p",{className:"truncate",title:F.descripcion,children:F.descripcion})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"w-16 h-12 bg-white rounded-lg border border-gray-200 flex items-center justify-center overflow-hidden",children:[F.logo?r.jsx("img",{src:F.logo,alt:`Logo de ${F.nombre}`,className:"max-w-full max-h-full object-contain",onError:Y=>{Y.target.style.display="none",Y.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:`${F.logo?"hidden":"flex"} w-full h-full bg-gray-100 items-center justify-center text-gray-400 text-xs`,children:"Sin logo"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:((Z=F.lineas)==null?void 0:Z.map((Y,R)=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ie(Y)}`,children:Y},R)))||r.jsx("span",{className:"text-gray-400 text-sm",children:"Sin lneas"})})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(di,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{children:F.paisOrigen})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-500 text-sm",children:te(F.createdAt||F.fechaCreacion)}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>ge(F),className:"p-2 text-red-600 bg-white hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>pe(F),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>W(F),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})})]})})]})},qe=[{name:"nombre",label:"Nombre de la Marca",type:"text",required:!0,placeholder:"Ej: Ray-Ban, Nike, Adidas...",colSpan:1},{name:"paisOrigen",label:"Pas de Origen",type:"text",required:!0,placeholder:"Ej: Estados Unidos, Alemania...",colSpan:1},{name:"lineas",label:"Lneas de Productos",type:"multi-select",required:!0,options:[{value:"Premium",label:"Premium"},{value:"Econmica",label:"Econmica"}],colSpan:2},{name:"descripcion",label:"Descripcin",type:"textarea",required:!0,placeholder:"Describe la marca, su enfoque, caractersticas principales...",colSpan:2}],Ke=[{label:"Todas",value:"todas"},{label:"Premium",value:"premium"},{label:"Econmica",value:"economica"}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(qoe,{alert:c}),r.jsx(Ioe,{stats:D}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(Loe,{title:"Gestin de Marcas",buttonLabel:"Aadir Marca",onButtonClick:J}),r.jsx(zoe,{searchTerm:j,onSearchChange:F=>N(F.target.value),placeholder:"Buscar por nombre, descripcin o pas...",filters:Ke,activeFilter:S,onFilterChange:C}),r.jsx($oe,{columns:_e,data:Q,renderRow:Me,loading:n,noDataMessage:"No se encontraron marcas",noDataSubMessage:j?"Intenta con otros trminos de bsqueda":"An no hay marcas registradas"}),re.length>0&&r.jsx(Boe,{...H})]}),r.jsx(Foe,{isOpen:f,onClose:G,onSubmit:$e,title:s?"Editar Marca":"Agregar Nueva Marca",formData:k,handleInputChange:_,errors:V,submitLabel:s?"Actualizar Marca":"Guardar Marca",submitIcon:r.jsx(Nl,{className:"w-4 h-4"}),fields:qe,gridCols:2,children:r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo de la Marca"}),k.logo?r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex justify-center",children:r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:k.logo,alt:"Logo preview",className:"w-32 h-20 object-contain border border-gray-300 rounded-lg bg-white p-2"}),r.jsx("button",{type:"button",onClick:De,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Ra,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("button",{type:"button",onClick:Ne,disabled:A,className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 disabled:opacity-50 transition-all duration-200 flex items-center space-x-2",children:[r.jsx(ph,{className:"w-4 h-4"}),r.jsx("span",{children:"Cambiar Logo"})]})})]}):r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-cyan-400 transition-colors",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(Hy,{className:"w-12 h-12 text-gray-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-2",children:"Subir logo de la marca"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"PNG, JPG, JPEG o WEBP (mx. 5MB)"})]}),r.jsx("button",{type:"button",onClick:Ne,disabled:A,className:"px-6 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 disabled:opacity-50 transition-all duration-200 flex items-center space-x-2 mx-auto",children:A?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Subiendo..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Hy,{className:"w-4 h-4"}),r.jsx("span",{children:"Seleccionar Archivo"})]})})]})}),V.logo&&r.jsxs("div",{className:"mt-2 text-red-500 text-sm flex items-center space-x-1",children:[r.jsx(At,{className:"w-4 h-4"}),r.jsx("span",{children:V.logo})]})]})}),r.jsx(Voe,{isOpen:h,onClose:G,title:"Detalles de la Marca",item:s,data:s?[{label:"Nombre",value:s.nombre},{label:"Descripcin",value:s.descripcion},{label:"Pas de Origen",value:s.paisOrigen},{label:"Lneas",value:((Be=s.lineas)==null?void 0:Be.join(", "))||"No especificadas"},{label:"Fecha de Creacin",value:te(s.createdAt||s.fechaCreacion)},{label:"ltima Actualizacin",value:te(s.updatedAt||s.fechaActualizacion)}]:[],children:(s==null?void 0:s.logo)&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"Logo:"}),r.jsx("div",{className:"flex justify-center p-4 bg-gray-50 rounded-lg",children:r.jsx("img",{src:s.logo,alt:`Logo de ${s.nombre}`,className:"max-w-48 max-h-24 object-contain"})})]})}),r.jsx(Uoe,{isOpen:x,onClose:G,onConfirm:be,title:"Confirmar Eliminacin",message:`Ests seguro de que deseas eliminar la marca "${s==null?void 0:s.nombre}"?

Esta accin no se puede deshacer.`,confirmLabel:"Eliminar",cancelLabel:"Cancelar"})]})},ul=(e,t=ke.BASE_URL)=>`${t}${e}`;Le.defaults.withCredentials=!0;const Goe=()=>{const[e,t]=y.useState(""),[n,a]=y.useState("todas"),[s,l]=y.useState([]),[c,d]=y.useState([]),[f,m]=y.useState([]),[h,g]=y.useState(!0),[x,b]=y.useState(null),[j,N]=y.useState(!1),[S,C]=y.useState(!1),[A,E]=y.useState(!1),[T,O]=y.useState(null),[k,P]=y.useState(0),[_,L]=y.useState(5),U={nombre:"",descripcion:"",tipoDescuento:"porcentaje",valorDescuento:0,aplicaA:"todos",categoriasAplicables:[],lentesAplicables:[],fechaInicio:"",fechaFin:"",codigoPromo:"",activo:!0},[V,K]=y.useState(U),[le,ee]=y.useState({}),ne=(R,se)=>{b({type:R,message:se}),setTimeout(()=>b(null),4500)},B=async()=>{var R,se;g(!0);try{const[xe,Oe,Ue]=await Promise.all([Le.get(ul(ke.ENDPOINTS.PROMOCIONES)),Le.get(ul(ke.ENDPOINTS.CATEGORIAS)),Le.get(ul(ke.ENDPOINTS.LENTES))]);l(Array.isArray(xe.data)?xe.data:[]),d(Array.isArray(Oe.data)?Oe.data:[]),m(Array.isArray(Ue.data)?Ue.data:[])}catch(xe){ne("error","Error cargando datos de promociones: "+(((se=(R=xe.response)==null?void 0:R.data)==null?void 0:se.message)||xe.message))}finally{g(!1)}};y.useEffect(()=>{B()},[]);const re=R=>{const se=new Date,xe=R.fechaInicio?new Date(R.fechaInicio):null,Oe=R.fechaFin?new Date(R.fechaFin):null;return R.activo===!1?"Inactiva":xe&&se<xe?"Programada":Oe&&se>Oe?"Expirada":"Activa"},Q=y.useMemo(()=>{const R=e.trim().toLowerCase();let se=Array.isArray(s)?s:[];return R&&(se=se.filter(xe=>{var Oe,Ue,He;return((Oe=xe.nombre)==null?void 0:Oe.toLowerCase().includes(R))||((Ue=xe.descripcion)==null?void 0:Ue.toLowerCase().includes(R))||((He=xe.codigoPromo)==null?void 0:He.toLowerCase().includes(R))})),n!=="todas"&&(se=se.filter(xe=>re(xe).toLowerCase()===n)),se},[s,e,n]),H=Math.ceil((Q.length||0)/_)||1,D=Q.slice(k*_,k*_+_),q=()=>P(0),G=()=>P(R=>R>0?R-1:R),J=()=>P(R=>R<H-1?R+1:R),W=()=>P(H-1),pe=R=>{switch(R){case"Activa":return"bg-green-100 text-green-800";case"Expirada":return"bg-red-100 text-red-800";case"Programada":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},ge=R=>{switch((R||"").toString().toLowerCase()){case"porcentaje":return r.jsx(L3,{className:"w-5 h-5 text-cyan-600"});case"monto":return r.jsx(Fi,{className:"w-5 h-5 text-purple-600"});case"2x1":return r.jsx(Fi,{className:"w-5 h-5 text-orange-600"});default:return null}},$e=s.length,be=s.filter(R=>re(R)==="Activa").length,Ne=s.filter(R=>re(R)==="Programada").length,De=()=>{O(null),K(U),ee({}),N(!0)},Ie=R=>{O(R),K({nombre:R.nombre||"",descripcion:R.descripcion||"",tipoDescuento:(R.tipoDescuento||"porcentaje").toString().toLowerCase(),valorDescuento:Number(R.valorDescuento||0),aplicaA:(R.aplicaA||"todos").toString().toLowerCase(),categoriasAplicables:Array.isArray(R.categoriasAplicables)?R.categoriasAplicables.map(se=>(se==null?void 0:se._id)||se):[],lentesAplicables:Array.isArray(R.lentesAplicables)?R.lentesAplicables.map(se=>(se==null?void 0:se._id)||se):[],fechaInicio:R.fechaInicio?new Date(R.fechaInicio).toISOString().slice(0,10):"",fechaFin:R.fechaFin?new Date(R.fechaFin).toISOString().slice(0,10):"",codigoPromo:R.codigoPromo||"",activo:R.activo!==!1}),ee({}),N(!0)},te=R=>{O(R),E(!0)},_e=R=>{O(R),C(!0)},Me=()=>{N(!1),E(!1),C(!1),O(null),ee({})},qe=R=>{const{name:se,value:xe}=R.target;K(Oe=>({...Oe,[se]:xe}))},Ke=R=>{var xe,Oe,Ue;const se={};if((xe=R.nombre)!=null&&xe.trim()||(se.nombre="El nombre es obligatorio"),(Oe=R.descripcion)!=null&&Oe.trim()||(se.descripcion="La descripcin es obligatoria"),R.tipoDescuento||(se.tipoDescuento="Tipo de descuento requerido"),(!R.valorDescuento||Number(R.valorDescuento)<=0)&&(se.valorDescuento="Debe ser > 0"),R.aplicaA||(se.aplicaA="Campo requerido"),R.fechaInicio||(se.fechaInicio="Fecha inicio requerida"),R.fechaFin||(se.fechaFin="Fecha fin requerida"),(Ue=R.codigoPromo)!=null&&Ue.trim()||(se.codigoPromo="Cdigo requerido"),R.tipoDescuento==="porcentaje"&&Number(R.valorDescuento)>100&&(se.valorDescuento="No puede ser > 100%"),R.aplicaA==="categoria"&&(!R.categoriasAplicables||R.categoriasAplicables.length===0)&&(se.categoriasAplicables="Seleccione al menos una categora"),R.aplicaA==="lente"&&(!R.lentesAplicables||R.lentesAplicables.length===0)&&(se.lentesAplicables="Seleccione al menos un lente"),R.fechaInicio&&R.fechaFin){const He=new Date(R.fechaInicio);new Date(R.fechaFin)<=He&&(se.fechaFin="Debe ser posterior a inicio")}return se},Be=async()=>{var Oe,Ue;const R={...V},se=Ke(R);if(ee(se),Object.keys(se).length>0)return;const xe={nombre:R.nombre.trim(),descripcion:R.descripcion.trim(),tipoDescuento:R.tipoDescuento,valorDescuento:Number(R.valorDescuento),aplicaA:R.aplicaA,categoriasAplicables:R.aplicaA==="categoria"?R.categoriasAplicables:[],lentesAplicables:R.aplicaA==="lente"?R.lentesAplicables:[],fechaInicio:new Date(R.fechaInicio).toISOString(),fechaFin:new Date(R.fechaFin).toISOString(),codigoPromo:R.codigoPromo.trim(),activo:R.activo!==!1};try{T!=null&&T._id?(await Le.put(ul(`${ke.ENDPOINTS.PROMOCIONES}/${T._id}`),xe),ne("success","Promocin actualizada exitosamente")):(await Le.post(ul(ke.ENDPOINTS.PROMOCIONES),xe),ne("success","Promocin creada exitosamente")),Me(),B()}catch(He){ne("error","Error guardando promocin: "+(((Ue=(Oe=He.response)==null?void 0:Oe.data)==null?void 0:Ue.message)||He.message))}},F=async()=>{var R,se;try{await Le.delete(ul(`${ke.ENDPOINTS.PROMOCIONES}/${T._id}`)),ne("success","Promocin eliminada"),Me(),B()}catch(xe){ne("error","Error eliminando promocin: "+(((se=(R=xe.response)==null?void 0:R.data)==null?void 0:se.message)||xe.message))}},$=c.map(R=>({value:R._id,label:R.nombre})),Z=f.map(R=>({value:R._id,label:R.nombre})),Y=T?[{label:"ID",value:T._id},{label:"Nombre",value:T.nombre},{label:"Descripcin",value:T.descripcion},{label:"Tipo Descuento",value:T.tipoDescuento},{label:"Valor",value:T.tipoDescuento==="porcentaje"?`${T.valorDescuento}%`:`$${T.valorDescuento}`},{label:"Aplica A",value:T.aplicaA},{label:"Categoras",value:Array.isArray(T.categoriasAplicables)?T.categoriasAplicables.map(R=>(R==null?void 0:R.nombre)||R).join(", "):"-"},{label:"Lentes",value:Array.isArray(T.lentesAplicables)?T.lentesAplicables.map(R=>(R==null?void 0:R.nombre)||R).join(", "):"-"},{label:"Inicio",value:T.fechaInicio?new Date(T.fechaInicio).toLocaleDateString():"-"},{label:"Fin",value:T.fechaFin?new Date(T.fechaFin).toLocaleDateString():"-"},{label:"Cdigo",value:T.codigoPromo},{label:"Estado",value:re(T)}]:[];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx(pi,{title:"Gestin de Promociones",subtitle:"Crea, edita y administra las promociones de la ptica",icon:Fi,buttonText:"Aadir Promocin",onButtonClick:De}),x&&r.jsx(Cr,{type:x.type,message:x.message,onClose:()=>b(null)}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Promociones"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:$e})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(Fi,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Promociones Activas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:be})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(xs,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Promociones Programadas"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:Ne})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Br,{className:"w-6 h-6 text-blue-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Listado de Promociones"}),r.jsxs("button",{onClick:De,className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:"Nueva Promocin"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(br,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar promocin...",value:e,onChange:R=>{t(R.target.value),P(0)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex gap-2",children:["todas","activa","expirada","programada"].map(R=>r.jsxs("button",{onClick:()=>{a(R),P(0)},className:`px-4 py-2 rounded-lg transition-colors capitalize ${n===R?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[R.charAt(0).toUpperCase()+R.slice(1),"s"]},R))})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Nombre"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Descripcin"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Tipo"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Valor"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Vigencia"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:h?r.jsx("tr",{children:r.jsx("td",{className:"px-6 py-6",colSpan:7,children:"Cargando promociones..."})}):D.length>0?D.map(R=>{const se=re(R);return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:R.nombre}),r.jsx("td",{className:"px-6 py-4 text-gray-600 max-w-sm truncate",children:R.descripcion}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[ge(R.tipoDescuento),r.jsx("span",{className:"text-gray-800 font-medium",children:(R.tipoDescuento||"").toString().toUpperCase()})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"text-lg font-bold text-cyan-600",children:R.tipoDescuento==="porcentaje"?`${R.valorDescuento}%`:R.tipoDescuento==="monto"?`$${R.valorDescuento}`:""})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"text-sm text-gray-800",children:[r.jsx("span",{className:"font-semibold",children:"Inicio:"})," ",R.fechaInicio?new Date(R.fechaInicio).toLocaleDateString():""]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[r.jsx("span",{className:"font-semibold",children:"Fin:"})," ",R.fechaFin?new Date(R.fechaFin).toLocaleDateString():""]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${pe(se)}`,children:se})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>_e(R),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>te(R),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Ie(R),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})})]})})]},R._id)}):r.jsx("tr",{children:r.jsxs("td",{colSpan:7,className:"p-8 text-center",children:[r.jsx(Fi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron promociones"}),r.jsx("p",{className:"text-gray-500",children:e?"Intenta con otros trminos de bsqueda":"Comienza creando tu primera promocin"})]})})})]})}),r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:_,onChange:R=>{L(Number(R.target.value)),P(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(R=>r.jsx("option",{value:R,children:R},R))}),r.jsx("span",{className:"text-gray-700",children:"por pgina"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:q,disabled:k===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:G,disabled:k===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Pgina ",k+1," de ",H]}),r.jsx("button",{onClick:J,disabled:k===H-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:W,disabled:k===H-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]}),r.jsx(ir,{isOpen:j,onClose:Me,onSubmit:Be,title:T?"Editar Promocin":"Nueva Promocin",formData:V,handleInputChange:qe,errors:le,submitLabel:T?"Guardar cambios":"Crear promocin",gridCols:2,fields:[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripcin",type:"textarea",required:!0,colSpan:2},{name:"tipoDescuento",label:"Tipo de Descuento",type:"select",options:[{value:"porcentaje",label:"Porcentaje (%)"},{value:"monto",label:"Monto fijo ($)"},{value:"2x1",label:"2x1"}],required:!0},{name:"valorDescuento",label:"Valor Descuento",type:"number",required:!0},{name:"aplicaA",label:"Aplica A",type:"select",options:[{value:"todos",label:"Todos los productos"},{value:"categoria",label:"Categoras especficas"},{value:"lente",label:"Lentes especficos"}],required:!0},{name:"categoriasAplicables",label:"Categoras",type:"multi-select",options:$,hidden:V.aplicaA!=="categoria",colSpan:2},{name:"lentesAplicables",label:"Lentes",type:"multi-select",options:Z,hidden:V.aplicaA!=="lente",colSpan:2},{name:"fechaInicio",label:"Fecha Inicio",type:"date",required:!0},{name:"fechaFin",label:"Fecha Fin",type:"date",required:!0},{name:"codigoPromo",label:"Cdigo Promocin",type:"text",required:!0},{name:"activo",label:"Activo",type:"boolean"}]}),r.jsx(Ar,{isOpen:A,onClose:Me,title:"Detalles de la Promocin",item:T,data:Y}),r.jsx(vs,{isOpen:S,onClose:Me,onConfirm:F,title:"Confirmar Eliminacin",message:`Eliminar la promocin "${T==null?void 0:T.nombre}"? Esta accin no se puede deshacer.`})]})},ai="https://a-u-r-o-r-a.onrender.com/api",tO={clienteId:"",optometristaId:"",sucursalId:"",fecha:"",hora:"",estado:"Pendiente",motivoCita:"",tipoLente:"",graduacion:"",notasAdicionales:""},Koe=()=>{const[e,t]=y.useState(""),[n,a]=y.useState(""),[s,l]=y.useState(!1),[c,d]=y.useState(!1),[f,m]=y.useState(!1),[h,g]=y.useState(null),[x,b]=y.useState([]),[j,N]=y.useState([]),[S,C]=y.useState([]),[A,E]=y.useState([]),[T,O]=y.useState(tO),[k,P]=y.useState(!1),[_,L]=y.useState(null),[U,V]=y.useState({}),[K,le]=y.useState(10),[ee,ne]=y.useState(0),[B,re]=y.useState(null),[Q,H]=y.useState(null),[D,q]=y.useState({open:!1,cita:null}),G=z=>{if(!z)return"N/A";const ae=z.empleadoId;if(ae&&(ae.nombre||ae.apellido))return`${ae.nombre||""} ${ae.apellido||""}`.trim()||"N/A";const Ae=z._id||z.id||"";return Ae?`Optometrista ${String(Ae).slice(-6).toUpperCase()}`:"Optometrista"},J=z=>{if(!z)return"N/A";if(typeof z=="object"){const Ve=G(z);if(!/^Optometrista\s/i.test(Ve))return Ve;const st=z._id||z.id;if(st){const ct=S.find(at=>at._id===st);if(ct)return G(ct)}return Ve}const ae=String(z),Ae=S.find(Ve=>Ve._id===ae);return Ae?G(Ae):`Optometrista ${ae.slice(-6).toUpperCase()}`};y.useEffect(()=>{(async()=>{P(!0);try{const[ae,Ae,Re,Ve]=await Promise.all([Le.get(`${ai}/citas`),Le.get(`${ai}/clientes`),Le.get(`${ai}/optometrista`),Le.get(`${ai}/sucursales`)]);b(Array.isArray(ae.data)?ae.data:[]),N(Ae.data||[]),C(Re.data||[]),E(Ve.data||[])}catch{L("Error al cargar datos.")}finally{P(!1)}})()},[]);const W=z=>{const{name:ae,value:Ae}=z.target;O(Re=>({...Re,[ae]:Ae}))},pe=z=>{var ae,Ae,Re;O({clienteId:((ae=z.clienteId)==null?void 0:ae._id)||z.clienteId||"",optometristaId:((Ae=z.optometristaId)==null?void 0:Ae._id)||z.optometristaId||"",sucursalId:((Re=z.sucursalId)==null?void 0:Re._id)||z.sucursalId||"",fecha:z.fecha?z.fecha.slice(0,10):"",hora:z.hora||"",estado:z.estado||"Pendiente",motivoCita:z.motivoCita||"",tipoLente:z.tipoLente||"",graduacion:z.graduacion||"",notasAdicionales:z.notasAdicionales||""}),g(z),d(!0),m(!1)},ge=()=>{l(!1),d(!1),m(!1),g(null),O(tO)},$e=z=>{re(z),m(!0)},be=j.map(z=>({value:z._id,label:`${z.nombre} ${z.apellido}`})),Ne=S.map(z=>({value:z._id,label:G(z)})),De=A.map(z=>({value:z._id,label:z.nombre})),te=[{name:"clienteId",label:"Cliente",type:"select",options:be,placeholder:"Seleccione un cliente",required:!0,colSpan:2},{name:"optometristaId",label:"Optometrista",type:"select",options:Ne,placeholder:"Seleccione un optometrista",required:!0,colSpan:2},{name:"sucursalId",label:"Sucursal",type:"select",options:De,placeholder:"Seleccione una sucursal",required:!0,colSpan:2},{name:"fecha",label:"Fecha",type:"date",required:!0,colSpan:1},{name:"hora",label:"Hora",type:"text",placeholder:"Ej. 10:30",required:!0,colSpan:1},{name:"estado",label:"Estado",type:"select",options:[{value:"agendada",label:"Agendada"},{value:"pendiente",label:"Pendiente"},{value:"confirmada",label:"Confirmada"},{value:"cancelada",label:"Cancelada"},{value:"completada",label:"Completada"}],required:!0,colSpan:2},{name:"motivoCita",label:"Motivo de la cita",type:"text",placeholder:"Ej. Examen Visual",required:!0,colSpan:4},{name:"tipoLente",label:"Tipo de lente",type:"text",placeholder:"Ej. Monofocal",colSpan:2},{name:"graduacion",label:"Graduacin",type:"text",placeholder:"Ej. -1.25",colSpan:2},{name:"notasAdicionales",label:"Notas adicionales",type:"textarea",placeholder:"Observaciones...",colSpan:4}],_e=()=>{const z={};return te.forEach(ae=>{ae.required&&!T[ae.name]&&(z[ae.name]="Este campo es obligatorio")}),T.tipoLente||(z.tipoLente="Este campo es obligatorio"),T.graduacion||(z.graduacion="Este campo es obligatorio"),V(z),Object.keys(z).length===0},Me=async z=>{if(z.preventDefault(),!!_e()){P(!0);try{const ae={...T,fecha:T.fecha?new Date(T.fecha):void 0};h?(await Le.put(`${ai}/citas/${h._id}`,ae),ut("Cita editada correctamente","success")):(await Le.post(`${ai}/citas`,ae),ut("Cita creada correctamente","success"));const Ae=await Le.get(`${ai}/citas`);b(Array.isArray(Ae.data)?Ae.data:[]),ge()}catch(ae){ae.response&&ae.response.data&&ae.response.data.message?(L("Error: "+ae.response.data.message),ut("Error: "+ae.response.data.message,"error")):(L("Error al guardar la cita."),ut("Error al guardar la cita.","error"))}finally{P(!1)}}},qe=z=>{q({open:!0,cita:z})},Ke=async()=>{const z=D.cita;P(!0);try{await Le.delete(`${ai}/citas/${z._id}`),b(x.filter(Ae=>Ae._id!==z._id)),m(!1),q({open:!1,cita:null});const ae=z.clienteId&&(z.clienteId.nombre||z.clienteId.apellido)?`${z.clienteId.nombre||""} ${z.clienteId.apellido||""}`.trim():"cliente";ut(`Cita de ${ae} eliminada permanentemente.`,"delete")}catch{L("Error al eliminar la cita."),ut("Error al eliminar la cita.","error")}finally{P(!1)}},Be=x.filter(z=>{const ae=(z.cliente||"").toLowerCase(),Ae=(z.servicio||"").toLowerCase(),Re=ae.includes(e.toLowerCase())||Ae.includes(e.toLowerCase()),Ve=!n||z.fecha&&new Date(z.fecha).toISOString().split("T")[0]===n;return Re&&Ve}),F=Math.ceil(Be.length/K),$=Be.slice(ee*K,ee*K+K),Z=()=>ne(0),Y=()=>ne(z=>Math.max(0,z-1)),R=()=>ne(z=>Math.min(F-1,z+1)),se=()=>ne(F-1),xe=z=>{switch(z){case"Confirmada":return{color:"bg-green-100 text-green-800",icon:r.jsx(xs,{className:"w-4 h-4"})};case"Pendiente":return{color:"bg-yellow-100 text-yellow-800",icon:r.jsx(rr,{className:"w-4 h-4"})};case"Realizada":return{color:"bg-blue-100 text-blue-800",icon:r.jsx(ys,{className:"w-4 h-4"})};case"Cancelada":return{color:"bg-red-100 text-red-800",icon:r.jsx(_q,{className:"w-4 h-4"})};default:return{color:"bg-gray-100 text-gray-800",icon:r.jsx(vm,{className:"w-4 h-4"})}}},Oe=x.filter(z=>z.fecha===new Date().toISOString().split("T")[0]).length,Ue=x.filter(z=>z.estado==="Pendiente").length,He=x.filter(z=>z.estado==="Confirmada").length,Je=z=>{let ae;n?ae=new Date(n):ae=new Date,ae.setDate(ae.getDate()+z),a(ae.toISOString().split("T")[0])},ut=(z,ae="success")=>{H({message:z,type:ae}),setTimeout(()=>H(null),3500)};return y.useEffect(()=>{f&&B&&ut("Visualizando cita de "+(B.clienteId?`${B.clienteId.nombre||""} ${B.clienteId.apellido||""}`.trim():"N/A"),"info")},[f,B]),r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[Q&&r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md",children:r.jsx(Cr,{type:Q.type,message:Q.message})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Citas para Hoy"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:Oe})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(Br,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Pendientes"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-2",children:Ue})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(rr,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Confirmadas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:He})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(xs,{className:"w-6 h-6 text-green-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestin de Citas"}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:"Agendar Cita"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(br,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por cliente o servicio...",value:e,onChange:z=>t(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>Je(-1),className:"p-2 rounded-full hover:bg-cyan-100 transition-colors",title:"Da anterior",children:r.jsx(k3,{className:"w-5 h-5 text-cyan-500"})}),r.jsx(Br,{className:"w-5 h-5 text-gray-400 absolute left-10 top-3"}),r.jsx("input",{type:"date",value:n,onChange:z=>a(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent min-w-[140px]",style:{minWidth:"140px"}}),r.jsx("button",{type:"button",onClick:()=>Je(1),className:"p-2 rounded-full hover:bg-cyan-100 transition-colors",title:"Da siguiente",children:r.jsx(Pb,{className:"w-5 h-5 text-cyan-500"})})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Cliente"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Servicio"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Optometrista"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Fecha y Hora"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Sucursal"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:$.map(z=>{const ae=xe(z.estado),Ae=z.clienteId?`${z.clienteId.nombre||""} ${z.clienteId.apellido||""}`.trim():"",Re=z.sucursalId&&z.sucursalId.nombre||"",Ve=J(z.optometristaId),st=z.motivoCita||"";return r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ys,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"font-medium text-gray-900",children:Ae||"N/A"})]})}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:st||"N/A"}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:Ve}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(rr,{className:"w-5 h-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:z.fecha?new Date(z.fecha).toLocaleDateString():""}),r.jsx("div",{className:"text-sm text-gray-500",children:z.hora})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(di,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-gray-800",children:Re||"N/A"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1.5 ${ae.color}`,children:[ae.icon,r.jsx("span",{children:z.estado})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",onClick:()=>qe(z),children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",onClick:()=>$e(z),children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",onClick:()=>pe(z),children:r.jsx(na,{className:"w-4 h-4"})})]})})]},z._id||z.id)})})]})}),Be.length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Br,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron citas"}),r.jsx("p",{className:"text-gray-500",children:e||n?"Intenta con otros filtros o busca un nuevo cliente.":"Comienza agendando una nueva cita"})]}),r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4 pb-6",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:K,onChange:z=>{le(Number(z.target.value)),ne(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(z=>r.jsx("option",{value:z,children:z},z))}),r.jsx("span",{className:"text-gray-700",children:"por pgina"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:Z,disabled:ee===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:"<<"}),r.jsx("button",{onClick:Y,disabled:ee===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Pgina ",ee+1," de ",F]}),r.jsx("button",{onClick:R,disabled:ee===F-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:">"}),r.jsx("button",{onClick:se,disabled:ee===F-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50",children:">>"})]})]})]}),r.jsx(ir,{isOpen:s||c,onClose:ge,onSubmit:Me,title:h?"Editar Cita":"Agendar Cita",formData:T,handleInputChange:W,errors:U,submitLabel:h?"Guardar cambios":"Agendar",fields:te,gridCols:4}),r.jsx(Ar,{isOpen:f,onClose:()=>m(!1),title:"Detalle de Cita",item:B,data:[{label:"Cliente",value:B&&B.clienteId?`${B.clienteId.nombre||""} ${B.clienteId.apellido||""}`.trim():"N/A"},{label:"Optometrista",value:B?J(B.optometristaId):"N/A"},{label:"Sucursal",value:B&&B.sucursalId?B.sucursalId.nombre:"N/A"},{label:"Fecha",value:B&&B.fecha?new Date(B.fecha).toLocaleDateString():"N/A"},{label:"Hora",value:B&&B.hora?B.hora:"N/A"},{label:"Estado",value:B&&B.estado?B.estado:"N/A"},{label:"Motivo de la cita",value:B&&B.motivoCita?B.motivoCita:"N/A"},{label:"Tipo de lente",value:B&&B.tipoLente?B.tipoLente:"N/A"},{label:"Graduacin",value:B&&B.graduacion?B.graduacion:"N/A"},{label:"Notas adicionales",value:B&&B.notasAdicionales?B.notasAdicionales:"N/A"}],actions:[{label:"Editar",onClick:()=>B&&pe(B),color:"green",icon:r.jsx(na,{className:"w-4 h-4 inline-block align-middle"})},{label:"Eliminar",onClick:()=>B&&qe(B),color:"red",icon:r.jsx(Rn,{className:"w-4 h-4 inline-block align-middle"})}]}),r.jsx(vs,{isOpen:D.open,onClose:()=>q({open:!1,cita:null}),onConfirm:Ke,title:"Ests seguro de eliminar la cita?",message:"Esta accin eliminar la cita de forma permanente."})]})},$i="https://a-u-r-o-r-a.onrender.com/api",nO={clienteId:"",padecimientos:{tipo:"",descripcion:"",fechaDeteccion:""},historialVisual:{fecha:"",diagnostico:"",receta:{ojoDerecho:{esfera:"",cilindro:"",eje:"",adicion:""},ojoIzquierdo:{esfera:"",cilindro:"",eje:"",adicion:""}}}},Yoe=()=>{var _e,Me,qe,Ke,Be,F,$,Z,Y,R,se,xe,Oe,Ue,He,Je,ut,z,ae,Ae,Re,Ve,st,ct,at,Nt,Tt,_t,dn,mt,ba,Ba,ja,jt,ue,Te,dt,ht;const[e,t]=y.useState(""),[n,a]=y.useState("todos"),[s,l]=y.useState(!1),[c,d]=y.useState(null),[f,m]=y.useState([]),[h,g]=y.useState([]),[x,b]=y.useState(nO),[j,N]=y.useState(!1),[S,C]=y.useState(null),[A,E]=y.useState(null),[T,O]=y.useState(!1),[k,P]=y.useState(null),[_,L]=y.useState([]),[U,V]=y.useState([]),[K,le]=y.useState(!1),[ee,ne]=y.useState(null),[B,re]=y.useState(null),[Q,H]=y.useState(null),[D,q]=y.useState(!1),[G,J]=y.useState(null);y.useEffect(()=>{(async()=>{N(!0);try{const[Qe,wt]=await Promise.all([Le.get(`${$i}/historialMedico`),Le.get(`${$i}/clientes`)]);m(Qe.data||[]),g(wt.data||[])}catch{C("Error al cargar datos.")}finally{N(!1)}})()},[]);const W=Pe=>{const{name:Qe,value:wt}=Pe.target;if(Qe.startsWith("padecimientos.")){const Mt=Qe.split(".")[1];b(Pt=>({...Pt,padecimientos:{...Pt.padecimientos,[Mt]:wt}}))}else if(Qe.startsWith("historialVisual.receta.ojoDerecho.")){const Mt=Qe.split(".")[3];b(Pt=>({...Pt,historialVisual:{...Pt.historialVisual,receta:{...Pt.historialVisual.receta,ojoDerecho:{...Pt.historialVisual.receta.ojoDerecho,[Mt]:wt},ojoIzquierdo:{...Pt.historialVisual.receta.ojoIzquierdo}}}}))}else if(Qe.startsWith("historialVisual.receta.ojoIzquierdo.")){const Mt=Qe.split(".")[3];b(Pt=>({...Pt,historialVisual:{...Pt.historialVisual,receta:{...Pt.historialVisual.receta,ojoDerecho:{...Pt.historialVisual.receta.ojoDerecho},ojoIzquierdo:{...Pt.historialVisual.receta.ojoIzquierdo,[Mt]:wt}}}}))}else if(Qe.startsWith("historialVisual.")){const Mt=Qe.split(".")[1];b(Pt=>({...Pt,historialVisual:{...Pt.historialVisual,[Mt]:wt}}))}else b(Mt=>({...Mt,[Qe]:wt}))},pe=async Pe=>{Pe.preventDefault(),N(!0),C(null);try{await Le.post(`${$i}/historialMedico`,x),E({type:"success",message:"Historial mdico creado exitosamente."}),l(!1),b(nO);const Qe=await Le.get(`${$i}/historialMedico`);m(Qe.data||[])}catch{C("Error al crear historial mdico.")}finally{N(!1)}},ge=async Pe=>{P(Pe);const Qe=f.filter(Mt=>Mt.clienteId&&Mt.clienteId._id===Pe._id);V(Qe);let wt=[];for(const Mt of Qe)try{const Pt=await Le.get(`${$i}/recetas/historial/${Mt._id}`);Array.isArray(Pt.data)&&(wt=wt.concat(Pt.data.map(dr=>({...dr,historialId:Mt._id}))))}catch{}L(wt),O(!0)},$e=(Pe,Qe)=>{ne({...Pe,tipo:Qe}),le(!0)},be=Pe=>{var Qe;O(!1),re(Pe),l(!0),b({clienteId:((Qe=Pe.clienteId)==null?void 0:Qe._id)||"",padecimientos:{...Pe.padecimientos},historialVisual:{...Pe.historialVisual}})},Ne=Pe=>{O(!1),window.localStorage.setItem("editRecetaId",Pe._id),document.querySelector("#root");const Qe=new CustomEvent("goToRecetasAndEdit");window.dispatchEvent(Qe)},De=(Pe,Qe)=>{J({...Pe,tipo:Qe}),q(!0)},Ie=async()=>{if(G)try{G.tipo==="historial"?(await Le.delete(`${$i}/historialMedico/${G._id}`),m(f.filter(Pe=>Pe._id!==G._id)),V(U.filter(Pe=>Pe._id!==G._id))):G.tipo==="receta"&&(await Le.delete(`${$i}/recetas/${G._id}`),L(_.filter(Pe=>Pe._id!==G._id))),q(!1),J(null)}catch{E({type:"error",message:"Error al eliminar."})}},te=f.filter(Pe=>{const Qe=Pe.clienteId;return Qe&&`${Qe.nombre} ${Qe.apellido}`.toLowerCase().includes(e.toLowerCase())||e===""});return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[A&&r.jsx("div",{className:`p-4 rounded-lg ${A.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.message}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsxs("div",{className:"bg-cyan-500 text-white p-6 flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Historial Mdico"}),r.jsxs("button",{onClick:()=>l(!0),className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:"Aadir Historial"})]})]}),r.jsx("div",{className:"p-6 bg-gray-50 border-b flex gap-4",children:r.jsx("input",{type:"text",placeholder:"Buscar por nombre de cliente...",value:e,onChange:Pe=>t(Pe.target.value),className:"w-full pl-3 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Padecimiento"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diagnstico"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Deteccin"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:te.map(Pe=>{var Qe,wt,Mt;return r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:Pe.clienteId?r.jsxs("button",{className:"text-cyan-600 underline hover:text-cyan-800 font-semibold",onClick:()=>ge(Pe.clienteId),children:[Pe.clienteId.nombre," ",Pe.clienteId.apellido]}):"N/A"}),r.jsx("td",{className:"px-6 py-4",children:((Qe=Pe.padecimientos)==null?void 0:Qe.tipo)||"-"}),r.jsx("td",{className:"px-6 py-4",children:((wt=Pe.historialVisual)==null?void 0:wt.diagnostico)||"-"}),r.jsx("td",{className:"px-6 py-4",children:(Mt=Pe.padecimientos)!=null&&Mt.fechaDeteccion?new Date(Pe.padecimientos.fechaDeteccion).toLocaleDateString():"-"})]},Pe._id)})})]})})]}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("form",{onSubmit:pe,className:"bg-white rounded-xl shadow-2xl w-full max-w-lg md:max-w-2xl p-4 md:p-8 space-y-4 max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-bold mb-4",children:"Nuevo Historial Mdico"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),r.jsxs("select",{name:"clienteId",value:x.clienteId,onChange:W,required:!0,className:"w-full px-3 py-2 border rounded-lg",children:[r.jsx("option",{value:"",children:"Seleccione un cliente"}),h.map(Pe=>r.jsxs("option",{value:Pe._id,children:[Pe.nombre," ",Pe.apellido]},Pe._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Padecimiento *"}),r.jsx("input",{type:"text",name:"padecimientos.tipo",value:x.padecimientos.tipo,onChange:W,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descripcin *"}),r.jsx("input",{type:"text",name:"padecimientos.descripcion",value:x.padecimientos.descripcion,onChange:W,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fecha de Deteccin *"}),r.jsx("input",{type:"date",name:"padecimientos.fechaDeteccion",value:x.padecimientos.fechaDeteccion,onChange:W,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fecha de Diagnstico *"}),r.jsx("input",{type:"date",name:"historialVisual.fecha",value:x.historialVisual.fecha,onChange:W,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Diagnstico *"}),r.jsx("input",{type:"text",name:"historialVisual.diagnostico",value:x.historialVisual.diagnostico,onChange:W,required:!0,className:"w-full px-3 py-2 border rounded-lg"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Graduacin Ojo Derecho (OD)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoDerecho.esfera",placeholder:"Esfera",value:x.historialVisual.receta.ojoDerecho.esfera,onChange:W,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoDerecho.cilindro",placeholder:"Cilindro",value:x.historialVisual.receta.ojoDerecho.cilindro,onChange:W,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"1",name:"historialVisual.receta.ojoDerecho.eje",placeholder:"Eje",value:x.historialVisual.receta.ojoDerecho.eje,onChange:W,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoDerecho.adicion",placeholder:"Adicin",value:x.historialVisual.receta.ojoDerecho.adicion,onChange:W,className:"w-full px-2 py-1 border rounded-lg"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Graduacin Ojo Izquierdo (OI)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoIzquierdo.esfera",placeholder:"Esfera",value:x.historialVisual.receta.ojoIzquierdo.esfera,onChange:W,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoIzquierdo.cilindro",placeholder:"Cilindro",value:x.historialVisual.receta.ojoIzquierdo.cilindro,onChange:W,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"1",name:"historialVisual.receta.ojoIzquierdo.eje",placeholder:"Eje",value:x.historialVisual.receta.ojoIzquierdo.eje,onChange:W,className:"w-full px-2 py-1 border rounded-lg"}),r.jsx("input",{type:"number",step:"0.01",name:"historialVisual.receta.ojoIzquierdo.adicion",placeholder:"Adicin",value:x.historialVisual.receta.ojoIzquierdo.adicion,onChange:W,className:"w-full px-2 py-1 border rounded-lg"})]})]})]})})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300",children:"Cancelar"}),r.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-cyan-500 text-white hover:bg-cyan-600",children:"Guardar"})]}),S&&r.jsx("div",{className:"text-red-500 text-sm mt-2",children:S})]})}),T&&k&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold",children:[k.nombre," ",k.apellido]}),r.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"font-semibold text-cyan-700 mb-2",children:"Historiales Mdicos"}),r.jsxs("ul",{className:"space-y-2",children:[U.length===0&&r.jsx("li",{className:"text-gray-500",children:"Sin historiales mdicos."}),U.map(Pe=>{var Qe,wt;return r.jsxs("li",{className:"border rounded-lg p-2 bg-gray-50 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Diagnstico: ",r.jsx("span",{className:"font-semibold",children:((Qe=Pe.historialVisual)==null?void 0:Qe.diagnostico)||"-"})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Fecha: ",(wt=Pe.historialVisual)!=null&&wt.fecha?new Date(Pe.historialVisual.fecha).toLocaleDateString():"-"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{title:"Ver",onClick:()=>$e(Pe,"historial"),className:"text-cyan-600 hover:text-cyan-800",children:r.jsx(an,{size:18})}),r.jsx("button",{title:"Editar",onClick:()=>be(Pe),className:"text-yellow-500 hover:text-yellow-700",children:r.jsx(na,{size:18})}),r.jsx("button",{title:"Eliminar",onClick:()=>De(Pe,"historial"),className:"text-red-500 hover:text-red-700",children:r.jsx(Rn,{size:18})})]})]},Pe._id)})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-cyan-700 mb-2",children:"Recetas"}),r.jsxs("ul",{className:"space-y-2",children:[_.length===0&&r.jsx("li",{className:"text-gray-500",children:"Sin recetas asociadas."}),_.map(Pe=>r.jsxs("li",{className:"border rounded-lg p-2 bg-gray-50 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Diagnstico: ",r.jsx("span",{className:"font-semibold",children:Pe.diagnostico})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Fecha: ",Pe.fecha?new Date(Pe.fecha).toLocaleDateString():"-"]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Vigencia: ",Pe.vigencia," meses"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{title:"Ver",onClick:()=>$e(Pe,"receta"),className:"text-cyan-600 hover:text-cyan-800",children:r.jsx(an,{size:18})}),r.jsx("button",{title:"Editar",onClick:()=>Ne(Pe),className:"text-yellow-500 hover:text-yellow-700",children:r.jsx(na,{size:18})}),r.jsx("button",{title:"Eliminar",onClick:()=>De(Pe,"receta"),className:"text-red-500 hover:text-red-700",children:r.jsx(Rn,{size:18})})]})]},Pe._id))]})]})]})}),K&&ee&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-6 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold",children:["Detalle de ",ee.tipo==="historial"?"Historial Mdico":"Receta"]}),r.jsx("button",{onClick:()=>le(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),ee.tipo==="historial"?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",ee.clienteId?`${ee.clienteId.nombre} ${ee.clienteId.apellido}`:"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Tipo de Padecimiento:"})," ",((_e=ee.padecimientos)==null?void 0:_e.tipo)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Descripcin:"})," ",((Me=ee.padecimientos)==null?void 0:Me.descripcion)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Fecha de Deteccin:"})," ",(qe=ee.padecimientos)!=null&&qe.fechaDeteccion?new Date(ee.padecimientos.fechaDeteccion).toLocaleDateString():"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Fecha de Diagnstico:"})," ",(Ke=ee.historialVisual)!=null&&Ke.fecha?new Date(ee.historialVisual.fecha).toLocaleDateString():"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Diagnstico:"})," ",((Be=ee.historialVisual)==null?void 0:Be.diagnostico)||"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Receta:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Derecho (OD)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((Z=($=(F=ee.historialVisual)==null?void 0:F.receta)==null?void 0:$.ojoDerecho)==null?void 0:Z.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((se=(R=(Y=ee.historialVisual)==null?void 0:Y.receta)==null?void 0:R.ojoDerecho)==null?void 0:se.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((Ue=(Oe=(xe=ee.historialVisual)==null?void 0:xe.receta)==null?void 0:Oe.ojoDerecho)==null?void 0:Ue.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adicin: ",((ut=(Je=(He=ee.historialVisual)==null?void 0:He.receta)==null?void 0:Je.ojoDerecho)==null?void 0:ut.adicion)??"-"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Izquierdo (OI)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((Ae=(ae=(z=ee.historialVisual)==null?void 0:z.receta)==null?void 0:ae.ojoIzquierdo)==null?void 0:Ae.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((st=(Ve=(Re=ee.historialVisual)==null?void 0:Re.receta)==null?void 0:Ve.ojoIzquierdo)==null?void 0:st.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((Nt=(at=(ct=ee.historialVisual)==null?void 0:ct.receta)==null?void 0:at.ojoIzquierdo)==null?void 0:Nt.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adicin: ",((dn=(_t=(Tt=ee.historialVisual)==null?void 0:Tt.receta)==null?void 0:_t.ojoIzquierdo)==null?void 0:dn.adicion)??"-"]})]})]})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Diagnstico:"})," ",ee.diagnostico]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Fecha:"})," ",ee.fecha?new Date(ee.fecha).toLocaleDateString():"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Vigencia:"})," ",ee.vigencia," meses"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Optometrista:"})," ",(mt=ee.optometristaId)!=null&&mt.empleadoId?`${ee.optometristaId.empleadoId.nombre} ${ee.optometristaId.empleadoId.apellido}`:"-"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Observaciones:"})," ",ee.observaciones||"-"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-1",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Derecho (OD)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((ba=ee.ojoDerecho)==null?void 0:ba.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((Ba=ee.ojoDerecho)==null?void 0:Ba.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((ja=ee.ojoDerecho)==null?void 0:ja.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adicin: ",((jt=ee.ojoDerecho)==null?void 0:jt.adicion)??"-"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold text-cyan-700",children:"Ojo Izquierdo (OI)"}),r.jsxs("div",{className:"text-xs",children:["Esfera: ",((ue=ee.ojoIzquierdo)==null?void 0:ue.esfera)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Cilindro: ",((Te=ee.ojoIzquierdo)==null?void 0:Te.cilindro)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Eje: ",((dt=ee.ojoIzquierdo)==null?void 0:dt.eje)??"-"]}),r.jsxs("div",{className:"text-xs",children:["Adicin: ",((ht=ee.ojoIzquierdo)==null?void 0:ht.adicion)??"-"]})]})]})]})]})}),D&&G&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fadeIn",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm p-6",children:[r.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Seguro que deseas eliminar este ",G.tipo==="historial"?"historial mdico":"receta","?"]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300",children:"Cancelar"}),r.jsx("button",{onClick:Ie,className:"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600",children:"Eliminar"})]})]})})]})},Woe=()=>{const[e,t]=y.useState([]),[n,a]=y.useState([]),[s,l]=y.useState(""),[c,d]=y.useState("todas"),[f,m]=y.useState(!0),[h,g]=y.useState(!1),[x,b]=y.useState(!1),[j,N]=y.useState(!1),[S,C]=y.useState(null),[A,E]=y.useState({type:"",message:""}),[T,O]=y.useState(0),[k,P]=y.useState(5),[_,L]=y.useState({nombre:"",direccion:{calle:"",ciudad:"",departamento:""},telefono:"",correo:"",horariosAtencion:[],activo:!0}),[U,V]=y.useState({});y.useEffect(()=>{K()},[]),y.useEffect(()=>{Q()},[e,s,c]);const K=async()=>{try{m(!0);const $=await(await fetch("https://a-u-r-o-r-a.onrender.com/api/sucursales")).json();Array.isArray($)?t($):$.message&&B("error",$.message)}catch(F){console.error("Error fetching sucursales:",F),B("error","Error al cargar las sucursales")}finally{m(!1)}},le=async F=>{try{const Z=await(await fetch("https://a-u-r-o-r-a.onrender.com/api/sucursales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();return Z.message==="Sucursal guardada"?(B("success","Sucursal creada exitosamente"),K(),!0):(B("error",Z.message||"Error al crear la sucursal"),!1)}catch($){return console.error("Error creating sucursal:",$),B("error","Error al crear la sucursal"),!1}},ee=async(F,$)=>{try{const Y=await(await fetch(`https://a-u-r-o-r-a.onrender.com/api/sucursales/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).json();return Y.message==="Sucursal actualizada"?(B("success","Sucursal actualizada exitosamente"),K(),!0):(B("error",Y.message||"Error al actualizar la sucursal"),!1)}catch(Z){return console.error("Error updating sucursal:",Z),B("error","Error al actualizar la sucursal"),!1}},ne=async F=>{if(window.confirm("Est seguro de que desea eliminar esta sucursal?"))try{const Z=await(await fetch(`https://a-u-r-o-r-a.onrender.com/api/sucursales/${F}`,{method:"DELETE"})).json();Z.message==="Sucursal eliminada"?(B("delete","Sucursal eliminada exitosamente"),K()):B("error",Z.message||"Error al eliminar la sucursal")}catch($){console.error("Error deleting sucursal:",$),B("error","Error al eliminar la sucursal")}},B=(F,$)=>{E({type:F,message:$})},re=()=>{E({type:"",message:""})},Q=()=>{let F=e.filter($=>{var se,xe,Oe;const Z=s.toLowerCase(),Y=$.nombre.toLowerCase().includes(Z)||$.correo.toLowerCase().includes(Z)||$.telefono.includes(s)||((se=$.direccion)==null?void 0:se.calle)&&$.direccion.calle.toLowerCase().includes(Z)||((xe=$.direccion)==null?void 0:xe.ciudad)&&$.direccion.ciudad.toLowerCase().includes(Z)||((Oe=$.direccion)==null?void 0:Oe.departamento)&&$.direccion.departamento.toLowerCase().includes(Z),R=c==="todas"||c==="activa"&&$.activo||c==="inactiva"&&!$.activo||c==="reciente"&&new Date($.createdAt)>new Date(Date.now()-30*24*60*60*1e3);return Y&&R});a(F),O(0)},H=F=>{const{name:$,value:Z,type:Y,checked:R}=F.target;if($.includes(".")){const[se,xe]=$.split(".");L(Oe=>({...Oe,[se]:{...Oe[se],[xe]:Y==="checkbox"?R:Z}}))}else L(se=>({...se,[$]:Y==="checkbox"?R:Z}));U[$]&&V(se=>({...se,[$]:""}))},D=()=>{const F={};return _.nombre.trim()||(F.nombre="El nombre es obligatorio"),_.direccion.calle.trim()||(F["direccion.calle"]="La calle es obligatoria"),_.direccion.ciudad.trim()||(F["direccion.ciudad"]="La ciudad es obligatoria"),_.direccion.departamento.trim()||(F["direccion.departamento"]="El departamento es obligatorio"),_.telefono.trim()||(F.telefono="El telfono es obligatorio"),_.correo.trim()?/\S+@\S+\.\S+/.test(_.correo)||(F.correo="El formato del correo no es vlido"):F.correo="El correo es obligatorio",V(F),Object.keys(F).length===0},q=()=>{L({nombre:"",direccion:{calle:"",ciudad:"",departamento:""},telefono:"",correo:"",horariosAtencion:[],activo:!0}),V({})},G=async F=>{if(F.preventDefault(),!D())return;let $=!1;S?$=await ee(S._id,_):$=await le(_),$&&(g(!1),b(!1),q(),C(null))},J=()=>{q(),C(null),g(!0)},W=F=>{var $,Z,Y;C(F),L({nombre:F.nombre||"",direccion:{calle:(($=F.direccion)==null?void 0:$.calle)||"",ciudad:((Z=F.direccion)==null?void 0:Z.ciudad)||"",departamento:((Y=F.direccion)==null?void 0:Y.departamento)||""},telefono:F.telefono||"",correo:F.correo||"",horariosAtencion:F.horariosAtencion||[],activo:F.activo!==void 0?F.activo:!0}),b(!0)},pe=F=>{C(F),N(!0)},ge=Math.ceil(n.length/k),$e=n.slice(T*k,T*k+k),be=()=>O(0),Ne=()=>O(F=>F>0?F-1:F),De=()=>O(F=>F<ge-1?F+1:F),Ie=()=>O(ge-1),te=F=>F?"bg-green-100 text-green-800":"bg-red-100 text-red-800",_e=F=>F?"Activa":"Inactiva",Me=F=>{if(!F)return"No especificada";const{calle:$,ciudad:Z,departamento:Y}=F;return`${$||""}, ${Z||""}, ${Y||""}`.replace(/(^,\s|,\s$)/g,"")},qe=e.length,Ke=e.filter(F=>F.activo).length,Be=[{name:"nombre",label:"Nombre de la Sucursal",type:"text",required:!0,placeholder:"Ej: Sucursal Centro"},{name:"direccion.calle",label:"Calle",type:"text",required:!0,nested:!0,placeholder:"Ej: Avenida Principal #123"},{name:"direccion.ciudad",label:"Ciudad",type:"text",required:!0,nested:!0,placeholder:"Ej: San Salvador"},{name:"direccion.departamento",label:"Departamento",type:"text",required:!0,nested:!0,placeholder:"Ej: San Salvador"},{name:"telefono",label:"Telfono",type:"text",required:!0,placeholder:"Ej: 2234-5678"},{name:"correo",label:"Correo Electrnico",type:"email",required:!0,placeholder:"Ej: sucursal@optica.com"},{name:"activo",label:"Estado",type:"boolean",required:!0}];return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-cyan-500"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[A.message&&r.jsx("div",{className:"fixed top-4 right-4 z-50",children:r.jsx(Cr,{type:A.type,message:A.message,onClose:re})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Total Sucursales"}),r.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:qe})]}),r.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center",children:r.jsx(yl,{className:"w-6 h-6 text-cyan-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Sucursales Activas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:Ke})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(xs,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Sucursales Inactivas"}),r.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:qe-Ke})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(yl,{className:"w-6 h-6 text-red-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Resultados"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:n.length})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(br,{className:"w-6 h-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx("div",{className:"bg-cyan-500 text-white p-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Gestin de Sucursales"}),r.jsxs("button",{onClick:J,className:"bg-white text-cyan-500 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsx("span",{children:"Aadir Sucursal"})]})]})}),r.jsx("div",{className:"p-6 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(br,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Buscar por nombre, direccin, telfono o correo...",value:s,onChange:F=>l(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:()=>d("todas"),className:`px-4 py-2 rounded-lg transition-colors ${c==="todas"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Todas"}),r.jsx("button",{onClick:()=>d("activa"),className:`px-4 py-2 rounded-lg transition-colors ${c==="activa"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Activas"}),r.jsx("button",{onClick:()=>d("inactiva"),className:`px-4 py-2 rounded-lg transition-colors ${c==="inactiva"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Inactivas"}),r.jsx("button",{onClick:()=>d("reciente"),className:`px-4 py-2 rounded-lg transition-colors ${c==="reciente"?"bg-cyan-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Recientes"})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-500 text-white",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Nombre"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Direccin"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Contacto"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left font-semibold",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:$e.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.nombre}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Creada: ",new Date(F.createdAt).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900 max-w-xs",children:r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(di,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{children:Me(F.direccion)})]})})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900 space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(go,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{children:F.telefono})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Vl,{className:"w-3 h-3 text-gray-400"}),r.jsx("span",{className:"truncate",children:F.correo})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${te(F.activo)}`,children:_e(F.activo)})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>pe(F),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>W(F),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar",children:r.jsx(na,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>ne(F._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:r.jsx(Rn,{className:"w-4 h-4"})})]})})]},F._id))})]})}),n.length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(yl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron sucursales"}),r.jsx("p",{className:"text-gray-500",children:s||c!=="todas"?"Intenta con otros trminos de bsqueda o filtros":"Comienza agregando tu primera sucursal"})]}),n.length>0&&r.jsxs("div",{className:"mt-4 flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-700",children:"Mostrar"}),r.jsx("select",{value:k,onChange:F=>{P(Number(F.target.value)),O(0)},className:"border border-cyan-500 rounded py-1 px-2",children:[5,10,15,20].map(F=>r.jsx("option",{value:F,children:F},F))}),r.jsx("span",{className:"text-gray-700",children:"por pgina"})]}),r.jsxs("div",{className:"flex items-center gap-2 m-[25px]",children:[r.jsx("button",{onClick:be,disabled:T===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<<"}),r.jsx("button",{onClick:Ne,disabled:T===0,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:"<"}),r.jsxs("span",{className:"text-gray-700 font-medium",children:["Pgina ",T+1," de ",ge]}),r.jsx("button",{onClick:De,disabled:T===ge-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">"}),r.jsx("button",{onClick:Ie,disabled:T===ge-1,className:"px-4 py-2 bg-cyan-500 text-white rounded hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:">>"})]})]})]}),r.jsx(ir,{isOpen:h,onClose:()=>{g(!1),q()},onSubmit:G,title:"Agregar Nueva Sucursal",formData:_,handleInputChange:H,errors:U,fields:Be,submitLabel:"Crear Sucursal",gridCols:2}),r.jsx(ir,{isOpen:x,onClose:()=>{b(!1),q(),C(null)},onSubmit:G,title:"Editar Sucursal",formData:_,handleInputChange:H,errors:U,fields:Be,submitLabel:"Actualizar Sucursal",gridCols:2}),r.jsx(Ar,{isOpen:j,onClose:()=>{N(!1),C(null)},title:"Detalles de la Sucursal",item:S,data:S?[{label:"Nombre",value:S.nombre},{label:"Direccin",value:Me(S.direccion)},{label:"Telfono",value:S.telefono},{label:"Correo",value:S.correo},{label:"Estado",value:_e(S.activo),color:te(S.activo)},{label:"Fecha de Creacin",value:new Date(S.createdAt).toLocaleString()},{label:"ltima Actualizacin",value:new Date(S.updatedAt).toLocaleString()}]:[]})]})},aO=[{label:"Todos",value:"todos"},{label:"Pendiente",value:"pendiente"},{label:"Procesada",value:"procesada"},{label:"Completada",value:"completada"},{label:"Cancelada",value:"cancelada"}],rO=e=>{const t=(e||"").toLowerCase();return t==="completada"||t==="procesada"?"bg-green-100 text-green-800":t==="pendiente"?"bg-yellow-100 text-yellow-800":t==="cancelada"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"},Xoe=()=>{var ge,$e,be,Ne,De,Ie;const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,l]=y.useState(null),[c,d]=y.useState(""),[f,m]=y.useState("todos"),[h,g]=y.useState({inicio:"",fin:""}),[x,b]=y.useState(null),[j,N]=y.useState(!1),[S,C]=y.useState(null),[A,E]=y.useState({estado:"",observaciones:""}),[T,O]=y.useState(5),k=(te,_e)=>{l({type:te,message:_e}),setTimeout(()=>l(null),4e3)},P=async()=>{try{a(!0);let te=pn(ke.ENDPOINTS.VENTAS);h.inicio&&h.fin&&(te=pn(`${ke.ENDPOINTS.VENTAS}/fecha/rango`,{fechaInicio:h.inicio,fechaFin:h.fin}));const Me=await(await fetch(te,{method:"GET",headers:ke.FETCH_CONFIG.headers,credentials:ke.FETCH_CONFIG.credentials})).json(),qe=Array.isArray(Me)?Me:Me.data||[];t(qe)}catch(te){console.error(te),k("error","Error al cargar ventas.")}finally{a(!1)}};y.useEffect(()=>{P()},[]);const _=y.useMemo(()=>{const te=c.trim().toLowerCase();return e.filter(_e=>{var Y,R,se,xe,Oe,Ue;const Me=((R=(Y=_e==null?void 0:_e.facturaDatos)==null?void 0:Y.numeroFactura)==null?void 0:R.toString())||"",qe=`${((se=_e==null?void 0:_e.facturaDatos)==null?void 0:se.nombreCliente)||""}`.toLowerCase(),Ke=`${((xe=_e==null?void 0:_e.sucursalId)==null?void 0:xe.nombre)||""}`.toLowerCase(),Be=`${((Oe=_e==null?void 0:_e.empleadoId)==null?void 0:Oe.nombre)||""} ${((Ue=_e==null?void 0:_e.empleadoId)==null?void 0:Ue.apellido)||""}`.toLowerCase(),F=`${Me} ${qe} ${Ke} ${Be}`.toLowerCase(),$=!te||F.includes(te),Z=f==="todos"||((_e==null?void 0:_e.estado)||"").toLowerCase()===f;return $&&Z})},[e,c,f]),{paginatedData:L,currentPage:U,totalPages:V,goToFirstPage:K,goToPreviousPage:le,goToNextPage:ee,goToLastPage:ne,setPageSize:B}=re(_,T);function re(te,_e=10){const[Me,qe]=y.useState(0),[Ke,Be]=y.useState(_e),F=Math.max(1,Math.ceil(((te==null?void 0:te.length)||0)/Ke)),$=y.useMemo(()=>{const Z=Me*Ke;return te.slice(Z,Z+Ke)},[te,Me,Ke]);return y.useEffect(()=>{Me>F-1&&qe(0)},[te,F,Me]),{paginatedData:$,currentPage:Me,totalPages:F,goToFirstPage:()=>qe(0),goToPreviousPage:()=>qe(Z=>Math.max(0,Z-1)),goToNextPage:()=>qe(Z=>Math.min(F-1,Z+1)),goToLastPage:()=>qe(Math.max(0,F-1)),setPageSize:Z=>{Be(Z),qe(0)}}}const Q=te=>{b(te),N(!0)},H=te=>{C(te),E({estado:(te==null?void 0:te.estado)||"",observaciones:(te==null?void 0:te.observaciones)||""})},D=()=>{C(null),E({estado:"",observaciones:""})},q=async()=>{if(S)try{const te=pn(`${ke.ENDPOINTS.VENTAS}/${S._id}`);if(!(await fetch(te,{method:"PUT",headers:ke.FETCH_CONFIG.headers,credentials:ke.FETCH_CONFIG.credentials,body:JSON.stringify({estado:A.estado,observaciones:A.observaciones})})).ok)throw new Error("No se pudo actualizar la venta");k("success","Venta actualizada"),D(),P()}catch(te){console.error(te),k("error","Error al actualizar la venta")}},G=()=>{h.inicio&&h.fin&&P()},J=()=>{g({inicio:"",fin:""}),P()},W=[{header:"Factura",key:"numero"},{header:"Cliente",key:"cliente"},{header:"Sucursal",key:"sucursal"},{header:"Estado",key:"estado"},{header:"Total",key:"total"},{header:"Fecha",key:"fecha"},{header:"Acciones",key:"acciones"}],pe=te=>{var Me,qe,Ke,Be;const _e=((Me=te==null?void 0:te.facturaDatos)==null?void 0:Me.total)??0;return r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4 font-mono text-gray-700",children:((qe=te==null?void 0:te.facturaDatos)==null?void 0:qe.numeroFactura)||""}),r.jsx("td",{className:"px-6 py-4 text-gray-700",children:((Ke=te==null?void 0:te.facturaDatos)==null?void 0:Ke.nombreCliente)||""}),r.jsx("td",{className:"px-6 py-4 text-gray-700",children:((Be=te==null?void 0:te.sucursalId)==null?void 0:Be.nombre)||""}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${rO(te==null?void 0:te.estado)}`,children:(te==null?void 0:te.estado)||""})}),r.jsxs("td",{className:"px-6 py-4 text-gray-700",children:["$",_e.toFixed(2)]}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(te==null?void 0:te.fecha).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>Q(te),className:"p-2 bg-white text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Ver detalles",children:r.jsx(an,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>H(te),className:"p-2 bg-white text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:scale-110",title:"Editar estado/observaciones",children:r.jsx(na,{className:"w-4 h-4"})})]})})]})};return r.jsxs("div",{className:"space-y-4 animate-fade-in",children:[r.jsx(Cr,{alert:s}),r.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[r.jsx(pi,{title:"Gestin de Ventas",buttonLabel:null,onButtonClick:null}),r.jsxs("div",{className:"px-3 pt-2 flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-full sm:w-72",children:[r.jsx(br,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{className:"ml-2 bg-transparent outline-none w-full text-sm",placeholder:"Buscar factura/cliente/sucursal",value:c,onChange:te=>d(te.target.value)})]}),r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-auto",children:[r.jsx(P3,{className:"w-4 h-4 text-gray-400"}),r.jsx("select",{className:"ml-2 bg-transparent outline-none text-sm w-36",value:f,onChange:te=>m(te.target.value),children:aO.map(te=>r.jsx("option",{value:te.value,children:te.label},te.value))})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-40",children:[r.jsx(Br,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{type:"date",className:"ml-2 bg-transparent outline-none text-sm w-full",value:h.inicio,onChange:te=>g(_e=>({..._e,inicio:te.target.value}))})]}),r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-2 py-1 w-40",children:[r.jsx(Br,{className:"w-4 h-4 text-gray-400"}),r.jsx("input",{type:"date",className:"ml-2 bg-transparent outline-none text-sm w-full",value:h.fin,onChange:te=>g(_e=>({..._e,fin:te.target.value}))})]}),r.jsx("button",{onClick:G,className:"px-2 py-1 text-xs bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Aplicar"}),r.jsx("button",{onClick:J,className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Limpiar"})]})]}),r.jsx("div",{className:"mt-2",children:r.jsx(xo,{columns:W,data:L,renderRow:pe,isLoading:n,noDataMessage:"No se encontraron ventas",noDataSubMessage:c?"Intenta con otros trminos de bsqueda":"Las ventas aparecern aqu"})}),r.jsx(gi,{currentPage:U,totalPages:V,goToFirstPage:K,goToPreviousPage:le,goToNextPage:ee,goToLastPage:ne,pageSize:T,setPageSize:te=>{O(te),B(te)}})]}),x&&r.jsx(Ar,{isOpen:j,onClose:()=>N(!1),title:"Detalles de la Venta",item:x,data:[{label:"Factura",value:((ge=x==null?void 0:x.facturaDatos)==null?void 0:ge.numeroFactura)||""},{label:"Cliente",value:(($e=x==null?void 0:x.facturaDatos)==null?void 0:$e.nombreCliente)||""},{label:"DUI Cliente",value:((be=x==null?void 0:x.facturaDatos)==null?void 0:be.duiCliente)||""},{label:"Sucursal",value:((Ne=x==null?void 0:x.sucursalId)==null?void 0:Ne.nombre)||""},{label:"Estado",value:(x==null?void 0:x.estado)||"",color:rO(x==null?void 0:x.estado)},{label:"Subtotal",value:`$${(((De=x==null?void 0:x.facturaDatos)==null?void 0:De.subtotal)??0).toFixed(2)}`},{label:"Total",value:`$${(((Ie=x==null?void 0:x.facturaDatos)==null?void 0:Ie.total)??0).toFixed(2)}`},{label:"Fecha",value:new Date(x==null?void 0:x.fecha).toLocaleString()},{label:"Observaciones",value:(x==null?void 0:x.observaciones)||""}]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Editar Venta"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Estado"}),r.jsx("select",{className:"w-full border rounded-lg px-3 py-2",value:A.estado,onChange:te=>E(_e=>({..._e,estado:te.target.value})),children:aO.filter(te=>te.value!=="todos").map(te=>r.jsx("option",{value:te.value,children:te.label},te.value))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Observaciones"}),r.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2",rows:3,value:A.observaciones,onChange:te=>E(_e=>({..._e,observaciones:te.target.value}))})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[r.jsx("button",{onClick:D,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Cancelar"}),r.jsx("button",{onClick:q,className:"px-4 py-2 rounded-lg bg-cyan-600 text-white hover:bg-cyan-700",children:"Guardar"})]})]})]})})]})},sO=e=>new Date(e).toLocaleString(),Zoe=()=>{const{token:e}=Gn()||{},[t,n]=y.useState([]),[a,s]=y.useState(!1),[l,c]=y.useState(""),[d,f]=y.useState(""),[m,h]=y.useState({entity:"",method:"",status:"",from:"",to:""}),[g,x]=y.useState(1),[b,j]=y.useState(50),[N,S]=y.useState(0),C=y.useRef(null),A=y.useMemo(()=>({"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}),[e]),E=async()=>{try{s(!0),c("");const L={q:d,...m,page:g,pageSize:b},U=pn(ke.ENDPOINTS.AUDITORIA,L),V=await fetch(U,{headers:A,credentials:"include"}),K=await V.json();if(!V.ok||K.success===!1)throw new Error(K.message||"Error obteniendo auditora");n(Array.isArray(K.data)?K.data:[]),S(Number(K.total||0))}catch(L){c(L.message||"Error")}finally{s(!1)}};y.useEffect(()=>{E()},[g,b]);const T=()=>{x(1),E()},O=()=>{f(""),h({entity:"",method:"",status:"",from:"",to:""}),x(1),E()};y.useEffect(()=>{try{const L=e?`?token=${encodeURIComponent(e)}`:"",U=ke.BASE_URL+ke.ENDPOINTS.AUDITORIA+"/stream"+L,V=new EventSource(U,{withCredentials:!0});return C.current=V,V.onmessage=K=>{try{const le=JSON.parse(K.data);Array.isArray(le)&&le.length&&n(ee=>[...le.reverse(),...ee].slice(0,500))}catch{}},V.onerror=()=>{},()=>{V.close()}}catch{}},[]);const k=()=>{const L=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),U=URL.createObjectURL(L),V=document.createElement("a");V.href=U,V.download=`auditoria_${Date.now()}.json`,V.click(),URL.revokeObjectURL(U)},P=()=>{const L=["Fecha","Usuario","Rol/Cargo","Mtodo","Status","Ruta","Entidad","Accin","Resumen"],U=t.map(ne=>{var B,re,Q,H,D,q,G,J,W;return[sO(ne.timestamp||ne.createdAt),((B=ne.user)==null?void 0:B.nombre)||"",[(re=ne.user)==null?void 0:re.rol,(Q=ne.user)==null?void 0:Q.cargo].filter(Boolean).join(" / "),((H=ne.request)==null?void 0:H.method)||"",((D=ne.response)==null?void 0:D.status)||"",((q=ne.request)==null?void 0:q.path)||"",((G=ne.action)==null?void 0:G.entity)||"",((J=ne.action)==null?void 0:J.type)||"",(((W=ne.action)==null?void 0:W.summary)||"").replace(/\n|\r/g," ")]}),V=[L,...U].map(ne=>ne.map(B=>`"${String(B).replace(/"/g,'""')}"`).join(",")).join(`
`),K=new Blob([V],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(K),ee=document.createElement("a");ee.href=le,ee.download=`auditoria_${Date.now()}.csv`,ee.click(),URL.revokeObjectURL(le)},_=Math.max(1,Math.ceil(N/b));return r.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-[220px]",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Bsqueda"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{value:d,onChange:L=>f(L.target.value),placeholder:"Texto, email, ruta...",className:"w-full border rounded px-3 py-2"}),r.jsxs("button",{onClick:T,className:"px-3 py-2 bg-cyan-600 text-white rounded inline-flex items-center gap-1",children:[r.jsx(br,{size:16}),"Buscar"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Entidad"}),r.jsx("input",{value:m.entity,onChange:L=>h(U=>({...U,entity:L.target.value})),placeholder:"empleados, ventas...",className:"w-full border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Mtodo"}),r.jsxs("select",{value:m.method,onChange:L=>h(U=>({...U,method:L.target.value})),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{children:"GET"}),r.jsx("option",{children:"POST"}),r.jsx("option",{children:"PUT"}),r.jsx("option",{children:"PATCH"}),r.jsx("option",{children:"DELETE"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),r.jsx("input",{value:m.status,onChange:L=>h(U=>({...U,status:L.target.value})),placeholder:"200, 400...",className:"w-28 border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Desde"}),r.jsx("input",{type:"datetime-local",value:m.from,onChange:L=>h(U=>({...U,from:L.target.value})),className:"border rounded px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Hasta"}),r.jsx("input",{type:"datetime-local",value:m.to,onChange:L=>h(U=>({...U,to:L.target.value})),className:"border rounded px-3 py-2"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:O,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(P3,{size:16}),"Reset"]}),r.jsxs("button",{onClick:E,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(I3,{size:16}),"Refrescar"]})]}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsxs("button",{onClick:P,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(Vy,{size:16}),"CSV"]}),r.jsxs("button",{onClick:k,className:"px-3 py-2 border rounded inline-flex items-center gap-1",children:[r.jsx(Vy,{size:16}),"JSON"]})]})]}),l&&r.jsx("div",{className:"text-red-600 text-sm",children:l}),r.jsx("div",{className:"overflow-auto border rounded",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left",children:"Fecha"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Usuario"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Rol/Cargo"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Mtodo"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Status"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Ruta"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Entidad"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Accin"}),r.jsx("th",{className:"px-3 py-2 text-left",children:"Resumen"})]})}),r.jsx("tbody",{children:a?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-gray-500",children:"Cargando..."})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-3 py-6 text-center text-gray-500",children:"Sin registros"})}):t.map((L,U)=>{var V,K,le,ee,ne,B,re,Q,H,D,q,G;return r.jsxs("tr",{className:"border-t",children:[r.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:sO(L.timestamp||L.createdAt)}),r.jsxs("td",{className:"px-3 py-2",children:[r.jsx("div",{className:"font-medium",children:((V=L.user)==null?void 0:V.nombre)||""}),r.jsx("div",{className:"text-gray-500",children:((K=L.user)==null?void 0:K.email)||""})]}),r.jsx("td",{className:"px-3 py-2",children:[(le=L.user)==null?void 0:le.rol,(ee=L.user)==null?void 0:ee.cargo].filter(Boolean).join(" / ")}),r.jsx("td",{className:"px-3 py-2",children:(ne=L.request)==null?void 0:ne.method}),r.jsx("td",{className:"px-3 py-2",children:(B=L.response)==null?void 0:B.status}),r.jsx("td",{className:"px-3 py-2 max-w-[280px] truncate",title:(re=L.request)==null?void 0:re.path,children:(Q=L.request)==null?void 0:Q.path}),r.jsx("td",{className:"px-3 py-2",children:(H=L.action)==null?void 0:H.entity}),r.jsx("td",{className:"px-3 py-2",children:(D=L.action)==null?void 0:D.type}),r.jsx("td",{className:"px-3 py-2 max-w-[400px] truncate",title:(q=L.action)==null?void 0:q.summary,children:(G=L.action)==null?void 0:G.summary})]},(L._id||"")+U)})})]})}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",N]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{disabled:g<=1,onClick:()=>x(L=>Math.max(1,L-1)),className:"px-3 py-2 border rounded",children:"Prev"}),r.jsxs("span",{className:"text-sm",children:[g," / ",_]}),r.jsx("button",{disabled:g>=_,onClick:()=>x(L=>Math.min(_,L+1)),className:"px-3 py-2 border rounded",children:"Next"}),r.jsx("select",{value:b,onChange:L=>{j(Number(L.target.value)),x(1)},className:"ml-2 border rounded px-2 py-2",children:[20,50,100,200].map(L=>r.jsxs("option",{value:L,children:[L,"/pg"]},L))})]})]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(H3,{size:14})," Actualizacin en vivo va SSE + recarga manual"]})]})})},Qoe=()=>{var V,K,le,ee;const[e,t]=y.useState("dashboard"),[n,a]=y.useState(!0),[s,l]=y.useState(!1),[c,d]=y.useState(0),{user:f}=Gn();y.useEffect(()=>{const ne=()=>t("recetas");window.addEventListener("goToRecetasAndEdit",ne);const B=()=>{window.innerWidth>=1024&&l(!1)};return window.addEventListener("resize",B),()=>{window.removeEventListener("goToRecetasAndEdit",ne),window.removeEventListener("resize",B)}},[]),y.useEffect(()=>{const ne=()=>{const re=window.innerWidth||0;if(re<768){d(0);return}re>=1024?d(n?256:64):d(n?240:64)};ne(),window.addEventListener("resize",ne);const B=setTimeout(ne,0);return()=>{window.removeEventListener("resize",ne),clearTimeout(B)}},[n,s]);const m=[{id:"dashboard",icon:qU,label:"Dashboard",section:"Principal",allowedRoles:["Administrador","Gerente","Empleado"]},{id:"clientes",icon:Qu,label:"Clientes",section:"Personal",allowedRoles:["Administrador","Gerente","Vendedor","Recepcionista","Optometrista","Empleado"]},{id:"empleados",icon:Fl,label:"Empleados",section:"Personal",allowedRoles:["Administrador","Gerente"]},{id:"optometristas",icon:an,label:"Optometristas",section:"Personal",allowedRoles:["Administrador","Gerente"]},{id:"lentes",icon:Pu,label:"Lentes",section:"Productos",allowedRoles:["Administrador","Gerente","Tcnico","Empleado"]},{id:"accesorios",icon:Lb,label:"Accesorios",section:"Productos",allowedRoles:["Administrador","Gerente","Tcnico","Empleado"]},{id:"personalizados",icon:sr,label:"Personalizados",section:"Productos",allowedRoles:["Administrador","Gerente","Tcnico","Vendedor","Empleado"]},{id:"categorias",icon:jr,label:"Categoras",section:"Productos",allowedRoles:["Administrador","Gerente"]},{id:"marcas",icon:hh,label:"Marcas",section:"Productos",allowedRoles:["Administrador","Gerente"]},{id:"ventas",icon:po,label:"Ventas",section:"Administracin",allowedRoles:["Administrador","Gerente","Vendedor","Recepcionista","Empleado"]},{id:"citas",icon:Br,label:"Citas",section:"Mdico",allowedRoles:["Administrador","Gerente","Recepcionista","Optometrista"]},{id:"historial",icon:M3,label:"Historial Mdico",section:"Mdico",allowedRoles:["Administrador","Gerente","Optometrista"]},{id:"recetas",icon:SV,label:"Recetas",section:"Mdico",allowedRoles:["Administrador","Gerente","Optometrista"]},{id:"sucursales",icon:di,label:"Sucursales",section:"Administracin",allowedRoles:["Administrador","Gerente"]},{id:"promociones",icon:L3,label:"Promociones",section:"Productos",allowedRoles:["Administrador","Gerente","Vendedor"]},{id:"auditoria",icon:z3,label:"Auditora",section:"Administracin",allowedRoles:["Administrador"]}],h=ne=>(ne||"").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().trim(),g=ne=>{const B=h(ne);return B?B.startsWith("admin")?"administrador":B==="gerente"||B==="manager"?"gerente":B==="vendedor"||B==="ventas"||B==="seller"?"vendedor":B==="recepcionista"||B==="recepcion"?"recepcionista":B==="optometrista"||B==="optometra"||B==="optico"?"optometrista":B==="tecnico"||B==="tcnico"||B==="tech"?"tecnico":B==="cliente"||B==="customer"?"cliente":B==="empleado"||B==="staff"||B==="user"?"empleado":B:""},x=(f==null?void 0:f.rol)||(f==null?void 0:f.role)||((f==null?void 0:f.userType)==="cliente"?"Cliente":"Empleado"),b=g(x),j=y.useMemo(()=>{var B,re,Q,H,D,q,G,J,W,pe,ge,$e,be,Ne,De,Ie,te,_e,Me,qe,Ke,Be,F,$;const ne=[f==null?void 0:f.cargo,f==null?void 0:f.Cargo,f==null?void 0:f.puesto,f==null?void 0:f.Puesto,f==null?void 0:f.rolCargo,f==null?void 0:f.roleCargo,f==null?void 0:f.cargoNombre,f==null?void 0:f.cargo_name,f==null?void 0:f.position,f==null?void 0:f.Position,(B=f==null?void 0:f.cargo)==null?void 0:B.nombre,(re=f==null?void 0:f.cargo)==null?void 0:re.name,(Q=f==null?void 0:f.empleado)==null?void 0:Q.cargo,(H=f==null?void 0:f.empleado)==null?void 0:H.Cargo,(D=f==null?void 0:f.empleado)==null?void 0:D.puesto,(q=f==null?void 0:f.empleado)==null?void 0:q.Puesto,(J=(G=f==null?void 0:f.empleado)==null?void 0:G.cargo)==null?void 0:J.nombre,(pe=(W=f==null?void 0:f.empleado)==null?void 0:W.cargo)==null?void 0:pe.name,(ge=f==null?void 0:f.profile)==null?void 0:ge.cargo,($e=f==null?void 0:f.profile)==null?void 0:$e.puesto].filter(Boolean);if(ne.length)return ne[0];try{const Z=localStorage.getItem("aurora_user");if(Z){const Y=JSON.parse(Z),R=[Y==null?void 0:Y.cargo,Y==null?void 0:Y.Cargo,Y==null?void 0:Y.puesto,Y==null?void 0:Y.Puesto,Y==null?void 0:Y.rolCargo,Y==null?void 0:Y.roleCargo,Y==null?void 0:Y.cargoNombre,Y==null?void 0:Y.cargo_name,Y==null?void 0:Y.position,Y==null?void 0:Y.Position,(be=Y==null?void 0:Y.cargo)==null?void 0:be.nombre,(Ne=Y==null?void 0:Y.cargo)==null?void 0:Ne.name,(De=Y==null?void 0:Y.empleado)==null?void 0:De.cargo,(Ie=Y==null?void 0:Y.empleado)==null?void 0:Ie.Cargo,(te=Y==null?void 0:Y.empleado)==null?void 0:te.puesto,(_e=Y==null?void 0:Y.empleado)==null?void 0:_e.Puesto,(qe=(Me=Y==null?void 0:Y.empleado)==null?void 0:Me.cargo)==null?void 0:qe.nombre,(Be=(Ke=Y==null?void 0:Y.empleado)==null?void 0:Ke.cargo)==null?void 0:Be.name,(F=Y==null?void 0:Y.profile)==null?void 0:F.cargo,($=Y==null?void 0:Y.profile)==null?void 0:$.puesto].filter(Boolean);if(R.length)return R[0]}}catch{}return null},[f]),N=g(j),S=En(),C=Fn.useMemo(()=>{try{return new URLSearchParams(S.search).get("role")}catch{return null}},[S.search]),A=Fn.useMemo(()=>{try{return new URLSearchParams(S.search).get("cargo")}catch{return null}},[S.search]),E=Fn.useMemo(()=>!C||!["Administrador","Gerente","Vendedor","Optometrista","Tcnico","Recepcionista"].includes(C)?null:g(C)||null,[C]),T=Fn.useMemo(()=>!A||!["Administrador","Gerente","Vendedor","Optometrista","Tcnico","Recepcionista"].includes(A)?null:g(A)||null,[A]),O=E||(b==="empleado"?T||N||"empleado":b),k=y.useMemo(()=>O==="administrador"?m:m.filter(ne=>!ne.allowedRoles||ne.allowedRoles.length===0?!0:ne.allowedRoles.some(B=>g(B)===O)),[m,O]);y.useEffect(()=>{E&&console.log("[RBAC] OVERRIDE activo (exacto) ->",C,"=>",E),T&&console.log("[RBAC] CARGO OVERRIDE activo (exacto) ->",A,"=>",T),console.log("[RBAC] roleRaw=",x,"canon=",b,"| cargoRaw=",j,"cargoCanon=",N,"effective=",O,"visible=",k.map(ne=>ne.id))},[x,b,j,N,O,k,E,T,C,A]);const P=y.useMemo(()=>k.length>0?k:m.filter(ne=>ne.id==="dashboard"),[k,m]);y.useEffect(()=>{var ne;P.length!==0&&(P.some(B=>B.id===e)||t(((ne=P[0])==null?void 0:ne.id)||"dashboard"))},[P,e]),y.useEffect(()=>{console.log("[Dashboard] activeSection ->",e)},[e]);const _=y.useMemo(()=>P.map(ne=>ne.id),[P]),L=ne=>{ne&&(_.includes(ne)?t(ne):console.warn("[RBAC] Navegacin bloqueada a seccin no permitida:",ne))},U=()=>{var ne;switch(e){case"dashboard":return r.jsx(boe,{onNavigate:L,visibleIds:_});case"clientes":return r.jsx(VF,{});case"empleados":return r.jsx(ZF,{});case"optometristas":return r.jsx(tH,{});case"lentes":return r.jsx(woe,{});case"accesorios":return r.jsx(koe,{});case"personalizados":return r.jsx(Moe,{});case"categorias":return r.jsx(_oe,{});case"marcas":return r.jsx(Hoe,{});case"ventas":return r.jsx(Xoe,{});case"citas":return r.jsx(Koe,{});case"historial":return r.jsx(Yoe,{});case"recetas":return r.jsx(aH,{});case"sucursales":return r.jsx(Woe,{});case"promociones":return r.jsx(Goe,{});case"auditoria":return r.jsx(Zoe,{});default:return r.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:(ne=m.find(B=>B.id===e))==null?void 0:ne.label}),r.jsxs("p",{className:"text-gray-600",children:["Todavia me falta esta seccin XD. Pero imagina que es la interfaz ",e,"."]})]})}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx(_F,{sidebarOpen:n,setSidebarOpen:a,mobileMenuOpen:s,setMobileMenuOpen:l,menuItems:P,activeSection:e,setActiveSection:t}),r.jsxs("div",{className:"transition-all duration-300 relative z-10",style:{marginLeft:s?0:c},children:[r.jsxs("div",{className:"lg:hidden bg-white shadow-sm border-b border-gray-200 p-3 sm:p-4 flex items-center justify-between",children:[r.jsx("div",{}),r.jsx("h1",{className:"text-base sm:text-lg font-semibold text-cyan-600 truncate px-2",children:e==="dashboard"?"Panel de Administracin":((V=P.find(ne=>ne.id===e))==null?void 0:V.label)||((K=m.find(ne=>ne.id===e))==null?void 0:K.label)}),r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-cyan-500 rounded-full flex items-center justify-center"})]}),r.jsx("header",{className:"hidden lg:block bg-white shadow-sm border-b border-gray-200 p-4 sm:p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-cyan-600",children:e==="dashboard"?"Panel de Administracin":((le=P.find(ne=>ne.id===e))==null?void 0:le.label)||((ee=m.find(ne=>ne.id===e))==null?void 0:ee.label)})}),r.jsx("div",{className:"flex items-center space-x-4"})]})}),r.jsx("main",{className:"p-3 sm:p-4 lg:p-6",children:r.jsx("div",{className:"animate-fade-in",children:U()},e)})]}),r.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
      `})]})},cu=({children:e,requiredRole:t=null,noRedirect:n=!1})=>{const{user:a}=Gn();if(En(),!a)return n?e:r.jsx(Jf,{to:"/",replace:!0});if(!t)return e;const s=a.rol||a.role||a.userType;return t==="Empleado"?s==="Cliente"?r.jsx(Jf,{to:"/acceso-denegado",state:{message:"No tienes permisos para acceder a esta pgina. Solo el personal autorizado puede acceder al dashboard."},replace:!0}):e:t==="Cliente"&&s!=="Cliente"?r.jsx(Jf,{to:"/acceso-denegado",state:{message:"No tienes permisos para acceder a esta pgina. Solo los clientes pueden acceder a las cotizaciones."},replace:!0}):e},pa=({children:e})=>{const t={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},n={type:"spring",stiffness:200,damping:20,duration:.01};return r.jsx(gt.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:n,children:e})},Xf=async(e,t={})=>{const n=c=>`${c}${e}`,a=async c=>{const d=await fetch(n(c),{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});return d.ok&&(ke.BASE_URL=c),d},s=ke.BASE_URL,l=s.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await a(s)}catch(c){const d=(c==null?void 0:c.message)||"";if(d.includes("Failed to fetch")||d.includes("NetworkError")||d.includes("ECONNREFUSED"))return await a(l);throw c}},Joe=({onClose:e})=>{const[t,n]=y.useState(1),[a,s]=y.useState({email:"",code:"",newPassword:"",confirmPassword:""}),[l,c]=y.useState(!1),[d,f]=y.useState(!1),[m,h]=y.useState({type:"info",message:""}),g=b=>{s({...a,[b.target.name]:b.target.value})},x=async b=>{var N,S,C;b.preventDefault();const j=(a.email||"").trim().toLowerCase();if(t===1){c(!0);try{let A=await Xf(`${ke.ENDPOINTS.CLIENTES}/forgot-password`,{method:"POST",body:JSON.stringify({correo:j})}),E=await A.json();if(!A.ok&&((N=E.message)!=null&&N.toLowerCase().includes("no existe")||(S=E.message)!=null&&S.toLowerCase().includes("correo"))&&(A=await Xf(`${ke.ENDPOINTS.EMPLEADOS}/forgot-password`,{method:"POST",body:JSON.stringify({correo:j})}),E=await A.json()),!A.ok)throw new Error(E.message||"No pudimos enviar el cdigo. Intenta de nuevo.");h({type:"success",message:"Te enviamos un cdigo de verificacin. Revisa tu bandeja de entrada o spam."}),n(2)}catch(A){h({type:"error",message:A.message||"Ocurri un error. Intenta nuevamente."})}finally{c(!1)}}else if(t===2){if(a.newPassword!==a.confirmPassword){h({type:"warning",message:"Las contraseas no coinciden."});return}c(!0);try{let A=await Xf(`${ke.ENDPOINTS.CLIENTES}/reset-password`,{method:"POST",body:JSON.stringify({correo:j,code:a.code,newPassword:a.newPassword})}),E=await A.json();if(!A.ok&&((C=E.message)!=null&&C.toLowerCase().includes("correo"))&&(A=await Xf(`${ke.ENDPOINTS.EMPLEADOS}/reset-password`,{method:"POST",body:JSON.stringify({correo:j,code:a.code,newPassword:a.newPassword})}),E=await A.json()),!A.ok)throw new Error(E.message||"No pudimos cambiar tu contrasea. Intenta nuevamente.");f(!0),h({type:"success",message:"Contrasea actualizada! Ya puedes iniciar sesin."}),setTimeout(()=>{e&&e()},2500)}catch(A){h({type:"error",message:A.message||"Ocurri un error. Intenta nuevamente."})}finally{c(!1)}}};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 relative shadow-xl",children:[r.jsx("button",{onClick:e,className:"absolute top-2 right-2 w-10 h-10 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"})}),(m==null?void 0:m.message)&&r.jsx("div",{className:`mb-4 text-sm rounded-md px-3 py-2 ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":m.type==="error"?"bg-red-50 text-red-700 border border-red-200":m.type==="warning"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,role:"status","aria-live":"polite",children:m.message}),t===1&&!d&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"Olvid mi contrasea"}),r.jsx("p",{className:"text-gray-600 text-center",children:"Ingresa tu correo electrnico y te enviaremos un cdigo de verificacin"}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"nombre@ejemplo.com",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed",disabled:l,children:l?"Enviando":"Siguiente"})]})]}),t===2&&!d&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800",children:"Verificacin"}),r.jsx("p",{className:"text-gray-600 text-center",children:"Ingresa el cdigo de verificacin que enviamos a tu correo y tu nueva contrasea"}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cdigo de verificacin"}),r.jsx("input",{type:"text",name:"code",value:a.code,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"Ingresa el cdigo",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nueva Contrasea"}),r.jsx("input",{type:"password",name:"newPassword",value:a.newPassword,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"********",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmar Contrasea"}),r.jsx("input",{type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:g,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"********",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed",disabled:l,children:l?"Cambiando":"Cambiar Contrasea"})]})]}),d&&r.jsxs("div",{className:"space-y-4 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-green-600",children:"Contrasea cambiada!"}),r.jsx("p",{className:"text-gray-700",children:"Ahora puedes iniciar sesin con tu nueva contrasea."})]})]})})},iO=async(e,t={})=>{const n=c=>`${c}${e}`,a=async c=>{const d=await fetch(n(c),{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});return d.ok&&(ke.BASE_URL=c),d},s=ke.BASE_URL,l=s.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{const c=await a(s);return c.type==="opaque",c}catch(c){const d=(c==null?void 0:c.message)||"";if(d.includes("Failed to fetch")||d.includes("NetworkError")||d.includes("ECONNREFUSED"))return await a(l);throw c}},ele=({isOpen:e,onClose:t})=>{const n=Ss(),[a,s]=y.useState(!0),[l,c]=y.useState(!1),[d,f]=y.useState(!1),[m,h]=y.useState("cliente"),[g,x]=y.useState(!1),[b,j]=y.useState({nombre:"",apellido:"",dui:"",telefono:"",calle:"",ciudad:"",departamento:"",email:"",password:""}),{login:N}=Gn(),[S,C]=y.useState(null),[A,E]=y.useState(null),[T,O]=y.useState(!1),[k,P]=y.useState(""),[_,L]=y.useState(null);y.useEffect(()=>{e?c(!0):setTimeout(()=>{c(!1)},300)},[e]);const U=le=>{j({...b,[le.target.name]:le.target.value})},V=()=>{t(),n("/recuperar-password")},K=async le=>{var ee,ne;if(le.preventDefault(),C(null),E(null),a)try{const B=await N({correo:b.email.trim(),password:b.password});if(B.success){t();const re=(ee=B.user)==null?void 0:ee.rol;n(re==="Cliente"?"/":"/dashboard")}else C(B.message)}catch{C("Error de red o del servidor")}else try{const B=await iO(`${ke.ENDPOINTS.REGISTRO_CLIENTES}`,{method:"POST",body:JSON.stringify({nombre:b.nombre,apellido:b.apellido,edad:18,dui:b.dui,telefono:b.telefono,correo:b.email,direccion:{calle:b.calle,ciudad:b.ciudad,departamento:b.departamento},password:b.password})}),re=await B.json();if(!B.ok||(ne=re.message)!=null&&ne.toLowerCase().includes("error")){E(re.message||"Error al registrarse");return}re.devVerificationCode?(E("Registro en desarrollo: se gener un cdigo de verificacin automticamente."),O(!0),P(re.devVerificationCode)):(E("Registro exitoso. Revisa tu correo para verificar tu cuenta."),O(!0))}catch{E("Error de red o del servidor")}};return e?d?r.jsx(Joe,{onClose:()=>f(!1)}):r.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 transition-all duration-300 ${l?"bg-black/30 backdrop-blur-sm":"bg-transparent"}`,onMouseDown:le=>{x(le.target===le.currentTarget)},onClick:le=>{g&&le.target===le.currentTarget&&t(),x(!1)},children:r.jsxs("div",{className:`bg-white rounded-2xl w-full max-w-md p-6 relative shadow-xl overflow-y-auto max-h-[90vh] transform transition-all duration-300 ${l?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:le=>le.stopPropagation(),onMouseDown:le=>le.stopPropagation(),children:[r.jsx("button",{onClick:t,className:"absolute top-2 right-2 w-10 h-10 flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200 group","aria-label":"Cerrar modal",children:r.jsx("svg",{className:"w-6 h-6 transform group-hover:rotate-90 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:a?"Iniciar Sesin":"Registrarse"})]}),r.jsxs("div",{className:"flex mb-6",children:[r.jsx("button",{className:`flex-1 py-2 transition-all duration-300 ${a?"text-[#0097c2] border-b-2 border-[#0097c2]":"text-gray-500 hover:text-[#0097c2]"}`,onClick:()=>s(!0),children:"Iniciar Sesin"}),r.jsx("button",{className:`flex-1 py-2 transition-all duration-300 ${a?"text-gray-500 hover:text-[#0097c2]":"text-[#0097c2] border-b-2 border-[#0097c2]"}`,onClick:()=>s(!1),children:"Registrarse"})]}),T?r.jsxs("form",{onSubmit:async le=>{var ee;le.preventDefault(),L(null);try{const ne=await iO(`${ke.ENDPOINTS.REGISTRO_CLIENTES}/verifyCodeEmail`,{method:"POST",body:JSON.stringify({verificationCodeRequest:k})}),B=await ne.json();if(!ne.ok||(ee=B.message)!=null&&ee.toLowerCase().includes("error")){L(B.message||"Error al verificar el cdigo");return}L("Email verificado con xito! Ahora puedes iniciar sesin."),setTimeout(()=>{O(!1),s(!0),E(null),L(null)},2e3)}catch{L("Error de red o del servidor")}},className:"space-y-4",children:[r.jsx("div",{className:"mb-2 p-2 bg-blue-100 text-blue-700 rounded text-center text-sm",children:"Ingresa el cdigo de verificacin que recibiste por correo."}),r.jsx("input",{type:"text",value:k,onChange:le=>P(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2]",placeholder:"Cdigo de verificacin",required:!0}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300",children:"Verificar Email"}),_&&r.jsx("div",{className:`mt-2 p-2 rounded text-center text-sm ${_.toLowerCase().includes("xito")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:_})]}):r.jsxs("form",{onSubmit:K,className:"space-y-4",children:[A&&!a&&r.jsx("div",{className:`mb-2 p-2 rounded text-center text-sm ${A.toLowerCase().includes("exitoso")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:A}),S&&r.jsx("div",{className:"mb-2 p-2 bg-red-100 text-red-700 rounded text-center text-sm",children:S}),r.jsxs("div",{className:`space-y-4 transition-all duration-300 ${a?"opacity-0 max-h-0 overflow-hidden":"opacity-100 max-h-[1000px]"}`,children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre"}),r.jsx("input",{type:"text",name:"nombre",value:b.nombre,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu nombre"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Apellido"}),r.jsx("input",{type:"text",name:"apellido",value:b.apellido,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu apellido"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"DUI"}),r.jsx("input",{type:"text",name:"dui",value:b.dui,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"00000000-0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telfono"}),r.jsx("input",{type:"tel",name:"telefono",value:b.telefono,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"0000-0000"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Calle"}),r.jsx("input",{type:"text",name:"calle",value:b.calle,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu calle"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ciudad"}),r.jsx("input",{type:"text",name:"ciudad",value:b.ciudad,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu ciudad"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Departamento"}),r.jsx("input",{type:"text",name:"departamento",value:b.departamento,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"Ingresa tu departamento"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),r.jsx("input",{type:"email",name:"email",value:b.email,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"nombre@ejemplo.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contrasea"}),r.jsx("input",{type:"password",name:"password",value:b.password,onChange:U,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-[#0097c2] focus:border-[#0097c2] transition-colors",placeholder:"********"})]}),a&&r.jsx("div",{className:"text-right",children:r.jsx("button",{onClick:V,className:"text-sm text-[#0097c2] hover:underline transition-colors",children:"Olvidaste tu contrasea?"})}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 px-4 rounded-md hover:bg-[#0088b0] transition-all duration-300 transform hover:scale-[1.02]",children:a?"Iniciar Sesin":"Crear Cuenta"})]})]})}):null},ga=()=>{const[e,t]=y.useState(!1),[n,a]=y.useState(!1),[s,l]=y.useState(!1),d=En().pathname==="/",{user:f}=Gn(),{itemCount:m}=Mb()||{},h=()=>{l(!s)},g=()=>{l(!1),t(!1)},x=()=>{a(!0)};return r.jsxs(r.Fragment,{children:[d&&r.jsxs("div",{className:"bg-[#0097c2] text-white text-xs sm:text-sm py-1 sm:py-2 px-2 sm:px-4 flex flex-col md:flex-row justify-center items-center",children:[r.jsx("span",{children:"Envo gratis en compras mayores a $1000"}),r.jsx("a",{href:"/promociones",className:"ml-1 sm:ml-2 underline",children:"Ver ms"})]}),d&&r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center bg-[#f5fafd] px-2 sm:px-4 lg:px-8 py-2 sm:py-3 border-b border-gray-200",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row items-center space-y-1 sm:space-y-2 lg:space-y-0 lg:space-x-3 xl:space-x-4",children:[r.jsxs("span",{className:"text-[#0097c2] font-semibold text-xs sm:text-sm flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h2.28a2 2 0 011.7.95l1.6 2.6a2 2 0 01-.45 2.7l-.7.7a16.001 16.001 0 006.6 6.6l.7-.7a2 2 0 012.7-.45l2.6 1.6a2 2 0 01.95 1.7V19a2 2 0 01-2 2h-1C7.82 21 3 16.18 3 10V9a2 2 0 012-2z"})}),r.jsx("span",{className:"hidden sm:inline",children:"009-555-5555"}),r.jsx("span",{className:"sm:hidden",children:"009-555-5555"})]}),r.jsxs("span",{className:"text-[#0097c2] font-semibold text-xs sm:text-sm flex items-center",children:[r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 12H8m8 0a8 8 0 11-16 0 8 8 0 0116 0z"})}),r.jsx("span",{className:"hidden xl:inline",children:"info@opticalainteligente.com"}),r.jsx("span",{className:"xl:hidden",children:"info@opticalainteligente.com"})]})]}),r.jsx("div",{className:"hidden xl:block text-[10px] sm:text-xs text-gray-500",children:"Lun-Vie: 8AM-6PM | Sb: 9AM-3PM"})]}),r.jsxs("nav",{className:"bg-white py-2 sm:py-4 px-3 sm:px-6 shadow-md relative",children:[r.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-20 h-8 sm:w-24 sm:h-10 lg:w-27 lg:h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"})}),r.jsxs("ul",{className:"hidden xl:flex space-x-3 sm:space-x-4 lg:space-x-6 font-medium text-sm sm:text-base",children:[r.jsx("li",{children:r.jsx(Ct,{to:"/",className:"hover:text-[#0097c2] h-full flex items-center",children:"Inicio"})}),r.jsxs("li",{className:"relative",children:[r.jsx("div",{className:"h-full flex items-center",children:r.jsxs(Ct,{to:"/productos",className:"hover:text-[#0097c2] flex items-center gap-1",onMouseEnter:()=>t(!0),children:["Productos",r.jsx("svg",{className:`w-3 h-3 sm:w-4 sm:h-4 transition-transform inline-block ml-1 ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),r.jsxs("div",{className:`absolute left-0 mt-0 w-40 sm:w-48 bg-white shadow-lg rounded-lg py-1 sm:py-2 z-50 ${e?"block":"hidden"}`,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[r.jsx(Ct,{to:"/productos/lentes",className:"block px-3 sm:px-4 py-1.5 sm:py-2 hover:bg-gray-100 hover:text-[#0097c2] text-sm",children:"Lentes"}),r.jsx(Ct,{to:"/productos/accesorios",className:"block px-3 sm:px-4 py-1.5 sm:py-2 hover:bg-gray-100 hover:text-[#0097c2] text-sm",children:"Accesorios"})]})]}),r.jsx("li",{children:r.jsx(Ct,{to:"/cotizaciones",className:"hover:text-[#0097c2] h-full flex items-center",children:"Cotizaciones"})}),r.jsx("li",{children:r.jsx(Ct,{to:"/servicios",className:"hover:text-[#0097c2] h-full flex items-center",children:"Servicios"})}),r.jsx("li",{children:r.jsx(Ct,{to:"/agendar",className:"hover:text-[#0097c2] h-full flex items-center",children:"Agendar Citas"})}),r.jsx("li",{children:r.jsx(Ct,{to:"/nosotros",className:"hover:text-[#0097c2] h-full flex items-center",children:"Nosotros"})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(Ct,{to:"/carrito",className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors hidden sm:inline-flex",children:[r.jsx($3,{className:"w-5 h-5 text-gray-700"}),m>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:m})]}),f?r.jsxs(r.Fragment,{children:[f.rol!=="Cliente"&&r.jsx(Ct,{to:"/dashboard",className:"bg-cyan-600 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full shadow hover:bg-cyan-700 transition text-xs sm:text-sm",children:"Dashboard"}),r.jsx(Ct,{to:"/perfil",className:"bg-[#0097c2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full shadow hover:bg-[#0077a2] transition text-xs sm:text-sm",children:"Perfil"})]}):r.jsx("button",{onClick:x,className:"bg-[#0097c2] text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-full shadow hover:bg-[#0077a2] transition text-xs sm:text-sm",children:"Iniciar Sesin"}),r.jsx("button",{onClick:h,className:"xl:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s?r.jsx(Ra,{className:"w-5 h-5 text-gray-600"}):r.jsx(D3,{className:"w-5 h-5 text-gray-600"})})]})]}),s&&r.jsx("div",{className:"xl:hidden absolute top-full left-0 right-0 bg-white shadow-lg border-t border-gray-200 z-50",children:r.jsxs("div",{className:"px-4 py-2 space-y-1",children:[r.jsx(Ct,{to:"/",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Inicio"}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>t(!e),className:"w-full text-left py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors flex items-center justify-between",children:["Productos",r.jsx("svg",{className:`w-4 h-4 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&r.jsxs("div",{className:"ml-4 mt-1 space-y-1",children:[r.jsx(Ct,{to:"/productos/lentes",onClick:g,className:"block py-2 px-3 text-gray-600 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors text-sm",children:"Lentes"}),r.jsx(Ct,{to:"/productos/accesorios",onClick:g,className:"block py-2 px-3 text-gray-600 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors text-sm",children:"Accesorios"})]})]}),f&&r.jsx(Ct,{to:"/cotizaciones",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Cotizaciones"}),r.jsx(Ct,{to:"/servicios",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Servicios"}),r.jsx(Ct,{to:"/agendar",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Agendar Citas"}),r.jsx(Ct,{to:"/nosotros",onClick:g,className:"block py-2 px-3 text-gray-700 hover:text-[#0097c2] hover:bg-gray-50 rounded-lg transition-colors",children:"Nosotros"}),f&&f.rol!=="Cliente"&&r.jsx(Ct,{to:"/dashboard",onClick:g,className:"block py-2 px-3 text-cyan-600 hover:text-cyan-700 hover:bg-cyan-50 rounded-lg transition-colors font-semibold",children:"Dashboard"}),!f&&r.jsx("button",{onClick:()=>{g(),x()},className:"w-full text-left py-2 px-3 text-[#0097c2] hover:text-[#0077a2] hover:bg-[#0097c2]/10 rounded-lg transition-colors font-semibold",children:"Iniciar Sesin"})]})})]}),r.jsx(ele,{isOpen:n,onClose:()=>a(!1)})]})},tle=({brands:e=[],loading:t=!1,error:n=null,visibleItems:a=5,currentSlide:s=0,onSlideChange:l})=>{const c=Array.isArray(e)?e.filter(C=>C.logo||C.image||C.imagen):[],d=!!l,[f,m]=y.useState(s),h=d?l:m,g=(C=160,A=120)=>{const E=`
      <svg width="${C}" height="${A}" xmlns="http://www.w3.org/2000/svg">
        <rect width="100%" height="100%" fill="#f3f4f6"/>
        <rect x="20%" y="20%" width="60%" height="60%" fill="#d1d5db" rx="4"/>
        <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="14" fill="#6b7280" text-anchor="middle">
          Logo
        </text>
      </svg>
    `;return`data:image/svg+xml;base64,${btoa(E)}`},x=c.length>0?[...c,...c,...c]:[],b=()=>{if(x.length===0)return[];const C=x.slice(f,f+a),A=C.length,E=Math.floor((A-1)/2);return C.map((T,O)=>{const k=Math.abs(O-E),P=Math.max(E,A-1-E),_=P>0?k/P:0,L=.8+(1-_)*.2,U=.6+(1-_)*.4,V=A>1?O/(A-1)*60+20:50;return{...T,scale:L,zIndex:100+A-k,opacity:U,leftPercent:V,globalIndex:f+O}})};y.useEffect(()=>{if(!d&&c.length>a){const C=setInterval(()=>{h(A=>A+1)},5e3);return()=>clearInterval(C)}},[d,c.length,a,h]);const j=()=>h(C=>C+1),N=()=>h(C=>Math.max(0,C-1));if(t)return r.jsx("section",{className:"w-full py-16 text-center",children:"Cargando marcas..."});if(n)return r.jsxs("section",{className:"w-full py-16 text-center text-red-500",children:["Error al cargar marcas: ",String(n)]});if(!c.length)return r.jsx("section",{className:"w-full py-16 text-center text-gray-500",children:"No hay marcas disponibles"});const S=b();return r.jsx("section",{className:"w-full relative overflow-hidden",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Nuestras Marcas"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Descubre la calidad de nuestras marcas asociadas"})]}),r.jsx("div",{className:"overflow-hidden relative w-full min-h-[400px] flex items-center justify-center",children:S.map(C=>r.jsxs("div",{className:"absolute transition-all duration-700 ease-in-out cursor-pointer",style:{transform:`translateX(-50%) scale(${C.scale})`,opacity:C.opacity,zIndex:C.zIndex,left:`${C.leftPercent}%`},children:[r.jsx("img",{src:C.logo||C.imagen||C.image||g(),alt:C.nombre||C.name||"Marca",className:"h-48 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300 hover:scale-125 block shadow-xl rounded-xl bg-white p-6 border border-gray-200",onError:A=>{A.currentTarget.dataset.fallbackSet||(A.currentTarget.src=g(),A.currentTarget.alt="Logo no disponible",A.currentTarget.dataset.fallbackSet="true")}}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx("p",{className:"text-base font-semibold text-gray-700",children:C.nombre||C.name||"Marca"})})]},`${C._id||C.id||"brand"}-${C.globalIndex}`))}),c.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:N,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-3 shadow-lg hover:scale-110 transition",children:r.jsx(k3,{className:"w-6 h-6 text-gray-700"})}),r.jsx("button",{onClick:j,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-3 shadow-lg hover:scale-110 transition",children:r.jsx(Pb,{className:"w-6 h-6 text-gray-700"})})]})]})})},nle=({product:e})=>{var a,s;const[t,n]=y.useState(!1);return r.jsx("div",{className:"flex-shrink-0 px-2",style:{width:`${100/3}%`},children:r.jsxs("div",{className:"bg-white border border-gray-100 rounded-lg overflow-hidden hover:shadow-sm transition-shadow",children:[r.jsx("div",{className:"aspect-square bg-gray-50 flex items-center justify-center",children:(a=e.imagenes)!=null&&a[0]&&!t?r.jsx("img",{src:e.imagenes[0],alt:e.nombre,className:"object-contain h-full w-full p-4",onError:()=>n(!0)}):r.jsx("span",{className:"text-gray-300",children:"Sin imagen"})}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:e.nombre}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-gray-500 text-sm",children:["$",(s=e.precioActual)==null?void 0:s.toFixed(2)]}),e.enPromocion&&r.jsxs("span",{className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded",children:["-",Math.round(100-e.precioActual/e.precioBase*100),"%"]})]})]})]})})},ale=()=>{const[e,t]=y.useState([]),[n,a]=y.useState(!0),[s,l]=y.useState(0),c=3;y.useEffect(()=>{(async()=>{try{const g=await(await fetch("https://a-u-r-o-r-a.onrender.com/api/lentes/populares")).json();t(g)}catch(h){console.error("Error fetching products:",h)}finally{a(!1)}})()},[]);const d=()=>{l(m=>(m+1)%Math.ceil(e.length/c))},f=()=>{l(m=>(m-1+Math.ceil(e.length/c))%Math.ceil(e.length/c))};return n?r.jsx("div",{className:"flex justify-center items-center h-64",children:r.jsx("div",{className:"animate-pulse flex space-x-4",children:[...Array(c)].map((m,h)=>r.jsx("div",{className:"bg-gray-100 rounded-lg w-64 h-64"},h))})}):e.length===0?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"No hay productos disponibles"}):r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[r.jsx("h2",{className:"text-2xl font-light text-center mb-8 text-gray-800",children:"Lentes Destacados"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"overflow-hidden",children:r.jsx("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${s*(100/c)}%)`,width:`${e.length/c*100}%`},children:e.map(m=>r.jsx(nle,{product:m},m._id))})}),r.jsx("button",{onClick:f,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-white border border-gray-200 rounded-full p-2 shadow-sm -ml-4 hover:bg-gray-50 transition-colors","aria-label":"Anterior",children:r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),r.jsx("button",{onClick:d,className:"absolute right-0 top-1/2 -translate-y-1/2 bg-white border border-gray-200 rounded-full p-2 shadow-sm -mr-4 hover:bg-gray-50 transition-colors","aria-label":"Siguiente",children:r.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),r.jsx("div",{className:"flex justify-center mt-6 space-x-1",children:[...Array(Math.ceil(e.length/c))].map((m,h)=>r.jsx("button",{onClick:()=>l(h),className:`w-2 h-2 rounded-full transition-all ${s===h?"bg-gray-600":"bg-gray-200"}`,"aria-label":`Ir a slide ${h+1}`},h))})]})},rle=(e,t={})=>{const[n,a]=y.useState(null),[s,l]=y.useState(!0),[c,d]=y.useState(null);return y.useEffect(()=>{let f=!0;l(!0),d(null),a(null);const m={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include",...t};return fetch(e,m).then(h=>{if(!h.ok)throw new Error(`Error ${h.status}: ${h.statusText}`);return h.json()}).then(h=>{f&&a(h)}).catch(h=>{f&&d(h.message)}).finally(()=>{f&&l(!1)}),()=>{f=!1}},[e,JSON.stringify(t)]),{data:n,loading:s,error:c}},sle=(e,t)=>{const n=e.startsWith("/")?e:`/${e}`;return pn(n,t)},ju=(e,t,n)=>{const a=sle(e,t);return rle(a,n)},oO="/A.U.R.O.R.A/assets/Lente1-DU31S7Wt.png",ile=()=>{const[e,t]=y.useState(0),n=5,{data:a,loading:s,error:l}=ju("promociones"),{data:c,loading:d,error:f}=ju("marcas"),{data:m,loading:h,error:g}=ju("lentes?popular=true"),[x,b]=y.useState(0),[j,N]=y.useState(!1),S=a||[],C=ee=>{if(!ee)return"";const ne=ee.nombre||ee.titulo;if(ne&&ne.trim())return ne;const B=ee.tipoDescuento,re=ee.valorDescuento;return B==="porcentaje"&&typeof re=="number"?`-${re}% en ptica`:B==="monto_fijo"&&typeof re=="number"?`Ahorra $${re}`:""},A=ee=>ee?ee.descripcion&&ee.descripcion.trim()?ee.descripcion:ee.aplicaA==="categoria"?"Vlido en categoras seleccionadas":ee.aplicaA==="lente"?"Aplicable a lentes seleccionados":"Promocin por tiempo limitado":"",E=ee=>(ee==null?void 0:ee.imagen)||(ee==null?void 0:ee.bannerUrl)||(ee==null?void 0:ee.imagenUrl)||null,T=Fn.useMemo(()=>{const ee=new Date,ne=Array.isArray(S)?S.slice():[],B=ne.filter(Q=>{const H=Q!=null&&Q.fechaInicio?new Date(Q.fechaInicio):null,D=Q!=null&&Q.fechaFin?new Date(Q.fechaFin):null,q=(Q==null?void 0:Q.activo)!==!1,G=(!H||H<=ee)&&(!D||D>=ee);return q&&G});return(B.length>0?B:ne).sort((Q,H)=>{const D=Q!=null&&Q.fechaInicio?new Date(Q.fechaInicio).getTime():0;return(H!=null&&H.fechaInicio?new Date(H.fechaInicio).getTime():0)-D})},[S]),O=T.length>0?T[x%T.length]:null;y.useEffect(()=>{x>0&&x>=T.length&&b(0)},[T.length]);const k=c||[],P=m||[],_=ee=>{t(ee)},L=()=>{j||(N(!0),b(ee=>ee===0?T.length-1:ee-1),setTimeout(()=>N(!1),1e3))},U=()=>{j||(N(!0),b(ee=>ee===T.length-1?0:ee+1),setTimeout(()=>N(!1),1e3))};y.useEffect(()=>{const ee=setInterval(()=>{j||U()},5e3);return()=>clearInterval(ee)},[j]),y.useEffect(()=>{const ee=setInterval(()=>{t(ne=>(ne+1)%Math.ceil(P.length/3))},4e3);return()=>{clearInterval(ee)}},[P.length]);const V={initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},K={initial:{opacity:0},animate:{opacity:1},transition:{duration:.4}},le={animate:{transition:{staggerChildren:.05}}};return r.jsx(pa,{children:r.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},className:"bg-white min-h-screen flex flex-col font-['Lato']",children:[r.jsx(ga,{}),r.jsx(gt.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"w-full relative py-0 px-0 overflow-hidden",children:r.jsx("div",{className:"relative w-full h-[500px] sm:h-[550px] md:h-[600px] lg:h-[650px] bg-white overflow-hidden",children:s?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx(gt.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-3 border-gray-300 border-t-[#0097c2] rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-600",children:"Cargando promociones..."})]})}):l?r.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50 text-center",children:r.jsxs("div",{children:[r.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-red-400",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),r.jsx("p",{className:"text-lg font-medium text-red-600",children:"Error al cargar promociones"})]})}):r.jsxs("div",{className:"relative h-full",children:[r.jsxs("div",{className:"grid lg:grid-cols-2 h-full",children:[r.jsx("div",{className:"flex flex-col justify-center p-8 md:p-12 lg:p-16 xl:p-20 bg-gray-50 lg:bg-transparent relative",children:r.jsx(Au,{mode:"wait",children:T.length>0?r.jsxs(gt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.4,ease:"easeOut"},className:"space-y-6",children:[r.jsx(gt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold text-gray-900 leading-tight",children:C(O)}),r.jsx(gt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.3,duration:.5},className:"text-lg md:text-xl lg:text-2xl text-gray-600 font-light max-w-lg",children:A(O)})]},`content-${x}`):r.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-2",children:r.jsx("p",{className:"text-base text-gray-500",children:"Sin promociones activas por ahora."})},"content-empty")})}),r.jsxs("div",{className:"relative flex items-center justify-center p-8 md:p-12 lg:p-16 bg-gradient-to-br",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[r.jsx(gt.div,{animate:{scale:[1,1.1,1],opacity:[.1,.2,.1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 right-20 w-32 h-32 bg-[#0097c2]/20 rounded-full blur-2xl"}),r.jsx(gt.div,{animate:{scale:[1.1,1,1.1],opacity:[.05,.15,.05]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-20 left-10 w-40 h-40 bg-[#0097c2]/15 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxwYXR0ZXJuIGlkPSJ3YXZlIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiPjxwYXRoIGQ9Ik0wIDUwIEMyMCAzMCA0MCAzMCA2MCA1MCBDODAgNzAgMTAwIDcwIDEwMCA1MCIgc3Ryb2tlPSIjMDA5N2MyIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjd2F2ZSkiLz48L3N2Zz4=')]"})})]}),r.jsx(Au,{mode:"wait",children:T.length>0?r.jsx(gt.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-30},transition:{duration:.4,ease:"easeOut"},className:"relative z-10",children:r.jsx(gt.img,{animate:{y:[0,-8,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},src:E(O)||oO,alt:C(O),className:"w-80 h-80 md:w-96 md:h-96 lg:w-[450px] lg:h-[450px] xl:w-[500px] xl:h-[500px] object-contain"})},`image-${x}`):r.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative z-10",children:r.jsx("img",{src:oO,alt:"Lentes de la ptica",className:"w-80 h-80 md:w-96 md:h-96 lg:w-[450px] lg:h-[450px] xl:w-[500px] xl:h-[500px] object-contain"})},"image-empty")})]})]}),T.length>1&&r.jsxs(r.Fragment,{children:[r.jsx(gt.button,{whileHover:{scale:1.1,backgroundColor:"#0083a8"},whileTap:{scale:.9},onClick:L,className:"absolute left-6 top-1/2 -translate-y-1/2 bg-[#0097c2] hover:bg-[#0083a8] text-white rounded-full p-3 transition-all duration-300 z-20","aria-label":"Anterior",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),r.jsx(gt.button,{whileHover:{scale:1.1,backgroundColor:"#0083a8"},whileTap:{scale:.9},onClick:U,className:"absolute right-6 top-1/2 -translate-y-1/2 bg-[#0097c2] hover:bg-[#0083a8] text-white rounded-full p-3 transition-all duration-300 z-20","aria-label":"Siguiente",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),r.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2",children:T.map((ee,ne)=>r.jsx(gt.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>b(ne),className:`w-2 h-2 rounded-full transition-all duration-300 ${ne===x?"bg-[#0097c2] w-8":"bg-gray-300 hover:bg-gray-400"}`,"aria-label":`Ir a promocin ${ne+1}`},ne))})]})]})})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(tle,{brands:k,loading:d,error:f,visibleItems:n}),r.jsx(ale,{items:P,loading:h,error:g,currentSlide:e,onSlideChange:_}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsxs(gt.section,{variants:K,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"relative w-full py-16",children:[r.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-[#f8f9fa] to-white",children:[r.jsx("div",{className:"absolute -top-16 left-0 w-full h-32 bg-[#f8f9fa] rounded-t-[100px]"}),r.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[100%] h-32 bg-[#f8f9fa] rounded-b-[200px]"})]}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 pt-8",children:r.jsxs(gt.div,{variants:le,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:[r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx(gt.div,{whileHover:{rotate:360},transition:{duration:.6},className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 16s4-2.5 4-6a4 4 0 10-8 0c0 3.5 4 6 4 6z"})]})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Examen Visual Profesional"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Realizado por optometristas certificados con equipos de ltima generacin."})]}),r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[r.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"}),r.jsx("path",{d:"M8 12l2 2 4-4"})]})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Garanta de calidad"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Todos nuestros productos cuentan con garanta contra defectos de fabricacin."})]}),r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M3 12h18M9 6l-6 6 6 6"})})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Entrega rpida"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Recibe tus lentes en tiempo rcord, con la graduacin exacta que necesitas."})]}),r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-white rounded-2xl p-6 flex flex-col items-center text-center shadow-md hover:shadow-xl transition-all duration-300",children:[r.jsx("div",{className:"bg-[#0097c2] text-white rounded-full p-3 mb-3",children:r.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[r.jsx("path",{d:"M12 8v4l3 3"}),r.jsx("circle",{cx:"12",cy:"12",r:"10"})]})}),r.jsx("h3",{className:"font-semibold mb-2",children:"Envo gratuito"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"En compras mayores a $1000, el envo va por nuestra cuenta."})]})]})})]}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(gt.section,{variants:K,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"max-w-6xl mx-auto px-4 mb-12",children:r.jsxs(gt.div,{variants:le,className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-gradient-to-br from-[#0097c2] to-[#00b4e4] text-white rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-white/10 rounded-lg mr-3",children:r.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r.jsx("h3",{className:"font-semibold text-lg",children:"Sucursal Principal"})]}),r.jsx("p",{className:"mb-6 text-white/90",children:"Colonia Mdica, Avenida Dr. Max Bloch #23, San Salvador."}),r.jsxs("div",{className:"mt-auto space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Lun-Vie: 8:00 AM - 5:00 PM"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"2222-2222"]}),r.jsxs("a",{href:"https://maps.google.com",className:"inline-flex items-center bg-white text-[#0097c2] px-4 py-2 rounded-xl font-semibold shadow hover:shadow-lg transition-all duration-300 group",target:"_blank",rel:"noopener noreferrer",children:[r.jsx("span",{children:"Ver en Google Maps"}),r.jsx("svg",{className:"w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-gradient-to-br from-[#0097c2] to-[#00b4e4] text-white rounded-2xl p-6",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-white/10 rounded-lg mr-3",children:r.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r.jsx("h3",{className:"font-semibold text-lg",children:"Sucursal Quezaltepeque"})]}),r.jsx("p",{className:"mb-6 text-white/90",children:"1ra Avenida Norte y 8va Calle Poniente, #22, Quezaltepeque, La Libertad."}),r.jsxs("div",{className:"mt-auto space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Lun-Vie: 8:00 AM - 5:00 PM"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"2222-2222"]}),r.jsxs("a",{href:"https://maps.google.com",className:"inline-flex items-center bg-white text-[#0097c2] px-4 py-2 rounded-xl font-semibold shadow hover:shadow-lg transition-all duration-300 group",target:"_blank",rel:"noopener noreferrer",children:[r.jsx("span",{children:"Ver en Google Maps"}),r.jsx("svg",{className:"w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})]})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx(gt.section,{variants:K,initial:"initial",whileInView:"animate",viewport:{once:!0},className:"max-w-6xl mx-auto px-4 mb-12",children:r.jsxs(gt.div,{variants:le,className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-white rounded-2xl shadow-md p-6",children:[r.jsx(gt.img,{whileHover:{scale:1.1,rotate:10},transition:{duration:.3},src:"https://i.pravatar.cc/56?img=1",alt:"Cliente 1",className:"w-14 h-14 rounded-full mb-2 object-cover"}),r.jsx("h3",{className:"font-semibold",children:"Mara Gonzlez"}),r.jsx("span",{className:"text-xs text-gray-500 mb-2",children:"Cliente desde 2020"}),r.jsx("p",{className:"text-center text-gray-700 mb-2",children:"Excelente servicio y atencin. Me encantaron mis nuevos lentes y el Examen Visual fue muy profesional. Definitivamente regresar!"}),r.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((ee,ne)=>r.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.385 2.46a1 1 0 00-.364 1.118l1.286 3.966c.3.922-.755 1.688-1.54 1.118l-3.385-2.46a1 1 0 00-1.176 0l-3.385 2.46c-.784.57-1.838-.196-1.54-1.118l1.286-3.966a1 1 0 00-.364-1.118L2.045 9.394c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.967z"})},ne))})]}),r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-white rounded-2xl shadow-md p-6",children:[r.jsx("img",{src:"https://i.pravatar.cc/56?img=2",alt:"Cliente 2",className:"w-14 h-14 rounded-full mb-2 object-cover"}),r.jsx("h3",{className:"font-semibold",children:"Carlos Ramrez"}),r.jsx("span",{className:"text-xs text-gray-500 mb-2",children:"Cliente desde 2019"}),r.jsx("p",{className:"text-center text-gray-700 mb-2",children:"Encontr exactamente lo que buscaba a un precio accesible. El personal es muy amable y me ayudaron a elegir el armazn perfecto para mi rostro."}),r.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((ee,ne)=>r.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.385 2.46a1 1 0 00-.364 1.118l1.286 3.966c.3.922-.755 1.688-1.54 1.118l-3.385-2.46a1 1 0 00-1.176 0l-3.385 2.46c-.784.57-1.838-.196-1.54-1.118l1.286-3.966a1 1 0 00-.364-1.118L2.045 9.394c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.967z"})},ne))})]}),r.jsxs(gt.div,{variants:V,whileHover:{y:-5},className:"bg-white rounded-2xl shadow-md p-6",children:[r.jsx("img",{src:"https://i.pravatar.cc/56?img=3",alt:"Cliente 3",className:"w-14 h-14 rounded-full mb-2 object-cover"}),r.jsx("h3",{className:"font-semibold",children:"Laura Snchez"}),r.jsx("span",{className:"text-xs text-gray-500 mb-2",children:"Cliente desde 2021"}),r.jsx("p",{className:"text-center text-gray-700 mb-2",children:"La calidad de los lentes es excelente. El proceso de adaptacin fue muy rpido y el seguimiento post-venta es de calidad realmente valiosa."}),r.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((ee,ne)=>r.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.967a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.385 2.46a1 1 0 00-.364 1.118l1.286 3.966c.3.922-.755 1.688-1.54 1.118l-3.385-2.46a1 1 0 00-1.176 0l-3.385 2.46c-.784.57-1.838-.196-1.54-1.118l1.286-3.966a1 1 0 00-.364-1.118L2.045 9.394c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.967z"})},ne))})]})]})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10 text-xs sm:text-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 sm:gap-8 px-0 sm:px-4 py-8 sm:py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"ptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Adaptacin de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compaa"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Misin y Visin"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ptica La Inteligente. Todos los derechos reservados."]})})})]})})]})})},ole=({type:e,searchTerm:t,filters:n})=>{const a=()=>{switch(e){case"lentes":return"lentes";case"accesorios":return"accesorios";default:return"productos"}},s=()=>{const l=[];return t&&(l.push("Intenta con trminos de bsqueda ms generales"),l.push("Verifica la ortografa de tu bsqueda")),(n==null?void 0:n.selectedCategory)!=="todos"&&l.push("Prueba con otras categoras"),(n==null?void 0:n.selectedMarca)!=="todos"&&l.push("Explora otras marcas disponibles"),((n==null?void 0:n.priceRange.min)>0||(n==null?void 0:n.priceRange.max)<1e4)&&l.push("Ajusta el rango de precios"),l.length===0&&(l.push("Pronto tendremos ms opciones disponibles"),l.push("Contacta con nuestro equipo para consultas especiales")),l};return r.jsx("div",{className:"text-center py-16 px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:e==="lentes"?"":e==="accesorios"?"":""}),r.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:["No se encontraron ",a()]}),r.jsx("p",{className:"text-gray-600 mb-6",children:t?`No encontramos ${a()} que coincidan con "${t}"`:`Actualmente no tenemos ${a()} disponibles con los filtros aplicados`}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:" Sugerencias:"}),r.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:s().map((l,c)=>r.jsxs("li",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"text-[#0097c2] mr-2",children:""}),l]},c))})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#0097c2] text-white px-6 py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-200",children:" Limpiar filtros"}),r.jsx(Ct,{to:"/productos",className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 transition-colors duration-200",children:" Ver todos los productos"})]}),r.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[r.jsx("p",{children:"Necesitas ayuda para encontrar lo que buscas?"}),r.jsx("p",{className:"mt-1",children:"Contacta con nuestro equipo de atencin al cliente"})]})]})})},lle=({message:e="Cargando productos..."})=>r.jsx("div",{className:"text-center py-16 px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"relative mb-6",children:[r.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 border-t-[#0097c2] rounded-full animate-spin mx-auto"}),r.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-r-[#00b4e4] rounded-full animate-spin mx-auto",style:{animationDelay:"-0.5s"}})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Cargando productos"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] h-2 rounded-full animate-pulse",style:{width:"60%"}})}),r.jsxs("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{children:"Estamos preparando todo para ti..."}),r.jsx("p",{className:"mt-1",children:"Esto solo tomar un momento"})]}),r.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[r.jsx("div",{className:"text-2xl animate-bounce",style:{animationDelay:"0s"},children:""}),r.jsx("div",{className:"text-2xl animate-bounce",style:{animationDelay:"0.2s"},children:""}),r.jsx("div",{className:"text-2xl animate-bounce",style:{animationDelay:"0.4s"},children:""})]})]})}),cle=({error:e,onRetry:t})=>{const n=l=>l.includes("404")?"No se pudo encontrar la informacin solicitada":l.includes("500")?"Error interno del servidor. Por favor, intenta ms tarde":l.includes("network")?"Error de conexin. Verifica tu conexin a internet":l.includes("timeout")?"La solicitud tard demasiado. Por favor, intenta nuevamente":"Ocurri un error inesperado. Por favor, intenta ms tarde",a=l=>l.includes("404")?"":l.includes("500")?"":l.includes("network")?"":l.includes("timeout")?"":"",s=l=>{const c=[];return l.includes("404")?(c.push("Verifica que la URL sea correcta"),c.push("Intenta recargar la pgina")):l.includes("500")?(c.push("Espera unos minutos e intenta nuevamente"),c.push("Si el problema persiste, contacta al soporte")):l.includes("network")?(c.push("Verifica tu conexin a internet"),c.push("Intenta conectarte a otra red")):l.includes("timeout")?(c.push("Verifica tu conexin a internet"),c.push("Intenta en unos minutos")):(c.push("Recarga la pgina"),c.push("Contacta al soporte si el problema persiste")),c};return r.jsx("div",{className:"text-center py-16 px-4",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-6xl mb-4",children:a(e)}),r.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Ocurri un error"}),r.jsx("p",{className:"text-gray-600 mb-6",children:n(e)}),r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-semibold text-red-800 mb-3",children:" Qu puedes hacer?"}),r.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:s(e).map((l,c)=>r.jsxs("li",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"text-red-500 mr-2",children:""}),l]},c))})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[t&&r.jsx("button",{onClick:t,className:"bg-[#0097c2] text-white px-6 py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-200",children:" Intentar nuevamente"}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-full hover:bg-gray-300 transition-colors duration-200",children:" Recargar pgina"})]}),r.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[r.jsx("p",{children:"El problema persiste?"}),r.jsx("p",{className:"mt-1",children:"Contacta con nuestro equipo de soporte tcnico"})]}),r.jsxs("details",{className:"mt-4 text-xs text-gray-400",children:[r.jsx("summary",{className:"cursor-pointer hover:text-gray-600",children:"Ver detalles tcnicos"}),r.jsx("div",{className:"mt-2 p-2 bg-gray-100 rounded text-left",children:r.jsx("code",{className:"break-all",children:e})})]})]})})};class ule extends Fn.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Algo sali mal"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Ha ocurrido un error inesperado. Por favor, intenta recargar la pgina."}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-[#0097c2] text-white py-3 rounded-lg hover:bg-[#0077a2] transition-colors duration-200",children:" Recargar pgina"}),r.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"w-full bg-gray-200 text-gray-700 py-3 rounded-lg hover:bg-gray-300 transition-colors duration-200",children:" Intentar nuevamente"})]}),!1]})}):this.props.children}}const uy=()=>{const[e,t]=y.useState(!1),[n,a]=y.useState("todos"),[s,l]=y.useState("todos"),[c,d]=y.useState("todos"),[f,m]=y.useState("todos"),[h,g]=y.useState({min:0,max:1e4}),[x,b]=y.useState(""),[j,N]=y.useState(""),[S,C]=y.useState("nombre"),[A,E]=y.useState("grid"),[T,O]=y.useState(null),[k,P]=y.useState(!1),{alertState:_,showSuccess:L,showError:U,hideAlert:V}=M2(),[K,le]=y.useState(!1),[ee,ne]=y.useState({nombre:"",descripcion:"",material:"",color:"",tipoLente:"",instruccionesAdicionales:""}),B=En(),re=Ss(),{addItem:Q}=Mb()||{},{user:H}=Gn(),[D,q]=y.useState(12),[G,J]=y.useState(1),[W,pe]=y.useState(1),{data:ge,loading:$e,error:be,pagination:Ne}=Rr("lentes",{page:G,limit:D}),{data:De,loading:Ie,error:te,pagination:_e}=Rr("accesorios",{page:W,limit:D});Rr("productosPersonalizados");const{data:Me}=Rr("marcas"),{data:qe}=Rr("categoria"),Ke=oe=>{O(oe),ne(we=>({...we,nombre:(oe==null?void 0:oe.nombre)||"",descripcion:(oe==null?void 0:oe.descripcion)||"",material:(oe==null?void 0:oe.material)||"",color:(oe==null?void 0:oe.color)||"",tipoLente:(oe==null?void 0:oe.tipoLente)||""})),le(!0)},Be=oe=>{const{name:we,value:ze}=oe.target;ne(Fe=>({...Fe,[we]:ze}))},F=async()=>{var oe,we;try{if(!(H!=null&&H.id)){U("Inicia sesin para solicitar un producto personalizado.");return}if(!(T!=null&&T._id)){U("Producto base no seleccionado");return}const ze=Number((T==null?void 0:T.precioActual)??(T==null?void 0:T.precioBase)??0),Fe=new Date(Date.now()+7*24*60*60*1e3).toISOString(),Ye=new Date(Date.now()+30*24*60*60*1e3).toISOString(),Ge={clienteId:H.id,productoBaseId:T._id,nombre:ee.nombre||T.nombre,descripcion:ee.descripcion||T.descripcion||"Solicitud de personalizacin",categoria:((oe=T==null?void 0:T.categoriaId)==null?void 0:oe.nombre)||(T==null?void 0:T.categoria)||"Personalizado",marcaId:((we=T==null?void 0:T.marcaId)==null?void 0:we._id)||(T==null?void 0:T.marcaId)||null,material:ee.material||(T==null?void 0:T.material)||"",color:ee.color||(T==null?void 0:T.color)||"",tipoLente:ee.tipoLente||(T==null?void 0:T.tipoLente)||"",precioCalculado:ze,detallesPersonalizacion:{instruccionesAdicionales:ee.instruccionesAdicionales||""},estado:"pendiente",fechaSolicitud:new Date().toISOString(),fechaEntregaEstimada:Fe,cotizacion:{total:ze,validaHasta:Ye,estado:"vigente"}},et=pn(ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS),Dt=await fetch(et,{method:"POST",headers:{"Content-Type":"application/json"},credentials:ke.FETCH_CONFIG.credentials,body:JSON.stringify(Ge)}),Ht=await Dt.json();if(!Dt.ok)throw new Error((Ht==null?void 0:Ht.message)||"No se pudo crear la solicitud");const Ms=(Ht==null?void 0:Ht.data)||Ht;await(Q==null?void 0:Q({_id:Ms._id,nombre:`Personalizado: ${Ms.nombre}`,precioActual:Ms.precioCalculado},1)),le(!1),L("Solicitud creada y agregada al carrito"),re("/carrito")}catch(ze){console.error("Error creando solicitud personalizada",ze),U(ze.message||"Error creando solicitud")}},$=async(oe,we=1)=>{if(!H){U("Inicia sesin para agregar productos al carrito.");return}try{await(Q==null?void 0:Q(oe,we))}catch(ze){console.error("handleAddToCart",ze)}};y.useEffect(()=>{const oe=setTimeout(()=>b(j),250);return()=>clearTimeout(oe)},[j]);const Z=oe=>Array.isArray(oe)?oe.filter(we=>{if(!we||typeof we!="object")return!1;const ze=x.toLowerCase(),Fe=!x||we.nombre&&we.nombre.toLowerCase().includes(ze)||we.descripcion&&we.descripcion.toLowerCase().includes(ze)||we.material&&we.material.toLowerCase().includes(ze)||we.color&&we.color.toLowerCase().includes(ze)||we.tipoLente&&we.tipoLente.toLowerCase().includes(ze),Ye=n==="todos"||we.categoriaId&&we.categoriaId.nombre===n||we.categoria===n,Ge=s==="todos"||we.marcaId&&we.marcaId.nombre===s,et=c==="todos"||we.material&&we.material===c,Dt=f==="todos"||we.color&&we.color===f,Ht=we.precioActual||we.precioBase||we.precioCalculado||0,Ms=Ht>=h.min&&Ht<=h.max;return Fe&&Ye&&Ge&&et&&Dt&&Ms}):(console.warn("filterProducts: products no es un array vlido:",oe),[]),Y=oe=>{if(!Array.isArray(oe))return console.warn("sortProducts: products no es un array vlido:",oe),[];const we=[...oe];switch(S){case"precio-asc":return we.sort((ze,Fe)=>{const Ye=ze&&ze.precioActual||ze&&ze.precioBase||0,Ge=Fe&&Fe.precioActual||Fe&&Fe.precioBase||0;return Ye-Ge});case"precio-desc":return we.sort((ze,Fe)=>{const Ye=ze&&ze.precioActual||ze&&ze.precioBase||0;return(Fe&&Fe.precioActual||Fe&&Fe.precioBase||0)-Ye});case"nombre":return we.sort((ze,Fe)=>{const Ye=ze&&ze.nombre||"",Ge=Fe&&Fe.nombre||"";return Ye.localeCompare(Ge)});case"marca":return we.sort((ze,Fe)=>{const Ye=ze&&ze.marcaId&&ze.marcaId.nombre||"",Ge=Fe&&Fe.marcaId&&Fe.marcaId.nombre||"";return Ye.localeCompare(Ge)});default:return we}},R=()=>{switch(B.pathname){case"/productos/lentes":return{data:ge,loading:$e,error:be,type:"lentes",pagination:Ne};case"/productos/accesorios":return{data:De,loading:Ie,error:te,type:"accesorios",pagination:_e};default:return{data:[...ge,...De],loading:$e||Ie,error:be||te,type:"todos"}}},[se,xe]=y.useState(1),[Oe]=y.useState(12);y.useEffect(()=>{J(1),pe(1)},[B.pathname]),y.useEffect(()=>{xe(1)},[x,n,s,c,f,h,S]);const Ue=()=>{b(""),N(""),a("todos"),l("todos"),d("todos"),m("todos"),g({min:0,max:1e4}),C("nombre"),xe(1)},He=()=>{const oe=[];return x&&oe.push(`Bsqueda: "${x}"`),n!=="todos"&&oe.push(`Categora: ${n}`),s!=="todos"&&oe.push(`Marca: ${s}`),c!=="todos"&&oe.push(`Material: ${c}`),f!=="todos"&&oe.push(`Color: ${f}`),(h.min>0||h.max<1e4)&&oe.push(`Precio: $${h.min} - $${h.max}`),S!=="nombre"&&oe.push(`Orden: ${S}`),oe},[Je,ut]=y.useState([]),z=oe=>{if(oe&&!Je.includes(oe)){const we=[oe,...Je.filter(ze=>ze!==oe)].slice(0,10);ut(we)}},ae=()=>{try{localStorage.setItem("aurora-search-history",JSON.stringify(Je))}catch(oe){console.error("Error saving search history:",oe)}},Ae=()=>{try{const oe=localStorage.getItem("aurora-search-history");oe&&ut(JSON.parse(oe))}catch(oe){console.error("Error loading search history:",oe)}},Re=oe=>{b(oe),N(oe),xe(1)},Ve=()=>{ut([])};y.useEffect(()=>{x&&x.length>2&&z(x)},[x]);const[st,ct]=y.useState([]),[at,Nt]=y.useState([]),Tt=()=>{const oe=R(),we=oe.data.map(Ge=>Ge.nombre).filter(Boolean),ze=oe.data.map(Ge=>{var et;return((et=Ge.categoriaId)==null?void 0:et.nombre)||Ge.categoria}).filter(Boolean),Fe=oe.data.map(Ge=>{var et;return(et=Ge.marcaId)==null?void 0:et.nombre}).filter(Boolean),Ye=[...we,...ze,...Fe];return[...new Set(Ye)].filter(Ge=>Ge.toLowerCase().includes(j.toLowerCase())).slice(0,5)},_t=()=>{const oe=(qe==null?void 0:qe.map(et=>et.nombre))||[],we=(Me==null?void 0:Me.map(et=>et.nombre))||[],Fe=R().data,Ye=[...new Set(Fe.map(et=>et.material).filter(Boolean))],Ge=[...new Set(Fe.map(et=>et.color).filter(Boolean))];return{categories:oe,brands:we,materials:Ye,colors:Ge}},dn=(oe,we)=>{const Fe=R().data;switch(oe){case"category":return Fe.filter(Ye=>{var Ge;return(((Ge=Ye.categoriaId)==null?void 0:Ge.nombre)||Ye.categoria)===we}).length;case"brand":return Fe.filter(Ye=>{var Ge;return((Ge=Ye.marcaId)==null?void 0:Ge.nombre)===we}).length;case"material":return Fe.filter(Ye=>Ye.material===we).length;case"color":return Fe.filter(Ye=>Ye.color===we).length;default:return 0}},mt=(oe,we)=>{const Fe=R().data;switch(oe){case"category":return Fe.filter(Ye=>{var Ge;return(((Ge=Ye.categoriaId)==null?void 0:Ge.nombre)||Ye.categoria)===we}).length;case"brand":return Fe.filter(Ye=>{var Ge;return((Ge=Ye.marcaId)==null?void 0:Ge.nombre)===we}).length;case"material":return Fe.filter(Ye=>Ye.material===we).length;case"color":return Fe.filter(Ye=>Ye.color===we).length;default:return 0}},ba=()=>{const oe={searchTerm:x,searchInput:j,selectedCategory:n,selectedMarca:s,selectedMaterial:c,selectedColor:f,priceRange:h,sortBy:S,viewMode:A};localStorage.setItem("aurora-product-filters",JSON.stringify(oe))},Ba=()=>{try{const oe=localStorage.getItem("aurora-product-filters");if(oe){const we=JSON.parse(oe),ze=we.searchTerm||"";b(ze),N(ze),a(we.selectedCategory||"todos"),l(we.selectedMarca||"todos"),d(we.selectedMaterial||"todos"),m(we.selectedColor||"todos"),g(we.priceRange||{min:0,max:1e4}),C(we.sortBy||"nombre"),E(we.viewMode||"grid")}}catch(oe){console.error("Error loading filters:",oe)}};y.useEffect(()=>{Ba(),Ae()},[]),y.useEffect(()=>{ba()},[x,n,s,c,f,h,S,A]),y.useEffect(()=>{ae()},[Je]);const ja=()=>{const we=R().data,ze={priceRanges:[{label:"Econmico ($0 - $100)",min:0,max:100,count:0},{label:"Medio ($101 - $300)",min:101,max:300,count:0},{label:"Premium ($301 - $500)",min:301,max:500,count:0},{label:"Lujo ($500+)",min:501,max:1e4,count:0}],discountRanges:[{label:"Sin descuento",min:0,max:0,count:0},{label:"Descuento bajo (1-20%)",min:1,max:20,count:0},{label:"Descuento medio (21-40%)",min:21,max:40,count:0},{label:"Descuento alto (40%+)",min:41,max:100,count:0}]};return ze.priceRanges.forEach(Fe=>{Fe.count=we.filter(Ye=>{const Ge=Ye.precioActual||Ye.precioBase||Ye.precioCalculado||0;return Ge>=Fe.min&&Ge<=Fe.max}).length}),ze.discountRanges.forEach(Fe=>{Fe.count=we.filter(Ye=>{if(!Ye.precioActual||!Ye.precioBase)return Fe.min===0;const Ge=(Ye.precioBase-Ye.precioActual)/Ye.precioBase*100;return Ge>=Fe.min&&Ge<=Fe.max}).length}),ze},jt=(oe,we)=>{switch(oe){case"priceRange":g({min:we.min,max:we.max});break}xe(1)},ue=oe=>{try{const we=JSON.parse(localStorage.getItem("aurora-recently-viewed")||"[]"),ze=[oe,...we.filter(Fe=>Fe!==oe)].slice(0,10);localStorage.setItem("aurora-recently-viewed",JSON.stringify(ze))}catch(we){console.error("Error saving recently viewed:",we)}},Te=oe=>{O(oe),P(!0),ue(oe._id)},dt=()=>{P(!1),O(null)},ht=oe=>new Intl.NumberFormat("es-SV",{style:"currency",currency:"USD"}).format(oe),Pe=oe=>{if(oe&&oe.imagenes&&oe.imagenes.length>0){const we=oe.imagenes[0];return we&&typeof we=="string"&&we.trim()!==""?we:null}switch(R().type){case"lentes":return"/src/pages/public/img/Lente1.png";case"accesorios":return"/src/pages/public/img/Accesorio.png";default:return"/src/pages/public/img/Lente1.png"}},Qe=r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md mb-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Filtros"}),r.jsx("button",{onClick:Ue,className:"text-sm text-[#0097c2] hover:text-[#0077a2] font-medium",children:"Limpiar filtros"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Buscar productos"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Buscar por nombre, descripcin, material...",value:j,onChange:oe=>N(oe.target.value),className:"w-full p-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]"}),j&&r.jsx("button",{onClick:()=>N(""),className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600",children:""})]}),j&&j.length>1&&r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Sugerencias: ",Tt().slice(0,3).join(", ")]}),Je.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Bsquedas recientes:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[Je.slice(0,5).map((oe,we)=>r.jsx("button",{onClick:()=>Re(oe),className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors",children:oe},we)),Je.length>5&&r.jsx("button",{onClick:Ve,className:"px-2 py-1 text-xs bg-red-100 text-red-600 rounded hover:bg-red-200 transition-colors",children:"Limpiar"})]})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marca"}),r.jsxs("select",{value:s,onChange:oe=>l(oe.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"todos",children:"Todas las marcas"}),_t().brands.map(oe=>r.jsxs("option",{value:oe,children:[oe," (",mt("brand",oe),")"]},oe))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material"}),r.jsxs("select",{value:c||"todos",onChange:oe=>d(oe.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"todos",children:"Todos los materiales"}),_t().materials.map(oe=>r.jsxs("option",{value:oe,children:[oe," (",mt("material",oe),")"]},oe))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),r.jsxs("select",{value:f||"todos",onChange:oe=>m(oe.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"todos",children:"Todos los colores"}),_t().colors.map(oe=>r.jsxs("option",{value:oe,children:[oe," (",dn("color",oe),")"]},oe))]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rangos de precio"}),r.jsx("div",{className:"space-y-2",children:ja().priceRanges.map((oe,we)=>r.jsx("button",{onClick:()=>jt("priceRange",oe),className:"w-full text-left p-2 text-xs bg-gray-50 hover:bg-gray-100 rounded border transition-colors",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{children:oe.label}),r.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-xs",children:oe.count})]})},we))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rango de precio: $",h.min," - $",h.max]}),r.jsxs("div",{className:"flex space-x-2 mb-2",children:[r.jsx("input",{type:"number",placeholder:"Min",value:h.min,onChange:oe=>g({...h,min:Number(oe.target.value)}),className:"w-1/2 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]"}),r.jsx("input",{type:"number",placeholder:"Max",value:h.max,onChange:oe=>g({...h,max:Number(oe.target.value)}),className:"w-1/2 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]"})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:r.jsx("div",{className:"h-2 bg-[#0097c2] rounded-full",style:{width:`${(h.max-h.min)/1e4*100}%`,marginLeft:`${h.min/1e4*100}%`}})})})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordenar por"}),r.jsxs("select",{value:S,onChange:oe=>C(oe.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#0097c2]",children:[r.jsx("option",{value:"nombre",children:"Nombre A-Z"}),r.jsx("option",{value:"precio-asc",children:"Precio: Menor a Mayor"}),r.jsx("option",{value:"precio-desc",children:"Precio: Mayor a Menor"}),r.jsx("option",{value:"marca",children:"Marca A-Z"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vista"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>E("grid"),className:`p-2 rounded transition-colors ${A==="grid"?"bg-[#0097c2] text-white":"bg-gray-200 hover:bg-gray-300"}`,title:"Vista de cuadrcula",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),r.jsx("button",{onClick:()=>E("list"),className:`p-2 rounded transition-colors ${A==="list"?"bg-[#0097c2] text-white":"bg-gray-200 hover:bg-gray-300"}`,title:"Vista de lista",children:r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]}),He().length>0&&r.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"Filtros activos:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:He().map((oe,we)=>r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:oe},we))})]})]}),wt=({product:oe,currentType:we})=>{var ze,Fe;return r.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[r.jsxs("div",{className:"relative",children:[(()=>{const Ye=Pe(oe);return Ye?r.jsx("img",{src:Ye,alt:oe.nombre,className:"w-full h-48 object-cover hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-48 bg-gray-100 flex items-center justify-center text-gray-400 text-sm",children:"Sin imagen"})})(),oe.enPromocion&&r.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"OFERTA!"})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-bold mb-2 text-gray-800",children:oe.nombre}),r.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:oe.descripcion}),r.jsxs("div",{className:"mb-3",children:[((ze=oe.marcaId)==null?void 0:ze.nombre)&&r.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs mr-2",children:oe.marcaId.nombre}),((Fe=oe.categoriaId)==null?void 0:Fe.nombre)&&r.jsx("span",{className:"inline-block bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:oe.categoriaId.nombre})]}),r.jsx("div",{className:"flex items-center justify-between mb-3",children:r.jsxs("div",{children:[oe.enPromocion&&oe.precioBase&&r.jsx("span",{className:"text-gray-500 line-through text-sm",children:ht(oe.precioBase)}),r.jsx("div",{className:"text-lg font-bold text-[#0097c2]",children:ht(oe.precioActual||oe.precioBase||0)})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx("button",{onClick:()=>{we==="personalizables"||oe.categoria==="Personalizado"?Ke(oe):$(oe,1)},className:"w-full bg-emerald-600 text-white py-2 rounded-full hover:bg-emerald-700 transition-colors duration-300",children:we==="personalizables"||oe.categoria==="Personalizado"?"Personalizar":"Agregar"}),r.jsx("button",{onClick:()=>Te(oe),className:"w-full bg-[#0097c2] text-white py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-300",children:"Ver detalles"})]})]}),K&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-xl p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Solicitud de producto personalizado"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Nombre"}),r.jsx("input",{name:"nombre",value:ee.nombre,onChange:Be,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Tipo de lente"}),r.jsx("input",{name:"tipoLente",value:ee.tipoLente,onChange:Be,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Material"}),r.jsx("input",{name:"material",value:ee.material,onChange:Be,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Color"}),r.jsx("input",{name:"color",value:ee.color,onChange:Be,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Descripcin"}),r.jsx("textarea",{name:"descripcion",value:ee.descripcion,onChange:Be,className:"w-full border rounded-lg px-3 py-2",rows:3})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Instrucciones adicionales"}),r.jsx("textarea",{name:"instruccionesAdicionales",value:ee.instruccionesAdicionales,onChange:Be,className:"w-full border rounded-lg px-3 py-2",rows:2})]})]}),r.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[r.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 rounded-lg border",children:"Cancelar"}),r.jsx("button",{onClick:F,className:"px-4 py-2 rounded-lg bg-[#0097c2] text-white",children:"Crear solicitud"})]})]})})]})},Mt=({product:oe,currentType:we})=>{var ze,Fe;return r.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow duration-300",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[(()=>{const Ye=Pe(oe);return Ye?r.jsx("img",{src:Ye,alt:oe.nombre,className:"w-24 h-24 object-cover rounded-lg"}):r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 text-xs",children:"Sin imagen"})})(),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800",children:oe.nombre}),r.jsx("p",{className:"text-gray-600 text-sm mb-2",children:oe.descripcion}),r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[((ze=oe.marcaId)==null?void 0:ze.nombre)&&r.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:oe.marcaId.nombre}),((Fe=oe.categoriaId)==null?void 0:Fe.nombre)&&r.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:oe.categoriaId.nombre})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[oe.enPromocion&&oe.precioBase&&r.jsx("span",{className:"text-gray-500 line-through text-sm mr-2",children:ht(oe.precioBase)}),r.jsx("span",{className:"text-lg font-bold text-[#0097c2]",children:ht(oe.precioActual||oe.precioBase||0)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{we==="personalizables"||oe.categoria==="Personalizado"?Ke(oe):$(oe,1)},className:"bg-emerald-600 text-white px-4 py-2 rounded-full hover:bg-emerald-700 transition-colors duration-300",children:we==="personalizables"||oe.categoria==="Personalizado"?"Personalizar":"Agregar"}),r.jsx("button",{onClick:()=>Te(oe),className:"bg-[#0097c2] text-white px-4 py-2 rounded-full hover:bg-[#0077a2] transition-colors duration-300",children:"Ver detalles"})]})]})]})]})})},Pt=()=>{var oe,we;return T?r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:T.nombre}),r.jsx("button",{onClick:dt,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx("div",{children:(()=>{const ze=Pe(T);return ze?r.jsx("img",{src:ze,alt:T.nombre,className:"w-full h-64 object-cover rounded-lg"}):r.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400",children:"Sin imagen"})})()}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:T.descripcion}),r.jsxs("div",{className:"space-y-3 mb-6",children:[((oe=T.marcaId)==null?void 0:oe.nombre)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Marca:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:T.marcaId.nombre})]}),((we=T.categoriaId)==null?void 0:we.nombre)&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Categora:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:T.categoriaId.nombre})]}),T.material&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Material:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:T.material})]}),T.color&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Color:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:T.color})]}),T.tipoLente&&r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold text-gray-700",children:"Tipo de lente:"}),r.jsx("span",{className:"ml-2 text-gray-600",children:T.tipoLente})]})]}),r.jsxs("div",{className:"mb-6",children:[T.enPromocion&&T.precioBase&&r.jsx("div",{className:"mb-2",children:r.jsxs("span",{className:"text-gray-500 line-through",children:["Precio original: ",ht(T.precioBase)]})}),r.jsxs("div",{className:"text-2xl font-bold text-[#0097c2]",children:["Precio: ",ht(T.precioActual||T.precioBase||0)]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{className:"bg-emerald-600 text-white px-4 py-2 rounded-full hover:bg-emerald-700 transition-colors duration-300",onClick:()=>{B.pathname==="/productos/personalizables"?(P(!1),re("/cotizaciones/crear",{state:{openPersonalizado:!0}})):($(T,1),P(!1))},children:B.pathname==="/productos/personalizables"?"Personalizar":"Agregar al carrito"}),r.jsx("button",{className:"bg-white border border-[#0097c2] text-[#0097c2] px-4 py-2 rounded-full hover:bg-[#e6f7fb] transition-colors duration-300",onClick:()=>Ke(T),children:"Solicitar a ptica"})]})]})]})]})})}):null},dr=()=>{const oe=R(),we=oe.loading,ze=oe.error,Fe=Z(oe.data),Ye=Y(Fe),Ge=oe.pagination,et=oe.type,Dt=()=>{switch(et){case"lentes":return"Lentes";case"accesorios":return"Accesorios";case"personalizables":return"Productos Personalizables";default:return"Todos los Productos"}};return r.jsx("div",{className:"container mx-auto py-10 px-2 sm:px-4",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsx("div",{className:"lg:w-1/4",children:Qe}),r.jsxs("div",{className:"lg:w-1/2",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800",children:Dt()}),r.jsxs("div",{className:"text-gray-600",children:[(Ge==null?void 0:Ge.total)??Ye.length," producto",((Ge==null?void 0:Ge.total)??Ye.length)!==1?"s":""," encontrado",((Ge==null?void 0:Ge.total)??Ye.length)!==1?"s":""]})]}),we?r.jsx(lle,{message:`Cargando ${Dt().toLowerCase()}...`}):ze?r.jsx(cle,{error:ze,onRetry:()=>window.location.reload()}):et!=="personalizables"&&Fe.length===0?r.jsx(ole,{type:et,searchTerm:x,filters:{selectedCategory:n,selectedMarca:s,priceRange:h}}):r.jsxs(r.Fragment,{children:[et==="personalizables"?r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-dashed border-[#0097c2]",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-lg bg-[#0097c2] text-white flex items-center justify-center text-2xl",children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Crea tu Producto Personalizado"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Elige base, materiales, color, tipo de lente y modificaciones del catlogo."})]}),r.jsx("button",{onClick:()=>re("/cotizaciones/crear",{state:{openPersonalizado:!0}}),className:"bg-emerald-600 text-white px-6 py-3 rounded-full hover:bg-emerald-700 transition-colors",children:"Personalizar ahora"})]})}):r.jsx("div",{className:A==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Ye.map(Ht=>r.jsx("div",{children:A==="grid"?r.jsx(wt,{product:Ht,currentType:et}):r.jsx(Mt,{product:Ht,currentType:et})},Ht._id))}),(et==="lentes"||et==="accesorios")&&(Ge==null?void 0:Ge.totalPages)>1&&r.jsx(gi,{currentPage:(et==="lentes"?G:W)-1,totalPages:Ge.totalPages,goToFirstPage:()=>et==="lentes"?J(1):pe(1),goToPreviousPage:()=>et==="lentes"?J(Ht=>Math.max(1,Ht-1)):pe(Ht=>Math.max(1,Ht-1)),goToNextPage:()=>et==="lentes"?J(Ht=>Math.min(Ge.totalPages,Ht+1)):pe(Ht=>Math.min(Ge.totalPages,Ht+1)),goToLastPage:()=>et==="lentes"?J(Ge.totalPages):pe(Ge.totalPages),pageSize:D,setPageSize:Ht=>{q(Ht),et==="lentes"?J(1):pe(1)}})]})]}),r.jsx("div",{className:"lg:w-1/4",children:r.jsx("div",{className:"sticky top-24",children:r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-[#0097c2]/30",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#0097c2] text-white flex items-center justify-center text-xl",children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Buscas algo nico?"}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Crea tu producto personalizado eligiendo base, materiales, color y ms."}),r.jsx("button",{onClick:()=>re("/cotizaciones/crear",{state:{openPersonalizado:!0}}),className:"w-full bg-emerald-600 text-white px-4 py-2 rounded-full hover:bg-emerald-700 transition-colors",children:"Personalizar ahora"})]})]})})})})]})})};return r.jsx(ule,{children:r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsx(P2,{children:r.jsx(k2,{type:_.type,message:_.message,show:_.show,onClose:V,duration:_.duration})}),dr(),k&&r.jsx(Pt,{}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10 text-xs sm:text-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 sm:gap-8 px-0 sm:px-4 py-8 sm:py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"ptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Adaptacin de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compaa"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Misin y Visin"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ptica La Inteligente. Todos los derechos reservados."]})})})]})})]})})},dle=()=>{const{user:e}=Gn(),[t,n]=y.useState(!1),{data:a,loading:s,error:l}=ju("cotizaciones"),[c,d]=y.useState(null),[f,m]=y.useState(null),[h,g]=y.useState({abierto:!1,id:null}),[x,b]=y.useState(null);if(y.useEffect(()=>{e||n(!0)},[e]),!e)return r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-6 rounded shadow-md text-lg font-semibold",children:"Debes iniciar sesin para ver cotizaciones."})}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 px-4 py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"ptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Adaptacin de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compaa"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Misin y Visin"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ptica La Inteligente. Todos los Derechos Reservados."]})})})]})})]});const j=A=>{g({abierto:!0,id:A})},N=async()=>{const A=h.id;try{const E=await fetch(`https://a-u-r-o-r-a.onrender.com/api/cotizaciones/${A}`,{method:"DELETE"}),T=await E.json();E.ok?(m("Cotizacin eliminada exitosamente."),c?d(c.filter(O=>O._id!==A)):a&&d(a.filter(O=>O._id!==A))):m(T.message||"Error al eliminar la cotizacin.")}catch{m("Error al eliminar la cotizacin.")}g({abierto:!1,id:null}),setTimeout(()=>m(null),3e3)},S=()=>{g({abierto:!1,id:null})},C=async A=>{try{b(A);const E=pn(`${ke.ENDPOINTS.COTIZACIONES}/${A}/convertir-a-pedido`),T=await fetch(E,{method:"POST",credentials:ke.FETCH_CONFIG.credentials,headers:{"Content-Type":"application/json"}}),O=await T.json().catch(()=>({}));if(!T.ok)m((O==null?void 0:O.message)||"No se pudo convertir la cotizacin.");else{m("Cotizacin convertida en pedido correctamente.");const P=(c||a||[]).map(_=>_._id===A?{..._,estado:"convertida"}:_);d(P)}}catch{m("Error al convertir la cotizacin.")}finally{b(null),setTimeout(()=>m(null),3e3)}};return r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-8 font-['Lato']",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-gray-800",children:"Cotizaciones"}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6 text-gray-800",children:"Buscar Cotizacin"}),r.jsxs("form",{className:"flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[r.jsx("input",{type:"text",placeholder:"Ingrese el nmero de cotizacin",className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all text-sm sm:text-base"}),r.jsx("button",{type:"submit",className:"bg-[#0097c2] text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-[#0077a2] transition-all shadow-sm text-sm sm:text-base",children:"Buscar"})]}),a&&a.length===0&&!s&&!l&&r.jsx("div",{className:"text-center text-gray-500 mt-4",children:"No hay cotizaciones disponibles actualmente."})]}),r.jsx("div",{className:"mb-8",children:r.jsx(Ct,{to:"/cotizaciones/crear",className:"inline-block bg-[#0097c2] text-white px-6 py-2 rounded-lg hover:bg-[#0077a2] transition-all shadow-sm",children:"Nueva Cotizacin"})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[r.jsx("h2",{className:"text-xl font-semibold p-6 text-gray-800",children:"Listado de Cotizaciones"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-xs sm:text-sm md:text-base",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:s?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center py-4",children:"Cargando..."})}):l?r.jsx("tr",{children:r.jsxs("td",{colSpan:4,className:"text-center py-4 text-red-500",children:["Error: ",l]})}):a&&a.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center py-4",children:"No hay cotizaciones disponibles actualmente."})}):(c||a)&&(c||a).length>0?(c||a).map(A=>r.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:A.numero||(A._id?`COT-${String(A._id).slice(-6).toUpperCase()}`:"-")}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:A.fecha?new Date(A.fecha).toLocaleString():"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:A.estado||"Pendiente"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs(Ct,{to:`/cotizaciones/${A._id}`,className:"flex items-center text-[#0097c2] hover:text-[#0077a2] transition-colors",children:[r.jsxs("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),r.jsx("span",{children:"Ver"})]}),r.jsxs(Ct,{to:`/cotizaciones/${A._id}?print=1`,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),r.jsx("span",{children:"Descargar"})]}),(!A.estado||A.estado!=="convertida")&&r.jsxs("button",{onClick:()=>C(A._id),disabled:x===A._id,className:`flex items-center ${x===A._id?"text-gray-400":"text-green-600 hover:text-green-800"} transition-colors`,children:[r.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),r.jsx("span",{children:x===A._id?"Convirtiendo...":"Convertir a pedido"})]}),r.jsxs("button",{onClick:()=>j(A._id),className:"flex items-center text-red-600 hover:text-red-800 transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),r.jsx("span",{children:"Eliminar"})]})]})})]},A._id)):null})]})})]})]}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white mt-10 text-xs sm:text-sm",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 sm:gap-8 px-0 sm:px-4 py-8 sm:py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"ptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Adaptacin de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compaa"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Misin y Visin"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ptica La Inteligente. Todos los Derechos Reservados."]})})})]})}),f&&r.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-6 py-2 rounded shadow-lg z-50",children:f}),h.abierto&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-lg",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Confirmar Eliminacin"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Ests seguro de que deseas eliminar esta cotizacin? Esta accin no se puede deshacer."}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:S,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})]})},fle=()=>r.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] transition-all duration-300 overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white p-12",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Examen Visual Profesional"}),r.jsx("p",{className:"text-white/90 mb-6",children:"Nuestro Examen Visual completo evala la salud de tus ojos y determina si necesitas correccin visual utilizando tecnologa de vanguardia."})]})}),r.jsx("div",{className:"p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-[#0097c2]/5 rounded-lg mr-3",children:r.jsx(xs,{className:"w-6 h-6 text-[#0097c2]","aria-hidden":"true"})}),r.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:"Beneficios Incluidos"})]}),r.jsx("ul",{className:"space-y-3",children:["Evaluacin completa de salud ocular","Medicin precisa de graduacin","Deteccin temprana de problemas","Asesora personalizada","Recomendaciones especficas"].map((e,t)=>r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(gh,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),e]},t))})]}),r.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-[#0097c2]/5 rounded-lg mr-3",children:r.jsx(_b,{className:"w-6 h-6 text-[#0097c2]","aria-hidden":"true"})}),r.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:"Informacin del Servicio"})]}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(rr,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Duracin: 30 minutos aproximadamente"]}),r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(xs,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Resultados inmediatos"]}),r.jsxs("li",{className:"flex items-center text-gray-600 group",children:[r.jsx(Rq,{className:"w-5 h-5 mr-3 text-[#0097c2] group-hover:scale-110 transition-transform","aria-hidden":"true"}),"Seguimiento incluido"]})]})]})]}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"p-2 bg-[#0097c2]/5 rounded-lg mr-3",children:r.jsx(ym,{className:"w-6 h-6 text-[#0097c2]","aria-hidden":"true"})}),r.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:"Proceso del Examen"})]}),r.jsx("ul",{className:"space-y-4",children:[{title:"Historia Clnica",desc:"Recopilacin de informacin mdica y antecedentes"},{title:"Evaluacin Visual",desc:"Medicin de agudeza visual a diferentes distancias"},{title:"Refraccin",desc:"Determinacin precisa de tu graduacin"},{title:"Salud Ocular",desc:"Examen completo de la salud de tus ojos"}].map((e,t)=>r.jsxs("li",{className:"flex items-start group",children:[r.jsx("span",{className:"flex items-center justify-center bg-[#0097c2]/10 text-[#0097c2] rounded-full w-6 h-6 mt-1 mr-3 flex-shrink-0 font-semibold group-hover:bg-[#0097c2] group-hover:text-white transition-colors",children:t+1}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-gray-800",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:e.desc})]})]},t))})]}),r.jsx(Ct,{to:"/agendar",className:"block bg-[#0097c2] text-white text-center py-4 px-6 rounded-xl font-semibold hover:bg-[#0088b0] transition-colors",children:"Agendar Examen"})]})]})})]}),mle="/A.U.R.O.R.A/assets/proceso-examen-C1l9lA0r.jpg",dy=({icon:e,title:t,description:n,features:a,details:s})=>r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.16)] transition-all duration-300",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white p-4 rounded-xl w-16 h-16 flex items-center justify-center mx-auto mb-6",children:e}),r.jsx("h3",{className:"text-xl font-semibold text-center mb-4",children:t}),r.jsx("p",{className:"text-gray-600 text-center mb-6",children:n}),r.jsxs("div",{className:"space-y-6",children:[a&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("h4",{className:"font-medium mb-4 text-gray-800",children:[a.title,":"]}),r.jsx("ul",{className:"space-y-3",children:a.items.map((l,c)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-[#0097c2] mr-2",children:""}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-medium",children:[l.title,":"]}),r.jsx("br",{}),l.description]})]},c))})]}),s&&r.jsxs("div",{className:"border-t pt-6",children:[r.jsxs("h4",{className:"font-medium mb-4 text-gray-800",children:[s.title,":"]}),r.jsx("ul",{className:"space-y-2 text-gray-600",children:s.items.map((l,c)=>r.jsxs("li",{className:"flex items-center",children:[r.jsx("span",{className:"text-[#0097c2] mr-2",children:""}),l]},c))})]})]})]}),Zf=({icon:e,title:t,description:n})=>r.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_8px_30px_rgb(0,0,0,0.16)] transition-all duration-300 text-center",children:[r.jsx("div",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white p-4 rounded-xl w-16 h-16 flex items-center justify-center mx-auto mb-6",children:e}),r.jsx("h3",{className:"font-semibold text-xl mb-4",children:t}),r.jsx("p",{className:"text-gray-600",children:n})]}),uu=({title:e,description:t})=>r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-all",children:[r.jsx("h3",{className:"font-semibold text-lg mb-3 text-[#0097c2]",children:e}),r.jsx("p",{className:"text-gray-600",children:t})]}),hle=()=>r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsxs("div",{className:"font-['Lato'] bg-gray-50 px-2 sm:px-4",children:[r.jsx("br",{}),r.jsx("br",{}),r.jsx(fle,{}),r.jsx("section",{className:"py-20 px-4",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Beneficios de Nuestro Examen Visual"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:[r.jsx(Zf,{icon:r.jsx(an,{className:"w-8 h-8","aria-hidden":"true"}),title:"Deteccin temprana",description:"Identificamos problemas visuales antes de que se conviertan en condiciones graves."}),r.jsx(Zf,{icon:r.jsx(q3,{className:"w-8 h-8","aria-hidden":"true"}),title:"Precisin garantizada",description:"Utilizamos equipos de ltima generacin para garantizar la precisin en la medicin de tu graduacin."}),r.jsx(Zf,{icon:r.jsx(oF,{className:"w-8 h-8","aria-hidden":"true"}),title:"Rpido y eficiente",description:"Nuestro examen visual completo toma aproximadamente 30 minutos, respetando tu tiempo."}),r.jsx(Zf,{icon:r.jsx(pq,{className:"w-8 h-8","aria-hidden":"true"}),title:"Seguimiento Personalizado",description:"Realizamos un seguimiento de tu salud visual y te recordamos cundo es momento de tu prximo examen."})]})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nuestro Proceso"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-8",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(uu,{title:"Historia Clnica",description:"Recopilamos informacin sobre tu historial mdico, antecedentes familiares y hbitos visuales."}),r.jsx(uu,{title:"Evaluacin de agudeza visual",description:"Medimos tu capacidad para ver detalles a diferentes distancias con y sin correccin."}),r.jsx(uu,{title:"Refraccin",description:"Determinamos tu graduacin exacta para corregir problemas como miopa, hipermetropa o astigmatismo."}),r.jsx(uu,{title:"Evaluacin de la salud ocular",description:"Examinamos la salud de tus ojos para detectar posibles condiciones como cataratas, glaucoma o retinopatas."}),r.jsx(uu,{title:"Recomendaciones Personalizadas",description:"Te brindamos recomendaciones especficas para tu caso y te asesoramos en la eleccin de lentes si los necesitas."})]}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("img",{src:mle,alt:"Proceso de examen visual",className:"rounded-2xl shadow-lg max-w-full w-full"})})]})]})}),r.jsx("section",{className:"py-20 px-4",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nuestros Servicios"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-8",children:[r.jsx(dy,{icon:r.jsx(B3,{className:"w-8 h-8","aria-hidden":"true"}),title:"Examen Visual",description:"Evaluacin integral de tu salud visual utilizando tecnologa de vanguardia.",features:{title:"Incluye",items:[{title:"Evaluacin completa",description:"Examen detallado de la salud ocular"},{title:"Medicin precisa",description:"Determinacin exacta de tu graduacin usando equipos digitales"},{title:"Deteccin temprana",description:"Identificacin de posibles problemas visuales y condiciones oculares"},{title:"Asesora personalizada",description:"Recomendaciones especficas para tu caso"}]},details:{title:"Duracin y Proceso",items:["Tiempo aproximado: 30 minutos","Resultados inmediatos","Seguimiento incluido"]}}),r.jsx(dy,{icon:r.jsx(Pu,{className:"w-8 h-8","aria-hidden":"true"}),title:"Adaptacin de Lentes",description:"Servicio completo de adaptacin y personalizacin de lentes, garantizando tu comodidad y satisfaccin.",features:{title:"Servicios Incluidos",items:[{title:"Asesora especializada",description:"Ayuda profesional en la seleccin de monturas segn tu estilo y necesidades"},{title:"Mediciones precisas",description:"Toma de medidas exactas para lentes monofocales y progresivos"},{title:"Ajustes personalizados",description:"Adaptacin perfecta de la montura a tu rostro"}]},details:{title:"Garantas",items:["30 das de garanta de adaptacin","Ajustes gratuitos post-entrega","Seguimiento personalizado"]}}),r.jsx(dy,{icon:r.jsx(F3,{className:"w-8 h-8","aria-hidden":"true"}),title:"Reparaciones",description:"Servicio tcnico especializado para el mantenimiento y reparacin de tus lentes.",features:{title:"Servicios Disponibles",items:[{title:"Mantenimiento General",description:"Ajustes, limpieza profunda y revisin completa"},{title:"Reparaciones Especficas",description:"Cambio de tornillos, plaquetas y soldadura especializada"},{title:"Servicios Express",description:"Reparaciones urgentes en el mismo da"}]},details:{title:"Ventajas",items:["Garanta en Reparaciones","Presupuesto Sin Compromiso","Servicio Rpido y Profesional"]}})]})]})}),r.jsx("section",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white py-20",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Agenda tu Examen Visual hoy mismo!"}),r.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"No esperes ms para cuidar de tu salud visual. Nuestro equipo est listo para atenderte con profesionalismo y calidez."}),r.jsx(Ct,{to:"/agendar",className:"inline-block bg-white text-[#0097c2] px-8 py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1",children:"Agendar Examen"})]})})]})]}),ple=()=>{const[e,t]=y.useState(1),[n,a]=y.useState(!1),[s,l]=y.useState({nombres:"",apellidos:"",telefono:"",email:"",motivo:"",sucursalId:"",optometristaId:"",fecha:"",hora:"",tipoLente:"",graduacion:"",notasAdicionales:"",contacto:"telefono"}),[c,d]=y.useState(!1),[f,m]=y.useState(null),[h,g]=y.useState(!1),[x,b]=y.useState([]),[j,N]=y.useState([]),{user:S}=(Gn==null?void 0:Gn())||{},[C,A]=y.useState({Lun:[],Mar:[],Mie:[],Jue:[],Vie:[],Sab:[],Dom:[]}),[E,T]=y.useState(["9:00","10:00","11:00","12:00","13:00"]),O=Q=>{var W,pe,ge,$e;if(!Q)return"Optometrista";const H=Q.empleadoId,D=((pe=(W=H==null?void 0:H.nombre)==null?void 0:W.trim)==null?void 0:pe.call(W))||"",q=(($e=(ge=H==null?void 0:H.apellido)==null?void 0:ge.trim)==null?void 0:$e.call(ge))||"",G=`${D} ${q}`.trim();return G||`Optometrista ${(Q._id||"").slice(-6).toUpperCase()||Q._id||""}`.trim()},k=Q=>{const H=new Date(Q),q=(H.getDay()+6)%7,G=new Date(H);return G.setDate(H.getDate()-q),G.setHours(0,0,0,0),G},[P,_]=y.useState(k(new Date)),L=["Lun","Mar","Mie","Jue","Vie","Sab","Dom"],U=()=>L.map((Q,H)=>{const D=new Date(P);return D.setDate(P.getDate()+H),D}),V=Q=>{if(!Q)return null;const[H,D]=String(Q).split(":").map(q=>parseInt(q,10));return Number.isNaN(H)||Number.isNaN(D)?null:H*60+D},K=Q=>{const H=Math.floor(Q/60),D=Q%60;return`${H}:${String(D).padStart(2,"0")}`},le=(Q,H)=>{const D=V(Q),q=V(H);if(D==null||q==null||q<=D)return[];const G=[];for(let J=D;J<q;J+=60)G.push(K(J));return G},ee=Q=>{if(Q==null)return null;const H={lun:"Lun",lunes:"Lun",mon:"Lun",monday:"Lun",mar:"Mar",martes:"Mar",tue:"Mar",tuesday:"Mar",mie:"Mie",mircoles:"Mie",miercoles:"Mie",wed:"Mie",wednesday:"Mie",jue:"Jue",jueves:"Jue",thu:"Jue",thursday:"Jue",vie:"Vie",viernes:"Vie",fri:"Vie",friday:"Vie",sab:"Sab",sbado:"Sab",sabado:"Sab",sat:"Sab",saturday:"Sab",dom:"Dom",domingo:"Dom",sun:"Dom",sunday:"Dom"};if(typeof Q=="number")return["Lun","Mar","Mie","Jue","Vie","Sab","Dom"][Math.max(1,Math.min(7,Q))-1]||null;const D=String(Q).trim().toLowerCase();return H[D]||null};y.useEffect(()=>{const Q={Lun:[],Mar:[],Mie:[],Jue:[],Vie:[],Sab:[],Dom:[]};if(!s.optometristaId){A(Q),T(["9:00","10:00","11:00","12:00","13:00"]);return}const H=j.find(J=>J._id===s.optometristaId);if(!H){A(Q),T(["9:00","10:00","11:00","12:00","13:00"]);return}const D={...Q};(H.disponibilidad||[]).forEach(J=>{const W=ee(J==null?void 0:J.dia);if(!W||!D[W])return;const pe=le(J==null?void 0:J.horaInicio,J==null?void 0:J.horaFin);if(!pe.length)return;const ge=new Set([...D[W]||[],...pe]);D[W]=Array.from(ge).sort(($e,be)=>V($e)-V(be))});const q=new Set;Object.values(D).forEach(J=>J.forEach(W=>q.add(W)));const G=Array.from(q).sort((J,W)=>V(J)-V(W));A(D),T(G.length?G:["9:00","10:00","11:00","12:00","13:00"])},[s.optometristaId,j]),y.useEffect(()=>{(async()=>{try{const[H,D]=await Promise.all([fetch(pn(ke.ENDPOINTS.SUCURSALES),ke.FETCH_CONFIG),fetch(pn(ke.ENDPOINTS.OPTOMETRISTAS),ke.FETCH_CONFIG)]),[q,G]=await Promise.all([H.json(),D.json()]);b(Array.isArray(q)?q:[]),N(Array.isArray(G)?G:[])}catch(H){console.error("Error cargando opciones",H)}})()},[]);const ne=Q=>{const{name:H,value:D}=Q.target;l(q=>({...q,[H]:D}))},B=async Q=>{if(Q.preventDefault(),e===3){d(!0),m(null),g(!1);try{const H=(S==null?void 0:S._id)||(S==null?void 0:S.id);if(!H)throw new Error("Inicia sesin para agendar tu cita.");const D=["sucursalId","optometristaId","fecha","hora","motivo","tipoLente","graduacion"];for(const J of D)if(!s[J])throw new Error("Completa todos los campos requeridos.");const q={clienteId:H,optometristaId:s.optometristaId,sucursalId:s.sucursalId,fecha:s.fecha?new Date(s.fecha):null,hora:s.hora,estado:"pendiente",motivoCita:s.motivo,tipoLente:s.tipoLente,graduacion:s.graduacion,notasAdicionales:s.notasAdicionales||""},G=await fetch(pn(ke.ENDPOINTS.CITAS),{method:"POST",headers:{"Content-Type":"application/json"},credentials:ke.FETCH_CONFIG.credentials,body:JSON.stringify(q)});if(!G.ok){const J=await G.json().catch(()=>({}));throw new Error((J==null?void 0:J.message)||"Error al agendar la cita")}g(!0),l({nombres:"",apellidos:"",telefono:"",email:"",motivo:"",sucursalId:"",optometristaId:"",fecha:"",hora:"",tipoLente:"",graduacion:"",notasAdicionales:"",contacto:"telefono"}),t(1),a(!0),setTimeout(()=>{a(!1)},3e3)}catch(H){m(H.message)}finally{d(!1)}}else t(H=>Math.min(H+1,3))},re=()=>{switch(e){case 1:return r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsx("div",{children:r.jsx("input",{type:"text",name:"nombres",placeholder:"Nombres",value:s.nombres,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"apellidos",placeholder:"Apellidos",value:s.apellidos,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"tel",name:"telefono",placeholder:"Telfono",value:s.telefono,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{className:"md:col-span-2",children:r.jsx("input",{type:"text",name:"motivo",placeholder:"Motivo de cita (Ej. Examen visual)",value:s.motivo,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsxs("select",{name:"sucursalId",value:s.sucursalId,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0,children:[r.jsx("option",{value:"",children:"Seleccionar sucursal"}),x.map(Q=>r.jsx("option",{value:Q._id,children:Q.nombre},Q._id))]})}),r.jsx("div",{children:r.jsxs("select",{name:"optometristaId",value:s.optometristaId,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0,children:[r.jsx("option",{value:"",children:"Seleccionar optometrista"}),j.map(Q=>r.jsx("option",{value:Q._id,children:O(Q)},Q._id))]})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"tipoLente",placeholder:"Tipo de lente (Ej. Monofocal)",value:s.tipoLente,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})}),r.jsx("div",{children:r.jsx("input",{type:"text",name:"graduacion",placeholder:"Graduacin (Ej. -1.25)",value:s.graduacion,onChange:ne,className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})})]});case 2:return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3",children:[r.jsx("h3",{className:"text-sm font-medium",children:"Selecciona una hora"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{const Q=new Date(P);Q.setDate(P.getDate()-7),_(Q)},className:"px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200",children:" Semana anterior"}),r.jsx("button",{type:"button",onClick:()=>_(k(new Date)),className:"px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200",children:"Esta semana"}),r.jsx("button",{type:"button",onClick:()=>{const Q=new Date(P);Q.setDate(P.getDate()+7),_(Q)},className:"px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200",children:"Semana siguiente "})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(()=>{const Q=U(),H=W=>`${String(W.getDate()).padStart(2,"0")}/${String(W.getMonth()+1).padStart(2,"0")}`,D=E,q=j.find(W=>W._id===s.optometristaId),G=q&&s.sucursalId&&!(q.sucursalesAsignadas||[]).some(W=>(W._id||W)===s.sucursalId),J=new Date;return r.jsxs(r.Fragment,{children:[G&&r.jsx("div",{className:"mb-3 text-xs sm:text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded p-2",children:"El optometrista seleccionado no atiende en la sucursal elegida. Cambia de sucursal u optometrista."}),r.jsxs("table",{className:"w-full text-xs sm:text-sm md:text-base",children:[r.jsx("thead",{children:r.jsx("tr",{children:L.map((W,pe)=>r.jsx("th",{className:"py-2",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{children:W}),r.jsx("span",{className:"text-[11px] text-gray-500",children:H(Q[pe])})]})},W))})}),r.jsx("tbody",{children:D.map(W=>r.jsx("tr",{children:L.map((pe,ge)=>{var Be;const $e=Q[ge],be=new Date($e.getTime());be.setHours(0,0,0,0);const Ne=be.toISOString(),De=(Be=C[pe])==null?void 0:Be.includes(W),[Ie,te]=W.split(":").map(F=>parseInt(F,10)),_e=new Date($e.getTime());_e.setHours(Ie||0,te||0,0,0);const Me=_e.getTime()<J.getTime(),qe=!De||Me,Ke=!qe&&s.hora===W&&s.fecha&&new Date(s.fecha).toDateString()===be.toDateString();return r.jsx("td",{className:"p-2 text-center",children:qe?r.jsx("span",{className:"text-gray-400",children:"No disponible"}):r.jsx("button",{type:"button",onClick:()=>{ne({target:{name:"hora",value:W}}),ne({target:{name:"fecha",value:Ne}})},className:`w-full py-2 rounded-lg transition-all ${Ke?"bg-[#0097c2] text-white":"bg-gray-50 hover:bg-gray-100"}`,children:W})},`${pe}-${W}`)})},W))})]})]})})()}),Object.values(C).every(Q=>Q.length===0)&&r.jsx("div",{className:"text-center text-gray-500 mt-4",children:"No hay horarios disponibles actualmente."})]})});case 3:return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Forma de Contacto"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",name:"contacto",value:"telefono",checked:s.contacto==="telefono",onChange:ne,className:"text-[#0097c2] focus:ring-[#0097c2]"}),r.jsx("span",{children:"Nmero Telefnico"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"radio",name:"contacto",value:"email",checked:s.contacto==="email",onChange:ne,className:"text-[#0097c2] focus:ring-[#0097c2]"}),r.jsx("span",{children:"Correo Electrnico"})]})]})]});default:return null}};return r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-8 font-['Lato'] min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(Au,{children:n&&r.jsx(gt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),r.jsx("span",{children:"Cita agendada exitosamente"})]})})}),r.jsxs(gt.div,{layout:!0,className:"bg-white rounded-xl shadow-sm p-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-gray-800 text-center",children:"Agendar Cita"}),r.jsx("div",{className:"flex items-center justify-center mb-12",children:[1,2,3].map(Q=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(gt.div,{animate:{backgroundColor:e>=Q?"#0097c2":"#e5e7eb",color:e>=Q?"#ffffff":"#6b7280"},className:"w-6 h-6 rounded-full flex items-center justify-center text-sm",children:Q}),Q<3&&r.jsx(gt.div,{animate:{backgroundColor:e>Q?"#0097c2":"#e5e7eb"},className:"w-16 h-0.5"})]},Q))}),r.jsxs(gt.form,{layout:!0,onSubmit:B,className:"space-y-6",children:[h&&r.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded",children:"Cita agendada correctamente."}),f&&r.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded",children:f}),r.jsx(Au,{mode:"wait",children:r.jsx(gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:re()},e)}),r.jsxs(gt.div,{layout:!0,className:"flex justify-end space-x-4",children:[e>1&&r.jsx("button",{type:"button",onClick:()=>t(Q=>Q-1),className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Atrs"}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-2 rounded-full hover:bg-[#0077a2] transition text-sm sm:text-base",children:e===3?"Finalizar":"Siguiente"})]})]})]})]})}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 px-4 py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"ptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Adaptacin de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compaa"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Misin y Visin"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ptica La Inteligente. Todos los derechos reservados."]})})})]})})]})},gle=()=>r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsxs("div",{className:"font-['Lato'] bg-gray-50",children:[r.jsxs("section",{className:"bg-[#0097c2] text-white py-16 sm:py-24 relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0097c2] to-[#00b4e4] opacity-90"}),r.jsx("div",{className:"container mx-auto px-2 sm:px-4 relative z-10",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-3xl sm:text-5xl font-bold mb-4 sm:mb-6",children:"ptica la Inteligente"}),r.jsx("p",{className:"text-base sm:text-xl opacity-90",children:"Cuidando tu visin desde hace ms de una dcada"})]})})]}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nuestra Historia"}),r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-8",children:"Fundada en 2010, Nuestra Historia comenz en un pequeo local en el centro de la ciudad. Con dedicacin y trabajo duro, hemos crecido hasta convertirnos en una referencia en servicios pticos de calidad."})})]})}),r.jsx("section",{className:"py-10 sm:py-16",children:r.jsx("div",{className:"container mx-auto px-2 sm:px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Misin"}),r.jsx("p",{className:"text-gray-600 leading-relaxed flex-grow",children:"Ofrecer soluciones visuales accesibles y de alta calidad a los salvadoreos, con atencin cercana y asesora experta, respaldados por la garanta y los valores de servicio, gratitud y empata que han guiado a nuestra ptica desde sus inicios."})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 hover:shadow-2xl transition-shadow",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Visin"}),r.jsx("p",{className:"text-gray-600 leading-relaxed flex-grow",children:"Ser una ptica lder a nivel nacional, reconocida por la excelencia de sus servicios y su compromiso con la salud visual de todos nuestros pacientes, sin perder jams la solidaridad ni el espritu familiar que nos define."})]})})]})})}),r.jsx("section",{className:"py-10 sm:py-20 bg-white",children:r.jsxs("div",{className:"container mx-auto px-2 sm:px-4",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-8 sm:mb-12",children:"Nuestros Valores"}),r.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:[{title:"Compromiso",description:"Dedicacin total a la salud visual de nuestros pacientes.",icon:r.jsx("svg",{className:"w-12 h-12 text-[#0097c2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})},{title:"Calidad",description:"Excelencia en cada servicio y producto que ofrecemos.",icon:r.jsx("svg",{className:"w-12 h-12 text-[#0097c2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{title:"Empata",description:"Comprensin y atencin personalizada para cada paciente.",icon:r.jsx("svg",{className:"w-12 h-12 text-[#0097c2]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}].map((e,t)=>r.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:e.icon}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:e.title}),r.jsx("p",{className:"text-gray-600",children:e.description})]},t))})]})}),r.jsx("section",{className:"py-10 sm:py-16 bg-[#0097c2] text-white",children:r.jsx("div",{className:"container mx-auto px-2 sm:px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-8 text-center",children:[{number:"10+",label:"Aos de Experiencia"},{number:"5000+",label:"Pacientes Atendidos"},{number:"2",label:"Sucursales"},{number:"100%",label:"Satisfaccin"}].map((e,t)=>r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:e.number}),r.jsx("div",{className:"text-lg opacity-90",children:e.label})]},t))})})}),r.jsx("footer",{className:"bg-gradient-to-r from-[#0097c2] to-[#00b4e4] text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-8 px-4 py-12",children:[r.jsxs("div",{className:"md:col-span-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-xl font-bold",children:"ptica La Inteligente"})]}),r.jsx("p",{className:"text-sm text-gray-100",children:"Comprometidos con tu Salud Visual desde 2010. Ofrecemos Servicios Profesionales y Productos de Alta Calidad para el Cuidado de tus Ojos."}),r.jsxs("div",{className:"flex space-x-4 mt-4",children:[r.jsx("a",{href:"https://facebook.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-facebook-f"})}),r.jsx("a",{href:"https://instagram.com",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-instagram"})}),r.jsx("a",{href:"https://wa.me/1234567890",className:"hover:text-gray-200 transition-colors p-2 bg-white/10 rounded-full",target:"_blank",rel:"noopener noreferrer",children:r.jsx("i",{className:"fab fa-whatsapp"})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Servicios"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Examen Visual"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Adaptacin de Lentes"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/servicios",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Reparaciones"]})})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Compaa"}),r.jsxs("ul",{className:"space-y-2 text-sm",children:[r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Sobre Nosotros"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Historia"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/nosotros",className:"hover:text-gray-200 transition-colors flex items-center",children:[r.jsx("span",{className:"mr-2",children:""}),"Misin y Visin"]})})]})]}),r.jsxs("div",{className:"md:col-span-4",children:[r.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),r.jsxs("div",{className:"space-y-4 text-sm",children:[r.jsxs("p",{className:"flex items-center",children:[r.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"123 Calle Principal, San Salvador"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"+503 1234-5678"]}),r.jsxs("p",{className:"flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"info@opticalainteligente.com"]})]})]})]}),r.jsx("div",{className:"border-t border-white/10",children:r.jsx("div",{className:"px-4 py-6 text-sm text-center",children:r.jsxs("p",{children:[" ",new Date().getFullYear()," ptica La Inteligente. Todos los derechos reservados."]})})})]})})]})]}),xle=y.forwardRef(({amount:e,email:t,name:n,configuracion:a,datosAdicionales:s,headers:l={},onResult:c},d)=>{const[f,m]=y.useState({number:"4242424242424242",exp_month:"08",exp_year:"28",cvc:"123",card_holder:n||""}),[h,g]=y.useState(!1),[x,b]=y.useState(""),j=S=>{const{name:C,value:A}=S.target;m(E=>({...E,[C]:A}))};y.useEffect(()=>{if(!x){const S=(f.number||"").slice(-4)||"0000",C=`tok_dev_${Date.now()}_${S}`;b(C)}n&&f.card_holder!==n&&m(S=>({...S,card_holder:n}))},[n]);const N=async()=>{var S,C,A;if(!e||e<=0){c==null||c({ok:!1,error:"Monto invlido"});return}g(!0);try{const E=x,T={monto:Number(e),emailCliente:t||"",nombreCliente:f.card_holder||n||"",tokenTarjeta:E,configuracion:{emailsNotificacion:"",urlWebhook:"",telefonosNotificacion:"",notificarTransaccionCliente:!0,...a||{}},datosAdicionales:{...s||{}}};console.groupCollapsed("[Wompi] Payload enviado a /wompi/tokenless"),console.log(JSON.stringify(T,null,2)),console.groupEnd();const O=await fetch(pn("/wompi/tokenless"),{method:"POST",headers:{"Content-Type":"application/json",...l},credentials:"include",body:JSON.stringify(T)}),k=await O.json();if(console.groupCollapsed("[Wompi] Respuesta de /wompi/tokenless"),console.log(JSON.stringify(k,null,2)),console.groupEnd(),O.ok&&(k!=null&&k.success)){const P={ok:!0,transactionId:((S=k==null?void 0:k.data)==null?void 0:S.transactionId)||((C=k==null?void 0:k.data)==null?void 0:C.id)||((A=k==null?void 0:k.data)==null?void 0:A.Transaccion)||null};return c==null||c(P),P}else{const P={ok:!1,error:(k==null?void 0:k.error)||(k==null?void 0:k.message)||"Pago rechazado"};return c==null||c(P),P}}catch(E){console.error("Error en pago Wompi:",E);const T={ok:!1,error:E.message||"Error de red"};return c==null||c(T),T}finally{g(!1)}};return y.useImperativeHandle(d,()=>({pay:()=>N(),getToken:()=>x})),r.jsxs("div",{className:"space-y-3 bg-sky-50 border border-sky-100 rounded-xl p-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2",children:[r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"number",value:f.number,onChange:j,placeholder:"Nmero de tarjeta"}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"exp_month",value:f.exp_month,onChange:j,placeholder:"MM"}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"exp_year",value:f.exp_year,onChange:j,placeholder:"YY"}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 focus:ring-1 focus:ring-sky-300",name:"cvc",value:f.cvc,onChange:j,placeholder:"CVC"})]}),r.jsx("input",{className:"border border-gray-200 rounded-lg px-3 py-2 w-full focus:ring-1 focus:ring-sky-300",name:"card_holder",value:f.card_holder,onChange:j,placeholder:"Titular"})]})}),yle=()=>{const{cart:e,itemCount:t,total:n,removeItem:a,updateQty:s,clearCart:l,loading:c}=Mb(),{user:d,token:f}=Gn(),[m,h]=y.useState(!1),[g,x]=y.useState(null),[b,j]=y.useState(null),[N,S]=y.useState([]),[C,A]=y.useState(null),E=y.useRef(null),T=new Date().toISOString().slice(0,10),[O,k]=y.useState({sucursalId:"",empleadoId:"",metodoPago:"efectivo",montoPagado:0,emailPago:"",telefonoCliente:"",nombreCliente:"",duiCliente:"",direccion:{calle:"",ciudad:"",departamento:""},observaciones:"",fecha:T,estado:"pendiente"}),P=y.useMemo(()=>Number(n||0),[n]),_=y.useMemo(()=>O.metodoPago==="tarjeta_credito"||O.metodoPago==="tarjeta_debito"||O.metodoPago==="transferencia",[O.metodoPago]);y.useEffect(()=>{k(H=>({...H,montoPagado:P,nombreCliente:H.nombreCliente||(d==null?void 0:d.nombre)||"",emailPago:H.emailPago||(d==null?void 0:d.correo)||""})),A(null),j(null)},[P,d==null?void 0:d.nombre,d==null?void 0:d.correo]),y.useEffect(()=>{(async()=>{try{if(!(d!=null&&d.id)||(d==null?void 0:d.rol)!=="Cliente")return;const D=await fetch(`${ke.BASE_URL}${ke.ENDPOINTS.CLIENTES}/${d.id}`,{credentials:"include"}),q=await D.json();if(!D.ok)return;const G=[q==null?void 0:q.nombre,q==null?void 0:q.apellido].filter(Boolean).join(" ").trim();k(J=>{var W,pe,ge;return{...J,nombreCliente:J.nombreCliente||G||J.nombreCliente,emailPago:J.emailPago||(q==null?void 0:q.correo)||J.emailPago,telefonoCliente:J.telefonoCliente||(q==null?void 0:q.telefono)||(q==null?void 0:q.telefono1)||(q==null?void 0:q.telefonoPrincipal)||J.telefonoCliente||"",duiCliente:J.duiCliente||(q==null?void 0:q.dui)||J.duiCliente,direccion:{calle:J.direccion.calle||((W=q==null?void 0:q.direccion)==null?void 0:W.calle)||"",ciudad:J.direccion.ciudad||((pe=q==null?void 0:q.direccion)==null?void 0:pe.ciudad)||"",departamento:J.direccion.departamento||((ge=q==null?void 0:q.direccion)==null?void 0:ge.departamento)||""}}})}catch{}})()},[d==null?void 0:d.id,d==null?void 0:d.rol]),y.useEffect(()=>{d!=null&&d.id&&(d!=null&&d.rol)&&d.rol!=="Cliente"&&k(H=>({...H,empleadoId:H.empleadoId||d.id}))},[d==null?void 0:d.id,d==null?void 0:d.rol]),y.useEffect(()=>{(async()=>{var D;try{const G=await(await fetch(`${ke.BASE_URL}${ke.ENDPOINTS.SUCURSALES}`,{credentials:"include"})).json(),J=Array.isArray(G)?G:(G==null?void 0:G.data)??[];S(J),!O.sucursalId&&((D=J[0])!=null&&D._id)&&k(W=>({...W,sucursalId:J[0]._id}))}catch{}})()},[]);const L=y.useMemo(()=>({"Content-Type":"application/json",...f?{Authorization:`Bearer ${f}`}:{}}),[f]),U=async H=>{var D;try{const q=await fetch(`${ke.BASE_URL}${ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${H}`,{credentials:"include"});if(!q.ok)return!1;const G=await q.json();return!!(G&&(G._id||(D=G==null?void 0:G.data)!=null&&D._id))}catch{return!1}},V=async H=>{if(H)try{const D=await Promise.all(((e==null?void 0:e.productos)||[]).map(G=>U(G.productoId))),q=((e==null?void 0:e.productos)||[]).filter((G,J)=>D[J]).map(G=>G.productoId);if(q.length===0)return;await Promise.all(q.map(async G=>{try{await fetch(`${ke.BASE_URL}${ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${G}/vinculos`,{method:"PATCH",headers:L,credentials:"include",body:JSON.stringify({pedidoId:H})})}catch{}}))}catch{}},K=(H,D)=>{const q=Math.max(1,Number(D)||1);s(H,q)},le=H=>{const{name:D,value:q}=H.target;if(D.startsWith("direccion.")){const G=D.split(".")[1];k(J=>({...J,direccion:{...J.direccion,[G]:q}}))}else k(G=>({...G,[D]:q})),D==="metodoPago"&&(A(null),j(null),(q==="tarjeta_credito"||q==="tarjeta_debito"||q==="transferencia")&&k(G=>({...G,montoPagado:P})))};y.useEffect(()=>{_&&Number(O.montoPagado)!==P&&k(H=>({...H,montoPagado:P}))},[_,P]);const ee=async()=>{var G,J;if(x(null),j(null),!(e!=null&&e._id)){x("No hay carrito activo.");return}if(!O.sucursalId){x("Selecciona una sucursal.");return}if(!(d!=null&&d.id)){x("Debes iniciar sesin.");return}if(!O.metodoPago||!O.montoPagado){x("Completa los datos de pago.");return}if((O.metodoPago==="tarjeta_credito"||O.metodoPago==="tarjeta_debito"||O.metodoPago==="transferencia")&&!C){x("Primero realiza el pago con tarjeta/transferencia (Wompi).");return}if(!O.nombreCliente||!O.duiCliente||!O.direccion.calle||!O.direccion.ciudad||!O.direccion.departamento||!O.telefonoCliente){x("Completa los datos de facturacin.");return}const D=Math.max(0,Number(O.montoPagado)-P),q={carritoId:e._id,empleadoId:O.empleadoId||void 0,sucursalId:O.sucursalId,fecha:O.fecha?new Date(O.fecha).toISOString():new Date().toISOString(),estado:O.estado||"pendiente",datosPago:{metodoPago:O.metodoPago,montoPagado:Number(O.montoPagado),montoTotal:P,cambio:D,numeroTransaccion:O.metodoPago==="efectivo"?void 0:C||`TX-${Date.now()}`},facturaDatos:{numeroFactura:`FAC-${Date.now()}`,clienteId:d.id,nombreCliente:O.nombreCliente,duiCliente:O.duiCliente,direccionCliente:{calle:O.direccion.calle,ciudad:O.direccion.ciudad,departamento:O.direccion.departamento},subtotal:P,total:P},observaciones:O.observaciones||void 0};h(!0);try{const W=await fetch(`${ke.BASE_URL}${ke.ENDPOINTS.VENTAS}`,{method:"POST",headers:L,credentials:"include",body:JSON.stringify(q)}),pe=await W.json();if(W.ok){const ge=(pe==null?void 0:pe.venta)||(pe==null?void 0:pe.data)||pe,$e=(ge==null?void 0:ge.pedidoId)||((G=ge==null?void 0:ge.pedido)==null?void 0:G._id)||(pe==null?void 0:pe.pedidoId)||((J=pe==null?void 0:pe.pedido)==null?void 0:J._id);$e&&await V($e),j("Venta creada correctamente."),await l()}else x((pe==null?void 0:pe.message)||"Error creando la venta.")}catch{x("Error de red creando la venta.")}finally{h(!1)}},ne=async()=>{const H=[];for(const G of(e==null?void 0:e.productos)||[]){const J=await U(G.productoId);H.push({productoId:J?void 0:G.productoId,tipo:J?"personalizado":"otro",nombre:G.nombre,categoria:J?"Personalizado":G.categoria||"Otros",cantidad:G.cantidad||1,precioUnitario:G.precio||0,customizaciones:[],subtotal:(G.precio||0)*(G.cantidad||1)})}const D=new Date,q=new Date(D);return q.setDate(q.getDate()+30),{clienteId:d.id,correoCliente:O.emailPago||void 0,telefonoCliente:O.telefonoCliente,fecha:D.toISOString(),productos:H,total:H.reduce((G,J)=>G+(J.subtotal||0),0),validaHasta:q.toISOString(),estado:"pendiente",observaciones:O.observaciones||void 0}},B=async()=>{const H=await Promise.all(((e==null?void 0:e.productos)||[]).map(ge=>U(ge.productoId)));if(!H.some(Boolean))return null;const q=await ne(),G=await fetch(`${ke.BASE_URL}${ke.ENDPOINTS.COTIZACIONES}`,{method:"POST",headers:L,credentials:"include",body:JSON.stringify(q)}),J=await G.json();if(!G.ok)throw new Error((J==null?void 0:J.message)||"Error creando la cotizacin");const W=(J==null?void 0:J.cotizacion)||(J==null?void 0:J.data)||J,pe=((e==null?void 0:e.productos)||[]).filter((ge,$e)=>H[$e]).map(ge=>ge.productoId);return await Promise.all(pe.map(async ge=>{try{await fetch(`${ke.BASE_URL}${ke.ENDPOINTS.PRODUCTOS_PERSONALIZADOS}/${ge}/vinculos`,{method:"PATCH",headers:L,credentials:"include",body:JSON.stringify({estado:"en_proceso",cotizacionId:W._id})})}catch{}})),W},re=async()=>{x(null),j(null);try{if(h(!0),_){if(!E.current){x("Componente de pago no disponible."),h(!1);return}const H=await E.current.pay();if(!(H!=null&&H.ok)){x((H==null?void 0:H.error)||"Pago Wompi fallido."),h(!1);return}A(H.transactionId||null)}try{await B()}catch{}await ee()}catch{x("Ocurri un error procesando el pago.")}finally{h(!1)}},Q=H=>{var G,J,W,pe,ge;let q=[H==null?void 0:H.imagen,H==null?void 0:H.imagenUrl,H==null?void 0:H.imageUrl,H==null?void 0:H.image,H==null?void 0:H.foto,H==null?void 0:H.thumbnail,H==null?void 0:H.thumb,(G=H==null?void 0:H.producto)==null?void 0:G.imagen,(J=H==null?void 0:H.producto)==null?void 0:J.imagenUrl,(W=H==null?void 0:H.producto)==null?void 0:W.imageUrl,(pe=H==null?void 0:H.producto)==null?void 0:pe.image,(ge=H==null?void 0:H.producto)==null?void 0:ge.foto].filter(Boolean).find($e=>typeof $e=="string"&&$e.trim().length>0);if(q){if(q=q.trim(),q.startsWith("http://")||q.startsWith("https://")||q.startsWith("data:"))return q;const be=(ke.BASE_URL||"").replace(/\/api$/,"");return q.startsWith("/")?`${be}${q}`:`${be}/${q.replace(/^\//,"")}`}return"data:image/svg+xml;utf8,"+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
        <defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#e5f3f8"/><stop offset="1" stop-color="#cfe9f1"/></linearGradient></defs>
        <rect width="64" height="64" fill="url(#g)"/>
        <circle cx="22" cy="26" r="8" fill="#9ac7d6"/>
        <path d="M8 50l14-14 9 8 10-12 15 18z" fill="#7fb6c9"/>
      </svg>`)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(ga,{}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 tracking-tight",children:"Tu carrito"}),c&&r.jsx("div",{children:"Cargando carrito..."}),g&&r.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded mb-4",children:g}),b&&r.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded mb-4",children:b}),!c&&(!e||(e.productos||[]).length===0)&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow text-center",children:[r.jsx("p",{className:"mb-4",children:"Tu carrito est vaco."}),r.jsx(Ct,{to:"/productos",className:"bg-[#0097c2] text-white px-4 py-2 rounded-full",children:"Seguir comprando"})]}),!c&&e&&(e.productos||[]).length>0&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-1",children:[r.jsx("div",{className:"bg-white rounded-xl shadow",children:r.jsx("div",{className:"max-h-96 overflow-y-auto divide-y pr-1",children:(e.productos||[]).map(H=>r.jsxs("div",{className:"p-3 flex items-center justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx("img",{src:Q(H),alt:H.nombre,className:"w-14 h-14 rounded-md object-cover flex-shrink-0"}),r.jsx("div",{className:"min-w-0",children:r.jsx("div",{className:"font-medium text-gray-900 truncate",children:H.nombre})})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"number",min:1,className:"w-20 border border-gray-200 rounded-lg px-2 py-1 focus:ring-1 focus:ring-sky-300",value:H.cantidad,onChange:D=>K(H.productoId,D.target.value)}),r.jsxs("div",{className:"w-24 text-right font-semibold text-gray-800",children:["$",(H.precio*H.cantidad).toFixed(2)]}),r.jsx("button",{onClick:()=>a(String(H.productoId)),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Eliminar"})]})]},String(H.productoId)))})}),r.jsxs("div",{className:"mt-4 flex items-center justify-between bg-white p-4 rounded-xl shadow",children:[r.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800",children:"Vaciar carrito"}),r.jsxs("div",{className:"text-xl font-bold",children:["Total: $",Number(n||0).toFixed(2)]})]})]}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow space-y-6 sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Datos de pago"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Mtodo de pago"}),r.jsxs("select",{name:"metodoPago",value:O.metodoPago,onChange:le,className:"w-full border rounded-lg px-3 py-2",children:[r.jsx("option",{value:"efectivo",children:"Efectivo"}),r.jsx("option",{value:"tarjeta_credito",children:"Tarjeta crdito"}),r.jsx("option",{value:"tarjeta_debito",children:"Tarjeta dbito"}),r.jsx("option",{value:"transferencia",children:"Transferencia"}),r.jsx("option",{value:"cheque",children:"Cheque"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Monto pagado"}),r.jsx("input",{type:"number",name:"montoPagado",value:O.montoPagado,onChange:le,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Email para recibo/pago"}),r.jsx("input",{type:"email",name:"emailPago",value:O.emailPago,onChange:le,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-600",children:"Telfono de contacto"}),r.jsx("input",{type:"tel",name:"telefonoCliente",value:O.telefonoCliente,onChange:le,className:"w-full border rounded-lg px-3 py-2"})]}),r.jsxs("div",{className:"md:col-span-2 text-right text-sm text-gray-700",children:["Total a pagar: ",r.jsxs("span",{className:"font-semibold",children:["$",P.toFixed(2)]})]})]}),(O.metodoPago==="tarjeta_credito"||O.metodoPago==="tarjeta_debito"||O.metodoPago==="transferencia")&&r.jsx("div",{className:"border-t pt-4",children:r.jsx(xle,{ref:E,amount:P,email:O.emailPago,name:O.nombreCliente,configuracion:{},datosAdicionales:{},headers:{},onResult:()=>{}})}),r.jsx("div",{className:"text-right",children:r.jsx("button",{className:"bg-[#0097c2] disabled:opacity-60 text-white px-6 py-3 rounded-full hover:bg-[#0077a2] w-full md:w-auto",onClick:re,disabled:m,children:m?"Procesando...":_?"Pagar y confirmar":"Confirmar compra"})})]})})]})]})]})};function j_({activos:e=!0}={}){const[t,n]=y.useState([]),[a,s]=y.useState(!1),[l,c]=y.useState(null);return y.useEffect(()=>{let d=!0;return(async()=>{s(!0),c(null);try{const m=pn(ke.ENDPOINTS.CATALOGO_MODIFICACIONES,e?{activos:"true"}:{}),g=await(await fetch(m,{...ke.FETCH_CONFIG,method:"GET"})).json();if(!d)return;n(Array.isArray(g)?g:g.data||[])}catch(m){if(!d)return;c(A3(m,"catalogoModificaciones"))}finally{d&&s(!1)}})(),()=>{d=!1}},[e]),{mods:t,loading:a,error:l,reload:()=>{}}}function vle({open:e,onClose:t,initial:n=[],allowEditPrice:a=!0,onSave:s}){const{mods:l,loading:c,error:d}=j_({activos:!0}),[f,m]=y.useState(()=>n.map(j=>({...j})));Fn.useEffect(()=>{m(n.map(j=>({...j})))},[n,e]);const h=y.useMemo(()=>Object.fromEntries(f.map(j=>[j.codigo,j])),[f]),g=j=>{const N=h[j.codigo];m(N?S=>S.filter(C=>C.codigo!==j.codigo):S=>[...S,{codigo:j.codigo,nombre:j.nombre,descripcion:j.descripcion||"",precio:Number(j.precioBase||0),cantidad:1}])},x=(j,N,S)=>{m(C=>C.map(A=>A.codigo===j?{...A,[N]:S}:A))},b=f.reduce((j,N)=>j+Number(N.precio||0)*Number(N.cantidad||0),0);return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/0",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-3xl w-full mx-4 shadow-2xl border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Seleccionar Modificaciones"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),c&&r.jsx("div",{className:"p-4 text-center",children:"Cargando opciones..."}),d&&r.jsx("div",{className:"p-4 text-center text-red-500",children:d}),!c&&!d&&r.jsxs("div",{className:"max-h-80 overflow-auto divide-y divide-gray-100 border rounded-xl",children:[l.map(j=>{const N=!!h[j.codigo],S=h[j.codigo];return r.jsxs("div",{className:`flex items-center p-3 sm:p-4 ${N?"bg-blue-50":""}`,children:[r.jsx("input",{type:"checkbox",className:"mr-3",checked:N,onChange:()=>g(j)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-800",children:j.nombre}),r.jsx("div",{className:"text-sm text-gray-500",children:j.descripcion})]}),N&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"number",min:1,className:"w-20 px-2 py-1 border rounded-lg",value:S.cantidad,onChange:C=>x(j.codigo,"cantidad",Number(C.target.value)),title:"Cantidad"}),r.jsx("input",{type:"number",step:"0.01",min:0,className:"w-24 px-2 py-1 border rounded-lg",value:S.precio,onChange:C=>a&&x(j.codigo,"precio",Number(C.target.value)),disabled:!a,title:"Precio"})]})]},j.codigo)}),l.length===0&&r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay opciones disponibles."})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Total modificaciones: ",r.jsxs("span",{className:"font-semibold",children:["$",b.toFixed(2)]})]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),r.jsx("button",{onClick:()=>s&&s(f),className:"px-4 py-2 bg-[#0097c2] text-white rounded hover:bg-[#0077a2]",children:"Aplicar"})]})]})]})}):null}function ble({open:e,onClose:t,onSave:n}){const{mods:a,loading:s,error:l}=j_({activos:!0}),[c,d]=y.useState([]);y.useEffect(()=>{d(e?[]:[])},[e]),y.useEffect(()=>{if(!e||!a||a.length===0||c.length>0)return;const A={material_lente:["MAT-CR39"],indice_refraccion:["IDX-150"],diseno_lente:["DSN-MONO"],montura:["MNT-ACET"]},E={material_lente:["CR-39","CR39"],indice_refraccion:["1.50","1,50"],diseno_lente:["Monofocal"],montura:["Acetato"]},T=P=>{const _=a.filter(V=>(V.categoria||"general")===P);if(_.length===0)return null;const L=_.find(V=>(A[P]||[]).includes(V.codigo));return L||_.find(V=>(E[P]||[]).some(K=>(V.nombre||"").toLowerCase().includes(K.toLowerCase())))||null},k=["material_lente","indice_refraccion","diseno_lente","montura"].map(P=>T(P)).filter(Boolean);k.length>0&&d(k.map(P=>({codigo:P.codigo,nombre:P.nombre,descripcion:P.descripcion||"",precio:Number(P.precioBase||0),cantidad:1,categoria:P.categoria||"general"})))},[e,a]);const f=y.useMemo(()=>Object.fromEntries(c.map(A=>[A.codigo,A])),[c]),m=["material_lente","indice_refraccion","diseno_lente","tratamiento","montura","general"],h=y.useMemo(()=>{const A={};return(a||[]).forEach(E=>{const T=E.categoria||"general";A[T]||(A[T]={items:[],seleccionUnica:!!E.seleccionUnica}),A[T].items.push(E),E.seleccionUnica&&(A[T].seleccionUnica=!0)}),A},[a]),g=A=>{const E=f[A.codigo],T=A.categoria||"general",O=h[T]||{seleccionUnica:!1};d(E?k=>k.filter(P=>P.codigo!==A.codigo):k=>{let P=[...k];return O.seleccionUnica&&(P=P.filter(_=>_.categoria!==T)),P.push({codigo:A.codigo,nombre:A.nombre,descripcion:A.descripcion||"",precio:Number(A.precioBase||0),cantidad:1,categoria:T}),P})},x=(A,E,T)=>{d(O=>O.map(k=>k.codigo===A?{...k,[E]:T}:k))},b=c.reduce((A,E)=>A+Number(E.precio||0)*Number(E.cantidad||0),0),j=y.useMemo(()=>{const A={};return c.forEach(E=>{A[E.categoria]=A[E.categoria]?[...A[E.categoria],E]:[E]}),A},[c]),S=["material_lente","indice_refraccion","diseno_lente","montura"].every(A=>(j[A]||[]).length===1),C=()=>{var _,L,U,V;console.log("[PersonalizadoBuilderModal] handleSave clicked, isValid=",S,"seleccion=",c);const A=((_=(j.material_lente||[])[0])==null?void 0:_.nombre)||"Material",E=((L=(j.indice_refraccion||[])[0])==null?void 0:L.nombre)||"ndice",T=((U=(j.diseno_lente||[])[0])==null?void 0:U.nombre)||"Diseo",O=((V=(j.montura||[])[0])==null?void 0:V.nombre)||"Montura",P={productoId:null,nombre:`Personalizado - ${O} - ${T} - ${A} - ${E}`,categoria:"Personalizados",cantidad:1,precioUnitario:b,tipo:"personalizado",especificaciones:{material:A,indice:E,diseno:T,montura:O,tratamientos:(j.tratamiento||[]).map(K=>K.nombre)},customizaciones:c};n?(console.log("[PersonalizadoBuilderModal] onSave dispatched with item=",P),n(P)):console.warn("[PersonalizadoBuilderModal] onSave prop is not provided")};return e?r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/0",children:r.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-4xl w-full mx-4 shadow-2xl border border-gray-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Crear Producto Personalizado"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"font-medium mb-2",children:"Modificaciones (catlogo)"}),s&&r.jsx("div",{className:"p-3 text-center",children:"Cargando opciones..."}),l&&r.jsx("div",{className:"p-3 text-center text-red-500",children:l}),!s&&!l&&r.jsxs("div",{className:"max-h-[55vh] overflow-auto border rounded-xl divide-y divide-gray-100",children:[m.filter(A=>!!h[A]).map(A=>{const E=h[A];return r.jsxs("div",{children:[r.jsxs("div",{className:"px-4 py-3 bg-gray-50 text-xs font-semibold text-gray-700 uppercase tracking-wide",children:[A==="material_lente"?"Material de la lente":A==="indice_refraccion"?"ndice de refraccin":A==="tratamiento"?"Tratamientos y recubrimientos":A==="diseno_lente"?"Diseo de la lente":A==="montura"?"Montura":"General",E.seleccionUnica?" (seleccin nica)":""]}),E.items.sort((T,O)=>(T.orden??0)-(O.orden??0)).map(T=>{const O=!!f[T.codigo],k=f[T.codigo];return r.jsxs("div",{className:`flex items-center p-3 sm:p-4 ${O?"bg-blue-50":""}`,children:[r.jsx("input",{type:E.seleccionUnica?"radio":"checkbox",name:`cat-${A}`,className:"mr-3",checked:O,onChange:()=>g(T)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-gray-800",children:T.nombre}),r.jsx("div",{className:"text-xs text-gray-500",children:T.descripcion})]}),O&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"number",min:1,className:"w-20 px-2 py-1 border rounded-lg",value:k.cantidad,onChange:P=>x(T.codigo,"cantidad",Number(P.target.value)),title:"Cantidad"}),r.jsx("input",{type:"number",step:"0.01",min:0,className:"w-24 px-2 py-1 border rounded-lg",value:k.precio,onChange:P=>x(T.codigo,"precio",Number(P.target.value)),title:"Precio"})]})]},T.codigo)})]},A)}),(a||[]).length===0&&r.jsx("div",{className:"p-4 text-center text-gray-500",children:"No hay modificaciones configuradas."})]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Total personalizado: ",r.jsxs("span",{className:"font-semibold",children:["$",b.toFixed(2)]})]}),r.jsxs("div",{className:"space-x-3",children:[r.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),r.jsx("button",{onClick:C,disabled:!S,className:`px-4 py-2 rounded text-white ${S?"bg-[#0097c2] hover:bg-[#0077a2]":"bg-gray-300 cursor-not-allowed"}`,children:"Agregar"})]})]}),!S&&r.jsx("div",{className:"mt-2 text-xs text-gray-500",children:'Selecciona: Material, ndice, Diseo y Montura (una opcin en cada categora) para habilitar "Agregar".'})]})}):null}const jle=({user:e=null,productos:t=[],clienteInfo:n={},loading:a=!1,error:s=null,success:l=!1,fechaCreacion:c=new Date,fechaValidez:d=new Date,onCrearCotizacion:f=null,onAgregarProducto:m=null,onEliminarProducto:h=null,onActualizarProducto:g=null,onUpdateClienteInfo:x=null,onCancel:b=null,cotizacionData:j={}})=>{var H;const N=En(),[S,C]=y.useState(!1),[A,E]=y.useState(null),[T,O]=y.useState(!1),k=D=>{E(D),C(!0)},P=()=>{O(!0)},_=D=>{if(!m)return O(!1);m(D),O(!1)};Fn.useEffect(()=>{N.state&&N.state.openPersonalizado&&O(!0)},[N.state]);const L=()=>{C(!1),E(null)},U=D=>{if(A==null)return L();if(g){const q=t[A]||{},G={...q,tipo:q.tipo||"aro",customizaciones:D.map(J=>({codigo:J.codigo,nombre:J.nombre,descripcion:J.descripcion||"",precio:Number(J.precio||0),cantidad:Number(J.cantidad||1)}))};g(A,G)}L()},V=D=>{const q=Number(D.precioUnitario??D.precio??0),G=(D.cantidad||0)*q,J=Array.isArray(D.customizaciones)?D.customizaciones.reduce((W,pe)=>W+Number(pe.precio||0)*Number(pe.cantidad||0),0):0;return G+J},K=t.reduce((D,q)=>D+V(q),0),le=K*.13,ee=K+le,ne=!!(n!=null&&n.correoCliente)&&!!(n!=null&&n.telefonoCliente)&&t.length>0,B=async D=>{D.preventDefault(),ne&&f&&f(j)},re=(D,q)=>{x&&x({...n,[D]:q})},Q=D=>{h&&h(D)};return r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsxs("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Crear Cotizacin"}),l&&r.jsx("div",{className:"mb-4 p-4 bg-green-50 text-green-700 rounded border border-green-200",children:"Cotizacin creada correctamente."}),s&&r.jsx("div",{className:"mb-4 p-4 bg-red-50 text-red-700 rounded border border-red-200",children:s}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Fecha de creacin"}),r.jsx("p",{className:"font-semibold text-gray-800",children:c.toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Vlida hasta"}),r.jsx("p",{className:"font-semibold text-gray-800",children:d.toLocaleDateString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Estado"}),r.jsx("p",{className:"font-semibold text-yellow-600",children:"Pendiente"})]})]})}),r.jsxs("form",{onSubmit:B,className:"space-y-8",children:[r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:"Informacin de Contacto"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Correo Electrnico"}),r.jsx("input",{type:"email",value:n.correoCliente||"",onChange:D=>re("correoCliente",D.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Telfono"}),r.jsx("input",{type:"tel",value:n.telefonoCliente||"",onChange:D=>re("telefonoCliente",D.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#0097c2] transition-all",required:!0})]})]})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:"Productos"}),r.jsx("div",{className:"flex gap-3 mb-6",children:r.jsx("button",{type:"button",className:"bg-emerald-600 text-white px-6 py-2 rounded-lg shadow-sm hover:bg-emerald-700 transition-all",onClick:P,children:"Crear Producto Personalizado"})}),r.jsx("div",{className:"overflow-hidden rounded-xl shadow-sm",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Producto"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Cantidad"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Precio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Subtotal"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay productos agregados actualmente."})}):t.map((D,q)=>r.jsxs("tr",{children:[r.jsxs("td",{children:[r.jsx("div",{className:"font-medium",children:D.nombre||D.producto}),Array.isArray(D.customizaciones)&&D.customizaciones.length>0&&r.jsx("div",{className:"mt-1 text-xs text-gray-600 space-y-1",children:D.customizaciones.map((G,J)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{children:[" ",G.nombre," x",G.cantidad]}),r.jsxs("span",{children:["$",(Number(G.precio||0)*Number(G.cantidad||0)).toFixed(2)]})]},J))})]}),r.jsx("td",{children:D.cantidad}),r.jsxs("td",{children:["$",Number(D.precioUnitario??D.precio??0).toFixed(2)]}),r.jsxs("td",{children:["$",V(D).toFixed(2)]}),r.jsxs("td",{children:[r.jsx("button",{type:"button",onClick:()=>Q(q),className:"text-red-500 hover:underline",children:"Eliminar"}),r.jsx("button",{type:"button",onClick:()=>k(q),className:"ml-3 text-[#0097c2] hover:underline",children:D.tipo==="aro"?"Personalizar Aro":"Agregar Modificaciones"})]})]},q))})]})})]}),r.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[r.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-800",children:"Resumen"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:["$",K.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"IVA (13%)"}),r.jsxs("span",{children:["$",le.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-800 pt-3",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:["$",ee.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{type:"button",className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors",onClick:()=>b&&b(),children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:a||!ne,className:"bg-[#0097c2] text-white px-6 py-2 rounded-lg shadow-sm hover:bg-[#0077a2] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creando...":"Crear Cotizacin"})]})]}),r.jsx(vle,{open:S,onClose:L,initial:A!=null&&((H=t[A])==null?void 0:H.customizaciones)||[],onSave:U}),r.jsx(ble,{open:T,onClose:()=>O(!1),onSave:_})]})]})},wle=()=>{const{user:e}=Gn(),t=Ss(),{alertState:n,showSuccess:a,showError:s,hideAlert:l}=M2(),[c,d]=y.useState([]),[f,m]=y.useState({correoCliente:(e==null?void 0:e.correo)||(e==null?void 0:e.email)||"",telefonoCliente:(e==null?void 0:e.telefono)||""}),[h,g]=y.useState(!1),[x,b]=y.useState(null),[j,N]=y.useState(!1),S=new Date,C=new Date(Date.now()+30*24*60*60*1e3);y.useEffect(()=>{m({correoCliente:(e==null?void 0:e.correo)||(e==null?void 0:e.email)||"",telefonoCliente:(e==null?void 0:e.telefono)||""})},[e]);const A=async _=>{g(!0),b(null),N(!1);try{const L=pn(ke.ENDPOINTS.COTIZACIONES),U=await fetch(L,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(!U.ok){const V=await U.json();throw new Error(V.message||"Error al crear la cotizacin")}N(!0),a("Cotizacin creada correctamente",3e3),d([]),m({correoCliente:"",telefonoCliente:""}),setTimeout(()=>t("/cotizaciones"),300)}catch(L){b(L.message),s(L.message||"Error al crear la cotizacin",4e3)}finally{g(!1)}},E=_=>{d([...c,_]),a("Producto agregado a la cotizacin",2e3)},T=_=>{d(c.filter((L,U)=>U!==_))},O=(_,L)=>{d(U=>U.map((V,K)=>K===_?L:V))},k=_=>{m(_)},P={clienteId:(e==null?void 0:e.id)||(e==null?void 0:e.clienteId),correoCliente:f.correoCliente,telefonoCliente:f.telefonoCliente,productos:c.map(_=>({productoId:_.productoId,nombre:_.nombre,categoria:_.categoria,cantidad:_.cantidad,precioUnitario:_.precioUnitario??_.precio,tipo:_.tipo||"aro",customizaciones:Array.isArray(_.customizaciones)?_.customizaciones.map(L=>({codigo:L.codigo,nombre:L.nombre,descripcion:L.descripcion||"",precio:Number(L.precio||0),cantidad:Number(L.cantidad||1)})):[]})),fecha:S.toISOString(),validaHasta:C.toISOString(),estado:"pendiente"};return r.jsxs(r.Fragment,{children:[r.jsx(P2,{children:r.jsx(k2,{type:n.type,message:n.message,show:n.show,onClose:l,duration:n.duration})}),r.jsx(jle,{user:e,productos:c,clienteInfo:f,loading:h,error:x,success:j,fechaCreacion:S,fechaValidez:C,onCrearCotizacion:A,onAgregarProducto:E,onEliminarProducto:T,onActualizarProducto:O,onUpdateClienteInfo:k,cotizacionData:P,onCancel:()=>t("/cotizaciones")})]})},Nle=({cotizacion:e=null,loading:t=!1,error:n=null,onConvertirACompra:a=null})=>{const{id:s}=gO(),[l,c]=y.useState(!1),d=()=>{c(!0)},f=()=>{a&&a(s),c(!1)},m=h=>{const g={Pendiente:"bg-yellow-100 text-yellow-700",convertida:"bg-green-100 text-green-700",Cancelado:"bg-red-100 text-red-700"};return g[h]||g.Pendiente};return t?r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsx("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:r.jsx("div",{className:"p-8 text-center",children:"Cargando cotizacin..."})})]}):n?r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsx("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:r.jsxs("div",{className:"p-8 text-center text-red-500",children:["Error: ",n]})})]}):e?r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsxs("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Cotizacin ",e.numero||(e._id?`COT-${String(e._id).slice(-6).toUpperCase()}`:e.id)]}),r.jsxs("div",{className:"flex space-x-4",children:[(!e.estado||e.estado!=="convertida")&&r.jsxs("button",{onClick:d,className:"flex items-center bg-[#0097c2] text-white px-4 py-2 rounded-lg hover:bg-[#0077a2] transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),"Convertir a pedido"]}),r.jsxs("button",{className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",onClick:()=>window.print(),children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Imprimir"]}),r.jsxs(Ct,{to:"/cotizaciones",className:"flex items-center text-[#0097c2] hover:text-[#0077a2] transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Volver"]})]})]}),l&&r.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-white/10 backdrop-blur-sm md:backdrop-blur",children:r.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Confirmar conversin"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Ests seguro de que deseas convertir esta cotizacin en un pedido? Esta accin no se puede deshacer."}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),r.jsx("button",{onClick:f,className:"px-4 py-2 bg-[#0097c2] text-white rounded-lg hover:bg-[#0077a2] transition-colors",children:"Confirmar"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin de la Cotizacin"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Fecha:"})," ",e.fecha?new Date(e.fecha).toLocaleString():"-"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Estado:"}),r.jsx("span",{className:`ml-2 px-3 py-1 text-xs font-medium rounded-full ${m(e.estado)}`,children:e.estado==="convertida"?"Pedido":e.estado||"Pendiente"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin del Cliente"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",e.correoCliente||"-"]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Telfono:"})," ",e.telefonoCliente||"-"]})]})]})]})}),r.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold p-6",children:"Detalle de Productos"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Producto"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Descripcin"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cantidad"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Precio"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Subtotal"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:Array.isArray(e.productos)&&e.productos.length>0?e.productos.map((h,g)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:h.nombre}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Array.isArray(h.customizaciones)&&h.customizaciones.length>0?h.customizaciones.map((x,b)=>` ${x.nombre} x${x.cantidad}`).join(" | "):"-"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:h.cantidad}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:["$",Number(h.precioUnitario||0).toFixed(2)]}),r.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700",children:["$",Number(h.subtotal||(h.cantidad||0)*(h.precioUnitario||0)).toFixed(2)]})]},g)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"text-center py-4",children:"No hay productos en esta cotizacin actualmente."})})})]})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:r.jsx("div",{className:"flex justify-end",children:r.jsx("div",{className:"w-full max-w-xs",children:r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"font-medium",children:"Total:"}),r.jsxs("span",{className:"font-bold text-lg",children:["$",Number(e.total||0).toFixed(2)]})]})})})})]})]}):r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsx("div",{className:"container mx-auto px-4 py-8 font-['Lato']",children:r.jsx("div",{className:"p-8 text-center",children:"No se encontr la cotizacin."})})]})},Sle=()=>{const{id:e}=gO(),[t,n]=y.useState({type:"",message:""}),a=En(),{data:s,loading:l,error:c}=ju(`cotizaciones/${e}`),d=async f=>{try{const m=pn(`${ke.ENDPOINTS.COTIZACIONES}/${f}/convertir-a-pedido`),h=await fetch(m,{method:"POST",credentials:ke.FETCH_CONFIG.credentials,headers:{"Content-Type":"application/json"}}),g=await h.json().catch(()=>({}));if(!h.ok){n({type:"error",message:(g==null?void 0:g.message)||"No se pudo convertir la cotizacin."});return}n({type:"success",message:"Cotizacin convertida en pedido correctamente."}),window.location.reload()}catch(m){n({type:"error",message:"Error al convertir la cotizacin."}),console.error("Error al convertir la cotizacin:",m)}};return y.useEffect(()=>{const f=new URLSearchParams(a.search);!l&&s&&f.get("print")==="1"&&setTimeout(()=>window.print(),250)},[a.search,l,s]),r.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[t.message&&r.jsx("div",{className:`mb-4 text-sm rounded-md px-3 py-2 ${t.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,role:"status","aria-live":"polite",children:t.message}),r.jsx(Nle,{cotizacion:s,loading:l,error:c,onConvertirACompra:d})]})},Qf=async(e,t={})=>{const n=c=>`${c}${e}`,a=async c=>{const d=await fetch(n(c),{credentials:"include",headers:{"Content-Type":"application/json",...t.headers||{}},...t});return d.ok&&(ke.BASE_URL=c),d},s=ke.BASE_URL,l=s.includes("localhost")?"https://a-u-r-o-r-a.onrender.com/api":"http://localhost:4000/api";try{return await a(s)}catch(c){const d=(c==null?void 0:c.message)||"";if(d.includes("Failed to fetch")||d.includes("NetworkError")||d.includes("ECONNREFUSED"))return await a(l);throw c}},Cle=()=>{const[e,t]=y.useState(1),n=Ss(),[a,s]=y.useState(!1),[l,c]=y.useState({email:"",code:"",newPassword:"",confirmPassword:""}),[d,f]=y.useState(!1),[m,h]=y.useState({type:"info",message:""}),g=j=>{c({...l,[j.target.name]:j.target.value})},x=async j=>{var S,C;j.preventDefault();const N=(l.email||"").trim().toLowerCase();if(e===1){f(!0);try{let A=await Qf(`${ke.ENDPOINTS.CLIENTES}/forgot-password`,{method:"POST",body:JSON.stringify({correo:N})}),E=await A.json();if(!A.ok&&((S=E.message)!=null&&S.toLowerCase().includes("no existe"))&&(A=await Qf(`${ke.ENDPOINTS.EMPLEADOS}/forgot-password`,{method:"POST",body:JSON.stringify({correo:N})}),E=await A.json()),!A.ok)throw new Error(E.message||"No pudimos enviar el cdigo. Intenta nuevamente.");h({type:"success",message:"Te enviamos un cdigo de verificacin. Revisa tu bandeja de entrada o spam."}),t(2)}catch(A){h({type:"error",message:A.message||"Ocurri un error. Intenta nuevamente."})}finally{f(!1)}}else if(e===2){if(l.newPassword!==l.confirmPassword){h({type:"warning",message:"Las contraseas no coinciden."});return}f(!0);try{let A=await Qf(`${ke.ENDPOINTS.CLIENTES}/reset-password`,{method:"POST",body:JSON.stringify({correo:N,code:l.code,newPassword:l.newPassword})}),E=await A.json();if(!A.ok&&((C=E.message)!=null&&C.toLowerCase().includes("correo"))&&(A=await Qf(`${ke.ENDPOINTS.EMPLEADOS}/reset-password`,{method:"POST",body:JSON.stringify({correo:N,code:l.code,newPassword:l.newPassword})}),E=await A.json()),!A.ok)throw new Error(E.message||"No pudimos cambiar tu contrasea. Intenta nuevamente.");s(!0),h({type:"success",message:"Contrasea actualizada! Redirigiendo"}),setTimeout(()=>{n("/")},3e3)}catch(A){h({type:"error",message:A.message||"Ocurri un error. Intenta nuevamente."})}finally{f(!1)}}},b=()=>{n("/")};return a?r.jsx(pa,{children:r.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx("svg",{className:"w-16 h-16 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(m==null?void 0:m.message)&&r.jsx("div",{className:`mb-6 text-sm rounded-md px-3 py-2 ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":m.type==="error"?"bg-red-50 text-red-700 border border-red-200":m.type==="warning"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,role:"status","aria-live":"polite",children:m.message}),r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Contrasea cambiada con xito!"}),r.jsx("p",{className:"text-gray-600",children:"Sers redirigido al inicio de sesin en unos segundos"})]})})}):r.jsxs(pa,{children:[r.jsx(ga,{}),r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"max-w-md mx-auto",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("img",{src:"https://i.imgur.com/rYfBDzN.png",alt:"ptica La Inteligente",className:"w-27 h-14 object-contain hover:scale-105 transition-transform duration-300 hover:drop-shadow-lg"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:e===1?"Recuperar Contrasea":"Nueva Contrasea"})]}),(m==null?void 0:m.message)&&r.jsx("div",{className:`mb-6 text-sm rounded-md px-3 py-2 ${m.type==="success"?"bg-green-50 text-green-700 border border-green-200":m.type==="error"?"bg-red-50 text-red-700 border border-red-200":m.type==="warning"?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-700 border border-blue-200"}`,role:"status","aria-live":"polite",children:m.message}),e===1&&r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),r.jsx("input",{type:"email",name:"email",value:l.email,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"nombre@ejemplo.com",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-3 rounded-xl font-medium hover:bg-[#0088b0] transition-all duration-300 disabled:opacity-60 disabled:cursor-not-allowed",disabled:d,children:d?"Enviando...":"Enviar Cdigo"}),r.jsx("button",{type:"button",onClick:b,className:"w-full text-[#0097c2] py-2 font-medium hover:underline",children:"Volver al inicio de sesin"})]}),e===2&&r.jsxs("form",{onSubmit:x,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdigo de verificacin"}),r.jsx("input",{type:"text",name:"code",value:l.code,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"Ingresa el cdigo de 6 dgitos",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea"}),r.jsx("input",{type:"password",name:"newPassword",value:l.newPassword,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"********",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),r.jsx("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:g,className:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0097c2] focus:border-transparent transition-all",placeholder:"********",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full bg-[#0097c2] text-white py-3 rounded-xl font-medium hover:bg-[#0088b0] transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-60 disabled:cursor-not-allowed",disabled:d,children:d?"Cambiando...":"Cambiar Contrasea"})]})]})})})]})},Ale=()=>{const e=En();return r.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center p-8",children:[r.jsx("h1",{className:"text-6xl font-extrabold text-cyan-600",children:"404"}),r.jsx("p",{className:"mt-4 text-2xl font-semibold text-gray-800",children:"Pgina no encontrada"}),r.jsxs("p",{className:"mt-2 text-gray-500",children:["No existe la ruta: ",r.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:e.pathname})]}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx(Ct,{to:"/",className:"px-4 py-2 rounded bg-cyan-600 text-white hover:bg-cyan-700",children:"Ir al inicio"}),r.jsx(Ct,{to:"/productos",className:"px-4 py-2 rounded bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Ver productos"})]})]})},Ele=()=>{var n;const t=((n=En().state)==null?void 0:n.message)||"No tienes permisos para acceder a esta pgina.";return r.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center text-center p-8",children:[r.jsx("h1",{className:"text-5xl font-extrabold text-red-600",children:"Acceso denegado"}),r.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"Error 404"}),r.jsx("p",{className:"mt-4 text-lg text-gray-700",children:t}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx(Ct,{to:"/",className:"px-4 py-2 rounded bg-cyan-600 text-white hover:bg-cyan-700",children:"Ir al inicio"}),r.jsx(Ct,{to:"/perfil",className:"px-4 py-2 rounded bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Ir a mi perfil"})]})]})};function Ole(){const e=En(),{loading:t}=Gn();return t?r.jsx(OB,{message:"Verificando autenticacin..."}):r.jsx(Au,{mode:"wait",children:r.jsxs(MR,{location:e,children:[r.jsx(qn,{path:"/",element:r.jsx(ile,{})}),r.jsx(qn,{path:"/productos",element:r.jsx(uy,{})}),r.jsx(qn,{path:"/servicios",element:r.jsx(hle,{})}),r.jsx(qn,{path:"/agendar",element:r.jsx(ple,{})}),r.jsx(qn,{path:"/nosotros",element:r.jsx(gle,{})}),r.jsx(qn,{path:"/recuperar-password",element:r.jsx(Cle,{})}),r.jsx(qn,{path:"/productos/lentes",element:r.jsx(uy,{})}),r.jsx(qn,{path:"/productos/accesorios",element:r.jsx(uy,{})}),r.jsx(qn,{path:"/productos/personalizables",element:r.jsx(Jf,{to:"/productos",replace:!0})}),r.jsx(qn,{path:"/cotizaciones",element:r.jsx(cu,{requiredRole:"Cliente",noRedirect:!0,children:r.jsx(dle,{})})}),r.jsx(qn,{path:"/carrito",element:r.jsx(cu,{requiredRole:"Cliente",noRedirect:!0,children:r.jsx(yle,{})})}),r.jsx(qn,{path:"/cotizaciones/crear",element:r.jsx(cu,{requiredRole:"Cliente",children:r.jsx(wle,{})})}),r.jsx(qn,{path:"/cotizaciones/:id",element:r.jsx(cu,{requiredRole:"Cliente",children:r.jsx(Sle,{})})}),r.jsx(qn,{path:"/dashboard",element:r.jsx(cu,{requiredRole:"Empleado",children:r.jsx(Qoe,{})})}),r.jsx(qn,{path:"/acceso-denegado",element:r.jsx(Ele,{})}),r.jsx(qn,{path:"*",element:r.jsx(Ale,{})})]},e.pathname)})}function Tle(){return r.jsx(AB,{children:r.jsx(EB,{children:r.jsx(tL,{basename:"/A.U.R.O.R.A",children:r.jsx(Ole,{})})})})}B8.createRoot(document.getElementById("root")).render(r.jsx(y.StrictMode,{children:r.jsx(Tle,{})}));
